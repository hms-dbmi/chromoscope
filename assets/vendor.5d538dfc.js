var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var react={exports:{}},react_production_min={},getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$2=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var n,r,i=toObject(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))hasOwnProperty$2.call(n,a)&&(i[a]=n[a]);if(getOwnPropertySymbols){r=getOwnPropertySymbols(n);for(var s=0;s<r.length;s++)propIsEnumerable.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},l=objectAssign,n=60103,p$1=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */react_production_min.Fragment=60107,react_production_min.StrictMode=60108,react_production_min.Profiler=60114;var q=60109,r$1=60110,t$1=60112;react_production_min.Suspense=60113;var u=60115,v=60116;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),p$1=w("react.portal"),react_production_min.Fragment=w("react.fragment"),react_production_min.StrictMode=w("react.strict_mode"),react_production_min.Profiler=w("react.profiler"),q=w("react.provider"),r$1=w("react.context"),t$1=w("react.forward_ref"),react_production_min.Suspense=w("react.suspense"),u=w("react.memo"),v=w("react.lazy")}var x$1="function"==typeof Symbol&&Symbol.iterator;function y$1(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x$1&&e[x$1]||e["@@iterator"])?e:null}function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$1={};function C(e,t,n){this.props=e,this.context=t,this.refs=B$1,this.updater=n||A}function D$1(){}function E$1(e,t,n){this.props=e,this.context=t,this.refs=B$1,this.updater=n||A}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(z(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D$1.prototype=C.prototype;var F$1=E$1.prototype=new D$1;F$1.constructor=E$1,l(F$1,C.prototype),F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)H$1.call(t,i)&&!I$1.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:G$1.current}}function K(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}function escape$1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var M$1=/\/+/g;function N$1(e,t){return"object"==typeof e&&null!==e&&null!=e.key?escape$1(""+e.key):t.toString(36)}function O$1(e,t,r,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case p$1:s=!0}}if(s)return o=o(s=e),e=""===i?"."+N$1(s,0):i,Array.isArray(o)?(r="",null!=e&&(r=e.replace(M$1,"$&/")+"/"),O$1(o,t,r,"",(function(e){return e}))):null!=o&&(L(o)&&(o=K(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(M$1,"$&/")+"/")+e)),t.push(o)),1;if(s=0,i=""===i?".":i+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=i+N$1(a=e[l],l);s+=O$1(a,t,r,u,o)}else if("function"==typeof(u=y$1(e)))for(e=u.call(e),l=0;!(a=e.next()).done;)s+=O$1(a=a.value,t,r,u=i+N$1(a,l++),o);else if("object"===a)throw t=""+e,Error(z(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function P$1(e,t,n){if(null==e)return e;var r=[],i=0;return O$1(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function Q(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R$1={current:null};function S$1(){var e=R$1.current;if(null===e)throw Error(z(321));return e}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l};react_production_min.Children={map:P$1,forEach:function(e,t,n){P$1(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P$1(e,(function(){t++})),t},toArray:function(e){return P$1(e,(function(e){return e}))||[]},only:function(e){if(!L(e))throw Error(z(143));return e}},react_production_min.Component=C,react_production_min.PureComponent=E$1,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1,react_production_min.cloneElement=function(e,t,r){if(null==e)throw Error(z(267,e));var i=l({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=G$1.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)H$1.call(t,c)&&!I$1.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},react_production_min.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:r$1,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:q,_context:e},e.Consumer=e},react_production_min.createElement=J,react_production_min.createFactory=function(e){var t=J.bind(null,e);return t.type=e,t},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(e){return{$$typeof:t$1,render:e}},react_production_min.isValidElement=L,react_production_min.lazy=function(e){return{$$typeof:v,_payload:{_status:-1,_result:e},_init:Q}},react_production_min.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},react_production_min.useCallback=function(e,t){return S$1().useCallback(e,t)},react_production_min.useContext=function(e,t){return S$1().useContext(e,t)},react_production_min.useDebugValue=function(){},react_production_min.useEffect=function(e,t){return S$1().useEffect(e,t)},react_production_min.useImperativeHandle=function(e,t,n){return S$1().useImperativeHandle(e,t,n)},react_production_min.useLayoutEffect=function(e,t){return S$1().useLayoutEffect(e,t)},react_production_min.useMemo=function(e,t){return S$1().useMemo(e,t)},react_production_min.useReducer=function(e,t,n){return S$1().useReducer(e,t,n)},react_production_min.useRef=function(e){return S$1().useRef(e)},react_production_min.useState=function(e){return S$1().useState(e)},react_production_min.version="17.0.2",react.exports=react_production_min;var React=react.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(n){throw setTimeout(c,0),n}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,m=null,g=-1,v=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();y=t+v;try{m(!0,t)?_.postMessage(null):(p=!1,m=null)}catch(n){throw _.postMessage(null),n}}else p=!1},t=function(e){m=e,p||(p=!0,_.postMessage(null))},n=function(t,n){g=f((function(){t(e.unstable_now())}),n)},r=function(){h(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function w(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],k=[],O=1,A=null,C=3,P=!1,M=!1,R=!1;function I(e){for(var t=w(k);null!==t;){if(null===t.callback)x(k);else{if(!(t.startTime<=e))break;x(k),t.sortIndex=t.expirationTime,E(S,t)}t=w(k)}}function D(e){if(R=!1,I(e),!M)if(null!==w(S))M=!0,t(N);else{var r=w(k);null!==r&&n(D,r.startTime-e)}}function N(t,i){M=!1,R&&(R=!1,r()),P=!0;var o=C;try{for(I(i),A=w(S);null!==A&&(!(A.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,C=A.priorityLevel;var s=a(A.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?A.callback=s:A===w(S)&&x(S),I(i)}else x(S);A=w(S)}if(null!==A)var l=!0;else{var u=w(k);null!==u&&n(D,u.startTime-i),l=!1}return l}finally{A=null,C=o,P=!1}}var L=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){M||P||(M=!0,t(N))},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return w(S)},e.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=L,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},e.unstable_scheduleCallback=function(i,o,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:O++,callback:o,priorityLevel:i,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(i.sortIndex=a,E(k,i),null===w(S)&&i===w(k)&&(R?r():R=!0,n(D,a-s))):(i.sortIndex=l,E(S,i),M||P||(M=!0,t(N))),i},e.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}}(scheduler_production_min),scheduler.exports=scheduler_production_min;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var aa=react.exports,m=objectAssign,r=scheduler.exports;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(e,t){ea(e,t),ea(e+"Capture",t)}function ea(e,t){for(ca[e]=t,e=0;e<t.length;e++)ba.add(t[e])}var fa=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(e){return!!ia.call(ka,e)||!ia.call(ja,e)&&(ha.test(e)?ka[e]=!0:(ja[e]=!0,!1))}function ma(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function na(e,t,n,r){if(null==t||ma(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function B(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){D[e]=new B(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];D[t]=new B(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){D[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){D[e]=new B(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){D[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){D[e]=new B(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){D[e]=new B(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){D[e]=new B(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){D[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)}));var oa=/[\-:]([a-z])/g;function pa(e){return e[1].toUpperCase()}function qa(e,t,n,r){var i=D.hasOwnProperty(t)?D[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(na(t,n,i,r)&&(n=null),r||null===i?la(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(oa,pa);D[t]=new B(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(oa,pa);D[t]=new B(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(oa,pa);D[t]=new B(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){D[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)})),D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){D[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if("function"==typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka="function"==typeof Symbol&&Symbol.iterator,Ma;function La(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ka&&e[Ka]||e["@@iterator"])?e:null}function Na(e){if(void 0===Ma)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return"\n"+Ma+e}var Oa=!1;function Pa(e,t){if(!e||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Na(e):""}function Qa(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return e=Pa(e.type,!1);case 11:return e=Pa(e.type.render,!1);case 22:return e=Pa(e.type._render,!1);case 1:return e=Pa(e.type,!0);default:return""}}function Ra(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case za:return(e.displayName||"Context")+".Consumer";case ya:return(e._context.displayName||"Context")+".Provider";case Aa:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Da:return Ra(e.type);case Fa:return Ra(e._render);case Ea:t=e._payload,e=e._init;try{return Ra(e(t))}catch(n){}}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ta(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ua(e){var t=Ta(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ta(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Xa(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ya(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Za(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Sa(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $a(e,t){null!=(t=t.checked)&&qa(e,"checked",t,!1)}function ab(e,t){$a(e,t);var n=Sa(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?bb(e,t.type,n):t.hasOwnProperty("defaultValue")&&bb(e,t.type,Sa(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function cb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function bb(e,t,n){"number"===t&&Xa(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function db(e){var t="";return aa.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function eb(e,t){return e=m({children:void 0},t),(t=db(t.children))&&(e.children=t),e}function fb(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function gb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(y(91));return m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(y(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(y(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Sa(n)}}function ib(e,t){var n=Sa(t.value),r=Sa(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function jb(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?lb(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nb,ob=(a=function(e,t){if(e.namespaceURI!==kb.svg||"innerHTML"in e)e.innerHTML=t;else{for((nb=nb||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return a(e,t)}))}:a),a;function pb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];function sb(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||qb.hasOwnProperty(e)&&qb[e]?(""+t).trim():t+"px"}function tb(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=sb(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(qb).forEach((function(e){rb.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qb[t]=qb[e]}))}));var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(e,t){if(t){if(ub[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(y(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(y(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(y(62))}}function wb(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if("function"!=typeof yb)throw Error(y(280));var t=e.stateNode;t&&(t=Db(t),yb(e.stateNode,e.type,t))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,t=Ab;if(Ab=zb=null,Bb(e),t)for(e=0;e<t.length;e++)Bb(t[e])}}function Gb(e,t){return e(t)}function Hb(e,t,n,r,i){return e(t,n,r,i)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){null===zb&&null===Ab||(Ib(),Fb())}function Nb(e,t,n){if(Lb)return e(t,n);Lb=!0;try{return Jb(e,t,n)}finally{Lb=!1,Mb()}}function Ob(e,t){var n=e.stateNode;if(null===n)return null;var r=Db(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(y(231,t,typeof n));return n}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch(a){Pb=!1}function Rb(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(e){Sb=!0,Tb=e}};function Xb(e,t,n,r,i,o,a,s,l){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(e,t,n,r,i,o,a,s,l){if(Xb.apply(this,arguments),Sb){if(!Sb)throw Error(y(198));var u=Tb;Sb=!1,Tb=null,Ub||(Ub=!0,Vb=u)}}function Zb(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $b(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ac(e){if(Zb(e)!==e)throw Error(y(188))}function bc(e){var t=e.alternate;if(!t){if(null===(t=Zb(e)))throw Error(y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ac(i),e;if(o===r)return ac(i),t;o=o.sibling}throw Error(y(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(y(189))}}if(n.alternate!==r)throw Error(y(190))}if(3!==n.tag)throw Error(y(188));return n.stateNode.current===n?e:t}function cc(e){if(!(e=bc(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function dc(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function sc(e,t){switch(e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function tc(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=rc(t,n,r,i,o),null!==t&&(null!==(t=Cb(t))&&fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function uc(e,t,n,r,i){switch(t){case"focusin":return kc=tc(kc,e,t,n,r,i),!0;case"dragenter":return lc=tc(lc,e,t,n,r,i),!0;case"mouseover":return mc=tc(mc,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nc.set(o,tc(nc.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,oc.set(o,tc(oc.get(o)||null,e,t,n,r,i)),!0}return!1}function vc(e){var t=wc(e.target);if(null!==t){var n=Zb(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$b(n)))return e.blockedOn=t,void hc(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){gc(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xc(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Cb(n))&&fc(t),e.blockedOn=n,!1;t.shift()}return!0}function zc(e,t,n){xc(e)&&n.delete(t)}function Ac(){for(ic=!1;0<jc.length;){var e=jc[0];if(null!==e.blockedOn){null!==(e=Cb(e.blockedOn))&&ec(e);break}for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null),null!==lc&&xc(lc)&&(lc=null),null!==mc&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(e,t){e.blockedOn===t&&(e.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}function Cc(e){function t(t){return Bc(t,e)}if(0<jc.length){Bc(jc[0],e);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kc&&Bc(kc,e),null!==lc&&Bc(lc,e),null!==mc&&Bc(mc,e),nc.forEach(t),oc.forEach(t),n=0;n<pc.length;n++)(r=pc[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pc.length&&null===(n=pc[0]).blockedOn;)vc(n),null===n.blockedOn&&pc.shift()}function Dc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};function Hc(e){if(Fc[e])return Fc[e];if(!Ec[e])return e;var t,n=Ec[e];for(t in n)if(n.hasOwnProperty(t)&&t in Gc)return Fc[e]=n[t];return e}fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nc.set(r,t),Mc.set(r,i),da(i,[r])}}var Qc=r.unstable_now;Qc();var F=8;function Rc(e){if(0!=(1&e))return F=15,1;if(0!=(2&e))return F=14,2;if(0!=(4&e))return F=13,4;var t=24&e;return 0!==t?(F=12,t):0!=(32&e)?(F=11,32):0!==(t=192&e)?(F=10,t):0!=(256&e)?(F=9,256):0!==(t=3584&e)?(F=8,t):0!=(4096&e)?(F=7,4096):0!==(t=4186112&e)?(F=6,t):0!==(t=62914560&e)?(F=5,t):67108864&e?(F=4,67108864):0!=(134217728&e)?(F=3,134217728):0!==(t=805306368&e)?(F=2,t):0!=(1073741824&e)?(F=1,1073741824):(F=8,e)}function Sc(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,e))}}function Uc(e,t){var n=e.pendingLanes;if(0===n)return F=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=F=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Rc(l),i=F):0!==(s&=o)&&(r=Rc(s),i=F)}else 0!==(o=n&~a)?(r=Rc(o),i=F):0!==s&&(r=Rc(s),i=F);if(0===r)return 0;if(r=n&((0>(r=31-Vc(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Rc(t),i<=F)return t;F=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vc(t)),r|=e[n],t&=~i;return r}function Wc(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Xc(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Yc(24&~t))?Xc(10,t):e;case 10:return 0===(e=Yc(192&~t))?Xc(8,t):e;case 8:return 0===(e=Yc(3584&~t))&&(0===(e=Yc(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Yc(805306368&~t))&&(t=268435456),t}throw Error(y(358,e))}function Yc(e){return e&-e}function Zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $c(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vc(t)]=n}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(e){return 0===e?32:31-(bd(e)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(e,t,n,r){Kb||Ib();var i=hd,o=Kb;Kb=!0;try{Hb(i,e,t,n,r)}finally{(Kb=o)||Mb()}}function id(e,t,n,r){ed(dd,hd.bind(null,e,t,n,r))}function hd(e,t,n,r){var i;if(fd)if((i=0==(4&t))&&0<jc.length&&-1<qc.indexOf(e))e=rc(null,e,t,n,r),jc.push(e);else{var o=yc(e,t,n,r);if(null===o)i&&sc(e,r);else{if(i){if(-1<qc.indexOf(e))return e=rc(o,e,t,n,r),void jc.push(e);if(uc(o,e,t,n,r))return;sc(e,r)}jd(e,t,r,null,n)}}}function yc(e,t,n,r){var i=xb(r);if(null!==(i=wc(i))){var o=Zb(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$b(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jd(e,t,r,i,n),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,t,n=ld,r=n.length,i="value"in kd?kd.value:kd.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return md=i.slice(e,1<t?1-t:void 0)}function od(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?pd:qd,this.isPropagationStopped=qd,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),t}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&"mousemove"===e.type?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Od[e])&&!!t[e]}function zd(){return Pd}var Qd=m({},ud,{key:function(e){if(e.key){var t=Md[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=od(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return"keypress"===e.type?od(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?od(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,t){switch(e){case"keyup":return-1!==$d.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ie=!1;function je(e,t){switch(e){case"compositionend":return he(t);case"keypress":return 32!==t.which?null:(fe=!0,ee);case"textInput":return(e=t.data)===ee&&fe?null:e;default:return null}}function ke(e,t){if(ie)return"compositionend"===e||!ae&&ge(e,t)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return de&&"ko"!==t.locale?null:t.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!le[e.type]:"textarea"===t}function ne(e,t,n,r){Eb(r),0<(t=oe(t,"onChange")).length&&(n=new td("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){if(Wa(ue(e)))return e}function ve(e,t){if("change"===e)return t}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye="function"==typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if("value"===e.propertyName&&te(qe)){var t=[];if(ne(t,qe,e,xb(e)),e=re,Kb)e(t);else{Kb=!0;try{Gb(e,t)}finally{Kb=!1,Mb()}}}}function Ce(e,t,n){"focusin"===e?(Ae(),qe=n,(pe=t).attachEvent("onpropertychange",Be)):"focusout"===e&&Ae()}function De(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return te(qe)}function Ee(e,t){if("click"===e)return te(t)}function Fe(e,t){if("input"===e||"change"===e)return te(t)}function Ge(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var He="function"==typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(e,t){if(He(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ie.call(t,n[r])||!He(e[n[r]],t[n[r]]))return!1;return!0}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Le(e,t){var n,r=Ke(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ke(r)}}function Me(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Me(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ne(){for(var e=window,t=Xa();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Xa((e=t.contentWindow).document)}return t}function Oe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Te||null==Qe||Qe!==Xa(r)||("selectionStart"in(r=Qe)&&Oe(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Se&&Je(Se,r)||(Se=r,0<(r=oe(Re,"onSelect")).length&&(t=new td("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yb(r,t,void 0,e),e.currentTarget=null}function se(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ze(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ze(i,s,u),o=l}}}if(Ub)throw e=Vb,Ub=!1,Vb=null,e}function G(e,t){var n=$e(t),r=e+"__bubble";n.has(r)||(af(t,e,2,!1),n.add(r))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(e){e[bf]||(e[bf]=!0,ba.forEach((function(t){Ye.has(t)||df(t,!1,e,null),df(t,!0,e,null)})))}function df(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ye.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=$e(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),af(o,e,i,t),a.add(s))}function af(e,t,n,r){var i=Nc.get(t);switch(void 0===i?2:i){case 0:i=gd;break;case 1:i=id;break;default:i=hd}n=i.bind(null,t,n,e),i=void 0,!Pb||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jd(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=wc(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Nb((function(){var r=o,i=xb(n),a=[];e:{var s=Mc.get(e);if(void 0!==s){var l=td,u=e;switch(e){case"keypress":if(0===od(n))break e;case"keydown":case"keyup":l=Rd;break;case"focusin":u="focus",l=Fd;break;case"focusout":u="blur",l=Fd;break;case"beforeblur":case"afterblur":l=Fd;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Vd;break;case Ic:case Jc:case Kc:l=Hd;break;case Lc:l=Xd;break;case"scroll":l=vd;break;case"wheel":l=Zd;break;case"copy":case"cut":case"paste":l=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Td}var c=0!=(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Ob(p,h))&&c.push(ef(p,m,d)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!wc(u)&&!u[ff])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?wc(u):null)&&(u!==(f=Zb(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Bd,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Td,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:ue(l),d=null==u?s:ue(u),(s=new c(m,p+"leave",l,n,i)).target=f,s.relatedTarget=d,m=null,wc(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(h=u,p=0,d=c=l;d;d=gf(d))p++;for(d=0,m=h;m;m=gf(m))d++;for(;0<p-d;)c=gf(c),p--;for(;0<d-p;)h=gf(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=gf(c),h=gf(h)}c=null}else c=null;null!==l&&hf(a,s,l,c,!1),null!==u&&null!==f&&hf(a,f,u,c,!0)}if("select"===(l=(s=r?ue(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=ve;else if(me(s))if(we)g=Fe;else{g=De;var v=Ce}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=Ee);switch(g&&(g=g(e,r))?ne(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&bb(s,"number",s.value)),v=r?ue(r):window,e){case"focusin":(me(v)||"true"===v.contentEditable)&&(Qe=v,Re=r,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(a,n,i);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(a,n,i)}var y;if(ae)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ie?ge(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(de&&"ko"!==n.locale&&(ie||"onCompositionStart"!==b?"onCompositionEnd"===b&&ie&&(y=nd()):(ld="value"in(kd=i)?kd.value:kd.textContent,ie=!0)),0<(v=oe(r,b)).length&&(b=new Ld(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=he(n))&&(b.data=y))),(y=ce?je(e,n):ke(e,n))&&(0<(r=oe(r,"onBeforeInput")).length&&(i=new Ld("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}se(a,t)}))}function ef(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oe(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ob(e,n))&&r.unshift(ef(e,o,i)),null!=(o=Ob(e,t))&&r.push(ef(e,o,i))),e=e.return}return r}function gf(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function hf(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ob(n,o))&&a.unshift(ef(n,l,s)):i||null!=(l=Ob(n,o))&&a.push(ef(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jf(){}var kf=null,lf=null;function mf(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nf(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var of="function"==typeof setTimeout?setTimeout:void 0,pf="function"==typeof clearTimeout?clearTimeout:void 0;function qf(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function rf(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function sf(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var tf=0;function uf(e){return{$$typeof:Ga,toString:e,valueOf:e}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(e){var t=e[wf];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ff]||n[wf]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sf(e);null!==e;){if(n=e[wf])return n;e=sf(e)}return t}n=(e=n).parentNode}return null}function Cb(e){return!(e=e[wf]||e[ff])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ue(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(y(33))}function Db(e){return e[xf]||null}function $e(e){var t=e[yf];return void 0===t&&(t=e[yf]=new Set),t}var zf=[],Af=-1;function Bf(e){return{current:e}}function H(e){0>Af||(e.current=zf[Af],zf[Af]=null,Af--)}function I(e,t){Af++,zf[Af]=e.current,e.current=t}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(e,t){var n=e.type.contextTypes;if(!n)return Cf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ff(e){return null!=(e=e.childContextTypes)}function Gf(){H(N),H(M)}function Hf(e,t,n){if(M.current!==Cf)throw Error(y(168));I(M,t),I(N,n)}function If(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(y(108,Ra(t)||"Unknown",i));return m({},n,r)}function Jf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,e),I(N,N.current),!0}function Kf(e,t,n){var r=e.stateNode;if(!r)throw Error(y(169));n?(e=If(e,t,Df),r.__reactInternalMemoizedMergedChildContext=e,H(N),H(M),I(M,e)):H(N),I(N,n)}var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(e){switch(e){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(e,t){return e=fg(e),Nf(e,t)}function hg(e,t,n){return e=fg(e),Of(e,t,n)}function ig(){if(null!==bg){var e=bg;bg=null,Pf(e)}jg()}function jg(){if(!cg&&null!==ag){cg=!0;var e=0;try{var t=ag;gg(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ag=null}catch(n){throw null!==ag&&(ag=ag.slice(e+1)),Of(Uf,ig),n}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(e,t){if(e&&e.defaultProps){for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(e){var t=mg.current;H(mg),e.type._context._currentValue=t}function sg(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function tg(e,t){ng=e,pg=og=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ug=!0),e.firstContext=null)}function vg(e,t){if(pg!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(pg=e,t=1073741823),t={context:e,observedBits:t,next:null},null===og){if(null===ng)throw Error(y(308));og=t,ng.dependencies={lanes:0,firstContext:t,responders:null}}else og=og.next=t;return e._currentValue}var wg=!1;function xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ag(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Bg(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cg(e,t,n,r){var i=e.updateQueue;wg=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;if(null!==c){var f=(c=c.updateQueue).lastBaseUpdate;f!==a&&(null===f?c.firstBaseUpdate=u:f.next=u,c.lastBaseUpdate=l)}}if(null!==o){for(f=i.baseState,a=0,c=u=l=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,p=o;switch(s=t,h=n,p.tag){case 1:if("function"==typeof(d=p.payload)){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(s="function"==typeof(d=p.payload)?d.call(h,f,s):d))break e;f=m({},f,s);break e;case 2:wg=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,l=f):c=c.next=h,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Dg|=a,e.lanes=a,e.memoizedState=f}}function Eg(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(y(191,i));i.call(r)}}}var Fg=(new aa.Component).refs;function Gg(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Kg={isMounted:function(e){return!!(e=e._reactInternals)&&Zb(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hg(),i=Ig(e),o=zg(r,i);o.payload=t,null!=n&&(o.callback=n),Ag(e,o),Jg(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hg(),i=Ig(e),o=zg(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Ag(e,o),Jg(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hg(),r=Ig(e),i=zg(n,r);i.tag=2,null!=t&&(i.callback=t),Ag(e,i),Jg(e,r,n)}};function Lg(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Je(n,r)||!Je(i,o))}function Mg(e,t,n){var r=!1,i=Cf,o=t.contextType;return"object"==typeof o&&null!==o?o=vg(o):(i=Ff(t)?Df:M.current,o=(r=null!=(r=t.contextTypes))?Ef(e,i):Cf),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Kg,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ng(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kg.enqueueReplaceState(t,t.state,null)}function Og(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fg,xg(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=vg(o):(o=Ff(t)?Df:M.current,i.context=Ef(e,o)),Cg(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Gg(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Kg.enqueueReplaceState(i,i.state,null),Cg(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Pg=Array.isArray;function Qg(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(y(309));var r=n.stateNode}if(!r)throw Error(y(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Fg&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(y(284));if(!n._owner)throw Error(y(290,e))}return e}function Rg(e,t){if("textarea"!==e.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sg(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tg(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ug(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Qg(e,t,n),r.return=e,r):((r=Vg(n.type,n.key,n.props,null,e.mode,r)).ref=Qg(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wg(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=Xg(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ug(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case sa:return(n=Vg(t.type,t.key,t.props,null,e.mode,n)).ref=Qg(e,null,t),n.return=e,n;case ta:return(t=Wg(t,e.mode,n)).return=e,t}if(Pg(t)||La(t))return(t=Xg(t,e.mode,n,null)).return=e,t;Rg(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case sa:return n.key===i?n.type===ua?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case ta:return n.key===i?u(e,t,n,r):null}if(Pg(n)||La(n))return null!==i?null:c(e,t,n,r,null);Rg(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case sa:return e=e.get(null===r.key?n:r.key)||null,r.type===ua?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case ta:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Pg(r)||La(r))return c(t,e=e.get(n)||null,r,i,null);Rg(t,r)}return null}return function(s,l,u,c){var p="object"==typeof u&&null!==u&&u.type===ua&&null===u.key;p&&(u=u.props.children);var m="object"==typeof u&&null!==u;if(m)switch(u.$$typeof){case sa:e:{for(m=u.key,p=l;null!==p;){if(p.key===m){switch(p.tag){case 7:if(u.type===ua){n(s,p.sibling),(l=i(p,u.props.children)).return=s,s=l;break e}break;default:if(p.elementType===u.type){n(s,p.sibling),(l=i(p,u.props)).ref=Qg(s,p,u),l.return=s,s=l;break e}}n(s,p);break}t(s,p),p=p.sibling}u.type===ua?((l=Xg(u.props.children,s.mode,c,u.key)).return=s,s=l):((c=Vg(u.type,u.key,u.props,null,s.mode,c)).ref=Qg(s,l,u),c.return=s,s=c)}return a(s);case ta:e:{for(p=u.key;null!==l;){if(l.key===p){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(s,l.sibling),(l=i(l,u.children||[])).return=s,s=l;break e}n(s,l);break}t(s,l),l=l.sibling}(l=Wg(u,s.mode,c)).return=s,s=l}return a(s)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,u)).return=s,s=l):(n(s,l),(l=Ug(u,s.mode,c)).return=s,s=l),a(s);if(Pg(u))return function(i,a,s,l){for(var u=null,c=null,p=a,m=a=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,s[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,p=g}if(m===s.length)return n(i,p),u;if(null===p){for(;m<s.length;m++)null!==(p=f(i,s[m],l))&&(a=o(p,a,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<s.length;m++)null!==(g=d(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}(s,l,u,c);if(La(u))return function(i,a,s,l){var u=La(s);if("function"!=typeof u)throw Error(y(150));if(null==(s=u.call(s)))throw Error(y(151));for(var c=u=null,p=a,m=a=0,g=null,v=s.next();null!==p&&!v.done;m++,v=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=h(i,p,v.value,l);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=o(b,a,m),null===c?u=b:c.sibling=b,c=b,p=g}if(v.done)return n(i,p),u;if(null===p){for(;!v.done;m++,v=s.next())null!==(v=f(i,v.value,l))&&(a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return u}for(p=r(i,p);!v.done;m++,v=s.next())null!==(v=d(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(i,e)})),u}(s,l,u,c);if(m&&Rg(s,u),void 0===u&&!p)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(s.type)||"Component"))}return n(s,l)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(e){if(e===$g)throw Error(y(174));return e}function eh(e,t){switch(I(ch,t),I(bh,e),I(ah,$g),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mb(null,"");break;default:t=mb(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}H(ah),I(ah,t)}function fh(){H(ah),H(bh),H(ch)}function gh(e){dh(ch.current);var t=dh(ah.current),n=mb(t,e.type);t!==n&&(I(bh,e),I(ah,n))}function hh(e){bh.current===e&&(H(ah),H(bh))}var P=Bf(0);function ih(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jh=null,kh=null,lh=!1;function mh(e,t){var n=nh(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oh(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ph(e){if(lh){var t=kh;if(t){var n=t;if(!oh(e,t)){if(!(t=rf(n.nextSibling))||!oh(e,t))return e.flags=-1025&e.flags|2,lh=!1,void(jh=e);mh(jh,n)}jh=e,kh=rf(t.firstChild)}else e.flags=-1025&e.flags|2,lh=!1,jh=e}}function qh(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jh=e}function rh(e){if(e!==jh)return!1;if(!lh)return qh(e),lh=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!nf(t,e.memoizedProps))for(t=kh;t;)mh(e,t),t=rf(t.nextSibling);if(qh(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){kh=rf(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}kh=null}}else kh=jh?rf(e.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var e=0;e<th.length;e++)th[e]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!He(e[n],t[n]))return!1;return!0}function Ch(e,t,n,r,i,o){if(xh=o,R=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vh.current=null===e||null===e.memoizedState?Dh:Eh,e=n(r,i),zh){o=0;do{if(zh=!1,!(25>o))throw Error(y(301));o+=1,T=S=null,t.updateQueue=null,vh.current=Fh,e=n(r,i)}while(zh)}if(vh.current=Gh,t=null!==S&&null!==S.next,xh=0,T=S=R=null,yh=!1,t)throw Error(y(300));return e}function Hh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===T?R.memoizedState=T=e:T=T.next=e,T}function Ih(){if(null===S){var e=R.alternate;e=null!==e?e.memoizedState:null}else e=S.next;var t=null===T?R.memoizedState:T.next;if(null!==t)T=t,S=e;else{if(null===e)throw Error(y(310));e={memoizedState:(S=e).memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},null===T?R.memoizedState=T=e:T=T.next=e}return T}function Jh(e,t){return"function"==typeof t?t(e):t}function Kh(e){var t=Ih(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=S,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var u=l.lane;if((xh&u)===u)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=c,o=r):s=s.next=c,R.lanes|=u,Dg|=u}l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,He(r,t.memoizedState)||(ug=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Lh(e){var t=Ih(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);He(o,t.memoizedState)||(ug=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mh(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(xh&e)===e)&&(t._workInProgressVersionPrimary=r,th.push(t))),e)return n(t._source);throw th.push(t),Error(y(350))}function Nh(e,t,n,r){var i=U;if(null===i)throw Error(y(349));var o=t._getVersion,a=o(t._source),s=vh.current,l=s.useState((function(){return Mh(i,t,n)})),u=l[1],c=l[0];l=T;var f=e.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var m=R;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=o(t._source);if(!He(a,e)){e=n(t._source),He(c,e)||(u(e),e=Ig(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Vc(s),f=1<<l;r[l]|=e,s&=~f}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Ig(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),He(d,n)&&He(p,t)&&He(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:c}).dispatch=u=Oh.bind(null,R,e),l.queue=e,l.baseQueue=null,c=Mh(i,t,n),l.memoizedState=l.baseState=c),c}function Ph(e,t,n){return Nh(Ih(),e,t,n)}function Qh(e){var t=Hh();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:e}).dispatch=Oh.bind(null,R,e),[t.memoizedState,e]}function Rh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=R.updateQueue)?(t={lastEffect:null},R.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sh(e){return e={current:e},Hh().memoizedState=e}function Th(){return Ih().memoizedState}function Uh(e,t,n,r){var i=Hh();R.flags|=e,i.memoizedState=Rh(1|t,n,void 0,void 0===r?null:r)}function Vh(e,t,n,r){var i=Ih();r=void 0===r?null:r;var o=void 0;if(null!==S){var a=S.memoizedState;if(o=a.destroy,null!==r&&Bh(r,a.deps))return void Rh(t,n,o,r)}R.flags|=e,i.memoizedState=Rh(1|t,n,o,r)}function Wh(e,t){return Uh(516,4,e,t)}function Xh(e,t){return Vh(516,4,e,t)}function Yh(e,t){return Vh(4,2,e,t)}function Zh(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $h(e,t,n){return n=null!=n?n.concat([e]):null,Vh(4,2,Zh.bind(null,t,e),n)}function ai(){}function bi(e,t){var n=Ih();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ci(e,t){var n=Ih();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function di(e,t){var n=eg();gg(98>n?98:n,(function(){e(!0)})),gg(97<n?97:n,(function(){var n=wh.transition;wh.transition=1;try{e(!1),t()}finally{wh.transition=n}}))}function Oh(e,t,n){var r=Hg(),i=Ig(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===R||null!==a&&a===R)zh=yh=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,He(l,s))return}catch(u){}Jg(e,i,r)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(e,t){return Hh().memoizedState=[e,void 0===t?null:t],e},useContext:vg,useEffect:Wh,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Uh(4,2,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uh(4,2,e,t)},useMemo:function(e,t){var n=Hh();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hh();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oh.bind(null,R,e),[r.memoizedState,e]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(e){var t=Qh(e),n=t[0],r=t[1];return Wh((function(){var t=wh.transition;wh.transition=1;try{r(e)}finally{wh.transition=t}}),[e]),n},useTransition:function(){var e=Qh(!1),t=e[0];return Sh(e=di.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Hh();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Nh(r,e,t,n)},useOpaqueIdentifier:function(){if(lh){var e=!1,t=uf((function(){throw e||(e=!0,n("r:"+(tf++).toString(36))),Error(y(355))})),n=Qh(t)[1];return 0==(2&R.mode)&&(R.flags|=516,Rh(5,(function(){n("r:"+(tf++).toString(36))}),void 0,null)),t}return Qh(t="r:"+(tf++).toString(36)),t},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var t=Kh(Jh),n=t[0],r=t[1];return Xh((function(){var t=wh.transition;wh.transition=1;try{r(e)}finally{wh.transition=t}}),[e]),n},useTransition:function(){var e=Kh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var t=Lh(Jh),n=t[0],r=t[1];return Xh((function(){var t=wh.transition;wh.transition=1;try{r(e)}finally{wh.transition=t}}),[e]),n},useTransition:function(){var e=Lh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(e,t,n,r){t.child=null===e?Zg(t,null,n,r):Yg(t,e.child,n,r)}function gi(e,t,n,r,i){n=n.render;var o=t.ref;return tg(t,i),r=Ch(e,t,n,r,o,i),null===e||ug?(t.flags|=1,fi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function ii(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||ji(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vg(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Je)(i,r)&&e.ref===t.ref)?hi(e,t,o):(t.flags|=1,(e=Tg(a,r)).ref=t.ref,e.return=t,t.child=e)}function ki(e,t,n,r,i,o){if(null!==e&&Je(e.memoizedProps,r)&&e.ref===t.ref){if(ug=!1,0==(o&i))return t.lanes=e.lanes,hi(e,t,o);0!=(16384&e.flags)&&(ug=!0)}return li(e,t,n,r,o)}function mi(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ni(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ni(t,e),null;t.memoizedState={baseLanes:0},ni(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ni(t,r);return fi(e,t,i,n),t.child}function oi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function li(e,t,n,r,i){var o=Ff(n)?Df:M.current;return o=Ef(t,o),tg(t,i),n=Ch(e,t,n,r,o,i),null===e||ug?(t.flags|=1,fi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function pi(e,t,n,r,i){if(Ff(n)){var o=!0;Jf(t)}else o=!1;if(tg(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mg(t,n,r),Og(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=vg(u):u=Ef(t,u=Ff(n)?Df:M.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Ng(t,a,r,u),wg=!1;var h=t.memoizedState;a.state=h,Cg(t,r,a,i),l=t.memoizedState,s!==r||h!==l||N.current||wg?("function"==typeof c&&(Gg(t,n,c,r),l=t.memoizedState),(s=wg||Lg(t,n,s,r,h,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,yg(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:lg(t.type,s),a.props=u,f=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=vg(l):l=Ef(t,l=Ff(n)?Df:M.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==l)&&Ng(t,a,r,l),wg=!1,h=t.memoizedState,a.state=h,Cg(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||N.current||wg?("function"==typeof d&&(Gg(t,n,d,r),p=t.memoizedState),(u=wg||Lg(t,n,u,r,h,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return qi(e,t,n,r,o,i)}function qi(e,t,n,r,i,o){oi(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Kf(t,n,!1),hi(e,t,o);r=t.stateNode,ei.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yg(t,e.child,null,o),t.child=Yg(t,null,s,o)):fi(e,t,s,o),t.memoizedState=r.state,i&&Kf(t,n,!0),t.child}function ri(e){var t=e.stateNode;t.pendingContext?Hf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hf(e,t.context,!1),eh(e,t.containerInfo)}var si={dehydrated:null,retryLane:0},Bi,Ci,Di,Ei;function ti(e,t,n){var r,i=t.pendingProps,o=P.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),I(P,1&o),null===e?(void 0!==i.fallback&&ph(t),e=i.children,o=i.fallback,a?(e=ui(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=si,e):"number"==typeof i.unstable_expectedLoadTime?(e=ui(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=si,t.lanes=33554432,e):((n=vi({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=wi(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=si,i):(n=xi(e,t,i.children,n),t.memoizedState=null,n))}function ui(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=vi(t,i,0,null),n=Xg(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function xi(e,t,n,r){var i=e.child;return e=i.sibling,n=Tg(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function wi(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Tg(a,s),null!==e?r=Tg(e,r):(r=Xg(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function yi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),sg(e.return,t)}function zi(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ai(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(fi(e,t,r.children,n),0!=(2&(r=P.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&yi(e,n);else if(19===e.tag)yi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(I(P,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ih(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zi(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ih(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zi(t,!0,n,null,o,t.lastEffect);break;case"together":zi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dg|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(y(153));if(null!==t.child){for(n=Tg(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tg(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Fi(e,t){if(!lh)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(t.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(rh(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ci(t),null;case 5:hh(t);var i=dh(ch.current);if(n=t.type,null!==e&&null!=t.stateNode)Di(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(y(166));return null}if(e=dh(ah.current),rh(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[wf]=t,r[xf]=o,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)G(Xe[e],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Za(r,o),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},G("invalid",r);break;case"textarea":hb(r,o),G("invalid",r)}for(var a in vb(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):ca.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&G("scroll",r));switch(n){case"input":Va(r),cb(r,o,!0);break;case"textarea":Va(r),jb(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=jf)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===kb.html&&(e=lb(n)),e===kb.html?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wf]=t,e[xf]=r,Bi(e,t,!1,!1),t.stateNode=e,a=wb(n,r),n){case"dialog":G("cancel",e),G("close",e),i=r;break;case"iframe":case"object":case"embed":G("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xe.length;i++)G(Xe[i],e);i=r;break;case"source":G("error",e),i=r;break;case"img":case"image":case"link":G("error",e),G("load",e),i=r;break;case"details":G("toggle",e),i=r;break;case"input":Za(e,r),i=Ya(e,r),G("invalid",e);break;case"option":i=eb(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=m({},r,{value:void 0}),G("invalid",e);break;case"textarea":hb(e,r),i=gb(e,r),G("invalid",e);break;default:i=r}vb(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?tb(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ob(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&pb(e,l):"number"==typeof l&&pb(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ca.hasOwnProperty(o)?null!=l&&"onScroll"===o&&G("scroll",e):null!=l&&qa(e,o,l,a))}switch(n){case"input":Va(e),cb(e,r,!1);break;case"textarea":Va(e),jb(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Sa(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?fb(e,!!r.multiple,o,!1):null!=r.defaultValue&&fb(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=jf)}mf(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ei(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(y(166));n=dh(ch.current),dh(ah.current),rh(t)?(r=t.stateNode,n=t.memoizedProps,r[wf]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wf]=t,t.stateNode=r)}return null;case 13:return H(P),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&rh(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&P.current)?0===V&&(V=3):(0!==V&&3!==V||(V=4),null===U||0==(134217727&Dg)&&0==(134217727&Hi)||Ii(U,W))),(r||n)&&(t.flags|=4),null);case 4:return fh(),Ci(t),null===e&&cf(t.stateNode.containerInfo),null;case 10:return rg(t),null;case 17:return Ff(t.type)&&Gf(),null;case 19:if(H(P),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)Fi(r,!1);else{if(0!==V||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=ih(e))){for(t.flags|=64,Fi(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return I(P,1&P.current|2),t.child}e=e.sibling}null!==r.tail&&O()>Ji&&(t.flags|=64,o=!0,Fi(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=ih(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Fi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!lh)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*O()-r.renderingStartTime>Ji&&1073741824!==n&&(t.flags|=64,o=!0,Fi(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=O(),n.sibling=null,t=P.current,I(P,o?1&t|2:1&t),n):null;case 23:case 24:return Ki(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(y(156,t.tag))}function Li(e){switch(e.tag){case 1:Ff(e.type)&&Gf();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(fh(),H(N),H(M),uh(),0!=(64&(t=e.flags)))throw Error(y(285));return e.flags=-4097&t|64,e;case 5:return hh(e),null;case 13:return H(P),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(e),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(e,t){try{var n="",r=t;do{n+=Qa(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Ni(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ci=function(){},Di=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dh(ah.current);var o,a=null;switch(n){case"input":i=Ya(e,i),r=Ya(e,r),a=[];break;case"option":i=eb(e,i),r=eb(e,r),a=[];break;case"select":i=m({},i,{value:void 0}),r=m({},r,{value:void 0}),a=[];break;case"textarea":i=gb(e,i),r=gb(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=jf)}for(u in vb(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(ca.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(ca.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&G("scroll",e),a||s===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===Ga?l.toString():(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ei=function(e,t,n,r){n!==r&&(t.flags|=4)};var Oi="function"==typeof WeakMap?WeakMap:Map;function Pi(e,t,n){(n=zg(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qi||(Qi=!0,Ri=r),Ni(e,t)},n}function Si(e,t,n){(n=zg(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ni(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ui="function"==typeof WeakSet?WeakSet:Set;function Vi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Wi(e,n)}else t.current=null}function Xi(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:lg(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qf(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Zi(n,e),$i(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:lg(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Eg(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Eg(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&mf(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Cc(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=sb("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bj(e,t){if(Mf&&"function"==typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Zi(t,n);else{r=t;try{i()}catch(o){Wi(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Vi(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wi(t,o)}break;case 5:Vi(t);break;case 4:cj(e,t)}}function dj(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ej(e){return 5===e.tag||3===e.tag||4===e.tag}function fj(e){e:{for(var t=e.return;null!==t;){if(ej(t))break e;t=t.return}throw Error(y(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(y(161))}16&n.flags&&(pb(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ej(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?gj(e,n,t):hj(e,n,t)}function gj(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jf));else if(4!==r&&null!==(e=e.child))for(gj(e,t,n),e=e.sibling;null!==e;)gj(e,t,n),e=e.sibling}function hj(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hj(e,t,n),e=e.sibling;null!==e;)hj(e,t,n),e=e.sibling}function cj(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(y(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,l=s;;)if(bj(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bj(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ij(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[xf]=r,"input"===e&&"radio"===r.type&&null!=r.name&&$a(n,r),wb(e,i),t=wb(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?tb(n,s):"dangerouslySetInnerHTML"===a?ob(n,s):"children"===a?pb(n,s):qa(n,a,s,t)}switch(e){case"input":ab(n,r);break;case"textarea":ib(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?fb(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?fb(n,!!r.multiple,r.defaultValue,!0):fb(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(y(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Cc(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(jj=O(),aj(t.child,!0)),void kj(t);case 19:return void kj(t);case 17:return;case 23:case 24:return void aj(t,null!==t.memoizedState)}throw Error(y(163))}function kj(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ui),t.forEach((function(t){var r=lj.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mj(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1,ck;function Hg(){return 0!=(48&X)?O():-1!==Fj?Fj:Fj=O()}function Ig(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===eg()?1:2;if(0===Gj&&(Gj=tj),0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0),e=Gj;var t=4186112&~Hj;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=eg(),0!=(4&X)&&98===e?e=Xc(12,Gj):e=Xc(e=Sc(e),Gj),e}function Jg(e,t,n){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(null===(e=Kj(e,t)))return null;$c(e,t,n),e===U&&(Hi|=t,4===V&&Ii(e,W));var r=eg();1===t?0!=(8&X)&&0==(48&X)?Lj(e):(Mj(e,n),0===X&&(wj(),ig())):(0==(4&X)||98!==r&&99!==r||(null===Cj?Cj=new Set([e]):Cj.add(e)),Mj(e,n)),vj=e}function Kj(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mj(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Vc(a),l=1<<s,u=o[s];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Rc(l);var c=F;o[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);a&=~l}if(r=Uc(e,e===U?W:0),t=F,0===r)null!==n&&(n!==Zf&&Pf(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Zf&&Pf(n)}15===t?(n=Lj.bind(null,e),null===ag?(ag=[n],bg=Of(Uf,jg)):ag.push(n),n=Zf):14===t?n=hg(99,Lj.bind(null,e)):n=hg(n=Tc(t),Nj.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Nj(e){if(Fj=-1,Hj=Gj=0,0!=(48&X))throw Error(y(327));var t=e.callbackNode;if(Oj()&&e.callbackNode!==t)return null;var n=Uc(e,e===U?W:0);if(0===n)return null;var r=n,i=X;X|=16;var o=Pj();for(U===e&&W===r||(wj(),Qj(e,r));;)try{Rj();break}catch(s){Sj(e,s)}if(qg(),oj.current=o,X=i,null!==Y?r=0:(U=null,W=0,r=V),0!=(tj&Hi))Qj(e,0);else if(0!==r){if(2===r&&(X|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),0!==(n=Wc(e))&&(r=Tj(e,n))),1===r)throw t=sj,Qj(e,0),Ii(e,n),Mj(e,O()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(y(345));case 2:Uj(e);break;case 3:if(Ii(e,n),(62914560&n)===n&&10<(r=jj+500-O())){if(0!==Uc(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Hg(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=of(Uj.bind(null,e),r);break}Uj(e);break;case 4:if(Ii(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Vc(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=O()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nj(n/1960))-n)){e.timeoutHandle=of(Uj.bind(null,e),n);break}Uj(e);break;case 5:Uj(e);break;default:throw Error(y(329))}}return Mj(e,O()),e.callbackNode===t?Nj.bind(null,e):null}function Ii(e,t){for(t&=~uj,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vc(t),r=1<<n;e[n]=-1,t&=~r}}function Lj(e){if(0!=(48&X))throw Error(y(327));if(Oj(),e===U&&0!=(e.expiredLanes&W)){var t=W,n=Tj(e,t);0!=(tj&Hi)&&(n=Tj(e,t=Uc(e,t)))}else n=Tj(e,t=Uc(e,0));if(0!==e.tag&&2===n&&(X|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),0!==(t=Wc(e))&&(n=Tj(e,t))),1===n)throw n=sj,Qj(e,0),Ii(e,t),Mj(e,O()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uj(e),Mj(e,O()),null}function Vj(){if(null!==Cj){var e=Cj;Cj=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Mj(e,O())}))}ig()}function Wj(e,t){var n=X;X|=1;try{return e(t)}finally{0===(X=n)&&(wj(),ig())}}function Xj(e,t){var n=X;X&=-2,X|=8;try{return e(t)}finally{0===(X=n)&&(wj(),ig())}}function ni(e,t){I(rj,qj),qj|=t,tj|=t}function Ki(){qj=rj.current,H(rj)}function Qj(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pf(n)),null!==Y)for(n=Y.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(r);break;case 4:fh();break;case 13:case 19:H(P);break;case 10:rg(r);break;case 23:case 24:Ki()}n=n.return}U=e,Y=Tg(e.current,null),W=qj=tj=t,V=0,sj=null,uj=Hi=Dg=0}function Sj(e,t){for(;;){var n=Y;try{if(qg(),vh.current=Gh,yh){for(var r=R.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,null===n||null===n.return){V=1,sj=t,Y=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=W,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&P.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var v=new Set;v.add(u),h.updateQueue=v}else g.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=zg(-1,1);y.tag=2,Ag(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Oi,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=Yj.bind(null,o,u,s);u.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((Ra(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==V&&(V=2),l=Mi(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,Bg(h,Pi(h,o,t));break e;case 1:o=l;var E=h.type,w=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ti||!Ti.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,Bg(h,Si(h,o,t));break e}}h=h.return}while(null!==h)}Zj(n)}catch(x){t=x,Y===n&&null!==n&&(Y=n=n.return);continue}break}}function Pj(){var e=oj.current;return oj.current=Gh,null===e?Gh:e}function Tj(e,t){var n=X;X|=16;var r=Pj();for(U===e&&W===t||Qj(e,t);;)try{ak();break}catch(i){Sj(e,i)}if(qg(),X=n,oj.current=r,null!==Y)throw Error(y(261));return U=null,W=0,V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(e){var t=ck(e.alternate,e,qj);e.memoizedProps=e.pendingProps,null===t?Zj(e):Y=t,pj.current=null}function Zj(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Gi(n,t,qj)))return void(Y=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&qj)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Li(t)))return n.flags&=2047,void(Y=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Y=t);Y=t=e}while(null!==t);0===V&&(V=5)}function Uj(e){var t=eg();return gg(99,dk.bind(null,e,t)),null}function dk(e,t){do{Oj()}while(null!==yj);if(0!=(48&X))throw Error(y(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(y(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-Vc(o),u=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~u}if(null!==Cj&&0==(24&r)&&Cj.has(e)&&Cj.delete(e),e===U&&(Y=U=null,W=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=X,X|=32,pj.current=null,kf=fd,Oe(a=Ne())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(u=s.getSelection&&s.getSelection())&&0!==u.rangeCount){s=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{s.nodeType,l.nodeType}catch(k){s=null;break e}var c=0,f=-1,h=-1,d=0,p=0,m=a,g=null;t:for(;;){for(var v;m!==s||0!==o&&3!==m.nodeType||(f=c+o),m!==l||0!==u&&3!==m.nodeType||(h=c+u),3===m.nodeType&&(c+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===a)break t;if(g===s&&++d===o&&(f=c),g===l&&++p===u&&(h=c),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}s=-1===f||-1===h?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;lf={focusedElem:a,selectionRange:s},fd=!1,Ij=null,Jj=!1,Z=r;do{try{ek()}catch(k){if(null===Z)throw Error(y(330));Wi(Z,k),Z=Z.nextEffect}}while(null!==Z);Ij=null,Z=r;do{try{for(a=e;null!==Z;){var b=Z.flags;if(16&b&&pb(Z.stateNode,""),128&b){var _=Z.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:cj(a,s=Z);var w=s.alternate;dj(s),null!==w&&dj(w)}Z=Z.nextEffect}}catch(k){if(null===Z)throw Error(y(330));Wi(Z,k),Z=Z.nextEffect}}while(null!==Z);if(E=lf,_=Ne(),b=E.focusedElem,a=E.selectionRange,_!==b&&b&&b.ownerDocument&&Me(b.ownerDocument.documentElement,b)){null!==a&&Oe(b)&&(_=a.start,void 0===(E=a.end)&&(E=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(E,b.value.length)):(E=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,w=Math.min(a.start,s),a=void 0===a.end?w:Math.min(a.end,s),!E.extend&&w>a&&(s=a,a=w,w=s),s=Le(b,w),o=Le(b,a),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((_=_.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),w>a?(E.addRange(_),E.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),E.addRange(_))))),_=[];for(E=b;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<_.length;b++)(E=_[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}fd=!!kf,lf=kf=null,e.current=n,Z=r;do{try{for(b=e;null!==Z;){var x=Z.flags;if(36&x&&Yi(b,Z.alternate,Z),128&x){_=void 0;var T=Z.ref;if(null!==T){var S=Z.stateNode;switch(Z.tag){case 5:_=S;break;default:_=S}"function"==typeof T?T(_):T.current=_}}Z=Z.nextEffect}}catch(k){if(null===Z)throw Error(y(330));Wi(Z,k),Z=Z.nextEffect}}while(null!==Z);Z=null,$f(),X=i}else e.current=n;if(xj)xj=!1,yj=e,zj=t;else for(Z=r;null!==Z;)t=Z.nextEffect,Z.nextEffect=null,8&Z.flags&&((x=Z).sibling=null,x.stateNode=null),Z=t;if(0===(r=e.pendingLanes)&&(Ti=null),1===r?e===Ej?Dj++:(Dj=0,Ej=e):Dj=0,n=n.stateNode,Mf&&"function"==typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,n,void 0,64==(64&n.current.flags))}catch(k){}if(Mj(e,O()),Qi)throw Qi=!1,e=Ri,Ri=null,e;return 0!=(8&X)||ig(),null}function ek(){for(;null!==Z;){var e=Z.alternate;Jj||null===Ij||(0!=(8&Z.flags)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(e,Z)&&dc(Z,Ij)&&(Jj=!0));var t=Z.flags;0!=(256&t)&&Xi(e,Z),0==(512&t)||xj||(xj=!0,hg(97,(function(){return Oj(),null}))),Z=Z.nextEffect}}function Oj(){if(90!==zj){var e=97<zj?97:zj;return zj=90,gg(e,fk)}return!1}function $i(e,t){Aj.push(t,e),xj||(xj=!0,hg(97,(function(){return Oj(),null})))}function Zi(e,t){Bj.push(t,e),xj||(xj=!0,hg(97,(function(){return Oj(),null})))}function fk(){if(null===yj)return!1;var e=yj;if(yj=null,0!=(48&X))throw Error(y(331));var t=X;X|=32;var n=Bj;Bj=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(l){if(null===o)throw Error(y(330));Wi(o,l)}}for(n=Aj,Aj=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(null===o)throw Error(y(330));Wi(o,l)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return X=t,ig(),!0}function gk(e,t,n){Ag(e,t=Pi(e,t=Mi(n,t),1)),t=Hg(),null!==(e=Kj(e,1))&&($c(e,1,t),Mj(e,t))}function Wi(e,t){if(3===e.tag)gk(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gk(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ti||!Ti.has(r))){var i=Si(n,e=Mi(t,e),1);if(Ag(n,i),i=Hg(),null!==(n=Kj(n,1)))$c(n,1,i),Mj(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ti||!Ti.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Yj(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Hg(),e.pingedLanes|=e.suspendedLanes&n,U===e&&(W&n)===n&&(4===V||3===V&&(62914560&W)===W&&500>O()-jj?Qj(e,0):uj|=n),Mj(e,t)}function lj(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===eg()?1:2:(0===Gj&&(Gj=tj),0===(t=Yc(62914560&~Gj))&&(t=4194304))),n=Hg(),null!==(e=Kj(e,t))&&($c(e,t,n),Mj(e,n))}function ik(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(e,t,n,r){return new ik(e,t,n,r)}function ji(e){return!(!(e=e.prototype)||!e.isReactComponent)}function hk(e){if("function"==typeof e)return ji(e)?1:0;if(null!=e){if((e=e.$$typeof)===Aa)return 11;if(e===Da)return 14}return 2}function Tg(e,t){var n=e.alternate;return null===n?((n=nh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vg(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)ji(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ua:return Xg(n.children,i,o,t);case Ha:a=8,i|=16;break;case wa:a=8,i|=1;break;case xa:return(e=nh(12,n,t,8|i)).elementType=xa,e.type=xa,e.lanes=o,e;case Ba:return(e=nh(13,n,t,i)).type=Ba,e.elementType=Ba,e.lanes=o,e;case Ca:return(e=nh(19,n,t,i)).elementType=Ca,e.lanes=o,e;case Ia:return vi(n,i,o,t);case Ja:return(e=nh(24,n,t,i)).elementType=Ja,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ya:a=10;break e;case za:a=9;break e;case Aa:a=11;break e;case Da:a=14;break e;case Ea:a=16,r=null;break e;case Fa:a=22;break e}throw Error(y(130,null==e?e:typeof e,""))}return(t=nh(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Xg(e,t,n,r){return(e=nh(7,e,r,t)).lanes=n,e}function vi(e,t,n,r){return(e=nh(23,e,r,t)).elementType=Ia,e.lanes=n,e}function Ug(e,t,n){return(e=nh(6,e,null,t)).lanes=n,e}function Wg(e,t,n){return(t=nh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jk(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function lk(e,t,n,r){var i=t.current,o=Hg(),a=Ig(i);e:if(n){t:{if(Zb(n=n._reactInternals)!==n||1!==n.tag)throw Error(y(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ff(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(y(171))}if(1===n.tag){var l=n.type;if(Ff(l)){n=If(n,l,s);break e}}n=s}else n=Cf;return null===t.context?t.context=n:t.pendingContext=n,(t=zg(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ag(i,t),Jg(i,a,o),a}function mk(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function nk(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ok(e,t){nk(e,t),(e=e.alternate)&&nk(e,t)}function pk(){return null}function qk(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new jk(e,t,null!=n&&!0===n.hydrate),t=nh(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,xg(t),e[ff]=n.current,cf(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function rk(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sk(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qk(e,0,t?{hydrate:!0}:void 0)}function tk(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=mk(a);s.call(e)}}lk(t,a,e,i)}else{if(o=n._reactRootContainer=sk(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=mk(a);l.call(e)}}Xj((function(){lk(t,a,e,i)}))}return mk(a)}function uk(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(t))throw Error(y(200));return kk(e,t,null,n)}ck=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||N.current)ug=!0;else{if(0==(n&r)){switch(ug=!1,t.tag){case 3:ri(t),sh();break;case 5:gh(t);break;case 1:Ff(t.type)&&Jf(t);break;case 4:eh(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;I(mg,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?ti(e,t,n):(I(P,1&P.current),null!==(t=hi(e,t,n))?t.sibling:null);I(P,1&P.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ai(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),I(P,P.current),r)break;return null;case 23:case 24:return t.lanes=0,mi(e,t,n)}return hi(e,t,n)}ug=0!=(16384&e.flags)}else ug=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ef(t,M.current),tg(t,n),i=Ch(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ff(r)){var o=!0;Jf(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xg(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Gg(t,r,a,e),i.updater=Kg,t.stateNode=i,i._reactInternals=t,Og(t,r,e,n),t=qi(null,t,r,!0,o,n)}else t.tag=0,fi(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=hk(i),e=lg(i,e),o){case 0:t=li(null,t,i,e,n);break e;case 1:t=pi(null,t,i,e,n);break e;case 11:t=gi(null,t,i,e,n);break e;case 14:t=ii(null,t,i,lg(i.type,e),r,n);break e}throw Error(y(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,li(e,t,r,i=t.elementType===r?i:lg(r,i),n);case 1:return r=t.type,i=t.pendingProps,pi(e,t,r,i=t.elementType===r?i:lg(r,i),n);case 3:if(ri(t),r=t.updateQueue,null===e||null===r)throw Error(y(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,yg(e,t),Cg(t,r,null,n),(r=t.memoizedState.element)===i)sh(),t=hi(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(kh=rf(t.stateNode.containerInfo.firstChild),jh=t,o=lh=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],th.push(o);for(n=Zg(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else fi(e,t,r,n),sh();t=t.child}return t;case 5:return gh(t),null===e&&ph(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,nf(r,i)?a=null:null!==o&&nf(r,o)&&(t.flags|=16),oi(e,t),fi(e,t,a,n),t.child;case 6:return null===e&&ph(t),null;case 13:return ti(e,t,n);case 4:return eh(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yg(t,null,r,n):fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,gi(e,t,r,i=t.elementType===r?i:lg(r,i),n);case 7:return fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(I(mg,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=He(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!N.current){t=hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===s.tag&&((u=zg(-1,n&-n)).tag=2,Ag(s,u)),s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),sg(s.return,n),l.lanes|=n;break}u=u.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,tg(t,n),r=r(i=vg(i,o.unstable_observedBits)),t.flags|=1,fi(e,t,r,n),t.child;case 14:return o=lg(i=t.type,t.pendingProps),ii(e,t,i,o=lg(i.type,o),r,n);case 15:return ki(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lg(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ff(r)?(e=!0,Jf(t)):e=!1,tg(t,n),Mg(t,r,i),Og(t,r,i,n),qi(null,t,r,!0,e,n);case 19:return Ai(e,t,n);case 23:case 24:return mi(e,t,n)}throw Error(y(156,t.tag))},qk.prototype.render=function(e){lk(e,this._internalRoot,null,null)},qk.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;lk(null,e,null,(function(){t[ff]=null}))},ec=function(e){13===e.tag&&(Jg(e,4,Hg()),ok(e,4))},fc=function(e){13===e.tag&&(Jg(e,67108864,Hg()),ok(e,67108864))},gc=function(e){if(13===e.tag){var t=Hg(),n=Ig(e);Jg(e,n,t),ok(e,n)}},hc=function(e,t){return t()},yb=function(e,t,n){switch(t){case"input":if(ab(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Db(r);if(!i)throw Error(y(90));Wa(r),ab(r,i)}}}break;case"textarea":ib(e,n);break;case"select":null!=(t=n.value)&&fb(e,!!n.multiple,t,!1)}},Gb=Wj,Hb=function(e,t,n,r,i){var o=X;X|=4;try{return gg(98,e.bind(null,t,n,r,i))}finally{0===(X=o)&&(wj(),ig())}},Ib=function(){0==(49&X)&&(Vj(),Oj())},Jb=function(e,t){var n=X;X|=2;try{return e(t)}finally{0===(X=n)&&(wj(),ig())}};var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=cc(e))?null:e.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk,reactDom_production_min.createPortal=uk,reactDom_production_min.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(y(188));throw Error(y(268,Object.keys(e)))}return e=null===(e=cc(t))?null:e.stateNode},reactDom_production_min.flushSync=function(e,t){var n=X;if(0!=(48&n))return e(t);X|=1;try{if(e)return gg(99,e.bind(null,t))}finally{X=n,ig()}},reactDom_production_min.hydrate=function(e,t,n){if(!rk(t))throw Error(y(200));return tk(null,e,t,!0,n)},reactDom_production_min.render=function(e,t,n){if(!rk(t))throw Error(y(200));return tk(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!rk(e))throw Error(y(40));return!!e._reactRootContainer&&(Xj((function(){tk(null,null,e,!1,(function(){e._reactRootContainer=null,e[ff]=null}))})),!0)},reactDom_production_min.unstable_batchedUpdates=Wj,reactDom_production_min.unstable_createPortal=function(e,t){return uk(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rk(n))throw Error(y(200));if(null==e||void 0===e._reactInternals)throw Error(y(38));return tk(e,t,n,!1,r)},reactDom_production_min.version="17.0.2",checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports,gosling={exports:{}};function finallyConstructor(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function allSettled(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}var setTimeoutFunc=setTimeout;function isArray(e){return Boolean(e&&void 0!==e.length)}function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise$1(e){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Promise$1._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void reject(t.promise,i)}resolve$1(t.promise,r)}else(1===e._state?resolve$1:reject)(t.promise,e._value)}))):e._deferreds.push(t)}function resolve$1(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Promise$1)return e._state=3,e._value=t,void finale(e);if("function"==typeof n)return void doResolve(bind(n,t),e)}e._state=1,e._value=t,finale(e)}catch(r){reject(e,r)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise$1._immediateFn((function(){e._handled||Promise$1._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e((function(e){n||(n=!0,resolve$1(t,e))}),(function(e){n||(n=!0,reject(t,e))}))}catch(r){if(n)return;n=!0,reject(t,r)}}Promise$1.prototype.catch=function(e){return this.then(null,e)},Promise$1.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},Promise$1.prototype.finally=finallyConstructor,Promise$1.all=function(e){return new Promise$1((function(t,n){if(!isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(l){n(l)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},Promise$1.allSettled=allSettled,Promise$1.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise$1?e:new Promise$1((function(t){t(e)}))},Promise$1.reject=function(e){return new Promise$1((function(t,n){n(e)}))},Promise$1.race=function(e){return new Promise$1((function(t,n){if(!isArray(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)Promise$1.resolve(e[r]).then(t,n)}))},Promise$1._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){setTimeoutFunc(e,0)},Promise$1._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},
/*!
 * @pixi/polyfill - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
self.Promise||(self.Promise=Promise$1),Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var startTime_1=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-startTime_1}}for(var lastTime=Date.now(),vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!self.requestAnimationFrame;++x){var p=vendors[x];self.requestAnimationFrame=self[p+"RequestAnimationFrame"],self.cancelAnimationFrame=self[p+"CancelAnimationFrame"]||self[p+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=ONE_FRAME_TIME+lastTime-t;return n<0&&(n=0),lastTime=t,self.setTimeout((function(){lastTime=Date.now(),e(performance.now())}),n)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function createMatch(e){return function(t){return t.test(e)}}function isMobile$1(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");void 0!==r[1]&&(n=r[0]),void 0!==(r=n.split("Twitter"))[1]&&(n=r[0]);var i=createMatch(n),o={apple:{phone:i(appleIphone)&&!i(windowsPhone),ipod:i(appleIpod),tablet:!i(appleIphone)&&(i(appleTablet)||isAppleTabletOnIos13(t))&&!i(windowsPhone),universal:i(appleUniversal),device:(i(appleIphone)||i(appleIpod)||i(appleTablet)||i(appleUniversal)||isAppleTabletOnIos13(t))&&!i(windowsPhone)},amazon:{phone:i(amazonPhone),tablet:!i(amazonPhone)&&i(amazonTablet),device:i(amazonPhone)||i(amazonTablet)},android:{phone:!i(windowsPhone)&&i(amazonPhone)||!i(windowsPhone)&&i(androidPhone),tablet:!i(windowsPhone)&&!i(amazonPhone)&&!i(androidPhone)&&(i(amazonTablet)||i(androidTablet)),device:!i(windowsPhone)&&(i(amazonPhone)||i(amazonTablet)||i(androidPhone)||i(androidTablet))||i(/\bokhttp\b/i)},windows:{phone:i(windowsPhone),tablet:i(windowsTablet),device:i(windowsPhone)||i(windowsTablet)},other:{blackberry:i(otherBlackBerry),blackberry10:i(otherBlackBerry10),opera:i(otherOpera),firefox:i(otherFirefox),chrome:i(otherChrome),device:i(otherBlackBerry)||i(otherBlackBerry10)||i(otherOpera)||i(otherFirefox)||i(otherChrome)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}
/*!
 * @pixi/settings - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var isMobile=isMobile$1(self.navigator),ENV$3,ENV2,RENDERER_TYPE$3,RENDERER_TYPE2,BUFFER_BITS$3,BUFFER_BITS2,BLEND_MODES$3,BLEND_MODES2,DRAW_MODES$3,DRAW_MODES2,FORMATS$3,FORMATS2,TARGETS$3,TARGETS2,TYPES$3,TYPES2,SAMPLER_TYPES$3,SAMPLER_TYPES2,SCALE_MODES$3,SCALE_MODES2,WRAP_MODES$3,WRAP_MODES2,MIPMAP_MODES$3,MIPMAP_MODES2,ALPHA_MODES$3,ALPHA_MODES2,CLEAR_MODES$3,CLEAR_MODES2,GC_MODES$3,GC_MODES2,PRECISION$3,PRECISION2,MASK_TYPES$3,MASK_TYPES2,MSAA_QUALITY$3,MSAA_QUALITY2,BUFFER_TYPE$3,BUFFER_TYPE2;function maxRecommendedTextures(e){var t=!0;if(isMobile.tablet||isMobile.phone){var n;if(isMobile.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(t=!1);if(isMobile.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(t=!1)}return t?e:4}function canUploadSameBuffer(){return!isMobile.apple.device}
/*!
 * @pixi/constants - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ENV2=ENV$3||(ENV$3={}),ENV2[ENV2.WEBGL_LEGACY=0]="WEBGL_LEGACY",ENV2[ENV2.WEBGL=1]="WEBGL",ENV2[ENV2.WEBGL2=2]="WEBGL2",RENDERER_TYPE2=RENDERER_TYPE$3||(RENDERER_TYPE$3={}),RENDERER_TYPE2[RENDERER_TYPE2.UNKNOWN=0]="UNKNOWN",RENDERER_TYPE2[RENDERER_TYPE2.WEBGL=1]="WEBGL",RENDERER_TYPE2[RENDERER_TYPE2.CANVAS=2]="CANVAS",BUFFER_BITS2=BUFFER_BITS$3||(BUFFER_BITS$3={}),BUFFER_BITS2[BUFFER_BITS2.COLOR=16384]="COLOR",BUFFER_BITS2[BUFFER_BITS2.DEPTH=256]="DEPTH",BUFFER_BITS2[BUFFER_BITS2.STENCIL=1024]="STENCIL",BLEND_MODES2=BLEND_MODES$3||(BLEND_MODES$3={}),BLEND_MODES2[BLEND_MODES2.NORMAL=0]="NORMAL",BLEND_MODES2[BLEND_MODES2.ADD=1]="ADD",BLEND_MODES2[BLEND_MODES2.MULTIPLY=2]="MULTIPLY",BLEND_MODES2[BLEND_MODES2.SCREEN=3]="SCREEN",BLEND_MODES2[BLEND_MODES2.OVERLAY=4]="OVERLAY",BLEND_MODES2[BLEND_MODES2.DARKEN=5]="DARKEN",BLEND_MODES2[BLEND_MODES2.LIGHTEN=6]="LIGHTEN",BLEND_MODES2[BLEND_MODES2.COLOR_DODGE=7]="COLOR_DODGE",BLEND_MODES2[BLEND_MODES2.COLOR_BURN=8]="COLOR_BURN",BLEND_MODES2[BLEND_MODES2.HARD_LIGHT=9]="HARD_LIGHT",BLEND_MODES2[BLEND_MODES2.SOFT_LIGHT=10]="SOFT_LIGHT",BLEND_MODES2[BLEND_MODES2.DIFFERENCE=11]="DIFFERENCE",BLEND_MODES2[BLEND_MODES2.EXCLUSION=12]="EXCLUSION",BLEND_MODES2[BLEND_MODES2.HUE=13]="HUE",BLEND_MODES2[BLEND_MODES2.SATURATION=14]="SATURATION",BLEND_MODES2[BLEND_MODES2.COLOR=15]="COLOR",BLEND_MODES2[BLEND_MODES2.LUMINOSITY=16]="LUMINOSITY",BLEND_MODES2[BLEND_MODES2.NORMAL_NPM=17]="NORMAL_NPM",BLEND_MODES2[BLEND_MODES2.ADD_NPM=18]="ADD_NPM",BLEND_MODES2[BLEND_MODES2.SCREEN_NPM=19]="SCREEN_NPM",BLEND_MODES2[BLEND_MODES2.NONE=20]="NONE",BLEND_MODES2[BLEND_MODES2.SRC_OVER=0]="SRC_OVER",BLEND_MODES2[BLEND_MODES2.SRC_IN=21]="SRC_IN",BLEND_MODES2[BLEND_MODES2.SRC_OUT=22]="SRC_OUT",BLEND_MODES2[BLEND_MODES2.SRC_ATOP=23]="SRC_ATOP",BLEND_MODES2[BLEND_MODES2.DST_OVER=24]="DST_OVER",BLEND_MODES2[BLEND_MODES2.DST_IN=25]="DST_IN",BLEND_MODES2[BLEND_MODES2.DST_OUT=26]="DST_OUT",BLEND_MODES2[BLEND_MODES2.DST_ATOP=27]="DST_ATOP",BLEND_MODES2[BLEND_MODES2.ERASE=26]="ERASE",BLEND_MODES2[BLEND_MODES2.SUBTRACT=28]="SUBTRACT",BLEND_MODES2[BLEND_MODES2.XOR=29]="XOR",DRAW_MODES2=DRAW_MODES$3||(DRAW_MODES$3={}),DRAW_MODES2[DRAW_MODES2.POINTS=0]="POINTS",DRAW_MODES2[DRAW_MODES2.LINES=1]="LINES",DRAW_MODES2[DRAW_MODES2.LINE_LOOP=2]="LINE_LOOP",DRAW_MODES2[DRAW_MODES2.LINE_STRIP=3]="LINE_STRIP",DRAW_MODES2[DRAW_MODES2.TRIANGLES=4]="TRIANGLES",DRAW_MODES2[DRAW_MODES2.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",DRAW_MODES2[DRAW_MODES2.TRIANGLE_FAN=6]="TRIANGLE_FAN",FORMATS2=FORMATS$3||(FORMATS$3={}),FORMATS2[FORMATS2.RGBA=6408]="RGBA",FORMATS2[FORMATS2.RGB=6407]="RGB",FORMATS2[FORMATS2.RG=33319]="RG",FORMATS2[FORMATS2.RED=6403]="RED",FORMATS2[FORMATS2.RGBA_INTEGER=36249]="RGBA_INTEGER",FORMATS2[FORMATS2.RGB_INTEGER=36248]="RGB_INTEGER",FORMATS2[FORMATS2.RG_INTEGER=33320]="RG_INTEGER",FORMATS2[FORMATS2.RED_INTEGER=36244]="RED_INTEGER",FORMATS2[FORMATS2.ALPHA=6406]="ALPHA",FORMATS2[FORMATS2.LUMINANCE=6409]="LUMINANCE",FORMATS2[FORMATS2.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",FORMATS2[FORMATS2.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",FORMATS2[FORMATS2.DEPTH_STENCIL=34041]="DEPTH_STENCIL",TARGETS2=TARGETS$3||(TARGETS$3={}),TARGETS2[TARGETS2.TEXTURE_2D=3553]="TEXTURE_2D",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",TARGETS2[TARGETS2.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",TARGETS2[TARGETS2.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",TYPES2=TYPES$3||(TYPES$3={}),TYPES2[TYPES2.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",TYPES2[TYPES2.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",TYPES2[TYPES2.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",TYPES2[TYPES2.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",TYPES2[TYPES2.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",TYPES2[TYPES2.UNSIGNED_INT=5125]="UNSIGNED_INT",TYPES2[TYPES2.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",TYPES2[TYPES2.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",TYPES2[TYPES2.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",TYPES2[TYPES2.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",TYPES2[TYPES2.BYTE=5120]="BYTE",TYPES2[TYPES2.SHORT=5122]="SHORT",TYPES2[TYPES2.INT=5124]="INT",TYPES2[TYPES2.FLOAT=5126]="FLOAT",TYPES2[TYPES2.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",TYPES2[TYPES2.HALF_FLOAT=36193]="HALF_FLOAT",SAMPLER_TYPES2=SAMPLER_TYPES$3||(SAMPLER_TYPES$3={}),SAMPLER_TYPES2[SAMPLER_TYPES2.FLOAT=0]="FLOAT",SAMPLER_TYPES2[SAMPLER_TYPES2.INT=1]="INT",SAMPLER_TYPES2[SAMPLER_TYPES2.UINT=2]="UINT",SCALE_MODES2=SCALE_MODES$3||(SCALE_MODES$3={}),SCALE_MODES2[SCALE_MODES2.NEAREST=0]="NEAREST",SCALE_MODES2[SCALE_MODES2.LINEAR=1]="LINEAR",WRAP_MODES2=WRAP_MODES$3||(WRAP_MODES$3={}),WRAP_MODES2[WRAP_MODES2.CLAMP=33071]="CLAMP",WRAP_MODES2[WRAP_MODES2.REPEAT=10497]="REPEAT",WRAP_MODES2[WRAP_MODES2.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",MIPMAP_MODES2=MIPMAP_MODES$3||(MIPMAP_MODES$3={}),MIPMAP_MODES2[MIPMAP_MODES2.OFF=0]="OFF",MIPMAP_MODES2[MIPMAP_MODES2.POW2=1]="POW2",MIPMAP_MODES2[MIPMAP_MODES2.ON=2]="ON",MIPMAP_MODES2[MIPMAP_MODES2.ON_MANUAL=3]="ON_MANUAL",ALPHA_MODES2=ALPHA_MODES$3||(ALPHA_MODES$3={}),ALPHA_MODES2[ALPHA_MODES2.NPM=0]="NPM",ALPHA_MODES2[ALPHA_MODES2.UNPACK=1]="UNPACK",ALPHA_MODES2[ALPHA_MODES2.PMA=2]="PMA",ALPHA_MODES2[ALPHA_MODES2.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",ALPHA_MODES2[ALPHA_MODES2.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",ALPHA_MODES2[ALPHA_MODES2.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",CLEAR_MODES2=CLEAR_MODES$3||(CLEAR_MODES$3={}),CLEAR_MODES2[CLEAR_MODES2.NO=0]="NO",CLEAR_MODES2[CLEAR_MODES2.YES=1]="YES",CLEAR_MODES2[CLEAR_MODES2.AUTO=2]="AUTO",CLEAR_MODES2[CLEAR_MODES2.BLEND=0]="BLEND",CLEAR_MODES2[CLEAR_MODES2.CLEAR=1]="CLEAR",CLEAR_MODES2[CLEAR_MODES2.BLIT=2]="BLIT",GC_MODES2=GC_MODES$3||(GC_MODES$3={}),GC_MODES2[GC_MODES2.AUTO=0]="AUTO",GC_MODES2[GC_MODES2.MANUAL=1]="MANUAL",PRECISION2=PRECISION$3||(PRECISION$3={}),PRECISION2.LOW="lowp",PRECISION2.MEDIUM="mediump",PRECISION2.HIGH="highp",MASK_TYPES2=MASK_TYPES$3||(MASK_TYPES$3={}),MASK_TYPES2[MASK_TYPES2.NONE=0]="NONE",MASK_TYPES2[MASK_TYPES2.SCISSOR=1]="SCISSOR",MASK_TYPES2[MASK_TYPES2.STENCIL=2]="STENCIL",MASK_TYPES2[MASK_TYPES2.SPRITE=3]="SPRITE",MSAA_QUALITY2=MSAA_QUALITY$3||(MSAA_QUALITY$3={}),MSAA_QUALITY2[MSAA_QUALITY2.NONE=0]="NONE",MSAA_QUALITY2[MSAA_QUALITY2.LOW=2]="LOW",MSAA_QUALITY2[MSAA_QUALITY2.MEDIUM=4]="MEDIUM",MSAA_QUALITY2[MSAA_QUALITY2.HIGH=8]="HIGH",BUFFER_TYPE2=BUFFER_TYPE$3||(BUFFER_TYPE$3={}),BUFFER_TYPE2[BUFFER_TYPE2.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",BUFFER_TYPE2[BUFFER_TYPE2.ARRAY_BUFFER=34962]="ARRAY_BUFFER",BUFFER_TYPE2[BUFFER_TYPE2.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var settings={MIPMAP_TEXTURES:MIPMAP_MODES$3.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$3.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$3.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:WRAP_MODES$3.CLAMP,SCALE_MODE:SCALE_MODES$3.LINEAR,PRECISION_VERTEX:PRECISION$3.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION$3.HIGH:PRECISION$3.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(eventemitter3);var EventEmitter=eventemitter3.exports,earcut$2={exports:{}};function earcut(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,f=c?t[0]*n:e.length,h=linkedList(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=eliminateHoles(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return earcutLinked(h,d,n,r,i,u),d}function linkedList(e,t,n,r,i){var o,a;if(i===signedArea(e,t,n,r)>0)for(o=t;o<n;o+=r)a=insertNode(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=insertNode(o,e[o],e[o+1],a);return a&&equals(a,a.next)&&(removeNode(a),a=a.next),a}function filterPoints(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!equals(r,r.next)&&0!==area(r.prev,r,r.next))r=r.next;else{if(removeNode(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function earcutLinked(e,t,n,r,i,o,a){if(e){!a&&o&&indexCurve(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?isEarHashed(e,r,i,o):isEar(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),removeNode(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?earcutLinked(e=cureLocalIntersections(filterPoints(e),t,n),t,n,r,i,o,2):2===a&&splitEarcut(e,t,n,r,i,o):earcutLinked(filterPoints(e),t,n,r,i,o,1);break}}}function isEar(e){var t=e.prev,n=e,r=e.next;if(area(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(pointInTriangle(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&area(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function isEarHashed(e,t,n,r){var i=e.prev,o=e,a=e.next;if(area(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=zOrder(s,l,t,n,r),h=zOrder(u,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=f&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&pointInTriangle(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&area(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&pointInTriangle(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&pointInTriangle(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&area(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&pointInTriangle(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function cureLocalIntersections(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!equals(i,o)&&intersects(i,r,r.next,o)&&locallyInside(i,o)&&locallyInside(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),removeNode(r),removeNode(r.next),r=e=o),r=r.next}while(r!==e);return filterPoints(r)}function splitEarcut(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&isValidDiagonal(a,s)){var l=splitPolygon(a,s);return a=filterPoints(a,a.next),l=filterPoints(l,l.next),earcutLinked(a,t,n,r,i,o),void earcutLinked(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function eliminateHoles(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=linkedList(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(getLeftmost(a));for(s.sort(compareX),i=0;i<s.length;i++)n=filterPoints(n=eliminateHole(s[i],n),n.next);return n}function compareX(e,t){return e.x-t.x}function eliminateHole(e,t){var n=findHoleBridge(e,t);if(!n)return t;var r=splitPolygon(n,e),i=filterPoints(n,n.next);return filterPoints(r,r.next),t===n?i:t}function findHoleBridge(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&pointInTriangle(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),locallyInside(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&sectorContainsSector(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}function sectorContainsSector(e,t){return area(e.prev,e,t.prev)<0&&area(t.next,e,e.next)<0}function indexCurve(e,t,n,r){var i=e;do{null===i.z&&(i.z=zOrder(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,sortLinked(i)}function sortLinked(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function zOrder(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function getLeftmost(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function pointInTriangle(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function isValidDiagonal(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!intersectsPolygon(e,t)&&(locallyInside(e,t)&&locallyInside(t,e)&&middleInside(e,t)&&(area(e.prev,e,t.prev)||area(e,t.prev,t))||equals(e,t)&&area(e.prev,e,e.next)>0&&area(t.prev,t,t.next)>0)}function area(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function equals(e,t){return e.x===t.x&&e.y===t.y}function intersects(e,t,n,r){var i=sign$1(area(e,t,n)),o=sign$1(area(e,t,r)),a=sign$1(area(n,r,e)),s=sign$1(area(n,r,t));return i!==o&&a!==s||(!(0!==i||!onSegment(e,n,t))||(!(0!==o||!onSegment(e,r,t))||(!(0!==a||!onSegment(n,e,r))||!(0!==s||!onSegment(n,t,r)))))}function onSegment(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function sign$1(e){return e>0?1:e<0?-1:0}function intersectsPolygon(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&intersects(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function locallyInside(e,t){return area(e.prev,e,e.next)<0?area(e,t,e.next)>=0&&area(e,e.prev,t)>=0:area(e,t,e.prev)<0||area(e,e.next,t)<0}function middleInside(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function splitPolygon(e,t){var n=new Node(e.i,e.x,e.y),r=new Node(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function insertNode(e,t,n,r){var i=new Node(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}earcut$2.exports=earcut,earcut$2.exports.default=earcut,earcut.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(signedArea(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(signedArea(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},earcut.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var earcut$1=earcut$2.exports,punycode$1={exports:{}},module,exports;
/*! https://mths.be/punycode v1.3.2 by @mathias */
module=punycode$1,exports=punycode$1.exports,function(e){var t=exports&&!exports.nodeType&&exports,n=module&&!module.nodeType&&module,r="object"==typeof commonjsGlobal&&commonjsGlobal;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var i,o,a=2147483647,s=36,l=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function p(e){throw RangeError(f[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(c,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return m(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=s)e=h(e/35);return h(r+36*e/(e+38))}function E(e){var t,n,r,i,o,l,u,c,f,d,m,g=[],v=e.length,b=0,E=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=b,l=1,u=s;i>=v&&p("invalid-input"),((c=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||c>h((a-b)/l))&&p("overflow"),b+=c*l,!(c<(f=u<=w?1:u>=w+26?26:u-w));u+=s)l>h(a/(d=s-f))&&p("overflow"),l*=d;w=_(b-o,t=g.length+1,0==o),h(b/t)>a-E&&p("overflow"),E+=h(b/t),b%=t,g.splice(b++,0,E)}return y(g)}function w(e){var t,n,r,i,o,l,u,c,f,m,g,y,E,w,x,T=[];for(y=(e=v(e)).length,t=128,n=0,o=72,l=0;l<y;++l)(g=e[l])<128&&T.push(d(g));for(r=i=T.length,i&&T.push("-");r<y;){for(u=a,l=0;l<y;++l)(g=e[l])>=t&&g<u&&(u=g);for(u-t>h((a-n)/(E=r+1))&&p("overflow"),n+=(u-t)*E,t=u,l=0;l<y;++l)if((g=e[l])<t&&++n>a&&p("overflow"),g==t){for(c=n,f=s;!(c<(m=f<=o?1:f>=o+26?26:f-o));f+=s)x=c-m,w=s-m,T.push(d(b(m+x%w,0))),c=h(x/w);T.push(d(b(c,0))),o=_(n,E,r==i),n=0,++r}++n,++t}return T.join("")}if(i={version:"1.3.2",ucs2:{decode:v,encode:y},decode:E,encode:w,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},t&&n)if(module.exports==t)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);else e.punycode=i}(commonjsGlobal);var util$1={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},querystring$1={};function hasOwnProperty$1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var decode=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,c,f,h,d=e[l].replace(o,"%20"),p=d.indexOf(n);p>=0?(u=d.substr(0,p),c=d.substr(p+1)):(u=d,c=""),f=decodeURIComponent(u),h=decodeURIComponent(c),hasOwnProperty$1(i,f)?Array.isArray(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i},stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},encode=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var i=encodeURIComponent(stringifyPrimitive(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent(stringifyPrimitive(e))})).join(t):i+encodeURIComponent(stringifyPrimitive(e[r]))})).join(t):r?encodeURIComponent(stringifyPrimitive(r))+n+encodeURIComponent(stringifyPrimitive(e)):""};querystring$1.decode=querystring$1.parse=decode,querystring$1.encode=querystring$1.stringify=encode;var punycode=punycode$1.exports,util=util$1,parse=urlParse,resolve=urlResolve,format=urlFormat;function Url$1(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1,ENV$2,RENDERER_TYPE$2,BUFFER_BITS$2,BLEND_MODES$2,DRAW_MODES$2,FORMATS$2,TARGETS$2,TYPES$2,SAMPLER_TYPES$2,SCALE_MODES$2,WRAP_MODES$2,MIPMAP_MODES$2,ALPHA_MODES$2,CLEAR_MODES$2,GC_MODES$2,PRECISION$2,MASK_TYPES$2,MSAA_QUALITY$2,BUFFER_TYPE$2;function urlParse(e,t,n){if(e&&util.isObject(e)&&e instanceof Url$1)return e;var r=new Url$1;return r.parse(e,t,n),r}function urlFormat(e){return util.isString(e)&&(e=urlParse(e)),e instanceof Url$1?e.format():Url$1.prototype.format.call(e)}function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)}Url$1.prototype.parse=function(e,t,n){if(!util.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!n&&1===e.split("#").length){var s=simplePathPattern.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?querystring.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=protocolPattern.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||l&&hostlessProtocol[l]||(a=a.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(c||l&&!slashedProtocol[l])){for(var f,h,d=-1,p=0;p<hostEndingChars.length;p++){-1!==(m=a.indexOf(hostEndingChars[p]))&&(-1===d||m<d)&&(d=m)}-1!==(h=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d))&&(f=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(f)),d=-1;for(p=0;p<nonHostChars.length;p++){var m;-1!==(m=a.indexOf(nonHostChars[p]))&&(-1===d||m<d)&&(d=m)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),y=(p=0,v.length);p<y;p++){var b=v[p];if(b&&!b.match(hostnamePartPattern)){for(var _="",E=0,w=b.length;E<w;E++)b.charCodeAt(E)>127?_+="x":_+=b[E];if(!_.match(hostnamePartPattern)){var x=v.slice(0,p),T=v.slice(p+1),S=b.match(hostnamePartStart);S&&(x.push(S[1]),T.unshift(S[2])),T.length&&(a="/"+T.join(".")+a),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=punycode.toASCII(this.hostname));var k=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+k,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!unsafeProtocol[u])for(p=0,y=autoEscape.length;p<y;p++){var A=autoEscape[p];if(-1!==a.indexOf(A)){var C=encodeURIComponent(A);C===A&&(C=escape(A)),a=a.split(A).join(C)}}var P=a.indexOf("#");-1!==P&&(this.hash=a.substr(P),a=a.slice(0,P));var M=a.indexOf("?");if(-1!==M?(this.search=a.substr(M),this.query=a.substr(M+1),t&&(this.query=querystring.parse(this.query)),a=a.slice(0,M)):t&&(this.search="",this.query={}),a&&(this.pathname=a),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var R=this.search||"";this.path=k+R}return this.href=this.format(),this},Url$1.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||slashedProtocol[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},Url$1.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url$1.prototype.resolveObject=function(e){if(util.isString(e)){var t=new Url$1;t.parse(e,!1,!0),e=t}for(var n=new Url$1,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(n[l]=e[l])}return slashedProtocol[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!slashedProtocol[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||hostlessProtocol[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||n.host&&e.pathname,y=v,b=n.pathname&&n.pathname.split("/")||[],_=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!slashedProtocol[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),v=v&&(""===h[0]||""===b[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=h;else if(h.length)b||(b=[]),b.pop(),b=b.concat(h),n.search=e.search,n.query=e.query;else if(!util.isNullOrUndefined(e.search)){if(_)n.hostname=n.host=b.shift(),(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift());return n.search=e.search,n.query=e.query,util.isNull(n.pathname)&&util.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=b.slice(-1)[0],w=(n.host||e.host||b.length>1)&&("."===E||".."===E)||""===E,x=0,T=b.length;T>=0;T--)"."===(E=b[T])?b.splice(T,1):".."===E?(b.splice(T,1),x++):x&&(b.splice(T,1),x--);if(!v&&!y)for(;x--;x)b.unshift("..");!v||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var S,k=""===b[0]||b[0]&&"/"===b[0].charAt(0);_&&(n.hostname=n.host=k?"":b.length?b.shift():"",(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift()));return(v=v||n.host&&b.length)&&!k&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),util.isNull(n.pathname)&&util.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Url$1.prototype.parseHost=function(){var e=this.host,t=portPattern.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$2||(ENV$2={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$2||(RENDERER_TYPE$2={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$2||(BUFFER_BITS$2={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$2||(BLEND_MODES$2={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$2||(DRAW_MODES$2={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$2||(FORMATS$2={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$2||(TARGETS$2={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$2||(TYPES$2={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$2||(SCALE_MODES$2={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$2||(WRAP_MODES$2={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$2||(MIPMAP_MODES$2={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ALPHA_MODES$2||(ALPHA_MODES$2={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$2||(CLEAR_MODES$2={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$2||(GC_MODES$2={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$2||(PRECISION$2={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$2||(MASK_TYPES$2={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$2||(MSAA_QUALITY$2={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));
/*!
 * @pixi/utils - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var url={parse:parse,format:format,resolve:resolve};settings.RETINA_PREFIX=/@([0-9\.]+)x/,settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION$1="6.1.2",supported;function skipHello(){saidHello=!0}function sayHello(e){var t;if(!saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS "+VERSION$1+" -  "+e+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=self.console).log.apply(t,n)}else self.console&&self.console.log("PixiJS "+VERSION$1+" - "+e+" - http://www.pixijs.com/");saidHello=!0}}function isWebGLSupported(){return void 0===supported&&(supported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(o){return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue:aliceblue,antiquewhite:antiquewhite,aqua:aqua,aquamarine:aquamarine,azure:azure,beige:beige,bisque:bisque,black:black,blanchedalmond:blanchedalmond,blue:blue,blueviolet:blueviolet,brown:brown,burlywood:burlywood,cadetblue:cadetblue,chartreuse:chartreuse,chocolate:chocolate,coral:coral,cornflowerblue:cornflowerblue,cornsilk:cornsilk,crimson:crimson,cyan:cyan,darkblue:darkblue,darkcyan:darkcyan,darkgoldenrod:darkgoldenrod,darkgray:darkgray,darkgreen:darkgreen,darkgrey:darkgrey,darkkhaki:darkkhaki,darkmagenta:darkmagenta,darkolivegreen:darkolivegreen,darkorange:darkorange,darkorchid:darkorchid,darkred:darkred,darksalmon:darksalmon,darkseagreen:darkseagreen,darkslateblue:darkslateblue,darkslategray:darkslategray,darkslategrey:darkslategrey,darkturquoise:darkturquoise,darkviolet:darkviolet,deeppink:deeppink,deepskyblue:deepskyblue,dimgray:dimgray,dimgrey:dimgrey,dodgerblue:dodgerblue,firebrick:firebrick,floralwhite:floralwhite,forestgreen:forestgreen,fuchsia:fuchsia,gainsboro:gainsboro,ghostwhite:ghostwhite,goldenrod:goldenrod,gold:gold,gray:gray,green:green,greenyellow:greenyellow,grey:grey,honeydew:honeydew,hotpink:hotpink,indianred:indianred,indigo:indigo,ivory:ivory,khaki:khaki,lavenderblush:lavenderblush,lavender:lavender,lawngreen:lawngreen,lemonchiffon:lemonchiffon,lightblue:lightblue,lightcoral:lightcoral,lightcyan:lightcyan,lightgoldenrodyellow:lightgoldenrodyellow,lightgray:lightgray,lightgreen:lightgreen,lightgrey:lightgrey,lightpink:lightpink,lightsalmon:lightsalmon,lightseagreen:lightseagreen,lightskyblue:lightskyblue,lightslategray:lightslategray,lightslategrey:lightslategrey,lightsteelblue:lightsteelblue,lightyellow:lightyellow,lime:lime,limegreen:limegreen,linen:linen,magenta:magenta,maroon:maroon,mediumaquamarine:mediumaquamarine,mediumblue:mediumblue,mediumorchid:mediumorchid,mediumpurple:mediumpurple,mediumseagreen:mediumseagreen,mediumslateblue:mediumslateblue,mediumspringgreen:mediumspringgreen,mediumturquoise:mediumturquoise,mediumvioletred:mediumvioletred,midnightblue:midnightblue,mintcream:mintcream,mistyrose:mistyrose,moccasin:moccasin,navajowhite:navajowhite,navy:navy,oldlace:oldlace,olive:olive,olivedrab:olivedrab,orange:orange,orangered:orangered,orchid:orchid,palegoldenrod:palegoldenrod,palegreen:palegreen,paleturquoise:paleturquoise,palevioletred:palevioletred,papayawhip:papayawhip,peachpuff:peachpuff,peru:peru,pink:pink,plum:plum,powderblue:powderblue,purple:purple,rebeccapurple:rebeccapurple,red:red,rosybrown:rosybrown,royalblue:royalblue,saddlebrown:saddlebrown,salmon:salmon,sandybrown:sandybrown,seagreen:seagreen,seashell:seashell,sienna:sienna,silver:silver,skyblue:skyblue,slateblue:slateblue,slategray:slategray,slategrey:slategrey,snow:snow,springgreen:springgreen,steelblue:steelblue,tan:tan,teal:teal,thistle:thistle,tomato:tomato,turquoise:turquoise,violet:violet,wheat:wheat,white:white,whitesmoke:whitesmoke,yellow:yellow,yellowgreen:yellowgreen};function hex2rgb(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function hex2string(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function string2hex(e){return"string"==typeof e&&"#"===(e=cssColorNames[e.toLowerCase()]||e)[0]&&(e=e.substr(1)),parseInt(e,16)}function rgb2hex(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function mapPremultipliedBlendModes(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[BLEND_MODES$2.NORMAL_NPM]=BLEND_MODES$2.NORMAL,e[BLEND_MODES$2.ADD_NPM]=BLEND_MODES$2.ADD,e[BLEND_MODES$2.SCREEN_NPM]=BLEND_MODES$2.SCREEN,t[BLEND_MODES$2.NORMAL]=BLEND_MODES$2.NORMAL_NPM,t[BLEND_MODES$2.ADD]=BLEND_MODES$2.ADD_NPM,t[BLEND_MODES$2.SCREEN]=BLEND_MODES$2.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(e,t){return premultiplyBlendMode[t?1:0][e]}function premultiplyRgba(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function premultiplyTint(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i=i*t+.5|0)}function premultiplyTintToRgba(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function createIndicesForQuads(e,t){void 0===t&&(t=null);var n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function getBufferType(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var map$2={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function interleaveTypedArrays$1(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var u=t[o],c=e[o],f=getBufferType(c);i[f]||(i[f]=new map$2[f](a)),s=i[f];for(var h=0;h<c.length;h++){s[(h/u|0)*r+l+h%u]=c[h]}l+=u}return new Float32Array(a)}function nextPow2(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function isPow2(e){return!(e&e-1||!e)}function log2(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function removeItems(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}function sign(e){return 0===e?0:e<0?-1:1}var nextUid=0;function uid(){return++nextUid}var warnings={};function deprecation(e,t,n){if(void 0===n&&(n=3),!warnings[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),warnings[t]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);function destroyTextureCache(){var e;for(e in TextureCache)TextureCache[e].destroy();for(e in BaseTextureCache)BaseTextureCache[e].destroy()}function clearTextureCache(){var e;for(e in TextureCache)delete TextureCache[e];for(e in BaseTextureCache)delete BaseTextureCache[e]}var CanvasRenderTarget=function(){function e(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||settings.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),e}();function trimCanvas(e){var t,n,r,i=e.width,o=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,i,o).data,l=s.length,u={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<l;t+=4)0!==s[t+3]&&(n=t/4%i,r=~~(t/4/i),null===u.top&&(u.top=r),(null===u.left||n<u.left)&&(u.left=n),(null===u.right||u.right<n)&&(u.right=n+1),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(i=u.right-u.left,o=u.bottom-u.top+1,c=a.getImageData(u.left,u.top,i,o)),{height:o,width:i,data:c}}var DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,tempAnchor$1;function decomposeDataUri(e){var t=DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function determineCrossOrigin(e,t){if(void 0===t&&(t=self.location),0===e.indexOf("data:"))return"";t=t||self.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=e;var n=url.parse(tempAnchor$1.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}function getResolutionOfUrl(e,t){var n=settings.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}var utils=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BaseTextureCache:BaseTextureCache,CanvasRenderTarget:CanvasRenderTarget,DATA_URI:DATA_URI,ProgramCache:ProgramCache,TextureCache:TextureCache,clearTextureCache:clearTextureCache,correctBlendMode:correctBlendMode,createIndicesForQuads:createIndicesForQuads,decomposeDataUri:decomposeDataUri,deprecation:deprecation,destroyTextureCache:destroyTextureCache,determineCrossOrigin:determineCrossOrigin,getBufferType:getBufferType,getResolutionOfUrl:getResolutionOfUrl,hex2rgb:hex2rgb,hex2string:hex2string,interleaveTypedArrays:interleaveTypedArrays$1,isPow2:isPow2,isWebGLSupported:isWebGLSupported,log2:log2,nextPow2:nextPow2,premultiplyBlendMode:premultiplyBlendMode,premultiplyRgba:premultiplyRgba,premultiplyTint:premultiplyTint,premultiplyTintToRgba:premultiplyTintToRgba,removeItems:removeItems,rgb2hex:rgb2hex,sayHello:sayHello,sign:sign,skipHello:skipHello,string2hex:string2hex,trimCanvas:trimCanvas,uid:uid,url:url,isMobile:isMobile,EventEmitter:EventEmitter,earcut:earcut$1}),PI_2=2*Math.PI,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES,SHAPES2;
/*!
 * @pixi/math - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */SHAPES2=SHAPES||(SHAPES={}),SHAPES2[SHAPES2.POLY=0]="POLY",SHAPES2[SHAPES2.RECT=1]="RECT",SHAPES2[SHAPES2.CIRC=2]="CIRC",SHAPES2[SHAPES2.ELIP=3]="ELIP",SHAPES2[SHAPES2.RREC=4]="RREC";var Rectangle=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=SHAPES.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Circle=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n},e.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),Ellipse=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=n,this.height=r,this.type=SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1},e.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Polygon=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=SHAPES.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];s>t!=u>t&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(e,t){return e+", "+t}),"")+"]"},e}(),RoundedRectangle=function(){function e(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},e}(),Point=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),ObservablePoint=function(){function e(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,n){return void 0===t&&(t=this.cb),void 0===n&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Matrix=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new Point;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Point;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=e.pivot,a=-Math.atan2(-r,i),s=Math.atan2(n,t),l=Math.abs(a+s);return l<1e-5||Math.abs(PI_2-l)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*n+o.y*i),e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(var e=0;e<16;e++){var t=[];rotationCayley.push(t);for(var n=0;n<16;n++)for(var r=signum(ux[e]*ux[n]+vx[e]*uy[n]),i=signum(uy[e]*ux[n]+vy[e]*uy[n]),o=signum(ux[e]*vx[n]+vx[e]*vy[n]),a=signum(uy[e]*vx[n]+vy[e]*vy[n]),s=0;s<16;s++)if(ux[s]===r&&uy[s]===i&&vx[s]===o&&vy[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new Matrix;l.set(ux[e],uy[e],vx[e],vy[e],0,0),rotationMatrices.push(l)}}init();var groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ux[e]},uY:function(e){return uy[e]},vX:function(e){return vx[e]},vY:function(e){return vy[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return rotationCayley[e][t]},sub:function(e,t){return rotationCayley[e][groupD8.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?groupD8.S:groupD8.N:2*Math.abs(t)<=Math.abs(e)?e>0?groupD8.E:groupD8.W:t>0?e>0?groupD8.SE:groupD8.SW:e>0?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=rotationMatrices[groupD8.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Transform=function(){function e(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();
/*!
 * @pixi/display - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
settings.SORTABLE_CHILDREN=!1;var Bounds=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:((e=e||new Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=n*t.x+i*t.y+a,u=r*t.x+o*t.y+s;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[6])<t?o:t,n=(a=e[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,u=e.tx,c=e.ty,f=this.minX,h=this.minY,d=this.maxX,p=this.maxY,m=o*t+s*n+u,g=a*t+l*n+c;f=m<f?m:f,h=g<h?g:h,d=m>d?m:d,p=g>p?g:p,f=(m=o*r+s*n+u)<f?m:f,h=(g=a*r+l*n+c)<h?g:h,d=m>d?m:d,p=g>p?g:p,f=(m=o*t+s*i+u)<f?m:f,h=(g=a*t+l*i+c)<h?g:h,d=m>d?m:d,p=g>p?g:p,f=(m=o*r+s*i+u)<f?m:f,h=(g=a*r+l*i+c)<h?g:h,d=m>d?m:d,p=g>p?g:p,this.minX=f,this.minY=h,this.maxX=d,this.maxY=p},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2){var l=e[s],u=e[s+1];r=l<r?l:r,i=u<i?u:i,o=l>o?l:o,a=u>a?u:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,l=e.c,u=e.d,c=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,m=this.maxY,g=n;g<r;g+=2){var v=t[g],y=t[g+1],b=a*v+l*y+c,_=u*y+s*v+f;h=Math.min(h,b-i),p=Math.max(p,b+i),d=Math.min(d,_-o),m=Math.max(m,_+o)}this.minX=h,this.minY=d,this.maxX=p,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){e-=i,t-=o,n+=i,r+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},e}(),extendStatics$j=function(e,t){return(extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __extends$j(e,t){function n(){this.constructor=e}extendStatics$j(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var DisplayObject=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Transform,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Bounds,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return __extends$j(t,e),t.mixin=function(e){for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},t.prototype.toGlobal=function(e,t,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(e){this.transform.rotation=e*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask&&((t=this._mask.maskObject||this._mask).renderable=!0,t.isMask=!1);(this._mask=e,this._mask)&&((t=this._mask.maskObject||this._mask).renderable=!1,t.isMask=!0)},enumerable:!1,configurable:!0}),t}(EventEmitter),TemporaryDisplayObject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return __extends$j(t,e),t}(DisplayObject);function sortChildren(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;var Container=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=settings.SORTABLE_CHILDREN,t.sortDirty=!1,t}return __extends$j(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);removeItems(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var n,r=e,i=t-r;if(i>0&&i<=t){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,n){void 0===n&&(n=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}n&&e.mask.push(this,this._mask),this._render(e);r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(e);e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;
/*!
 * @pixi/accessibility - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=DIV_TOUCH_SIZE+"px",t.style.height=DIV_TOUCH_SIZE+"px",t.style.position="absolute",t.style.top=DIV_TOUCH_POS_X+"px",t.style.left=DIV_TOUCH_POS_Y+"px",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=DIV_HOOK_SIZE+"px",t.style.height=DIV_HOOK_SIZE+"px",t.style.position="absolute",t.style.top=DIV_HOOK_POS_X+"px",t.style.left=DIV_HOOK_POS_Y+"px",t.style.zIndex=DIV_HOOK_ZINDEX.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.left,r=t.top,i=t.width,o=t.height,a=this.renderer,s=a.width,l=a.height,u=a.resolution,c=i/s*u,f=o/l*u,h=this.div;h.style.left=n+"px",h.style.top=r+"px",h.style.width=s+"px",h.style.height=l+"px";for(var d=0;d<this.children.length;d++){var p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,removeItems(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{h=p._accessibleDiv;var m=p.hitArea,g=p.worldTransform;p.hitArea?(h.style.left=(g.tx+m.x*g.a)*c+"px",h.style.top=(g.ty+m.y*g.d)*f+"px",h.style.width=m.width*g.a*c+"px",h.style.height=m.height*g.d*f+"px"):(m=p.getBounds(),this.capHitArea(m),h.style.left=m.x*c+"px",h.style.top=m.y*f+"px",h.style.width=m.width*c+"px",h.style.height=m.height*f+"px",h.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(h.title=p.accessibleTitle),h.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&h.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===h.title&&p.tabIndex===h.tabIndex||(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,r=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=DIV_TOUCH_SIZE+"px",t.style.height=DIV_TOUCH_SIZE+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"click",r),t.dispatchEvent(n,"pointertap",r),t.dispatchEvent(n,"tap",r)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"mouseover",r)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"mouseout",r)},e.prototype._onKeyDown=function(e){e.keyCode===KEY_CODE_TAB&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}(),UPDATE_PRIORITY,UPDATE_PRIORITY2;
/*!
 * @pixi/ticker - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
settings.TARGET_FPMS=.06,UPDATE_PRIORITY2=UPDATE_PRIORITY||(UPDATE_PRIORITY={}),UPDATE_PRIORITY2[UPDATE_PRIORITY2.INTERACTION=50]="INTERACTION",UPDATE_PRIORITY2[UPDATE_PRIORITY2.HIGH=25]="HIGH",UPDATE_PRIORITY2[UPDATE_PRIORITY2.NORMAL=0]="NORMAL",UPDATE_PRIORITY2[UPDATE_PRIORITY2.LOW=-25]="LOW",UPDATE_PRIORITY2[UPDATE_PRIORITY2.UTILITY=-50]="UTILITY";var TickerListener=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=r}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Ticker=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/settings.TARGET_FPMS,this.elapsedMS=1/settings.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n))},e.prototype.addOnce=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n,!0))},e.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*settings.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,settings.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),TickerPlugin=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),InteractionData=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),extendStatics$i=function(e,t){return(extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$i(e,t){function n(){this.constructor=e}extendStatics$i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var InteractionEvent=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),InteractionTrackingData=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!=(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!=(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!=(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),TreeSearch=function(){function e(){this._tempPoint=new Point}return e.prototype.recursiveFindHit=function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),s=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(r=!1)),l&&t.interactiveChildren&&t.children)for(var u=t.children,c=u.length-1;c>=0;c--){var f=u[c],h=this.recursiveFindHit(e,f,n,r,s);if(h){if(!f.parent)continue;s=!1,h&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a},e.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},e}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(e){function t(t,n){var r=e.call(this)||this;return n=n||{},r.renderer=t,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new InteractionData,r.mouse.identifier=MOUSE_POINTER_ID,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[MOUSE_POINTER_ID]=r.mouse,r.interactionDataPool=[],r.eventData=new InteractionEvent,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new TreeSearch,r._tempDisplayObject=new TemporaryDisplayObject,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return __extends$i(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return hitTestEvent.target=null,hitTestEvent.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(hitTestEvent,t,null,!0),hitTestEvent.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var t=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.interactionDOMElement.style,n)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},t.prototype.mapPositionToPoint=function(e,t,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},t.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,c=l.eventString,f=l.eventData;f.stopsPropagatingAt===u&&(f.stopPropagationHint=!0),this.dispatchEvent(u,c,f)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new InteractionTrackingData(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var u=2===r.button,c=InteractionTrackingData.FLAGS,f=u?c.RIGHT_DOWN:c.LEFT_DOWN,h=void 0!==o&&o.flags&f;n?(this.dispatchEvent(t,u?"rightup":"mouseup",e),h&&(this.dispatchEvent(t,u?"rightclick":"click",e),l=!0)):h&&this.dispatchEvent(t,u?"rightupoutside":"mouseupoutside",e),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(s&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new InteractionTrackingData(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return n===MOUSE_POINTER_ID||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new InteractionData).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(self.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof self.PointerEvent))t.push(e);else{var o=e;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=MOUSE_POINTER_ID),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(EventEmitter),Runner=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,c=l.items;this._aliasCount++;for(var f=0,h=c.length;f<h;f++)c[f][u](e,t,n,r,i,o,a,s);return c===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}}),
/*!
 * @pixi/core - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
settings.PREFER_ENV=isMobile.any?ENV$2.WEBGL:ENV$2.WEBGL2,settings.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(e,t){if(!e)return null;var n="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=INSTALLED.length-1;i>=0;--i){var o=INSTALLED[i];if(o.test&&o.test(e,n))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$h=function(e,t){return(extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$h(e,t){function n(){this.constructor=e}extendStatics$h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}var Resource=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),BufferResource=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,o,a)||this).data=t,r}return __extends$h(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$2.UNPACK);var i=t.realWidth,o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES$2.NEAREST,format:FORMATS$2.RGBA,alphaMode:ALPHA_MODES$2.NPM},BaseTexture=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,a=n.anisotropicLevel,s=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,f=n.format,h=n.type,d=n.target,p=n.resolution,m=n.resourceOptions;return!t||t instanceof Resource||((t=autoDetectResource(t,m)).internal=!0),r.resolution=p||settings.RESOLUTION,r.width=Math.round((l||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:settings.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:settings.ANISOTROPIC_LEVEL,r._wrapMode=c||settings.WRAP_MODE,r._scaleMode=void 0!==s?s:settings.SCALE_MODE,r.format=f||FORMATS$2.RGBA,r.type=h||TYPES$2.UNSIGNED_BYTE,r.target=d||TARGETS$2.TEXTURE_2D,r.alphaMode=void 0!==i?i:ALPHA_MODES$2.UNPACK,r.uid=uid(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return __extends$h(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)},t.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,r){void 0===r&&(r=settings.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;if(i)o=e;else{if(!e._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+uid()}o=e._pixiId}var s=BaseTextureCache[o];if(i&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new t(e,n)).cacheId=o,t.addToCache(s,o)),s},t.fromBuffer=function(e,n,r,i){e=e||new Float32Array(n*r*4);var o=new BufferResource(e,{width:n,height:r}),a=e instanceof Float32Array?TYPES$2.FLOAT:TYPES$2.UNSIGNED_BYTE;return new t(o,Object.assign(defaultBufferOptions,i||{width:n,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),BaseTextureCache[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=BaseTextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(EventEmitter),AbstractMultiResource=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;(r=e.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<t;s++){var l=new BaseTexture;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return __extends$h(t,e),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Resource?this.addResourceAt(e[n],n):this.addResourceAt(autoDetectResource(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load},t}(Resource),ArrayResource=function(e){function t(t,n){var r,i,o=this,a=n||{},s=a.width,l=a.height;return Array.isArray(t)?(r=t,i=t.length):i=t,o=e.call(this,i,{width:s,height:l})||this,r&&o.initFromArray(r,n),o}return __extends$h(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=TARGETS$2.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=e.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(var l=0;l<i;l++){var u=a[l];o[l]<u.dirtyId&&(o[l]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,t.format,n.type,u.resource.source))}return!0},t}(AbstractMultiResource),BaseImageResource=function(e){function t(t){var n=this,r=t,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=e.call(this,i,o)||this).source=t,n.noSubImage=!1,n}return __extends$h(t,e),t.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf("data:")?e.crossOrigin=determineCrossOrigin(t):!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous")},t.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$2.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(n,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Resource),CanvasResource=function(e){function t(t){return e.call(this,t)||this}return __extends$h(t,e),t.test=function(e){var t=self.OffscreenCanvas;return!!(t&&e instanceof t)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(BaseImageResource),CubeResource=function(e){function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=TARGETS$2.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==u,n&&i.initFromArray(n,r),!1!==l&&i.load(),i}return __extends$h(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=TARGETS$2.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,n){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=TARGETS$2.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,n,r){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),i[o]=a.dirtyId):i[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(AbstractMultiResource),ImageResource=function(e){function t(t,n){var r=this;if(n=n||{},!(t instanceof HTMLImageElement)){var i=new Image;BaseImageResource.crossOrigin(i,t,n.crossorigin),i.src=t,t=i}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:settings.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return __extends$h(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var n=self.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return n(r,0,0,t.width,t.height,{premultiplyAlpha:e.alphaMode===ALPHA_MODES$2.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(BaseImageResource),SVGResource=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return __extends$h(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;BaseImageResource.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,o=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var a=e.source;a.width=i,a.height=o,a._pixiId="canvas_"+uid(),a.getContext("2d").drawImage(t,0,0,n,r,0,0,i,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,n){return"svg"===n||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(BaseImageResource),VideoResource=function(e){function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var a=n[0].src||n[0];BaseImageResource.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var l=document.createElement("source"),u=n[s],c=u.src,f=u.mime,h=(c=c||n[s]).split("?").shift().toLowerCase(),d=h.substr(h.lastIndexOf(".")+1);f=f||t.MIME_TYPES[d]||"video/"+d,l.src=c,l.type=f,o.appendChild(l)}n=o}return(i=e.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return __extends$h(t,e),t.prototype.update=function(t){if(!this.destroyed){var n=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(BaseImageResource),ImageBitmapResource=function(e){function t(t){return e.call(this,t)||this}return __extends$h(t,e),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);var _resources={__proto__:null,Resource:Resource,BaseImageResource:BaseImageResource,INSTALLED:INSTALLED,autoDetectResource:autoDetectResource,AbstractMultiResource:AbstractMultiResource,ArrayResource:ArrayResource,BufferResource:BufferResource,CanvasResource:CanvasResource,CubeResource:CubeResource,ImageResource:ImageResource,SVGResource:SVGResource,VideoResource:VideoResource,ImageBitmapResource:ImageBitmapResource},DepthResource=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$h(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$2.UNPACK);var i=t.realWidth,o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},t}(BufferResource),Framebuffer=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY$2.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES$2.NEAREST,resolution:1,mipmap:MIPMAP_MODES$2.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$2.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$2.OFF,format:FORMATS$2.DEPTH_COMPONENT,type:TYPES$2.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),BaseRenderTexture=function(e){function t(t){var n=this;if("number"==typeof t){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];t={width:r,height:i,scaleMode:o,resolution:a}}return t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:MSAA_QUALITY$2.NONE,(n=e.call(this,null,t)||this).mipmap=MIPMAP_MODES$2.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Framebuffer(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=t.multisample,n.maskStack=[],n.filterStack=[{}],n}return __extends$h(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(BaseTexture),TextureUvs=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,l=e.y/i+a;n=groupD8.add(n,groupD8.NW),this.x0=s+o*groupD8.uX(n),this.y0=l+a*groupD8.uY(n),n=groupD8.add(n,2),this.x1=s+o*groupD8.uX(n),this.y1=l+a*groupD8.uY(n),n=groupD8.add(n,2),this.x2=s+o*groupD8.uX(n),this.y2=l+a*groupD8.uY(n),n=groupD8.add(n,2),this.x3=s+o*groupD8.uX(n),this.y3=l+a*groupD8.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),DEFAULT_UVS=new TextureUvs,Texture=function(e){function t(n,r,i,o,a,s){var l=e.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new Rectangle(0,0,1,1)),n instanceof t&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=DEFAULT_UVS,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new Point(s.x,s.y):new Point(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return __extends$h(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&TextureCache[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=settings.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;if(i)o=e;else{if(!e._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+uid()}o=e._pixiId}var s=TextureCache[o];if(i&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(n.resolution||(n.resolution=getResolutionOfUrl(e)),(s=new t(new BaseTexture(e,n))).baseTexture.cacheId=o,BaseTexture.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromURL=function(e,n){var r=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),i=t.from(e,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,n,r,i){return new t(BaseTexture.fromBuffer(e,n,r,i))},t.fromLoader=function(e,n,r,i){var o=new BaseTexture(e,Object.assign({scaleMode:settings.SCALE_MODE,resolution:getResolutionOfUrl(n)},i)),a=o.resource;a instanceof ImageResource&&(a.url=n);var s=new t(o);return r||(r=n),BaseTexture.addToCache(s.baseTexture,r),t.addToCache(s,r),r!==n&&(BaseTexture.addToCache(s.baseTexture,n),t.addToCache(s,n)),s.baseTexture.valid?Promise.resolve(s):new Promise((function(e){s.baseTexture.once("loaded",(function(){return e(s)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),TextureCache[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=TextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)TextureCache[e.textureCacheIds[r]]===e&&delete TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,u="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(EventEmitter);function createWhiteTexture(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Texture(new BaseTexture(new CanvasResource(e)))}function removeAllHandlers(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Texture.EMPTY=new Texture(new BaseTexture),removeAllHandlers(Texture.EMPTY),removeAllHandlers(Texture.EMPTY.baseTexture),Texture.WHITE=createWhiteTexture(),removeAllHandlers(Texture.WHITE),removeAllHandlers(Texture.WHITE.baseTexture);var RenderTexture=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return __extends$h(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(e*r)/r,o=Math.round(t*r)/r;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(i,o),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return"number"==typeof e&&(deprecation("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new BaseRenderTexture(e))},t}(Texture),RenderTexturePool=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,n){void 0===n&&(n=MSAA_QUALITY$2.NONE);var r=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new RenderTexture(r)},e.prototype.getOptimalTexture=function(e,t,n,r){var i;void 0===n&&(n=1),void 0===r&&(r=MSAA_QUALITY$2.NONE),e=Math.ceil(e*n),t=Math.ceil(t*n),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=r>1?-r:-1:(i=((65535&(e=nextPow2(e)))<<16|65535&(t=nextPow2(t)))>>>0,r>1&&(i+=4294967296*r)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,t,r)),o.filterPoolKey=i,o.setResolution(n),o},e.prototype.getFilterTexture=function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY$2.NONE);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),Attribute=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=TYPES$2.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,o){return new e(t,n,r,i,o)},e}(),UID=0,Buffer=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=UID++,this.disposeRunner=new Runner("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$2.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?BUFFER_TYPE$2.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$2.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),map={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function interleaveTypedArrays(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var u=t[o],c=e[o],f=getBufferType(c);i[f]||(i[f]=new map[f](a)),s=i[f];for(var h=0;h<c.length;h++){s[(h/u|0)*r+l+h%u]=c[h]}l+=u}return new Float32Array(a)}var byteSizeMap={5126:4,5123:2,5121:1},UID$1=0,map$1={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Geometry=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$1++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Buffer||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer(t));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],t,n,r,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new Attribute(c,n,r,i,o,a,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer(e)),e.type=BUFFER_TYPE$2.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new Buffer;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*byteSizeMap[i.type]/4),i.buffer=0}for(r.data=interleaveTypedArrays(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new Buffer(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE$2.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var n,r=new e,i=[],o=[],a=[],s=0;s<t.length;s++){n=t[s];for(var l=0;l<n.buffers.length;l++)o[l]=o[l]||0,o[l]+=n.buffers[l].data.length,a[l]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(map$1[getBufferType(n.buffers[s].data)])(o[s]),r.buffers[s]=new Buffer(i[s]);for(s=0;s<t.length;s++){n=t[s];for(l=0;l<n.buffers.length;l++)i[l].set(n.buffers[l].data,a[l]),a[l]+=n.buffers[l].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=BUFFER_TYPE$2.ELEMENT_ARRAY_BUFFER;var u=0,c=0,f=0,h=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){h=s;break}for(var s in n.attributes){var d=n.attributes[s];(0|d.buffer)===h&&(c+=d.size*byteSizeMap[d.type]/4)}for(s=0;s<t.length;s++){var p=t[s].indexBuffer.data;for(l=0;l<p.length;l++)r.indexBuffer.data[l+f]+=u;u+=t[s].buffers[h].data.length/c,f+=p.length}}return r},e}(),Quad=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return __extends$h(t,e),t}(Geometry),QuadUv=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Buffer(t.vertices),t.uvBuffer=new Buffer(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return __extends$h(t,e),t.prototype.map=function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Geometry),UID$2=0,UniformGroup=function(){function e(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!t,this.ubo=!!n,e instanceof Buffer?(this.buffer=e,this.buffer.type=BUFFER_TYPE$2.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$2.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(n,r)},e.from=function(t,n,r){return new e(t,n,r)},e.uboFrom=function(t,n){return new e(t,null==n||n,!0)},e}(),FilterState=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$2.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),tempPoints=[new Point,new Point,new Point,new Point],tempMatrix=new Matrix,FilterSystem=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new FilterState,o=this.renderer.renderTexture,a=t[0].resolution,s=t[0].multisample,l=t[0].padding,u=t[0].autoFit,c=t[0].legacy,f=1;f<t.length;f++){var h=t[f];a=Math.min(a,h.resolution),s=Math.min(s,h.multisample),l=this.useMaxPadding?Math.max(l,h.padding):l+h.padding,u=u&&h.autoFit,c=c||h.legacy}if(1===r.length&&(this.defaultFilterStack[0].renderTexture=o.current),r.push(i),i.resolution=a,i.multisample=s,i.legacy=c,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(l),u){var d=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(tempMatrix.copyFrom(n.projection.transform).invert(),d),i.sourceFrame.fit(d)}this.roundFrame(i.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,a,s),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var p=this.tempRect;p.x=0,p.y=0,p.width=i.sourceFrame.width,p.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=n.projection.transform,n.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,p),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,CLEAR_MODES$2.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var u=t.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,t.resolution);c.filterFrame=u.filterFrame;var f=0;for(f=0;f<n.length-1;++f){1===f&&t.multisample>1&&((c=this.getOptimalFilterTexture(u.width,u.height,t.resolution)).filterFrame=u.filterFrame),n[f].apply(this,u,c,CLEAR_MODES$2.CLEAR,t);var h=u;u=c,c=h}n[f].apply(this,u,l.renderTexture,CLEAR_MODES$2.BLEND,t),f>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=CLEAR_MODES$2.CLEAR);var n=this.renderer,r=n.renderTexture,i=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&i.stateId||this.forceClear;(t===CLEAR_MODES$2.CLEAR||t===CLEAR_MODES$2.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(DRAW_MODES$2.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(DRAW_MODES$2.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=t._texture.orig,a=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,n,r){return void 0===n&&(n=1),void 0===r&&(r=MSAA_QUALITY$2.NONE),this.texturePool.getOptimalTexture(e,t,n,r)},e.prototype.getFilterTexture=function(e,t,n){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY$2.NONE);return i.filterFrame=e.filterFrame,i},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var n=tempPoints[0],r=tempPoints[1],i=tempPoints[2],o=tempPoints[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(o,o);var a=Math.min(n.x,r.x,i.x,o.x),s=Math.min(n.y,r.y,i.y,o.y),l=Math.max(n.x,r.x,i.x,o.x),u=Math.max(n.y,r.y,i.y,o.y);t.x=a,t.y=s,t.width=l-a,t.height=u-s},e.prototype.roundFrame=function(e,t,n,r,i){if(i){var o=i.a,a=i.b,s=i.c,l=i.d;if((Math.abs(a)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}(i=i?tempMatrix.copyFrom(i):tempMatrix.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)},e}(),ObjectRenderer=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),BatchSystem=function(){function e(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},e.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var u=i[l],c=u._batchLocation;if(c>=0&&c<r&&t[c]===u)o[l]=c;else for(;s<r;){var f=t[s];if(!f||f._batchEnabled!==n||f._batchLocation!==s){o[l]=s,u._batchLocation=s,t[s]=u;break}s++}}},e.prototype.destroy=function(){this.renderer=null},e}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var n;if(settings.PREFER_ENV>=ENV$2.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){e.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in self&&e instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),GLFramebuffer=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$2.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},tempRectangle=new Rectangle,FramebufferSystem=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV$2.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,n){void 0===n&&(n=0);var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var s=t.width>>n,l=t.height>>n,u=s/t.width;this.setViewport(t.x*u,t.y*u,s,l)}else{s=e.width>>n,l=e.height>>n;this.setViewport(0,0,s,l)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=BUFFER_BITS$2.COLOR|BUFFER_BITS$2.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},e.prototype.initFramebuffer=function(e){var t=this.gl,n=new GLFramebuffer(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=r[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,o=i.length;n.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?(r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null);for(var a=[],s=0;s<o;s++){var l=i[s],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),0===s&&r.msaaBuffer||(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,l.target,u._glTextures[this.CONTEXT_UID].texture,t),a.push(n.COLOR_ATTACHMENT0+s))}if((a.length>1&&n.drawBuffers(a),e.depthTexture)&&this.writeDepthTexture){var c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,n=MSAA_QUALITY$2.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=MSAA_QUALITY$2.NONE),n},e.prototype.blit=function(e,t,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var l=i.glFramebuffers[s];if(l){if(!e){if(!l.msaaBuffer)return;l.blitFramebuffer||(l.blitFramebuffer=new Framebuffer(i.width,i.height),l.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=l.blitFramebuffer).width=i.width,e.height=i.height}t||((t=tempRectangle).width=i.width,t.height=i.height),n||(n=t);var u=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.x,t.y,t.width,t.height,n.x,n.y,n.width,n.height,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var n=e.width,r=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},e.prototype.destroy=function(){this.renderer=null},e}(),byteSizeMap$1={5126:4,5123:2,5121:1},GeometrySystem=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV$2.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,o){return r.drawElementsInstancedANGLE(e,t,n,i,o)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}},e.prototype.checkCompatibility=function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},e.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);var s=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[s];if(u)return l[a.id]=u,u;var c=e.buffers,f=e.attributes,h={},d={};for(var p in c)h[p]=0,d[p]=0;for(var p in f)!f[p].size&&a.attributeData[p]?f[p].size=a.attributeData[p].size:f[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),h[f[p].buffer]+=f[p].size*byteSizeMap$1[f[p].type];for(var p in f){var m=f[p],g=m.size;void 0===m.stride&&(h[m.buffer]===g*byteSizeMap$1[m.type]?m.stride=0:m.stride=h[m.buffer]),void 0===m.start&&(m.start=d[m.buffer],d[m.buffer]+=g*byteSizeMap$1[m.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var v=0;v<c.length;v++){var y=c[v];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(e,a),this._activeVao=u,l[a.id]=u,l[s]=u,u},e.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,a=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var s=0;s<o.length;s++){var l=o[s]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||t||a.dispose(o[s],t))}if(!t)for(var u in r)if("g"===u[0]){var c=r[u];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},e.prototype.activateVao=function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var s=null;for(var l in a){var u=a[l],c=o[u.buffer],f=c._glBuffers[r];if(t.attributeData[l]){s!==f&&(i.bind(c),s=f);var h=t.attributeData[l].location;if(n.enableVertexAttribArray(h),n.vertexAttribPointer(h,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(h,1)}}}},e.prototype.draw=function(e,t,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,n,t||o.getSize(),r||1):i.drawArrays(e,n,t||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),MaskData=function(){function e(e){void 0===e&&(e=null),this.type=MASK_TYPES$2.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings.FILTER_MULTISAMPLE,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$2.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function compileShader(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function logPrettyShaderError(e,t){var n=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),r=e.getShaderInfoLog(t),i=r.split("\n"),o={},a=i.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||o[e])&&(o[e]=!0,!0)})),s=[""];a.forEach((function(e){n[e-1]="%c"+n[e-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=n.join("\n");s[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function logProgramError(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||logPrettyShaderError(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||logPrettyShaderError(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function booleanArray(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function defaultValue(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return booleanArray(2*t);case"bvec3":return booleanArray(3*t);case"bvec4":return booleanArray(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context=unknownContext,maxFragmentPrecision;function getTestContext(){if(context===unknownContext||context&&context.isContextLost()){var e=document.createElement("canvas"),t=void 0;settings.PREFER_ENV>=ENV$2.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),context=t}return context}function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION$2.MEDIUM;var e=getTestContext();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);maxFragmentPrecision=t.precision?PRECISION$2.HIGH:PRECISION$2.MEDIUM}}return maxFragmentPrecision}function setPrecision(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===PRECISION$2.HIGH&&n!==PRECISION$2.HIGH&&(r=PRECISION$2.MEDIUM),"precision "+r+" float;\n"+e}return n!==PRECISION$2.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(e){return GLSL_TO_SIZE[e]}var GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(e,t){if(!GL_TABLE){var n=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var r=0;r<n.length;++r){var i=n[r];GL_TABLE[e[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[t]}var uniformParsers=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(e,t){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var o=e.uniforms[r],a=!1,s=0;s<uniformParsers.length;s++)if(uniformParsers[s].test(i,o)){n.push(uniformParsers[s].code(r,o)),a=!0;break}if(!a){var l=(1===i.size?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else e.uniforms[r].group&&(e.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}var fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n"),unsafeEval;function generateIfTestSrc(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}function checkMaxIfStatementsInShader(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}function unsafeEvalSupported(){if("boolean"==typeof unsafeEval)return unsafeEval;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval=!0===e({a:"b"},"a","b")}catch(t){unsafeEval=!1}return unsafeEval}var defaultFragment="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",UID$3=0,nameCache={},Program=function(){function e(t,n,r){void 0===r&&(r="pixi-shader"),this.id=UID$3++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),nameCache[r]?(nameCache[r]++,r+="-"+nameCache[r]):nameCache[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings.PRECISION_VERTEX,PRECISION$2.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,o=ProgramCache[i];return o||(ProgramCache[i]=o=new e(t,n,r)),o},e}(),Shader=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof UniformGroup?t:new UniformGroup(t):new UniformGroup({})}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){return new e(Program.from(t,n),r)},e}(),BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,State=function(){function e(){this.data=0,this.blendMode=BLEND_MODES$2.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND)},set:function(e){!!(this.data&1<<BLEND)!==e&&(this.data^=1<<BLEND)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET)},set:function(e){!!(this.data&1<<OFFSET)!==e&&(this.data^=1<<OFFSET)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING)},set:function(e){!!(this.data&1<<CULLING)!==e&&(this.data^=1<<CULLING)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST)},set:function(e){!!(this.data&1<<DEPTH_TEST)!==e&&(this.data^=1<<DEPTH_TEST)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK)},set:function(e){!!(this.data&1<<DEPTH_MASK)!==e&&(this.data^=1<<DEPTH_MASK)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING)},set:function(e){!!(this.data&1<<WINDING)!==e&&(this.data^=1<<WINDING)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==BLEND_MODES$2.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),defaultVertex$1="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",defaultFragment$1="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Filter=function(e){function t(n,r,i){var o=this,a=Program.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=e.call(this,a,i)||this).padding=0,o.resolution=settings.FILTER_RESOLUTION,o.multisample=settings.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new State,o}return __extends$h(t,e),t.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex$1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),t}(Shader),vertex$5="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",fragment$8="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",tempMat$1=new Matrix,TextureMatrix=function(){function e(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(tempMat$1.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(tempMat$1));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/o.width,a[1]=(t._frame.y+s+l)/o.height,a[2]=(t._frame.x+t._frame.width-s+l)/o.width,a[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),SpriteMaskFilter=function(e){function t(t){var n=this,r=new Matrix;return n=e.call(this,vertex$5,fragment$8)||this,t.renderable=!1,n.maskSprite=t,n.maskMatrix=r,n}return __extends$h(t,e),t.prototype.apply=function(e,t,n,r){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},t}(Filter),MaskSystem=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new MaskData;r.pooled=!0,r.maskObject=t,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=e,n.type){case MASK_TYPES$2.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case MASK_TYPES$2.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case MASK_TYPES$2.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case MASK_TYPES$2.SCISSOR:this.renderer.scissor.pop();break;case MASK_TYPES$2.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case MASK_TYPES$2.SPRITE:this.popSpriteMask()}t.reset(),t.pooled&&this.maskDataPool.push(t)}},e.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)e.type=MASK_TYPES$2.SPRITE;else if(e.type=MASK_TYPES$2.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var n=t.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===i&&(e.type=MASK_TYPES$2.SCISSOR)}},e.prototype.pushSpriteMask=function(e){var t,n,r=e.maskObject,i=e._target,o=this.alphaMaskPool[this.alphaMaskIndex];o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter(r)]);var a,s,l=this.renderer,u=l.renderTexture;if(u.current){var c=u.current;a=e.resolution||c.resolution,s=null!==(t=e.multisample)&&void 0!==t?t:c.multisample}else a=e.resolution||l.resolution,s=null!==(n=e.multisample)&&void 0!==n?n:l.multisample;o[0].resolution=a,o[0].multisample=s,o[0].maskSprite=r;var f=i.filterArea;i.filterArea=r.getBounds(!0),l.filter.push(i,o),i.filterArea=f,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.destroy=function(){this.renderer=null},e}(),AbstractMaskSystem=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),ScissorSystem=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return __extends$h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var n=e._scissorRect,r=t.getBounds(!0),i=this.renderer.gl;t.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=r,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,a=t?t.resolution:this.renderer.resolution,s=o.width/i.width,l=o.height/i.height,u=((e.x-i.x)*s+o.x)*a,c=((e.y-i.y)*l+o.y)*a,f=e.width*s*a,h=e.height*l*a;r&&(u+=r.tx*a,c+=r.ty*a),t||(c=this.renderer.height-h-c),u=Math.round(u),c=Math.round(c),f=Math.round(f),h=Math.round(h),this.renderer.gl.scissor(u,c,f,h)},t}(AbstractMaskSystem),StencilSystem=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return __extends$h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(AbstractMaskSystem),ProjectionSystem=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}return e.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),tempRect=new Rectangle,tempRect2=new Rectangle,RenderTextureSystem=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}return e.prototype.bind=function(e,t,n){void 0===e&&(e=null);var r,i,o,a=this.renderer;this.current=e,e?(o=(r=e.baseTexture).resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),n||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,n=tempRect2),i=r.framebuffer):(o=a.resolution,t||(tempRect.width=a.screen.width,tempRect.height=a.screen.height,t=tempRect),n||((n=tempRect).width=t.width,n.height=t.height));var s=this.viewportFrame;s.x=n.x*o,s.y=n.y*o,s.width=n.width*o,s.height=n.height*o,e||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var n=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,i=n.width!==r.width||n.height!==r.height;if(i){var o=this.viewportFrame,a=o.x,s=o.y,l=o.width,u=o.height;a=Math.round(a),s=Math.round(s),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,s,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),i&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function uboUpdate(e,t,n,r,i){n.buffer.update(i)}var UBO_TO_SINGLE_SETTERS={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function createUBOElements(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,o=0;o<t.length;o++){var a=t[o];if(n=GLSL_TO_STD40_SIZE[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!=0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=16*Math.ceil(i/16),a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function getUBOData(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort((function(e,t){return e.index-t.index})),n}function generateUniformBufferSync(e,t){if(!e.autoManage)return{size:0,syncFunc:uboUpdate};for(var n=createUBOElements(getUBOData(e.uniforms,t)),r=n.uboElements,i=n.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var s=r[a],l=e.uniforms[s.data.name],u=s.data.name,c=!1,f=0;f<uniformParsers.length;f++){var h=uniformParsers[f];if(h.codeUbo&&h.test(s.data,l)){o.push("offset = "+s.offset/4+";",uniformParsers[f].codeUbo(s.data.name,l)),c=!0;break}}if(!c)if(s.data.size>1){var d=mapSize(s.data.type),p=Math.max(GLSL_TO_STD40_SIZE[s.data.type]/16,1),m=d/p,g=(4-m%4)%4;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+s.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+s.data.size*p+"; i++)\n                {\n                    for(var j = 0; j < "+m+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+g+";\n                }\n\n                ")}else{var v=UBO_TO_SINGLE_SETTERS[s.data.type];o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+s.offset/4+";\n                "+v+";\n                ")}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var IGLUniformData=function(){},GLProgram=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function getAttributeData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(e,i);if(!o.name.startsWith("gl_")){var a=mapType(t,o.type),s={type:a,name:o.name,size:mapSize(a),location:i};n[o.name]=s}}return n}function getUniformData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),l=mapType(t,o.type);n[a]={name:a,index:i,type:l,size:o.size,isArray:s,value:defaultValue(l,o.size)}}return n}function generateProgram(e,t){var n=compileShader(e,e.VERTEX_SHADER,t.vertexSrc),r=compileShader(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||logProgramError(e,i,n,r),t.attributeData=getAttributeData(i,e),t.uniformData=getUniformData(i,e);var o=Object.keys(t.attributeData);o.sort((function(e,t){return e>t?1:-1}));for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i),e.deleteShader(n),e.deleteShader(r);var s={};for(var a in t.uniformData){var l=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:defaultValue(l.type,l.size)}}return new GLProgram(i,s)}var UID$4=0,defaultSyncData={textureCount:0,uboCount:0},ShaderSystem=function(){function e(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID$4++}return e.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(e){this.gl=e,this.reset()},e.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),r},e.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},e.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},e.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(e,t){var n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;var r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])},e.prototype.createSyncBufferGroup=function(e,t,n){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){var s=new Float32Array(a.size/4);e.buffer.update(s)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]},e.prototype.getSignature=function(e,t,n){var r=e.uniforms,i=[n+"-"];for(var o in r)i.push(o),t[o]&&i.push(t[o].type);return i.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(e){var t=this.gl,n=e.program,r=generateProgram(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function mapWebGLBlendModesToPixi(e,t){return void 0===t&&(t=[]),t[BLEND_MODES$2.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.ADD]=[e.ONE,e.ONE],t[BLEND_MODES$2.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.NONE]=[0,0],t[BLEND_MODES$2.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[BLEND_MODES$2.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[BLEND_MODES$2.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[BLEND_MODES$2.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[BLEND_MODES$2.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[BLEND_MODES$2.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[BLEND_MODES$2.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$2.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,StateSystem=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$2.NONE,this._blendEq=!1,this.map=[],this.map[BLEND$1]=this.setBlend,this.map[OFFSET$1]=this.setOffset,this.map[CULLING$1]=this.setCullFace,this.map[DEPTH_TEST$1]=this.setDepthTest,this.map[WINDING$1]=this.setFrontFace,this.map[DEPTH_MASK$1]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),TextureGCSystem=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=settings.GC_MAX_IDLE,this.checkCountMax=settings.GC_MAX_CHECK_COUNT,this.mode=settings.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES$2.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){var o=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},e.prototype.destroy=function(){this.renderer=null},e}();function mapTypeAndFormatToInternalFormat(e){var t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,E,w,x;return"WebGL2RenderingContext"in self&&e instanceof self.WebGL2RenderingContext?((t={})[TYPES$2.UNSIGNED_BYTE]=((n={})[FORMATS$2.RGBA]=e.RGBA8,n[FORMATS$2.RGB]=e.RGB8,n[FORMATS$2.RG]=e.RG8,n[FORMATS$2.RED]=e.R8,n[FORMATS$2.RGBA_INTEGER]=e.RGBA8UI,n[FORMATS$2.RGB_INTEGER]=e.RGB8UI,n[FORMATS$2.RG_INTEGER]=e.RG8UI,n[FORMATS$2.RED_INTEGER]=e.R8UI,n[FORMATS$2.ALPHA]=e.ALPHA,n[FORMATS$2.LUMINANCE]=e.LUMINANCE,n[FORMATS$2.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[TYPES$2.BYTE]=((r={})[FORMATS$2.RGBA]=e.RGBA8_SNORM,r[FORMATS$2.RGB]=e.RGB8_SNORM,r[FORMATS$2.RG]=e.RG8_SNORM,r[FORMATS$2.RED]=e.R8_SNORM,r[FORMATS$2.RGBA_INTEGER]=e.RGBA8I,r[FORMATS$2.RGB_INTEGER]=e.RGB8I,r[FORMATS$2.RG_INTEGER]=e.RG8I,r[FORMATS$2.RED_INTEGER]=e.R8I,r),t[TYPES$2.UNSIGNED_SHORT]=((i={})[FORMATS$2.RGBA_INTEGER]=e.RGBA16UI,i[FORMATS$2.RGB_INTEGER]=e.RGB16UI,i[FORMATS$2.RG_INTEGER]=e.RG16UI,i[FORMATS$2.RED_INTEGER]=e.R16UI,i[FORMATS$2.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[TYPES$2.SHORT]=((o={})[FORMATS$2.RGBA_INTEGER]=e.RGBA16I,o[FORMATS$2.RGB_INTEGER]=e.RGB16I,o[FORMATS$2.RG_INTEGER]=e.RG16I,o[FORMATS$2.RED_INTEGER]=e.R16I,o),t[TYPES$2.UNSIGNED_INT]=((a={})[FORMATS$2.RGBA_INTEGER]=e.RGBA32UI,a[FORMATS$2.RGB_INTEGER]=e.RGB32UI,a[FORMATS$2.RG_INTEGER]=e.RG32UI,a[FORMATS$2.RED_INTEGER]=e.R32UI,a[FORMATS$2.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[TYPES$2.INT]=((s={})[FORMATS$2.RGBA_INTEGER]=e.RGBA32I,s[FORMATS$2.RGB_INTEGER]=e.RGB32I,s[FORMATS$2.RG_INTEGER]=e.RG32I,s[FORMATS$2.RED_INTEGER]=e.R32I,s),t[TYPES$2.FLOAT]=((l={})[FORMATS$2.RGBA]=e.RGBA32F,l[FORMATS$2.RGB]=e.RGB32F,l[FORMATS$2.RG]=e.RG32F,l[FORMATS$2.RED]=e.R32F,l[FORMATS$2.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,l),t[TYPES$2.HALF_FLOAT]=((u={})[FORMATS$2.RGBA]=e.RGBA16F,u[FORMATS$2.RGB]=e.RGB16F,u[FORMATS$2.RG]=e.RG16F,u[FORMATS$2.RED]=e.R16F,u),t[TYPES$2.UNSIGNED_SHORT_5_6_5]=((c={})[FORMATS$2.RGB]=e.RGB565,c),t[TYPES$2.UNSIGNED_SHORT_4_4_4_4]=((f={})[FORMATS$2.RGBA]=e.RGBA4,f),t[TYPES$2.UNSIGNED_SHORT_5_5_5_1]=((h={})[FORMATS$2.RGBA]=e.RGB5_A1,h),t[TYPES$2.UNSIGNED_INT_2_10_10_10_REV]=((d={})[FORMATS$2.RGBA]=e.RGB10_A2,d[FORMATS$2.RGBA_INTEGER]=e.RGB10_A2UI,d),t[TYPES$2.UNSIGNED_INT_10F_11F_11F_REV]=((p={})[FORMATS$2.RGB]=e.R11F_G11F_B10F,p),t[TYPES$2.UNSIGNED_INT_5_9_9_9_REV]=((m={})[FORMATS$2.RGB]=e.RGB9_E5,m),t[TYPES$2.UNSIGNED_INT_24_8]=((g={})[FORMATS$2.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,g),t[TYPES$2.FLOAT_32_UNSIGNED_INT_24_8_REV]=((v={})[FORMATS$2.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,v),x=t):((y={})[TYPES$2.UNSIGNED_BYTE]=((b={})[FORMATS$2.RGBA]=e.RGBA,b[FORMATS$2.RGB]=e.RGB,b[FORMATS$2.ALPHA]=e.ALPHA,b[FORMATS$2.LUMINANCE]=e.LUMINANCE,b[FORMATS$2.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,b),y[TYPES$2.UNSIGNED_SHORT_5_6_5]=((_={})[FORMATS$2.RGB]=e.RGB,_),y[TYPES$2.UNSIGNED_SHORT_4_4_4_4]=((E={})[FORMATS$2.RGBA]=e.RGBA,E),y[TYPES$2.UNSIGNED_SHORT_5_5_5_1]=((w={})[FORMATS$2.RGBA]=e.RGBA,w),x=y),x}var GLTexture=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$2.UNSIGNED_BYTE,this.internalFormat=FORMATS$2.RGBA,this.samplerType=0},TextureSystem=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var n=this.gl;if((e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},e.prototype.ensureSamplerType=function(e){var t=this,n=t.boundTextures,r=t.hasIntegerTextures,i=t.CONTEXT_UID;if(r)for(var o=e-1;o>=0;--o){var a=n[o];if(a)a._glTextures[i].samplerType!==SAMPLER_TYPES$2.FLOAT&&this.renderer.texture.unbind(a)}},e.prototype.initTexture=function(e){var t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var n,r;t.internalFormat=null!==(r=null===(n=this.internalFormats[e.type])||void 0===n?void 0:n[e.format])&&void 0!==r?r:e.format,2===this.webGLVersion&&e.type===TYPES$2.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t))t.samplerType!==SAMPLER_TYPES$2.FLOAT&&(this.hasIntegerTextures=!0);else{var r=e.realWidth,i=e.realHeight,o=n.gl;(t.width!==r||t.height!==i||t.dirtyId<0)&&(t.width=r,t.height=i,o.texImage2D(e.target,0,t.internalFormat,r,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&removeItems(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==MIPMAP_MODES$2.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=WRAP_MODES$2.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==MIPMAP_MODES$2.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$2.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES$2.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$2.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES$2.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),_systems={__proto__:null,FilterSystem:FilterSystem,BatchSystem:BatchSystem,ContextSystem:ContextSystem,FramebufferSystem:FramebufferSystem,GeometrySystem:GeometrySystem,MaskSystem:MaskSystem,ScissorSystem:ScissorSystem,StencilSystem:StencilSystem,ProjectionSystem:ProjectionSystem,RenderTextureSystem:RenderTextureSystem,ShaderSystem:ShaderSystem,StateSystem:StateSystem,TextureGCSystem:TextureGCSystem,TextureSystem:TextureSystem},tempMatrix$1=new Matrix,AbstractRenderer=function(e){function t(t,n){void 0===t&&(t=RENDERER_TYPE$2.UNKNOWN);var r=e.call(this)||this;return n=Object.assign({},settings.RENDER_OPTIONS,n),r.options=n,r.type=t,r.screen=new Rectangle(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||settings.RESOLUTION,r.useContextAlpha=n.useContextAlpha,r.autoDensity=!!n.autoDensity,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&(deprecation("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=n.transparent,r.backgroundAlpha=n.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return __extends$h(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+"px",this.view.style.height=r+"px"),this.emit("resize",n,r)},t.prototype.generateTexture=function(e,t,n,r){void 0===t&&(t={}),"number"==typeof t&&(deprecation("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:n,region:r});var i=t.region,o=__rest(t,["region"]);0===(r=i||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var a=RenderTexture.create(__assign({width:r.width,height:r.height},o));return tempMatrix$1.tx=-r.x,tempMatrix$1.ty=-r.y,this.render(e,{renderTexture:a,clear:!1,transform:tempMatrix$1,skipUpdateTransform:!!e.parent}),a},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=RENDERER_TYPE$2.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(EventEmitter),GLBuffer=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},BufferSystem=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)},e.prototype.bindBufferBase=function(e,t){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}},e.prototype.bindBufferRange=function(e,t,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var o=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,o.buffer,256*n,256)},e.prototype.update=function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n];if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new GLBuffer(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}(),Renderer=function(e){function t(n){var r=e.call(this,RENDERER_TYPE$2.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},r.runners.contextChange.add(r),r.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),r.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem,"textureGC").addSystem(FilterSystem,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,sayHello(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return __extends$h(t,e),t.create=function(e){if(isWebGLSupported())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}e>=MSAA_QUALITY$2.HIGH?this.multisample=MSAA_QUALITY$2.HIGH:e>=MSAA_QUALITY$2.MEDIUM?this.multisample=MSAA_QUALITY$2.MEDIUM:e>=MSAA_QUALITY$2.LOW?this.multisample=MSAA_QUALITY$2.LOW:this.multisample=MSAA_QUALITY$2.NONE},t.prototype.addSystem=function(e,t){var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=n,this.runners)this.runners[r].add(n);return this},t.prototype.render=function(e,t){var n,r,i,o;if(t&&(t instanceof RenderTexture?(deprecation("6.0.0","Renderer#render arguments changed, use options instead."),n=t,r=arguments[2],i=arguments[3],o=arguments[4]):(n=t.renderTexture,r=t.clear,i=t.transform,o=t.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(n||(this._lastObjectRendered=e),!o){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(t,n,r,i){void 0===n&&(n={});var o=e.prototype.generateTexture.call(this,t,n,r,i);return this.framebuffer.blit(),o},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return deprecation("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,n){t.__plugins=t.__plugins||{},t.__plugins[e]=n},t}(AbstractRenderer);function autoDetectRenderer(e){return Renderer.create(e)}var $defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",$defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",defaultVertex$2=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,System=function(){function e(e){deprecation("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),BatchDrawCall=function(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$2.TRIANGLES,this.start=0,this.size=0,this.data=null},BatchTextureArray=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),ViewableBuffer=function(){function e(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),AbstractBatchRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=State.for2d(),n.size=4*settings.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return __extends$h(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;settings.PREFER_ENV===ENV$2.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new BatchDrawCall);for(;n.length<i;)n.push(new BatchTextureArray);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,n=this.MAX_TEXTURES,r=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++BaseTexture._globalBatch,l=0,u=r[0],c=0;i.copyBoundTextures(o,n);for(var f=0;f<this._bufferSize;++f){var h=e[f];e[f]=null,h._batchEnabled!==s&&(u.count>=n&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,f),c=f,u=r[++l],++s),h._batchEnabled=s,h.touched=a,u.elements[u.count++]=h)}u.count>0&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,this._bufferSize),++l,++s);for(f=0;f<o.length;f++)o[f]=null;BaseTexture._globalBatch=s},t.prototype.buildDrawCalls=function(e,n,r){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,l=i.vertexSize,u=t._drawCallPool,c=this._dcIndex,f=this._aIndex,h=this._iIndex,d=u[c];d.start=this._iIndex,d.texArray=e;for(var p=n;p<r;++p){var m=o[p],g=m._texture.baseTexture,v=premultiplyBlendMode[g.alphaMode?1:0][m.blendMode];o[p]=null,n<p&&d.blend!==v&&(d.size=h-d.start,n=p,(d=u[++c]).texArray=e,d.start=h),this.packInterleavedGeometry(m,a,s,f,h),f+=m.vertexData.length/2*l,h+=m.indices.length,d.blend=v}n<r&&(d.size=h-d.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=h},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,n=e._attributeBuffer,r=e._indexBuffer;settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=t._drawCallPool,a=null,s=0;s<e;s++){var l=o[s],u=l.texArray,c=l.type,f=l.size,h=l.start,d=l.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,i.set(this.state),r.drawElements(c,f,r.UNSIGNED_SHORT,2*h)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=nextPow2(Math.ceil(e/8)),n=log2(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new ViewableBuffer(r*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=nextPow2(Math.ceil(e/12)),n=log2(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},t.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,f=e._texture.baseTexture._batchLocation,h=Math.min(e.worldAlpha,1),d=h<1&&e._texture.baseTexture.alphaMode?premultiplyTint(e._tintRGB,h):e._tintRGB+(255*h<<24),p=0;p<c.length;p+=2)a[r++]=c[p],a[r++]=c[p+1],a[r++]=l[p],a[r++]=l[p+1],o[r++]=d,a[r++]=f;for(p=0;p<u.length;p++)n[i++]=s+u[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(ObjectRenderer),BatchShaderGenerator=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[e]};return new Shader(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),BatchGeometry=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._buffer=new Buffer(null,t,!1),n._indexBuffer=new Buffer(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,TYPES$2.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,TYPES$2.FLOAT).addAttribute("aColor",n._buffer,4,!0,TYPES$2.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,TYPES$2.FLOAT).addIndex(n._indexBuffer),n}return __extends$h(t,e),t}(Geometry),defaultVertex$3="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",defaultFragment$2="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",BatchPluginFactory=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:defaultVertex$3,fragment:defaultFragment$2,geometryClass:BatchGeometry,vertexSize:6},e),n=t.vertex,r=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new BatchShaderGenerator(n,r),a.geometryClass=o,a.vertexSize=i,a}return __extends$h(t,e),t}(AbstractBatchRenderer)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),e}(),BatchRenderer=BatchPluginFactory.create(),resources={},_loop_1=function(e){Object.defineProperty(resources,e,{get:function(){return deprecation("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),_resources[e]}})};for(var name in _resources)_loop_1(name);var systems={},_loop_2=function(e){Object.defineProperty(systems,e,{get:function(){return deprecation("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),_systems[e]}})};for(var name in _systems)_loop_2(name);
/*!
 * @pixi/app - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Application=function(){function e(t){var n=this;this.stage=new Container,t=Object.assign({forceCanvas:!1},t),this.renderer=autoDetectRenderer(t),e._plugins.forEach((function(e){e.init.call(n,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),ResizePlugin=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){self.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===self)e=self.innerWidth,n=self.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Application.registerPlugin(ResizePlugin);
/*!
 * @pixi/extract - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,Extract=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},e.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},e.prototype.canvas=function(t){var n,r,i,o=this.renderer,a=!1,s=!1;t&&(t instanceof RenderTexture?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,a=!0,(r=TEMP_RECT).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*n+1e-4),u=Math.floor(r.height*n+1e-4),c=new CanvasRenderTarget(l,u,1),f=new Uint8Array(BYTES_PER_PIXEL*l*u),h=o.gl;h.readPixels(r.x*n,r.y*n,l,u,h.RGBA,h.UNSIGNED_BYTE,f);var d=c.context.getImageData(0,0,l,u);if(e.arrayPostDivide(f,d.data),c.context.putImageData(d,0,0),a){var p=new CanvasRenderTarget(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-u),c.destroy(),c=p}return s&&i.destroy(!0),c.canvas},e.prototype.pixels=function(t){var n,r,i,o=this.renderer,a=!1;t&&(t instanceof RenderTexture?i=t:(i=this.renderer.generateTexture(t),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=TEMP_RECT).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,l=r.height*n,u=new Uint8Array(BYTES_PER_PIXEL*s*l),c=o.gl;return c.readPixels(r.x*n,r.y*n,s,l,c.RGBA,c.UNSIGNED_BYTE,u),a&&i.destroy(!0),e.arrayPostDivide(u,u),u},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},e}(),SignalBinding=function(){function e(e,t,n){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}();function _addSignalBinding(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Signal=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(e){void 0===e&&(e=!1);var t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},e.prototype.has=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,t),r=r._next;return!0},e.prototype.add=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!1,t))},e.prototype.once=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}();function parseUri(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}var useXdr=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop(){}function setExtMap(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function reqType(e){return e.toString().replace("object ","")}var LoaderResource=function(){function e(t,n,r){if(this._dequeue=_noop,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return e.setExtensionLoadType=function(t,n){setExtMap(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){setExtMap(e._xhrTypeMap,t,n)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var n=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(n)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(e){return 0!=(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==self.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==self.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new self.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},e.prototype._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,n="",r=void 0===t.status?STATUS_OK:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(n=t.responseText),r===STATUS_NONE&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=STATUS_OK:r===STATUS_IE_BUG_EMPTY&&(r=STATUS_EMPTY),(r/100|0)===STATUS_TYPE_OK){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=e.TYPE.XML}catch(s){return void this.abort("Error trying to parse loaded xml: "+s)}else this.data=t.response||n;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";t=t||self.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=e;var n=parseUri(tempAnchor.href,{strictMode:!0}),r=!n.port&&""===t.port||n.port===t.port,i=n.protocol?n.protocol+":":"";return n.host===t.hostname&&r&&i===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(r>-1?r:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}(),LoaderResource2,STATUS_FLAGS,TYPE,LOAD_TYPE,XHR_RESPONSE_TYPE;function _noop$1(){}function onlyOnce(e){return function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(null===e)throw new Error("Callback was already called.");var i=e;e=null,i.apply(this,n)}}LoaderResource2=LoaderResource||(LoaderResource={}),(STATUS_FLAGS=LoaderResource2.STATUS_FLAGS||(LoaderResource2.STATUS_FLAGS={}))[STATUS_FLAGS.NONE=0]="NONE",STATUS_FLAGS[STATUS_FLAGS.DATA_URL=1]="DATA_URL",STATUS_FLAGS[STATUS_FLAGS.COMPLETE=2]="COMPLETE",STATUS_FLAGS[STATUS_FLAGS.LOADING=4]="LOADING",(TYPE=LoaderResource2.TYPE||(LoaderResource2.TYPE={}))[TYPE.UNKNOWN=0]="UNKNOWN",TYPE[TYPE.JSON=1]="JSON",TYPE[TYPE.XML=2]="XML",TYPE[TYPE.IMAGE=3]="IMAGE",TYPE[TYPE.AUDIO=4]="AUDIO",TYPE[TYPE.VIDEO=5]="VIDEO",TYPE[TYPE.TEXT=6]="TEXT",(LOAD_TYPE=LoaderResource2.LOAD_TYPE||(LoaderResource2.LOAD_TYPE={}))[LOAD_TYPE.XHR=1]="XHR",LOAD_TYPE[LOAD_TYPE.IMAGE=2]="IMAGE",LOAD_TYPE[LOAD_TYPE.AUDIO=3]="AUDIO",LOAD_TYPE[LOAD_TYPE.VIDEO=4]="VIDEO",(XHR_RESPONSE_TYPE=LoaderResource2.XHR_RESPONSE_TYPE||(LoaderResource2.XHR_RESPONSE_TYPE={})).DEFAULT="text",XHR_RESPONSE_TYPE.BUFFER="arraybuffer",XHR_RESPONSE_TYPE.BLOB="blob",XHR_RESPONSE_TYPE.DOCUMENT="document",XHR_RESPONSE_TYPE.JSON="json",XHR_RESPONSE_TYPE.TEXT="text",LoaderResource2._loadTypeMap={gif:LoaderResource2.LOAD_TYPE.IMAGE,png:LoaderResource2.LOAD_TYPE.IMAGE,bmp:LoaderResource2.LOAD_TYPE.IMAGE,jpg:LoaderResource2.LOAD_TYPE.IMAGE,jpeg:LoaderResource2.LOAD_TYPE.IMAGE,tif:LoaderResource2.LOAD_TYPE.IMAGE,tiff:LoaderResource2.LOAD_TYPE.IMAGE,webp:LoaderResource2.LOAD_TYPE.IMAGE,tga:LoaderResource2.LOAD_TYPE.IMAGE,svg:LoaderResource2.LOAD_TYPE.IMAGE,"svg+xml":LoaderResource2.LOAD_TYPE.IMAGE,mp3:LoaderResource2.LOAD_TYPE.AUDIO,ogg:LoaderResource2.LOAD_TYPE.AUDIO,wav:LoaderResource2.LOAD_TYPE.AUDIO,mp4:LoaderResource2.LOAD_TYPE.VIDEO,webm:LoaderResource2.LOAD_TYPE.VIDEO},LoaderResource2._xhrTypeMap={xhtml:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,html:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,htm:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,xml:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,tmx:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,svg:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,tsx:LoaderResource2.XHR_RESPONSE_TYPE.DOCUMENT,gif:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,png:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,bmp:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,jpg:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,jpeg:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,tif:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,tiff:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,webp:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,tga:LoaderResource2.XHR_RESPONSE_TYPE.BLOB,json:LoaderResource2.XHR_RESPONSE_TYPE.JSON,text:LoaderResource2.XHR_RESPONSE_TYPE.TEXT,txt:LoaderResource2.XHR_RESPONSE_TYPE.TEXT,ttf:LoaderResource2.XHR_RESPONSE_TYPE.BUFFER,otf:LoaderResource2.XHR_RESPONSE_TYPE.BUFFER},LoaderResource2.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var AsyncQueueItem=function(e,t){this.data=e,this.callback=t},AsyncQueue=function(){function e(e,t){var n=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=_noop$1,this.unsaturated=_noop$1,this.empty=_noop$1,this.drain=_noop$1,this.error=_noop$1,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,r){if(r&&"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==e&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i=new AsyncQueueItem(e,"function"==typeof r?r:_noop$1);t?n._tasks.unshift(i):n._tasks.push(i),setTimeout(n.process,1)}},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(e.data,onlyOnce(n._next(e)))}},this._worker=e,0===t)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return e.prototype._next=function(e){var t=this;return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];t.workers-=1,e.callback.apply(e,r),null!=r[0]&&t.error(r[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},e.prototype.push=function(e,t){this._insert(e,!1,t)},e.prototype.kill=function(){this.workers=0,this.drain=_noop$1,this.started=!1,this._tasks=[]},e.prototype.unshift=function(e,t){this._insert(e,!0,t)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},e.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},e.eachSeries=function(e,t,n,r){var i=0,o=e.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()},e.queue=function(t,n){return new e(t,n)},e}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader=function(){function e(t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this.resources={},this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=AsyncQueue.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(e,t,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new LoaderResource(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[e]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[e].progressChunk=s}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},e.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,n=MAX_PROGRESS/t,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(e){var t,n=parseUri(e,{strictMode:!0});if(t=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=rgxExtractUrlHash.exec(t)[0];-1!==(t=t.substr(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},e.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,AsyncQueue.eachSeries(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,(function(n,r){n.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(MAX_PROGRESS,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();Loader.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"==typeof e&&(n=e,r=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");return"function"==typeof n&&(r=n,n=null),this._add(e,t,n,r)};var AppLoaderPlugin=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Loader.shared:new Loader},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),TextureLoader=function(){function e(){}return e.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(e,t){if(!e.data||e.type!==LoaderResource.TYPE.IMAGE&&"svg"!==e.extension)t();else{var n=e.data,r=e.url,i=e.name,o=e.metadata;Texture.fromLoader(n,r,i,o).then((function(n){e.texture=n,t()})).catch(t)}},e}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+=_keyStr.charAt(i[o])}return t}var Url=self.URL||self.webkitURL,_a$1,INTERNAL_FORMATS,INTERNAL_FORMATS2;function parsing(e,t){if(e.data){if(e.xhr&&e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=Url.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){Url.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+encodeBinary(e.xhr.responseText),e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}Loader.registerPlugin({use:parsing}),Loader.registerPlugin(TextureLoader),INTERNAL_FORMATS2=INTERNAL_FORMATS||(INTERNAL_FORMATS={}),INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",INTERNAL_FORMATS2[INTERNAL_FORMATS2.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$1={},_a$1[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$1[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$1),extendStatics$g=function(e,t){return(extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __extends$g(e,t){function n(){this.constructor=e}extendStatics$g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __awaiter(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function __generator(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BlobResource=function(e){function t(t,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var r,i,o=this;return"string"==typeof t?(r=t,i=new Uint8Array):(r=null,i=t),(o=e.call(this,i,n)||this).origin=r,o.buffer=i?new ViewableBuffer(i):null,o.origin&&!1!==n.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return __extends$g(t,e),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return __awaiter(this,void 0,Promise,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}}))}))},t}(BufferResource),CompressedTextureResource=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=t._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||t._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return __extends$g(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,l=a.levelWidth,u=a.levelHeight,c=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,l,u,0,c)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,t,n,r,i,o,a){for(var s=new Array(n),l=e.byteOffset,u=o,c=a,f=u+r-1&~(r-1),h=c+i-1&~(i-1),d=f*h*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],p=0;p<n;p++)s[p]={levelID:p,levelWidth:n>1?u:f,levelHeight:n>1?c:h,levelBuffer:new Uint8Array(e.buffer,l,d)},l+=d,d=(f=(u=u>>1||1)+r-1&~(r-1))*(h=(c=c>>1||1)+i-1&~(i-1))*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return s},t}(BlobResource),CompressedTextureLoader=function(){function e(){}return e.use=function(t,n){var r=t.data;if(t.type===LoaderResource.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var i=r.textures,o=void 0,a=void 0,s=0,l=i.length;s<l;s++){var u=i[s],c=u.src,f=u.format;if(f||(a=c),e.textureFormats[f]){o=c;break}}if(!(o=o||a))return void n(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(o===t.url)return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var h={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},d=url.resolve(t.url.replace(this.baseUrl,""),o),p=r.cacheID;this.add(p,d,h,(function(e){if(e.error)n(e.error);else{var r=e.texture,i=void 0===r?null:r,o=e.textures,a=void 0===o?{}:o;Object.assign(t,{texture:i,textures:a}),n()}}))}else n()},e.add=function(){var t=document.createElement("canvas").getContext("webgl");if(t){var n={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};for(var r in e.textureExtensions=n,e.textureFormats={},n){var i=n[r];i&&Object.assign(e.textureFormats,Object.getPrototypeOf(i))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},e}(),_a$1$1,_b;function registerCompressedTextures(e,t,n){var r={textures:{},texture:null};return t?(t.map((function(e){return new Texture(new BaseTexture(e,Object.assign({mipmap:MIPMAP_MODES$2.OFF,alphaMode:ALPHA_MODES$2.NO_PREMULTIPLIED_ALPHA},n)))})).forEach((function(t,n){var i=t.baseTexture,o=e+"-"+(n+1);BaseTexture.addToCache(i,o),Texture.addToCache(t,o),0===n&&(BaseTexture.addToCache(i,e),Texture.addToCache(t,e),r.texture=t),r.textures[o]=t})),r):r}LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT,DXGI_FORMAT2,D3D10_RESOURCE_DIMENSION,D3D10_RESOURCE_DIMENSION2;DXGI_FORMAT2=DXGI_FORMAT||(DXGI_FORMAT={}),DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",DXGI_FORMAT2[DXGI_FORMAT2.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",D3D10_RESOURCE_DIMENSION2=D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}),D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D";var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1$1={},_a$1$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1$1),DXGI_TO_FORMAT=(_b={},_b[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b),DDSLoader=function(){function e(){}return e.use=function(t,n){if("dds"===t.extension&&t.data)try{Object.assign(t,registerCompressedTextures(t.name||t.url,e.parse(t.data),t.metadata))}catch(r){return void n(r)}n()},e.parse=function(e){var t=new Uint32Array(e);if(t[0]!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),r=n[DDS_FIELDS.HEIGHT],i=n[DDS_FIELDS.WIDTH],o=n[DDS_FIELDS.MIPMAP_COUNT],a=new Uint32Array(e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),s=a[PF_FLAGS];if(s&DDPF_FOURCC){var l=a[DDS_PF_FIELDS.FOURCC];if(l!==FOURCC_DX10){var u=FOURCC_TO_FORMAT[l],c=new Uint8Array(e,DDS_MAGIC_SIZE+DDS_HEADER_SIZE);return[new CompressedTextureResource(c,{format:u,width:i,height:r,levels:o})]}var f=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,h=new Uint32Array(t.buffer,f,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),d=h[DDS_DX10_FIELDS.DXGI_FORMAT],p=h[DDS_DX10_FIELDS.RESOURCE_DIMENSION],m=h[DDS_DX10_FIELDS.MISC_FLAG],g=h[DDS_DX10_FIELDS.ARRAY_SIZE],v=DXGI_TO_FORMAT[d];if(void 0===v)throw new Error("DDSLoader cannot parse texture data with DXGI format "+d);if(m===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSLoader does not support cubemap textures");if(p===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var y=new Array,b=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(1===g)y.push(new Uint8Array(e,b));else{for(var _=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[v],E=0,w=i,x=r,T=0;T<o;T++){E+=Math.max(1,w+3&-4)*Math.max(1,x+3&-4)*_,w>>>=1,x>>>=1}var S=b;for(T=0;T<g;T++)y.push(new Uint8Array(e,S,E)),S+=E}return y.map((function(e){return new CompressedTextureResource(e,{format:v,width:i,height:r,levels:o})}))}if(s&DDPF_RGB)throw new Error("DDSLoader does not support uncompressed texture data.");if(s&DDPF_YUV)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(s&DDPF_LUMINANCE)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(s&DDPF_ALPHA)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),_a$2,_b$1,_c;LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$2={},_a$2[TYPES$2.UNSIGNED_BYTE]=1,_a$2[TYPES$2.UNSIGNED_SHORT]=2,_a$2[TYPES$2.FLOAT]=4,_a$2[TYPES$2.HALF_FLOAT]=8,_a$2),FORMATS_TO_COMPONENTS=(_b$1={},_b$1[FORMATS$2.RGBA]=4,_b$1[FORMATS$2.RGB]=3,_b$1[FORMATS$2.LUMINANCE]=1,_b$1[FORMATS$2.LUMINANCE_ALPHA]=2,_b$1[FORMATS$2.ALPHA]=1,_b$1),TYPES_TO_BYTES_PER_PIXEL=(_c={},_c[TYPES$2.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES$2.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES$2.UNSIGNED_SHORT_5_6_5]=2,_c),KTXLoader=function(){function e(){}return e.use=function(t,n){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url;Object.assign(t,registerCompressedTextures(r,e.parse(r,t.data),t.metadata))}catch(i){return void n(i)}n()},e.parse=function(t,n){var r=new DataView(n);if(!e.validate(t,r))return null;var i=r.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,o=r.getUint32(KTX_FIELDS.GL_TYPE,i),a=r.getUint32(KTX_FIELDS.GL_FORMAT,i),s=r.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,i),l=r.getUint32(KTX_FIELDS.PIXEL_WIDTH,i),u=r.getUint32(KTX_FIELDS.PIXEL_HEIGHT,i)||1,c=r.getUint32(KTX_FIELDS.PIXEL_DEPTH,i)||1,f=r.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=r.getUint32(KTX_FIELDS.NUMBER_OF_FACES,i),d=r.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,i);if(0===u||1!==c)throw new Error("Only 2D textures are supported");if(1!==h)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==f)throw new Error("WebGL does not support array textures");var m,g=l+3&-4,v=u+3&-4,y=new Array(f),b=l*u;if(0===o&&(b=g*v),void 0===(m=0!==o?TYPES_TO_BYTES_PER_COMPONENT[o]?TYPES_TO_BYTES_PER_COMPONENT[o]*FORMATS_TO_COMPONENTS[a]:TYPES_TO_BYTES_PER_PIXEL[o]:INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var _=b*m,E=l,w=u,x=g,T=v,S=FILE_HEADER_SIZE+p,k=0;k<d;k++){for(var O=r.getUint32(S,i),A=S+4,C=0;C<f;C++){var P=y[C];P||(P=y[C]=new Array(d)),P[k]={levelID:k,levelWidth:d>1?E:x,levelHeight:d>1?w:T,levelBuffer:new Uint8Array(n,A,_)},A+=_}S=(S+=O+4)%4!=0?S+4-S%4:S,_=(x=(E=E>>1||1)+4-1&-4)*(T=(w=w>>1||1)+4-1&-4)*m}if(0!==o)throw new Error("TODO: Uncompressed");return y.map((function(e){return new CompressedTextureResource(null,{format:s,width:l,height:u,levels:d,levelBuffers:e})}))},e.validate=function(e,t){for(var n=0;n<FILE_IDENTIFIER.length;n++)if(t.getUint8(n)!==FILE_IDENTIFIER[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},e}(),extendStatics$f=function(e,t){return(extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$f(e,t){function n(){this.constructor=e}extendStatics$f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ParticleContainer=function(e){function t(t,n,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=e.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=BLEND_MODES$2.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return __extends$f(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,hex2rgb(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Container),ParticleBuffer=function(){function e(e,t,n){this.geometry=new Geometry,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i=e[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||TYPES$2.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Buffer(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(a=this.dynamicProperties[n]).offset=t,t+=a.size,this.dynamicStride+=a.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Buffer(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(a=this.staticProperties[n]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Buffer(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===TYPES$2.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(n=0;n<this.staticProperties.length;++n){a=this.staticProperties[n];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===TYPES$2.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},e.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===TYPES$2.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===TYPES$2.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),fragment$7="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",vertex$4="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",ParticleRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Matrix,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$2.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Shader.from(vertex$4,fragment$7,{}),n.state=State.for2d(),n}return __extends$f(t,e),t.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=correctBlendMode(e.blendMode,s.alphaMode),i.state.set(this.state);var l=i.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,f=0,h=0;f<o;f+=r,h+=1){var d=o-f;d>r&&(d=r),h>=a.length&&a.push(this._generateOneMoreBuffer(e));var p=a[h];p.uploadDynamic(t,f,d);var m=e._bufferUpdateIDs[h]||0;(c=c||p._updateID<m)&&(p._updateID=e._updateID,p.uploadStatic(t,f,d)),i.geometry.bind(p.geometry),l.drawElements(l.TRIANGLES,6*d,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new ParticleBuffer(this.properties,i,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new ParticleBuffer(this.properties,n,t)},t.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,u=0,c=0;c<n;++c){var f=e[t+c],h=f._texture,d=f.scale.x,p=f.scale.y,m=h.trim,g=h.orig;m?(a=(s=m.x-f.anchor.x*g.width)+m.width,l=(u=m.y-f.anchor.y*g.height)+m.height):(a=g.width*(1-f.anchor.x),s=g.width*-f.anchor.x,l=g.height*(1-f.anchor.y),u=g.height*-f.anchor.y),r[o]=s*d,r[o+1]=u*p,r[o+i]=a*d,r[o+i+1]=u*p,r[o+2*i]=a*d,r[o+2*i+1]=l*p,r[o+3*i]=s*d,r[o+3*i+1]=l*p,o+=4*i}},t.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=s._texture.baseTexture.alphaMode>0,u=s.alpha,c=u<1&&l?premultiplyTint(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(ObjectRenderer),LINE_JOIN,LINE_JOIN2,LINE_CAP,LINE_CAP2;LINE_JOIN2=LINE_JOIN||(LINE_JOIN={}),LINE_JOIN2.MITER="miter",LINE_JOIN2.BEVEL="bevel",LINE_JOIN2.ROUND="round",LINE_CAP2=LINE_CAP||(LINE_CAP={}),LINE_CAP2.BUTT="butt",LINE_CAP2.ROUND="round",LINE_CAP2.SQUARE="square";var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},FillStyle=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),extendStatics$e=function(e,t){return(extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$e(e,t){function n(){this.constructor=e}extendStatics$e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var buildPoly={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){for(var a=[],s=0;s<r.length;s++){var l=r[s];a.push(n.length/2),n=n.concat(l.points)}var u=earcut$1(n,a,2);if(!u)return;var c=i.length/2;for(s=0;s<u.length;s+=3)o.push(u[s]+c),o.push(u[s+1]+c),o.push(u[s+2]+c);for(s=0;s<n.length;s++)i.push(n[s])}}},buildCircle={build:function(e){var t,n,r=e.shape,i=e.points,o=r.x,a=r.y;if(i.length=0,e.type===SHAPES.CIRC)t=r.radius,n=r.radius;else{var s=e.shape;t=s.width,n=s.height}if(0!==t&&0!==n){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(t+n));l/=2.3;for(var u=2*Math.PI/l,c=0;c<l-.5;c++)i.push(o+Math.sin(-u*c)*t,a+Math.cos(-u*c)*n);i.push(i[0],i[1])}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=o,s=e.shape,l=e.matrix,u=s.x,c=s.y;r.push(e.matrix?l.a*u+l.c*c+l.tx:u,e.matrix?l.b*u+l.d*c+l.ty:c);for(var f=0;f<n.length;f+=2)r.push(n[f],n[f+1]),i.push(o++,a,o)}},buildRectangle={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function getPt(e,t,n){return e+(t-e)*n}function quadraticBezierCurve(e,t,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,u=0,c=0,f=0,h=0,d=0,p=0,m=0;p<=20;++p)l=getPt(e,n,m=p/20),u=getPt(t,r,m),c=getPt(n,i,m),f=getPt(r,o,m),h=getPt(l,c,m),d=getPt(u,f,m),0===p&&s[s.length-2]===h&&s[s.length-1]===d||s.push(h,d);return s}var buildRoundedRectangle={build:function(e){var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(quadraticBezierCurve(r,i+s,r,i,r+s,i,n),quadraticBezierCurve(r+o-s,i,r+o,i,r+o,i+s,n),quadraticBezierCurve(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),quadraticBezierCurve(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(e,t){for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=earcut$1(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=n.length;s<l;s++)r.push(n[s],n[++s])}};function square(e,t,n,r,i,o,a,s){var l,u;a?(l=r,u=-n):(l=-r,u=n);var c=e-n*i+l,f=t-r*i+u,h=e+n*o+l,d=t+r*o+u;return s.push(c,f),s.push(h,d),2}function round(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=Math.atan2(l,u),f=Math.atan2(i-e,o-t);s&&c<f?c+=2*Math.PI:!s&&c>f&&(f+=2*Math.PI);var h=c,d=f-c,p=Math.abs(d),m=Math.sqrt(l*l+u*u),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=d/g;if(h+=v,s){a.push(e,t),a.push(n,r);for(var y=1,b=h;y<g;y++,b+=v)a.push(e,t),a.push(e+Math.sin(b)*m,t+Math.cos(b)*m);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(y=1,b=h;y<g;y++,b+=v)a.push(e+Math.sin(b)*m,t+Math.cos(b)*m),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*g}function buildNonNativeLine(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var o=e.lineStyle,a=new Point(r[0],r[1]),s=new Point(r[r.length-2],r[r.length-1]),l=n.type!==SHAPES.POLY||n.closeStroke,u=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=.5*(a.x+s.x),f=.5*(s.y+a.y);r.unshift(c,f),r.push(c,f)}var h=t.points,d=r.length/2,p=r.length,m=h.length/2,g=o.width/2,v=g*g,y=o.miterLimit*o.miterLimit,b=r[0],_=r[1],E=r[2],w=r[3],x=0,T=0,S=-(_-w),k=b-E,O=0,A=0,C=Math.sqrt(S*S+k*k);S/=C,k/=C,S*=g,k*=g;var P=o.alignment,M=2*(1-P),R=2*P;l||(o.cap===LINE_CAP.ROUND?p+=round(b-S*(M-R)*.5,_-k*(M-R)*.5,b-S*M,_-k*M,b+S*R,_+k*R,h,!0)+2:o.cap===LINE_CAP.SQUARE&&(p+=square(b,_,S,k,M,R,!0,h))),h.push(b-S*M,_-k*M),h.push(b+S*R,_+k*R);for(var I=1;I<d-1;++I){b=r[2*(I-1)],_=r[2*(I-1)+1],E=r[2*I],w=r[2*I+1],x=r[2*(I+1)],T=r[2*(I+1)+1],S=-(_-w),k=b-E,S/=C=Math.sqrt(S*S+k*k),k/=C,S*=g,k*=g,O=-(w-T),A=E-x,O/=C=Math.sqrt(O*O+A*A),A/=C,O*=g,A*=g;var D=E-b,N=_-w,L=E-x,F=T-w,j=N*L-F*D,B=j<0;if(Math.abs(j)<.1)h.push(E-S*M,w-k*M),h.push(E+S*R,w+k*R);else{var U=(-S+b)*(-k+w)-(-S+E)*(-k+_),z=(-O+x)*(-A+w)-(-O+E)*(-A+T),H=(D*z-L*U)/j,G=(F*U-N*z)/j,V=(H-E)*(H-E)+(G-w)*(G-w),$=E+(H-E)*M,X=w+(G-w)*M,W=E-(H-E)*R,Y=w-(G-w)*R,q=B?M:R;V<=Math.min(D*D+N*N,L*L+F*F)+q*q*v?o.join===LINE_JOIN.BEVEL||V/v>y?(B?(h.push($,X),h.push(E+S*R,w+k*R),h.push($,X),h.push(E+O*R,w+A*R)):(h.push(E-S*M,w-k*M),h.push(W,Y),h.push(E-O*M,w-A*M),h.push(W,Y)),p+=2):o.join===LINE_JOIN.ROUND?B?(h.push($,X),h.push(E+S*R,w+k*R),p+=round(E,w,E+S*R,w+k*R,E+O*R,w+A*R,h,!0)+4,h.push($,X),h.push(E+O*R,w+A*R)):(h.push(E-S*M,w-k*M),h.push(W,Y),p+=round(E,w,E-S*M,w-k*M,E-O*M,w-A*M,h,!1)+4,h.push(E-O*M,w-A*M),h.push(W,Y)):(h.push($,X),h.push(W,Y)):(h.push(E-S*M,w-k*M),h.push(E+S*R,w+k*R),o.join===LINE_JOIN.BEVEL||V/v>y||(o.join===LINE_JOIN.ROUND?p+=B?round(E,w,E+S*R,w+k*R,E+O*R,w+A*R,h,!0)+2:round(E,w,E-S*M,w-k*M,E-O*M,w-A*M,h,!1)+2:(B?(h.push(W,Y),h.push(W,Y)):(h.push($,X),h.push($,X)),p+=2)),h.push(E-O*M,w-A*M),h.push(E+O*R,w+A*R),p+=2)}}b=r[2*(d-2)],_=r[2*(d-2)+1],E=r[2*(d-1)],S=-(_-(w=r[2*(d-1)+1])),k=b-E,S/=C=Math.sqrt(S*S+k*k),k/=C,S*=g,k*=g,h.push(E-S*M,w-k*M),h.push(E+S*R,w+k*R),l||(o.cap===LINE_CAP.ROUND?p+=round(E-S*(M-R)*.5,w-k*(M-R)*.5,E-S*M,w-k*M,E+S*R,w+k*R,h,!1)+2:o.cap===LINE_CAP.SQUARE&&(p+=square(E,w,S,k,M,R,!1,h)));var K=t.indices,Z=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon;for(I=m;I<p+m-2;++I)b=h[2*I],_=h[2*I+1],E=h[2*(I+1)],w=h[2*(I+1)+1],x=h[2*(I+2)],T=h[2*(I+2)+1],Math.abs(b*(w-T)+E*(T-_)+x*(_-w))<Z||K.push(I,I+1,I+2)}}function buildNativeLine(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==SHAPES.POLY||r.closeStroke;if(0!==i.length){var a=t.points,s=t.indices,l=i.length/2,u=a.length/2,c=u;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[2*n],i[2*n+1]),s.push(c,c+1),c++;o&&s.push(c,u)}}function buildLine(e,t){e.lineStyle.native?buildNativeLine(e,t):buildNonNativeLine(e,t)}var ArcUtils=function(){function e(){}return e.curveTo=function(e,t,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-t,l=a-e,u=r-t,c=n-e,f=Math.abs(s*c-l*u);if(f<1e-8||0===i)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var h=s*s+l*l,d=u*u+c*c,p=s*u+l*c,m=i*Math.sqrt(h)/f,g=i*Math.sqrt(d)/f,v=m*p/h,y=g*p/d,b=m*c+g*l,_=m*u+g*s,E=l*(g+v),w=s*(g+v),x=c*(m+y),T=u*(m+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(w-_,E-b),endAngle:Math.atan2(T-_,x-b),anticlockwise:l*u>c*s}},e.arc=function(e,t,n,r,i,o,a,s,l){for(var u=a-o,c=GRAPHICS_CURVES._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/PI_2)),f=u/(2*c),h=2*f,d=Math.cos(f),p=Math.sin(f),m=c-1,g=m%1/m,v=0;v<=m;++v){var y=f+o+h*(v+g*v),b=Math.cos(y),_=-Math.sin(y);l.push((d*b+p*_)*i+n,(d*-_+p*b)*i+r)}},e}(),BezierUtils=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o,a,s){for(var l=0,u=0,c=0,f=0,h=0,d=0,p=0,m=0,g=0,v=0,y=0,b=e,_=t,E=1;E<=10;++E)v=b-(m=(p=(d=(h=1-(u=E/10))*h)*h)*e+3*d*u*n+3*h*(c=u*u)*i+(f=c*u)*a),y=_-(g=p*t+3*d*u*r+3*h*c*o+f*s),b=m,_=g,l+=Math.sqrt(v*v+y*y);return l},e.curveTo=function(t,n,r,i,o,a,s){var l=s[s.length-2],u=s[s.length-1];s.length-=2;var c=GRAPHICS_CURVES._segmentsCount(e.curveLength(l,u,t,n,r,i,o,a)),f=0,h=0,d=0,p=0,m=0;s.push(l,u);for(var g=1,v=0;g<=c;++g)d=(h=(f=1-(v=g/c))*f)*f,m=(p=v*v)*v,s.push(d*l+3*h*v*t+3*f*p*r+m*o,d*u+3*h*v*n+3*f*p*i+m*a)},e}(),QuadraticUtils=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,u=2*r-2*t,c=4*(a*a+s*s),f=4*(a*l+s*u),h=l*l+u*u,d=2*Math.sqrt(c+f+h),p=Math.sqrt(c),m=2*c*p,g=2*Math.sqrt(h),v=f/p;return(m*d+p*f*(d-g)+(4*h*c-f*f)*Math.log((2*p+v+d)/(v+g)))/(4*m)},e.curveTo=function(t,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=GRAPHICS_CURVES._segmentsCount(e.curveLength(a,s,t,n,r,i)),u=0,c=0,f=1;f<=l;++f){var h=f/l;u=a+(t-a)*h,c=s+(n-s)*h,o.push(u+(t+(r-t)*h-u)*h,c+(n+(i-n)*h-c)*h)}},e}(),BatchPart=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES.POLY]=buildPoly,_a[SHAPES.CIRC]=buildCircle,_a[SHAPES.ELIP]=buildCircle,_a[SHAPES.RECT]=buildRectangle,_a[SHAPES.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[];function isPolygonClockwise(e){for(var t=e.points,n=0,r=0;r<t.length-2;r+=2)n+=(t[r+2]-t[r])*(t[r+3]+t[r+1]);return n>0}var GraphicsData=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),tmpPoint=new Point,tmpBounds=new Bounds,GraphicsGeometry=function(e){function t(){var t=e.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new Bounds,t.boundsDirty=-1,t}return __extends$e(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),BATCH_POOL.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new GraphicsData(e,t,n,r);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var n=new GraphicsData(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,tmpPoint):tmpPoint.copyFrom(e),r.shape.contains(tmpPoint.x,tmpPoint.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(tmpPoint.x,tmpPoint.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,l=a.lineStyle;FILL_COMMANDS[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var u=0;u<2;u++){var c=0===u?s:l;if(c.visible){var f=c.texture.baseTexture,h=this.indices.length,d=this.points.length/2;f.wrapMode=WRAP_MODES$2.REPEAT,0===u?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(r&&!this._compareStyles(i,c)&&(r.end(h,d),r=null),r||((r=BATCH_POOL.pop()||new BatchPart).begin(c,h,d),this.batches.push(r),i=c),this.addUvs(this.points,t,c.texture,d,p,c.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(r&&r.end(m,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var v=g>65535&&e;this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++BaseTexture._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=DRAW_CALL_POOL.pop();i||((i=new BatchDrawCall).texArray=new BatchTextureArray),i.texArray.count=0,i.start=0,i.size=0,i.type=DRAW_MODES$2.TRIANGLES;var o=0,a=null,s=0,l=!1,u=DRAW_MODES$2.TRIANGLES,c=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var f=this.batches[t],h=f.style,d=h.texture.baseTexture;l!==!!h.native&&(u=(l=!!h.native)?DRAW_MODES$2.LINES:DRAW_MODES$2.TRIANGLES,a=null,o=8,e++),a!==d&&(a=d,d._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=DRAW_CALL_POOL.pop())||((i=new BatchDrawCall).texArray=new BatchTextureArray),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),d.touched=1,d._batchEnabled=e,d._batchLocation=o,d.wrapMode=WRAP_MODES$2.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=f.size,c+=f.size,s=d._batchLocation,this.addColors(n,h.color,h.alpha,f.attribSize,f.attribStart),this.addTextureIds(r,s,f.attribSize,f.attribStart)}BaseTexture._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),buildPoly.triangulate(e,this)):FILL_COMMANDS[e.type].triangulate(e,this)},t.prototype.processLine=function(e){buildLine(e,this);for(var t=0;t<e.holes.length;t++)buildLine(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];FILL_COMMANDS[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=tmpBounds,n=Matrix.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||Matrix.IDENTITY,u=0;if(s&&s.visible){var c=s.alignment;u=s.width,a===SHAPES.POLY?isPolygonClockwise(o)?u*=1-c:u*=c:u*=Math.max(0,c)}if(n!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=l),a===SHAPES.RECT||a===SHAPES.RREC){var f=o;t.addFramePad(f.x,f.y,f.x+f.width,f.y+f.height,u,u)}else if(a===SHAPES.CIRC){var h=o;t.addFramePad(h.x,h.y,h.x,h.y,h.radius+u,h.radius+u)}else if(a===SHAPES.ELIP){var d=o;t.addFramePad(d.x,d.y,d.x,d.y,d.width+u,d.height+u)}else{var p=o;e.addVerticesMatrix(n,p.points,0,p.points.length,u,u)}}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},t.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=premultiplyTint((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},t.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},t.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,l=n.frame;a<i;){var u=e[2*(r+a)],c=e[2*(r+a)+1];if(o){var f=o.a*u+o.c*c+o.tx;c=o.b*u+o.d*c+o.ty,u=f}a++,t.push(u/l.width,c/l.height)}var h=n.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,n,s,i)},t.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=1e-6,a=n+2*r,s=t.frame,l=s.width/i.width,u=s.height/i.height,c=s.x/s.width,f=s.y/s.height,h=Math.floor(e[n]+o),d=Math.floor(e[n+1]+o),p=n+2;p<a;p+=2)h=Math.min(h,Math.floor(e[p]+o)),d=Math.min(d,Math.floor(e[p+1]+o));c-=h,f-=d;for(p=n;p<a;p+=2)e[p]=(e[p]+c)*l,e[p+1]=(e[p+1]+f)*u},t.BATCHABLE_SIZE=100,t}(BatchGeometry),LineStyle=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=LINE_CAP.BUTT,t.join=LINE_JOIN.MITER,t.miterLimit=10,t}return __extends$e(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new FillStyle,n._lineStyle=new LineStyle,n._matrix=null,n._holeMode=!1,n.state=State.for2d(),n._geometry=t||new GraphicsGeometry,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=BLEND_MODES$2.NORMAL,n}return __extends$e(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,t,n,r,i){return void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),"number"==typeof e&&(e={width:e,color:t,alpha:n,alignment:r,native:i}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Texture.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),QuadraticUtils.curveTo(e,t,n,r,i),this},t.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),BezierUtils.curveTo(e,t,n,r,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o=this.currentPath.points,a=ArcUtils.curveTo(e,t,n,r,i,o);if(a){var s=a.cx,l=a.cy,u=a.radius,c=a.startAngle,f=a.endAngle,h=a.anticlockwise;this.arc(s,l,u,c,f,h)}return this},t.prototype.arc=function(e,t,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=PI_2:o&&r<=i&&(r+=PI_2),0===i-r)return this;var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-a),f=Math.abs(u[u.length-1]-s);c<l&&f<l||u.push(a,s)}else this.moveTo(a,s),u=this.currentPath.points;return ArcUtils.arc(a,s,e,t,n,r,i,o,u),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Texture.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,n,r){return this.drawShape(new Rectangle(e,t,n,r))},t.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new RoundedRectangle(e,t,n,r,i))},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new Circle(e,t,n))},t.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new Ellipse(e,t,n,r))},t.prototype.drawPolygon=function(){for(var e,t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=!0,o=n[0];o.points?(i=o.closeStroke,e=o.points):e=Array.isArray(n[0])?n[0]:n;var a=new Polygon(e);return a.closeStroke=i,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==SHAPES.RECT||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,n=e.context.supports.uint32Indices;t.updateBatches(n),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!DEFAULT_SHADERS[n]){for(var r=e.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;DEFAULT_SHADERS[n]=new Shader(s,a)}t=DEFAULT_SHADERS[n]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=hex2rgb(this.tint,temp),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,i=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this._geometry.points,u=this.vertexData,c=0,f=0;f<l.length;f+=2){var h=l[f],d=l[f+1];u[c++]=n*h+i*d+a,u[c++]=o*d+r*h+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new Point,t}(Container),graphicsUtils={buildPoly:buildPoly,buildCircle:buildCircle,buildRectangle:buildRectangle,buildRoundedRectangle:buildRoundedRectangle,buildLine:buildLine,ArcUtils:ArcUtils,BezierUtils:BezierUtils,QuadraticUtils:QuadraticUtils,BatchPart:BatchPart,FILL_COMMANDS:FILL_COMMANDS,BATCH_POOL:BATCH_POOL,DRAW_CALL_POOL:DRAW_CALL_POOL},extendStatics$d=function(e,t){return(extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$d(e,t){function n(){this.constructor=e}extendStatics$d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var tempPoint$2=new Point,indices=new Uint16Array([0,1,2,0,2,3]),Sprite=function(e){function t(t){var n=e.call(this)||this;return n._anchor=new ObservablePoint(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=BLEND_MODES$2.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||Texture.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=indices,n.pluginName="batch",n.isSprite=!0,n._roundPixels=settings.ROUND_PIXELS,n}return __extends$d(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,u=e.trim,c=e.orig,f=this._anchor,h=0,d=0,p=0,m=0;if(u?(h=(d=u.x-f._x*c.width)+u.width,p=(m=u.y-f._y*c.height)+u.height):(h=(d=-f._x*c.width)+c.width,p=(m=-f._y*c.height)+c.height),l[0]=n*d+i*m+a,l[1]=o*m+r*d+s,l[2]=n*h+i*m+a,l[3]=o*m+r*h+s,l[4]=n*h+i*p+a,l[5]=o*p+r*h+s,l[6]=n*d+i*p+a,l[7]=o*p+r*d+s,this._roundPixels)for(var g=settings.RESOLUTION,v=0;v<l.length;++v)l[v]=Math.round((l[v]*g|0)/g)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,f=-r._x*n.width,h=f+n.width,d=-r._y*n.height,p=d+n.height;t[0]=o*f+s*d+u,t[1]=l*d+a*f+c,t[2]=o*h+s*d+u,t[3]=l*d+a*h+c,t[4]=o*h+s*p+u,t[5]=l*p+a*h+c,t[6]=o*f+s*p+u,t[7]=l*p+a*f+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint$2);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return tempPoint$2.x>=r&&tempPoint$2.x<r+t&&(i=-n*this.anchor.y,tempPoint$2.y>=i&&tempPoint$2.y<i+n)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var n="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},t.from=function(e,n){return new t(e instanceof Texture?e:Texture.from(e,n))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Container),extendStatics$c=function(e,t){return(extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},TEXT_GRADIENT,TEXT_GRADIENT2;function __extends$c(e,t){function n(){this.constructor=e}extendStatics$c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}TEXT_GRADIENT2=TEXT_GRADIENT||(TEXT_GRADIENT={}),TEXT_GRADIENT2[TEXT_GRADIENT2.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",TEXT_GRADIENT2[TEXT_GRADIENT2.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL";var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function e(e){this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}return e.prototype.clone=function(){var t={};return deepCopyProperties(t,this,defaultStyle),new e(t)},e.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=getColor(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=getColor(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){areArraysEqual(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=getColor(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&genericFontFamilies.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function getSingleColor(e){return"number"==typeof e?hex2string(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function getColor(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=getSingleColor(e[t]);return e}return getSingleColor(e)}function areArraysEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function deepCopyProperties(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var TextMetrics=function(){function e(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return e.measureText=function(t,n,r,i){void 0===i&&(i=e._canvas),r=null==r?n.wordWrap:r;var o=n.toFontString(),a=e.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var l=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,f=0;f<l.length;f++){var h=s.measureText(l[f]).width+(l[f].length-1)*n.letterSpacing;u[f]=h,c=Math.max(c,h)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(p,a.fontSize+n.strokeThickness)+(l.length-1)*(p+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new e(t,n,d,m,l,u,p+n.leading,c,a)},e.wordWrap=function(t,n,r){void 0===r&&(r=e._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",l=Object.create(null),u=n.letterSpacing,c=n.whiteSpace,f=e.collapseSpaces(c),h=e.collapseNewlines(c),d=!f,p=n.wordWrapWidth+u,m=e.tokenize(t),g=0;g<m.length;g++){var v=m[g];if(e.isNewline(v)){if(!h){s+=e.addLine(a),d=!f,a="",o=0;continue}v=" "}if(f){var y=e.isBreakingSpace(v),b=e.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var _=e.getFromCache(v,u,l,i);if(_>p)if(""!==a&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(v,n.breakWords))for(var E=e.wordWrapSplit(v),w=0;w<E.length;w++){for(var x=E[w],T=1;E[w+T];){var S=E[w+T],k=x[x.length-1];if(e.canBreakChars(k,S,v,w,n.breakWords))break;x+=S,T++}w+=x.length-1;var O=e.getFromCache(x,u,l,i);O+o>p&&(s+=e.addLine(a),d=!1,a="",o=0),a+=x,o+=O}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var A=g===m.length-1;s+=e.addLine(v,!A),d=!1,a="",o=0}else _+o>p&&(d=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(v)||d)&&(a+=v,o+=_)}return s+=e.addLine(a,!1)},e.addLine=function(t,n){return void 0===n&&(n=!0),t=e.trimRight(t),t=n?t+"\n":t},e.getFromCache=function(e,t,n,r){var i=n[e];if("number"!=typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,n){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if("string"!=typeof t)return n;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];e.isBreakingSpace(o,a)||e.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,n,r,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a,l).data,c=u.length,f=4*a,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var m=0;m<f;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d+=f}for(n.ascent=s-h,d=c-f,p=!1,h=l;h>s;--h){for(m=0;m<f;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d-=f}return n.descent=h-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),canvas=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(n){return document.createElement("canvas")}}();canvas.width=canvas.height=10,TextMetrics._canvas=canvas,TextMetrics._context=canvas.getContext("2d"),TextMetrics._fonts={},TextMetrics.METRICS_STRING="|q",TextMetrics.BASELINE_SYMBOL="M",TextMetrics.BASELINE_MULTIPLIER=1.4,TextMetrics.HEIGHT_MULTIPLIER=2,TextMetrics._newlines=[10,13],TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(e){function t(t,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Texture.from(r);return a.orig=new Rectangle,a.trim=new Rectangle,(i=e.call(this,a)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=settings.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=n,i.localStyleID=-1,i}return __extends$c(t,e),t.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!e){this._font=this._style.toFontString();var r,i,o=this.context,a=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,l=a.height,u=a.lines,c=a.lineHeight,f=a.lineWidths,h=a.maxLineWidth,d=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*n.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=n.strokeThickness,o.textBaseline=n.textBaseline,o.lineJoin=n.lineJoin,o.miterLimit=n.miterLimit;for(var p=n.dropShadow?2:1,m=0;m<p;++m){var g=n.dropShadow&&0===m,v=g?Math.ceil(Math.max(1,l)+2*n.padding):0,y=v*this._resolution;if(g){o.fillStyle="black",o.strokeStyle="black";var b=n.dropShadowColor,_=hex2rgb("number"==typeof b?b:string2hex(b));o.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+n.dropShadowAlpha+")",o.shadowBlur=n.dropShadowBlur,o.shadowOffsetX=Math.cos(n.dropShadowAngle)*n.dropShadowDistance,o.shadowOffsetY=Math.sin(n.dropShadowAngle)*n.dropShadowDistance+y}else o.fillStyle=this._generateFillStyle(n,u,a),o.strokeStyle=n.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var E=(c-d.fontSize)/2;(!t.nextLineHeightBehavior||c-d.fontSize<0)&&(E=0);for(var w=0;w<u.length;w++)r=n.strokeThickness/2,i=n.strokeThickness/2+w*c+d.ascent+E,"right"===n.align?r+=h-f[w]:"center"===n.align&&(r+=(h-f[w])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[w],r+n.padding,i+n.padding-v,!0),n.fill&&this.drawLetterSpacing(u[w],r+n.padding,i+n.padding-v)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=t,a=Array.from?Array.from(e):e.split(""),s=this.context.measureText(e).width,l=0,u=0;u<a.length;++u){var c=a[u];r?this.context.strokeText(c,o,n):this.context.fillText(c,o,n),o+=s-(l=this.context.measureText(e.substring(u+1)).width)+i,s=l}else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,s=this.canvas.width/this._resolution-o-2*a,l=this.canvas.height/this._resolution-o-2*a,u=i.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var f=u.length+1,h=1;h<f;++h)c.push(h/f);if(u.unshift(i[0]),c.unshift(0),u.push(i[i.length-1]),c.push(1),e.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,a,s/2,l+a);var d=n.fontProperties.fontSize+e.strokeThickness;for(h=0;h<t.length;h++){var p=n.lineHeight*(h-1)+d,m=n.lineHeight*h,g=m;h>0&&p>m&&(g=(m+p)/2);var v=m+d,y=n.lineHeight*(h+1),b=v;h+1<t.length&&y<v&&(b=(v+y)/2);for(var _=(b-g)/l,E=0;E<u.length;E++){var w=0;w="number"==typeof c[E]?c[E]:E/u.length;var x=Math.min(1,Math.max(0,g/l+w*_));x=Number(x.toFixed(5)),r.addColorStop(x,u[E])}}}else{r=this.context.createLinearGradient(a,l/2,s+a,l/2);var T=u.length+1,S=1;for(h=0;h<u.length;h++){var k=void 0;k="number"==typeof c[h]?c[h]:S/T,r.addColorStop(k,u[h]),S++}}return r},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},defaultDestroyOptions,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof TextStyle?e:new TextStyle(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Sprite);
/*!
 * @pixi/prepare - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
settings.UPLOADS_PER_FRAME=4;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var extendStatics$b=function(e,t){return(extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$b(e,t){function n(){this.constructor=e}extendStatics$b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var CountLimiter=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function findMultipleBaseTextures(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof Texture){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),n=!0)}return n}function findBaseTexture(e,t){if(e.baseTexture instanceof BaseTexture){var n=e.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function findTexture(e,t){if(e._texture&&e._texture instanceof Texture){var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function drawText(e,t){return t instanceof Text&&(t.updateText(!0),!0)}function calculateTextStyle(e,t){if(t instanceof TextStyle){var n=t.toFontString();return TextMetrics.measureFont(n),!0}return!1}function findText(e,t){if(e instanceof Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function findTextStyle(e,t){return e instanceof TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}var BasePrepare=function(){function e(e){var t=this;this.limiter=new CountLimiter(settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Container)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function uploadBaseTextures(e,t){return t instanceof BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function uploadGraphics(e,t){if(!(t instanceof Graphics))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&uploadBaseTextures(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function findGraphics(e,t){return e instanceof Graphics&&(t.push(e),!0)}var Prepare=function(e){function t(t){var n=e.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(findGraphics),n.registerUploadHook(uploadBaseTextures),n.registerUploadHook(uploadGraphics),n}return __extends$b(t,e),t}(BasePrepare),TimeLimiter=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),Spritesheet=function(){function e(e,t,n){void 0===n&&(n=null),this._texture=e instanceof Texture?e:null,this.baseTexture=e instanceof BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,n=getResolutionOfUrl(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new Rectangle(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s=o.rotated?new Rectangle(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new Rectangle(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new Rectangle(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Texture(this.baseTexture,s,c,l,o.rotated?2:0,o.anchor),Texture.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),SpritesheetLoader=function(){function e(){}return e.use=function(t,n){var r,i,o=this,a=t.name+"_image";if(t.data&&t.type===LoaderResource.TYPE.JSON&&t.data.frames&&!o.resources[a]){var s=null===(i=null===(r=t.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(s))for(var l=function(e){if("string"!=typeof e)return"continue";var n=e.replace(".json",""),r=url.resolve(t.url.replace(o.baseUrl,""),e);if(o.resources[n]||Object.values(o.resources).some((function(e){return url.format(url.parse(e.url))===r})))return"continue";var i={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:t};o.add(n,r,i)},u=0,c=s;u<c.length;u++){l(c[u])}var f={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},h=e.getResourcePath(t,o.baseUrl);o.add(a,h,f,(function(e){if(e.error)n(e.error);else{var r=new Spritesheet(e.texture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,n()}))}}))}else n()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:url.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),extendStatics$a=function(e,t){return(extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$a(e,t){function n(){this.constructor=e}extendStatics$a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var tempPoint$1=new Point,TilingSprite=function(e){function t(t,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=e.call(this,t)||this;return i.tileTransform=new Transform,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new TextureMatrix(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return __extends$a(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint$1);var t=this._width,n=this._height,r=-t*this.anchor._x;if(tempPoint$1.x>=r&&tempPoint$1.x<r+t){var i=-n*this.anchor._y;if(tempPoint$1.y>=i&&tempPoint$1.y<i+n)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){return new t(e instanceof Texture?e:Texture.from(e,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Sprite),vertex$3="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",fragment$6="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",fragmentSimple="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",tempMat=new Matrix,TilingSpriteRenderer=function(e){function t(t){var n=e.call(this,t)||this,r={globals:n.renderer.globalUniforms};return n.shader=Shader.from(vertex$3,fragment$6,r),n.simpleShader=Shader.from(vertex$3,fragmentSimple,r),n.quad=new QuadUv,n.state=State.for2d(),n}return __extends$a(t,e),t.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate();var a=e._texture,s=a.baseTexture,l=e.tileTransform.localTransform,u=e.uvMatrix,c=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;c&&(s._glTextures[t.CONTEXT_UID]?c=s.wrapMode!==WRAP_MODES$2.CLAMP:s.wrapMode===WRAP_MODES$2.CLAMP&&(s.wrapMode=WRAP_MODES$2.REPEAT));var f=c?this.simpleShader:this.shader,h=a.width,d=a.height,p=e._width,m=e._height;tempMat.set(l.a*h/p,l.b*h/m,l.c*d/p,l.d*d/m,l.tx/p,l.ty/m),tempMat.invert(),c?tempMat.prepend(u.mapCoord):(f.uniforms.uMapCoord=u.mapCoord.toArray(!0),f.uniforms.uClampFrame=u.uClampFrame,f.uniforms.uClampOffset=u.uClampOffset),f.uniforms.uTransform=tempMat.toArray(!0),f.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,f.uniforms.uColor,s.alphaMode),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,t.shader.bind(f),t.geometry.bind(n),this.state.blendMode=correctBlendMode(e.blendMode,s.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(ObjectRenderer),extendStatics$9=function(e,t){return(extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$9(e,t){function n(){this.constructor=e}extendStatics$9(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var MeshBatchUvs=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),tempPoint=new Point,tempPolygon=new Polygon,Mesh=function(e){function t(t,n,r,i){void 0===i&&(i=DRAW_MODES$2.TRIANGLES);var o=e.call(this)||this;return o.geometry=t,t.refCount++,o.shader=n,o.state=r||State.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=settings.ROUND_PIXELS,o.batchUvs=null,o}return __extends$9(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES$2.TRIANGLES&&n.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,l=r.tx,u=r.ty,c=this.vertexData,f=0;f<c.length/2;f++){var h=t[2*f],d=t[2*f+1];c[2*f]=i*h+a*d+l,c[2*f+1]=o*h+s*d+u}if(this._roundPixels){var p=settings.RESOLUTION;for(f=0;f<c.length;++f)c[f]=Math.round((c[f]*p|0)/p)}this.vertexDirty=n}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,tempPoint);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=tempPolygon.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[u],n[5]=t[u+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Container),fragment$5="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",vertex$2="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",MeshMaterial=function(e){function t(t,n){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=e.call(this,n.program||Program.from(vertex$2,fragment$5),i)||this)._colorDirty=!1,r.uvMatrix=new TextureMatrix(t),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return __extends$9(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Shader),MeshGeometry=function(e){function t(t,n,r){var i=e.call(this)||this,o=new Buffer(t),a=new Buffer(n,!0),s=new Buffer(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,TYPES$2.FLOAT).addAttribute("aTextureCoord",a,2,!1,TYPES$2.FLOAT).addIndex(s),i._updateId=-1,i}return __extends$9(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Geometry),extendStatics$8=function(e,t){return(extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$8(e,t){function n(){this.constructor=e}extendStatics$8(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var BitmapFontData=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},TextFormat=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],o=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var l=o[s].split("="),u=l[0],c=l[1].replace(/"/gm,""),f=parseFloat(c),h=isNaN(f)?c:f;a[u]=h}n[i].push(a)}var d=new BitmapFontData;return n.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),d},e}(),XMLFormat=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new BitmapFontData,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),s=0;s<n.length;s++)t.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<r.length;s++)t.common.push({lineHeight:parseInt(r[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)t.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var l=o[s];t.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)t.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return t},e}(),XMLStringFormat=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return XMLFormat.test(t)}return!1},e.parse=function(e){var t=(new self.DOMParser).parseFromString(e,"text/xml");return XMLFormat.parse(t)},e}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(e){for(var t=0;t<formats.length;t++)if(formats[t].test(e))return formats[t];return null}function generateFillStyle(e,t,n,r,i,o){var a,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=e.width/r-l-2*u,f=e.height/r-l-2*u,h=s.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,m=1;m<p;++m)d.push(m/p);if(h.unshift(s[0]),d.unshift(0),h.push(s[s.length-1]),d.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,f+u);var g=0,v=(o.fontProperties.fontSize+n.strokeThickness)/f;for(m=0;m<i.length;m++)for(var y=o.lineHeight*m,b=0;b<h.length;b++){var _=y/f+("number"==typeof d[b]?d[b]:b/h.length)*v,E=Math.max(g,_);E=Math.min(E,1),a.addColorStop(E,h[b]),g=E}}else{a=t.createLinearGradient(u,f/2,c+u,f/2);var w=h.length+1,x=1;for(m=0;m<h.length;m++){var T=void 0;T="number"==typeof d[m]?d[m]:x/w,a.addColorStop(T,h[m]),x++}}return a}function drawGlyph(e,t,n,r,i,o,a){var s=n.text,l=n.fontProperties;t.translate(r,i),t.scale(o,o);var u=a.strokeThickness/2,c=-a.strokeThickness/2;t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=generateFillStyle(e,t,a,o,[s],n),t.strokeStyle=a.stroke;var f=a.dropShadowColor,h=hex2rgb("number"==typeof f?f:string2hex(f));a.dropShadow?(t.shadowColor="rgba("+255*h[0]+","+255*h[1]+","+255*h[2]+","+a.dropShadowAlpha+")",t.shadowBlur=a.dropShadowBlur,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),a.stroke&&a.strokeThickness&&t.strokeText(s,u,c+n.lineHeight-l.descent),a.fill&&t.fillText(s,u,c+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function resolveCharacters(e){"string"==typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}var BitmapFont=function(){function e(e,t,n){var r=e.info[0],i=e.common[0],o=getResolutionOfUrl(e.page[0].file),a={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=a;for(var s=0;s<e.page.length;s++){var l=e.page[s],u=l.id,c=l.file;a[u]=t instanceof Array?t[s]:t[c]}for(s=0;s<e.char.length;s++){var f=e.char[s],h=(u=f.id,f.page),d=e.char[s],p=d.x,m=d.y,g=d.width,v=d.height,y=d.xoffset,b=d.yoffset,_=d.xadvance;m/=o,g/=o,v/=o,y/=o,b/=o,_/=o;var E=new Rectangle((p/=o)+a[h].frame.x/o,m+a[h].frame.y/o,g,v);this.chars[u]={xOffset:y,yOffset:b,xAdvance:_,kerning:{},texture:new Texture(a[h].baseTexture,E),page:h}}for(s=0;s<e.kerning.length;s++){var w=e.kerning[s],x=w.first,T=w.second,S=w.amount;x/=o,T/=o,S/=o,this.chars[T]&&(this.chars[T].kerning[x]=S)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof BitmapFontData)i=t;else{var o=autoDetectFormat(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof Texture&&(n=[n]);var a=new e(i,n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,u=i.textureHeight,c=resolveCharacters(o),f=n instanceof TextStyle?n:new TextStyle(n),h=l,d=new BitmapFontData;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p,m,g,v=0,y=0,b=0,_=[],E=0;E<c.length;E++){p||((p=document.createElement("canvas")).width=l,p.height=u,m=p.getContext("2d"),g=new BaseTexture(p,{resolution:s}),_.push(new Texture(g)),d.page.push({id:_.length-1,file:""}));var w=TextMetrics.measureText(c[E],f,!1,p),x=w.width,T=Math.ceil(w.height),S=Math.ceil(("italic"===f.fontStyle?2:1)*x);if(y>=u-T*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+f.fontSize+"px fonts");--E,p=null,m=null,g=null,y=0,v=0,b=0}else if(b=Math.max(T+w.fontProperties.descent,b),S*s+v>=h)--E,y+=b*s,y=Math.ceil(y),v=0,b=0;else{drawGlyph(p,m,w,v,y,s,f);var k=w.text.charCodeAt(0);d.char.push({id:k,page:_.length-1,x:v/s,y:y/s,width:S,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(x-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),v+=(S+2*a)*s,v=Math.ceil(v)}}E=0;for(var O=c.length;E<O;E++)for(var A=c[E],C=0;C<O;C++){var P=c[C],M=m.measureText(A).width,R=m.measureText(P).width,I=m.measureText(A+P).width-(M+R);I&&d.kerning.push({first:A.charCodeAt(0),second:P.charCodeAt(0),amount:I})}var D=new e(d,_,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=D,D},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),pageMeshDataPool=[],charRenderDataPool=[],BitmapText=function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,r),a=o.align,s=o.tint,l=o.maxWidth,u=o.letterSpacing,c=o.fontName,f=o.fontSize;if(!BitmapFont.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=f||BitmapFont.available[c].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new ObservablePoint((function(){i.dirty=!0}),i,0,0),i._roundPixels=settings.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return __extends$8(t,e),t.prototype.updateText=function(){for(var e,t=BitmapFont.available[this._fontName],n=this._fontSize/t.size,r=new Point,i=[],o=[],a=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",l=s.length,u=this._maxWidth*t.size/this._fontSize,c=null,f=0,h=0,d=0,p=-1,m=0,g=0,v=0,y=0,b=0;b<l;b++){var _=s.charCodeAt(b),E=s.charAt(b);if(/(?:\s)/.test(E)&&(p=b,m=f,y++),"\r"!==E&&"\n"!==E){var w=t.chars[_];if(w){c&&w.kerning[c]&&(r.x+=w.kerning[c]);var x=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};x.texture=w.texture,x.line=d,x.charCode=_,x.position.x=r.x+w.xOffset+this._letterSpacing/2,x.position.y=r.y+w.yOffset,x.prevSpaces=y,i.push(x),f=x.position.x+w.texture.orig.width,r.x+=w.xAdvance+this._letterSpacing,v=Math.max(v,w.yOffset+w.texture.height),c=_,-1!==p&&u>0&&r.x>u&&(removeItems(i,1+p-++g,1+b-p),b=p,p=-1,o.push(m),a.push(i.length>0?i[i.length-1].prevSpaces:0),h=Math.max(h,m),d++,r.x=0,r.y+=t.lineHeight,c=null,y=0)}}else o.push(f),a.push(-1),h=Math.max(h,f),++d,++g,r.x=0,r.y+=t.lineHeight,c=null,y=0}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(f=m),o.push(f),h=Math.max(h,f),a.push(-1));var S=[];for(b=0;b<=d;b++){var k=0;"right"===this._align?k=h-o[b]:"center"===this._align?k=(h-o[b])/2:"justify"===this._align&&(k=a[b]<0?0:(h-o[b])/a[b]),S.push(k)}var O=i.length,A={},C=[],P=this._activePagesMeshData;for(b=0;b<P.length;b++)pageMeshDataPool.push(P[b]);for(b=0;b<O;b++){var M=(U=i[b].texture).baseTexture.uid;if(!A[M]){if(!(W=pageMeshDataPool.pop())){var R=new MeshGeometry,I=new MeshMaterial(Texture.EMPTY);W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Mesh(R,I),vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var D=this._textureCache;D[M]=D[M]||new Texture(U.baseTexture),W.mesh.texture=D[M],W.mesh.tint=this._tint,C.push(W),A[M]=W}A[M].total++}for(b=0;b<P.length;b++)-1===C.indexOf(P[b])&&this.removeChild(P[b].mesh);for(b=0;b<C.length;b++)C[b].mesh.parent!==this&&this.addChild(C[b].mesh);for(var b in this._activePagesMeshData=C,A){var N=(W=A[b]).total;if(!((null===(e=W.indices)||void 0===e?void 0:e.length)>6*N)||W.vertices.length<2*Mesh.BATCHABLE_SIZE)W.vertices=new Float32Array(8*N),W.uvs=new Float32Array(8*N),W.indices=new Uint16Array(6*N);else for(var L=W.total,F=W.vertices,j=4*L*2;j<F.length;j++)F[j]=0;W.mesh.size=6*N}for(b=0;b<O;b++){var B=(E=i[b]).position.x+S[E.line]*("justify"===this._align?E.prevSpaces:1);this._roundPixels&&(B=Math.round(B));var U,z=B*n,H=E.position.y*n,G=A[(U=E.texture).baseTexture.uid],V=U.frame,$=U._uvs,X=G.index++;G.indices[6*X+0]=0+4*X,G.indices[6*X+1]=1+4*X,G.indices[6*X+2]=2+4*X,G.indices[6*X+3]=0+4*X,G.indices[6*X+4]=2+4*X,G.indices[6*X+5]=3+4*X,G.vertices[8*X+0]=z,G.vertices[8*X+1]=H,G.vertices[8*X+2]=z+V.width*n,G.vertices[8*X+3]=H,G.vertices[8*X+4]=z+V.width*n,G.vertices[8*X+5]=H+V.height*n,G.vertices[8*X+6]=z,G.vertices[8*X+7]=H+V.height*n,G.uvs[8*X+0]=$.x0,G.uvs[8*X+1]=$.y0,G.uvs[8*X+2]=$.x1,G.uvs[8*X+3]=$.y1,G.uvs[8*X+4]=$.x2,G.uvs[8*X+5]=$.y2,G.uvs[8*X+6]=$.x3,G.uvs[8*X+7]=$.y3}for(var b in this._textWidth=h*n,this._textHeight=(r.y+t.lineHeight)*n,A){var W=A[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,q=this._textWidth*this.anchor.x,K=this._textHeight*this.anchor.y,Z=0;Z<W.total;Z++)W.vertices[Y++]-=q,W.vertices[Y++]-=K,W.vertices[Y++]-=q,W.vertices[Y++]-=K,W.vertices[Y++]-=q,W.vertices[Y++]-=K,W.vertices[Y++]-=q,W.vertices[Y++]-=K;this._maxLineHeight=v*n;var Q=W.mesh.geometry.getBuffer("aVertexPosition"),J=W.mesh.geometry.getBuffer("aTextureCoord"),ee=W.mesh.geometry.getIndex();Q.data=W.vertices,J.data=W.uvs,ee.data=W.indices,Q.update(),J.update(),ee.update()}for(b=0;b<i.length;b++)charRenderDataPool.push(i[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!BitmapFont.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Container),BitmapFontLoader=function(){function e(){}return e.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=autoDetectFormat(t.data);if(r)for(var i=e.getBaseUrl(this,t),o=r.parse(t.data),a={},s=function(e){a[e.metadata.pageFile]=e.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=BitmapFont.install(o,a,!0),n())},l=0;l<o.page.length;++l){var u=o.page[l].file,c=i+u,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=u,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(c,p,s)}}else n()},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),extendStatics$7=function(e,t){return(extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$7(e,t){function n(){this.constructor=e}extendStatics$7(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fragment$4="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",AlphaFilter=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,defaultVertex$2,fragment$4,{uAlpha:1})||this;return n.alpha=t,n}return __extends$7(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Filter),extendStatics$6=function(e,t){return(extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$6(e,t){function n(){this.constructor=e}extendStatics$6(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertTemplate="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function generateBlurVertSource(e,t){var n,r=Math.ceil(e/2),i=vertTemplate,o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",e.toString())}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),ENV$1,RENDERER_TYPE$1,BUFFER_BITS$1,BLEND_MODES$1,DRAW_MODES$1,FORMATS$1,TARGETS$1,TYPES$1,SAMPLER_TYPES$1,SCALE_MODES$1,WRAP_MODES$1,MIPMAP_MODES$1,ALPHA_MODES$1,CLEAR_MODES$1,GC_MODES$1,PRECISION$1,MASK_TYPES$1,MSAA_QUALITY$1,BUFFER_TYPE$1;function generateBlurFragSource(e){for(var t,n=GAUSSIAN_VALUES[e],r=n.length,i=fragTemplate,o="",a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());t=a,a>=r&&(t=e-a-1),o+=s=s.replace("%value%",n[t].toString()),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",e.toString())}
/*!
 * @pixi/constants - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$1||(ENV$1={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$1||(RENDERER_TYPE$1={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$1||(BUFFER_BITS$1={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$1||(BLEND_MODES$1={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$1||(DRAW_MODES$1={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$1||(FORMATS$1={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$1||(TARGETS$1={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$1||(TYPES$1={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$1||(SCALE_MODES$1={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$1||(WRAP_MODES$1={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$1||(MIPMAP_MODES$1={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ALPHA_MODES$1||(ALPHA_MODES$1={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$1||(CLEAR_MODES$1={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$1||(GC_MODES$1={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$1||(PRECISION$1={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$1||(MASK_TYPES$1={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$1||(MSAA_QUALITY$1={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var BlurFilterPass=function(e){function t(t,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=settings.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=generateBlurVertSource(o,t),l=generateBlurFragSource(o);return(a=e.call(this,s,l)||this).horizontal=t,a.resolution=i,a._quality=0,a.quality=r,a.blur=n,a}return __extends$6(t,e),t.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,CLEAR_MODES$1.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,CLEAR_MODES$1.BLIT),this.uniforms.uSampler=s;var u=s;s=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Filter),BlurFilter=function(e){function t(t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=settings.FILTER_RESOLUTION),void 0===i&&(i=5);var o=e.call(this)||this;return o.blurXFilter=new BlurFilterPass(!0,t,n,r,i),o.blurYFilter=new BlurFilterPass(!1,t,n,r,i),o.resolution=r,o.quality=n,o.blur=t,o.repeatEdgePixels=!1,o}return __extends$6(t,e),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,CLEAR_MODES$1.CLEAR),this.blurYFilter.apply(e,a,n,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Filter),extendStatics$5=function(e,t){return(extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$5(e,t){function n(){this.constructor=e}extendStatics$5(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fragment$3="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",ColorMatrixFilter=function(e){function t(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,defaultFilterVertex,fragment$3,n)||this).alpha=1,t}return __extends$5(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.tint=function(e,t){var n=[(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,f=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,c,t=t||.15,0,o-l,a-u,s-c,0,0];this._loadMatrix(f,i)},t.prototype.night=function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Filter);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var extendStatics$4=function(e,t){return(extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$4(e,t){function n(){this.constructor=e}extendStatics$4(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fragment$2="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",vertex$1="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",DisplacementFilter=function(e){function t(t,n){var r=this,i=new Matrix;return t.renderable=!1,(r=e.call(this,vertex$1,fragment$2,{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null==n&&(n=20),r.scale=new Point(n,n),r}return __extends$4(t,e),t.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Filter),extendStatics$3=function(e,t){return(extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$3(e,t){function n(){this.constructor=e}extendStatics$3(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",fragment$1='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',FXAAFilter=function(e){function t(){return e.call(this,vertex,fragment$1)||this}return __extends$3(t,e),t}(Filter),extendStatics$2=function(e,t){return(extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$2(e,t){function n(){this.constructor=e}extendStatics$2(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fragment="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",NoiseFilter=function(e){function t(t,n){void 0===t&&(t=.5),void 0===n&&(n=Math.random());var r=e.call(this,defaultFilterVertex,fragment,{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=n,r}return __extends$2(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Filter),ENV,RENDERER_TYPE,BUFFER_BITS,BLEND_MODES,DRAW_MODES,FORMATS,TARGETS,TYPES,SAMPLER_TYPES,SCALE_MODES,WRAP_MODES,MIPMAP_MODES,ALPHA_MODES,CLEAR_MODES,GC_MODES,PRECISION,MASK_TYPES,MSAA_QUALITY,BUFFER_TYPE;!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV||(ENV={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE||(RENDERER_TYPE={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS||(BUFFER_BITS={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES||(BLEND_MODES={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES||(DRAW_MODES={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS||(FORMATS={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS||(TARGETS={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES||(TYPES={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES||(SAMPLER_TYPES={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES||(SCALE_MODES={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES||(WRAP_MODES={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES||(MIPMAP_MODES={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ALPHA_MODES||(ALPHA_MODES={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES||(CLEAR_MODES={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES||(GC_MODES={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION||(PRECISION={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES||(MASK_TYPES={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY||(MSAA_QUALITY={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE||(BUFFER_TYPE={}));var _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1,DisplayObject.prototype._cacheData=null,DisplayObject.prototype._cacheAsBitmapResolution=null,DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE;var CacheData=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new CacheData),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},DisplayObject.prototype._initCachedDisplayObject=function(e){var t;if(!this._cacheData||!this._cacheData.sprite){var n=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(settings.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=RenderTexture.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(t=this.cacheAsBitmapMultisample)&&void 0!==t?t:e.multisample}),c="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=c,BaseTexture.addToCache(u.baseTexture,c),Texture.addToCache(u,c);var f=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,a,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var h=new Sprite(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-r.x/r.width,h.anchor.y=-r.y/r.height,h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}},DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=e.context,i=e._projTransform;t.ceil(settings.RESOLUTION);var o=RenderTexture.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=a,BaseTexture.addToCache(o.baseTexture,a),Texture.addToCache(o,a);var s=_tempMatrix;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:s,skipUpdateTransform:!1}),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new Sprite(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},
/*!
 * @pixi/mixin-get-child-by-name - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
DisplayObject.prototype.name=null,Container.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(e,!0);if(i)return i}}return null},
/*!
 * @pixi/mixin-get-global-position - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
DisplayObject.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Point),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};
/*!
 * @pixi/mesh-extras - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var extendStatics$1=function(e,t){return(extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends$1(e,t){function n(){this.constructor=e}extendStatics$1(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var PlaneGeometry=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=e.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=t,o.height=n,o.build(),o}return __extends$1(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var u=l%this.segWidth,c=l/this.segWidth|0;t.push(u*a,c*s),n.push(u/i,c/o)}var f=i*o;for(l=0;l<f;l++){var h=l%i,d=l/i|0,p=d*this.segWidth+h,m=d*this.segWidth+h+1,g=(d+1)*this.segWidth+h,v=(d+1)*this.segWidth+h+1;r.push(p,m,g,m,v,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(MeshGeometry),RopeGeometry=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=e.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=t,i.textureScale=r,i.build(),i}return __extends$1(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=e[0],l=this._width*this.textureScale,u=e.length,c=0;c<u;c++){var f=4*c;if(this.textureScale>0){var h=s.x-e[c].x,d=s.y-e[c].y,p=Math.sqrt(h*h+d*d);s=e[c],a+=p/l}else a=c/(u-1);i[f]=a,i[f+1]=0,i[f+2]=a,i[f+3]=1}var m=0;for(c=0;c<u-1;c++){f=2*c;o[m++]=f,o[m++]=f+1,o[m++]=f+2,o[m++]=f+2,o[m++]=f+1,o[m++]=f+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,o=this.buffers[0].data,a=e.length,s=0;s<a;s++){var l=e[s],u=4*s;i=-((t=s<e.length-1?e[s+1]:l).x-n.x),r=t.y-n.y;var c=Math.sqrt(r*r+i*i),f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=c,i/=c,r*=f,i*=f,o[u]=l.x+r,o[u+1]=l.y+i,o[u+2]=l.x-r,o[u+3]=l.y-i,n=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(MeshGeometry),SimpleRope=function(e){function t(t,n,r){void 0===r&&(r=0);var i=this,o=new RopeGeometry(t.height,n,r),a=new MeshMaterial(t);return r>0&&(t.baseTexture.wrapMode=WRAP_MODES$2.REPEAT),(i=e.call(this,o,a)||this).autoUpdate=!0,i}return __extends$1(t,e),t.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,t)},t}(Mesh),SimplePlane=function(e){function t(t,n,r){var i=this,o=new PlaneGeometry(t.width,t.height,n,r),a=new MeshMaterial(Texture.WHITE);return(i=e.call(this,o,a)||this).texture=t,i.autoResize=!0,i}return __extends$1(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,n=t.width,r=t.height;!this.autoResize||e.width===n&&e.height===r||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Mesh),SimpleMesh=function(e){function t(t,n,r,i,o){void 0===t&&(t=Texture.EMPTY);var a=this,s=new MeshGeometry(n,r,i);s.getBuffer("aVertexPosition").static=!1;var l=new MeshMaterial(t);return(a=e.call(this,s,l,null,o)||this).autoUpdate=!0,a}return __extends$1(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Mesh),DEFAULT_BORDER_SIZE=10,NineSlicePlane=function(e){function t(t,n,r,i,o){void 0===n&&(n=DEFAULT_BORDER_SIZE),void 0===r&&(r=DEFAULT_BORDER_SIZE),void 0===i&&(i=DEFAULT_BORDER_SIZE),void 0===o&&(o=DEFAULT_BORDER_SIZE);var a=e.call(this,Texture.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=t,a}return __extends$1(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(SimplePlane),extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var AnimatedSprite=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t[0]instanceof Texture?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}return __extends(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Texture.from(e[r]));return new t(n)},t.fromImages=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Texture.from(e[r]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Sprite);
/*!
 * pixi.js - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Renderer.registerPlugin("accessibility",AccessibilityManager),Renderer.registerPlugin("extract",Extract),Renderer.registerPlugin("interaction",InteractionManager),Renderer.registerPlugin("particle",ParticleRenderer),Renderer.registerPlugin("prepare",Prepare),Renderer.registerPlugin("batch",BatchRenderer),Renderer.registerPlugin("tilingSprite",TilingSpriteRenderer),Loader.registerPlugin(BitmapFontLoader),Loader.registerPlugin(CompressedTextureLoader),Loader.registerPlugin(DDSLoader),Loader.registerPlugin(KTXLoader),Loader.registerPlugin(SpritesheetLoader),Application.registerPlugin(TickerPlugin),Application.registerPlugin(AppLoaderPlugin);var VERSION="6.1.2",filters={AlphaFilter:AlphaFilter,BlurFilter:BlurFilter,BlurFilterPass:BlurFilterPass,ColorMatrixFilter:ColorMatrixFilter,DisplacementFilter:DisplacementFilter,FXAAFilter:FXAAFilter,NoiseFilter:NoiseFilter},pixi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",utils:utils,VERSION:VERSION,filters:filters,AccessibilityManager:AccessibilityManager,accessibleTarget:accessibleTarget,InteractionData:InteractionData,InteractionEvent:InteractionEvent,InteractionManager:InteractionManager,InteractionTrackingData:InteractionTrackingData,interactiveTarget:interactiveTarget,Application:Application,AbstractBatchRenderer:AbstractBatchRenderer,AbstractMultiResource:AbstractMultiResource,AbstractRenderer:AbstractRenderer,ArrayResource:ArrayResource,Attribute:Attribute,BaseImageResource:BaseImageResource,BaseRenderTexture:BaseRenderTexture,BaseTexture:BaseTexture,BatchDrawCall:BatchDrawCall,BatchGeometry:BatchGeometry,BatchPluginFactory:BatchPluginFactory,BatchRenderer:BatchRenderer,BatchShaderGenerator:BatchShaderGenerator,BatchSystem:BatchSystem,BatchTextureArray:BatchTextureArray,Buffer:Buffer,BufferResource:BufferResource,CanvasResource:CanvasResource,ContextSystem:ContextSystem,CubeResource:CubeResource,Filter:Filter,FilterState:FilterState,FilterSystem:FilterSystem,Framebuffer:Framebuffer,FramebufferSystem:FramebufferSystem,GLFramebuffer:GLFramebuffer,GLProgram:GLProgram,GLTexture:GLTexture,Geometry:Geometry,GeometrySystem:GeometrySystem,IGLUniformData:IGLUniformData,INSTALLED:INSTALLED,ImageBitmapResource:ImageBitmapResource,ImageResource:ImageResource,MaskData:MaskData,MaskSystem:MaskSystem,ObjectRenderer:ObjectRenderer,Program:Program,ProjectionSystem:ProjectionSystem,Quad:Quad,QuadUv:QuadUv,RenderTexture:RenderTexture,RenderTexturePool:RenderTexturePool,RenderTextureSystem:RenderTextureSystem,Renderer:Renderer,Resource:Resource,SVGResource:SVGResource,ScissorSystem:ScissorSystem,Shader:Shader,ShaderSystem:ShaderSystem,SpriteMaskFilter:SpriteMaskFilter,State:State,StateSystem:StateSystem,StencilSystem:StencilSystem,System:System,Texture:Texture,TextureGCSystem:TextureGCSystem,TextureMatrix:TextureMatrix,TextureSystem:TextureSystem,TextureUvs:TextureUvs,UniformGroup:UniformGroup,VideoResource:VideoResource,ViewableBuffer:ViewableBuffer,autoDetectRenderer:autoDetectRenderer,autoDetectResource:autoDetectResource,checkMaxIfStatementsInShader:checkMaxIfStatementsInShader,createUBOElements:createUBOElements,defaultFilterVertex:defaultFilterVertex,defaultVertex:defaultVertex$2,generateProgram:generateProgram,generateUniformBufferSync:generateUniformBufferSync,getTestContext:getTestContext,getUBOData:getUBOData,resources:resources,systems:systems,uniformParsers:uniformParsers,Extract:Extract,AppLoaderPlugin:AppLoaderPlugin,Loader:Loader,get LoaderResource(){return LoaderResource},TextureLoader:TextureLoader,BlobResource:BlobResource,CompressedTextureLoader:CompressedTextureLoader,CompressedTextureResource:CompressedTextureResource,DDSLoader:DDSLoader,FORMATS_TO_COMPONENTS:FORMATS_TO_COMPONENTS,get INTERNAL_FORMATS(){return INTERNAL_FORMATS},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,KTXLoader:KTXLoader,TYPES_TO_BYTES_PER_COMPONENT:TYPES_TO_BYTES_PER_COMPONENT,TYPES_TO_BYTES_PER_PIXEL:TYPES_TO_BYTES_PER_PIXEL,ParticleContainer:ParticleContainer,ParticleRenderer:ParticleRenderer,BasePrepare:BasePrepare,CountLimiter:CountLimiter,Prepare:Prepare,TimeLimiter:TimeLimiter,Spritesheet:Spritesheet,SpritesheetLoader:SpritesheetLoader,TilingSprite:TilingSprite,TilingSpriteRenderer:TilingSpriteRenderer,BitmapFont:BitmapFont,BitmapFontData:BitmapFontData,BitmapFontLoader:BitmapFontLoader,BitmapText:BitmapText,Ticker:Ticker,TickerPlugin:TickerPlugin,get UPDATE_PRIORITY(){return UPDATE_PRIORITY},get ALPHA_MODES(){return ALPHA_MODES$2},get BLEND_MODES(){return BLEND_MODES$2},get BUFFER_BITS(){return BUFFER_BITS$2},get BUFFER_TYPE(){return BUFFER_TYPE$2},get CLEAR_MODES(){return CLEAR_MODES$2},get DRAW_MODES(){return DRAW_MODES$2},get ENV(){return ENV$2},get FORMATS(){return FORMATS$2},get GC_MODES(){return GC_MODES$2},get MASK_TYPES(){return MASK_TYPES$2},get MIPMAP_MODES(){return MIPMAP_MODES$2},get MSAA_QUALITY(){return MSAA_QUALITY$2},get PRECISION(){return PRECISION$2},get RENDERER_TYPE(){return RENDERER_TYPE$2},get SAMPLER_TYPES(){return SAMPLER_TYPES$2},get SCALE_MODES(){return SCALE_MODES$2},get TARGETS(){return TARGETS$2},get TYPES(){return TYPES$2},get WRAP_MODES(){return WRAP_MODES$2},Bounds:Bounds,Container:Container,DisplayObject:DisplayObject,TemporaryDisplayObject:TemporaryDisplayObject,FillStyle:FillStyle,GRAPHICS_CURVES:GRAPHICS_CURVES,Graphics:Graphics,GraphicsData:GraphicsData,GraphicsGeometry:GraphicsGeometry,get LINE_CAP(){return LINE_CAP},get LINE_JOIN(){return LINE_JOIN},LineStyle:LineStyle,graphicsUtils:graphicsUtils,Circle:Circle,DEG_TO_RAD:DEG_TO_RAD,Ellipse:Ellipse,Matrix:Matrix,ObservablePoint:ObservablePoint,PI_2:PI_2,Point:Point,Polygon:Polygon,RAD_TO_DEG:RAD_TO_DEG,Rectangle:Rectangle,RoundedRectangle:RoundedRectangle,get SHAPES(){return SHAPES},Transform:Transform,groupD8:groupD8,Mesh:Mesh,MeshBatchUvs:MeshBatchUvs,MeshGeometry:MeshGeometry,MeshMaterial:MeshMaterial,NineSlicePlane:NineSlicePlane,PlaneGeometry:PlaneGeometry,RopeGeometry:RopeGeometry,SimpleMesh:SimpleMesh,SimplePlane:SimplePlane,SimpleRope:SimpleRope,Runner:Runner,Sprite:Sprite,AnimatedSprite:AnimatedSprite,get TEXT_GRADIENT(){return TEXT_GRADIENT},Text:Text,TextMetrics:TextMetrics,TextStyle:TextStyle,isMobile:isMobile,settings:settings}),require$$2=getAugmentedNamespace(pixi);(function(module,exports){var t2;window,t2=function(__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__22__,__WEBPACK_EXTERNAL_MODULE__135__){return function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);u.length;)u.shift()()}var n={},r={0:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t,n=[],o=r[e];if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(t,n){o=r[e]=[t,n]}));n.push(o[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=(t=e,i.p+""+t+".gosling.js");var u=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonpgosling=window.webpackJsonpgosling||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=a;return i(i.s=532)}([function(e,t,n){e.exports=n(484)()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(e,t,n){t.__esModule=!0;var r,i=(r=n(226))&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){n.d(t,"a",(function(){return i}));
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
      
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
      
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(167))&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r=a(n(477)),i=a(n(481)),o=a(n(167));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){n.d(t,"z",(function(){return N})),n.d(t,"m",(function(){return L})),n.d(t,"w",(function(){return F})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return B})),n.d(t,"d",(function(){return U})),n.d(t,"i",(function(){return z})),n.d(t,"l",(function(){return H})),n.d(t,"j",(function(){return G})),n.d(t,"k",(function(){return V})),n.d(t,"s",(function(){return $})),n.d(t,"t",(function(){return X})),n.d(t,"p",(function(){return W})),n.d(t,"x",(function(){return Y})),n.d(t,"a",(function(){return q})),n.d(t,"c",(function(){return K})),n.d(t,"e",(function(){return Z})),n.d(t,"b",(function(){return Q})),n.d(t,"o",(function(){return J})),n.d(t,"r",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"q",(function(){return re})),n.d(t,"v",(function(){return ie})),n.d(t,"u",(function(){return oe})),n.d(t,"C",(function(){return ae})),n.d(t,"A",(function(){return se})),n.d(t,"B",(function(){return le})),n.d(t,"y",(function(){return ue}));var r=n(38),i=n(27),o=n(545),a=n(46),s=n(59),l=e=>()=>e;function u(e,t){return function(n){return e+n*t}}function c(e,t){var n=t-e;return n?u(e,n):l(isNaN(e)?t:e)}var f,h=(f=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return function(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}((n-r/t)*t,a,i,o,s)}},function(e){var t,n,r=e.length,i=new Array(r),o=new Array(r),a=new Array(r);for(t=0;t<r;++t)n=Object(s.f)(e[t]),i[t]=n.r||0,o[t]=n.g||0,a[t]=n.b||0;return i=f(i),o=f(o),a=f(a),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=a(e),n+""}}),d=e=>h(e[e.length-1]),p=d(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(a.a)),m=n(77);const g=Math.PI/180,v=180/Math.PI;var y=-.14861,b=1.78277,_=-.29227,E=-.90649,w=1.97294,x=w*E,T=w*b,S=b*_-E*y;function k(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);e instanceof s.b||(e=Object(s.g)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(S*r+x*t-T*n)/(S+x-T),o=r-i,a=(w*(n-i)-_*o)/E,l=Math.sqrt(a*a+o*o)/(w*i*(1-i)),u=l?Math.atan2(a,o)*v-120:NaN;return new A(u<0?u+360:u,l,i,e.opacity)}function O(e,t,n,r){return 1===arguments.length?k(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function C(e){return function t(n){function r(t,r){var i=e((t=O(t)).h,(r=O(r)).h),o=c(t.s,r.s),a=c(t.l,r.l),s=c(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Object(m.a)(A,O,Object(m.b)(s.a,{brighter:function(e){return e=null==e?s.c:Math.pow(s.c,e),new A(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.d:Math.pow(s.d,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*g,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.b(255*(t+n*(y*r+b*i)),255*(t+n*(_*r+E*i)),255*(t+n*(w*r)),this.opacity)}})),C((function(e,t){var n=t-e;return n?u(e,n>180||n<-180?n-360*Math.round(n/360):n):l(isNaN(e)?t:e)}));var P=C(c),M=P(O(-100,.75,.35),O(80,1.5,.8)),R=(P(O(260,.75,.35),O(80,1.5,.8)),O(),d(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(a.a))),I=d(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(a.a)),D=d(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(a.a));const N={viridis:o.a,grey:p,warm:M,spectral:R,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},bupu:I,rdbu:D};function L(e){return!("alignment"in e)&&!e.tracks.find((e=>"overlay"===e.alignment||"tracks"in e))}function F(e){return!(L(e)||(t=e,"alignment"in t&&"overlay"===t.alignment));var t}function j(e){return!W(e)&&"data"in e&&!("mark"in e)}function B(e){return!!("data"in e&&"overrideTemplate"in e&&e.overrideTemplate)}function U(e){return"object"==typeof e}function z(e){return"chromosome"in e&&!("interval"in e)}function H(e){return!("chromosome"in e)&&"interval"in e}function G(e){return"chromosome"in e&&"interval"in e}function V(e){return"gene"in e}function $(e){return"object"!=typeof e}function X(e){return!("overlay"in e)}function W(e){return"overlay"in e}function Y(e){return"template"in e}function q(e){return X(e)&&Q(e.x)&&"genomic"===e.x.type&&Q(e.y)&&"genomic"===e.y.type}function K(e){return null!==e&&"object"==typeof e&&"value"in e}function Z(e){return void 0!==e&&("vector"===e.type||"beddb"===e.type||"multivec"===e.type||"bigwig"===e.type||"matrix"===e.type||"bam"===e.type)}function Q(e){return"object"==typeof e&&!("value"in e)}function J(e){return"oneOf"in e}function ee(e){return"inRange"in e}function te(e){return"include"in e}function ne(e){return Object(i.isArray)(e)}function re(e){return Object(i.isArray)(e)}function ie(e){return("bar"===e.mark||"area"===e.mark||"text"===e.mark)&&Q(e.color)&&"nominal"===e.color.type&&(!e.row||K(e.row))&&Q(e.y)&&"quantitative"===e.y.type}function oe(e,t){const n=e[t];return ie(e)&&("x"===t||"y"===t)&&Q(n)&&"quantitative"===n.type}function ae(e,t){if(Q(t)&&t.field)return e[null==t?void 0:t.field]}function se(e){const t=[];return r.a.forEach((n=>{const r=e[n];Q(r)&&"aggregate"in r&&t.push(n)})),t}function le(e,t){const n=[];return r.a.forEach((r=>{const i=e[r];Q(i)&&i.type===t&&n.push(r)})),n}function ue(e){if((X(e)||W(e))&&Q(e.x)&&e.x.axis&&"none"!==e.x.axis)return!0;if(W(e)){let t=!1;return e.overlay.forEach((e=>{t||Q(e.x)&&e.x.axis&&"none"!==e.x.axis&&(t=!0)})),t}return!1}},function(e,t,n){t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){var r;
/*!
        Copyright (c) 2017 Jed Watson.
        Licensed under the MIT License (MIT), see
        http://jedwatson.github.io/classnames
      */!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){n.d(t,"a",(function(){return c}));var r=n(3),i=n(58),o=n(120),a=n(16),s=n(95),l=n(34),u=n(75),c=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),f=function(e){function t(t,n,r,a){var s,l=e.call(this)||this;l._parentSubscriber=t;var u=l;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=s,l._error=r,l._complete=a,l}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));const r=0;function i(e,t,n,i,o){const a=Math.max(Math.min(t,e),0),s=null!=o?o:r,l=(i-n)/360*Math.PI*2-2*s;return-(n/360*Math.PI*2+a/t*l)-Math.PI/2-s}function o(e,t,n,r,o,a,s){return{x:r+n*Math.cos(i(e,t,a,s)),y:o+n*Math.sin(i(e,t,a,s))}}function a(e,t,n,r){return n<=e?Math.atan((t-r)/(e-n)):Math.atan((t-r)/(e-n))-Math.PI}},function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(3),i=n(10),o=n(14),a=n(74),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.a),l=(i.a,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.a));function u(e,t){if(!t.closed)return e instanceof o.a?e.subscribe(t):Object(a.a)(e)(t)}i.a},function(e,t,n){var r=n(135),i=n(59),o=n(31);t.a=e=>{let t=Object(i.e)(e);return t||(t=Object(i.e)(o.a)),r.utils.rgb2hex([t.rgb().r/255,t.rgb().g/255,t.rgb().b/255])}},function(e,t,n){n.d(t,"a",(function(){return c}));var r=n(117),i=n(10),o=n(95),a=n(120),s=n(53),l=n(92),u=n(34),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(l.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(492),o=a(n(115));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t];return r.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,i.isValidElementType)(s)?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(21),i=n(116),o=n(58),a=n(96),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,u=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(o.a)(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(p){t=p instanceof a.a?l(p.errors):[p]}}if(Object(r.a)(c)){f=-1;for(var h=c.length;++f<h;){var d=c[f];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof a.a?t=t.concat(l(p.errors)):t.push(p)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(533);const i={chr1:248956422,chr2:242193529,chr3:198295559,chr4:190214555,chr5:181538259,chr6:170805979,chr7:159345973,chr8:145138636,chr9:138394717,chr10:133797422,chr11:135086622,chr12:133275309,chr13:114364328,chr14:107043718,chr15:101991189,chr16:90338345,chr17:83257441,chr18:80373285,chr19:58617616,chr20:64444167,chr21:46709983,chr22:50818468,chrX:156040895,chrY:57227415},o={chr1:249250621,chr2:243199373,chr3:198022430,chr4:191154276,chr5:180915260,chr6:171115067,chr7:159138663,chr8:146364022,chr9:141213431,chr10:135534747,chr11:135006516,chr12:133851895,chr13:115169878,chr14:107349540,chr15:102531392,chr16:90354753,chr17:81195210,chr18:78077248,chr19:59128983,chr20:63025520,chr21:48129895,chr22:51304566,chrX:155270560,chrY:59373566,chrM:16571},a={chr1:247249719,chr2:242951149,chr3:199501827,chr4:191273063,chr5:180857866,chr6:170899992,chr7:158821424,chr8:146274826,chr9:140273252,chr10:135374737,chr11:134452384,chr12:132349534,chr13:114142980,chr14:106368585,chr15:100338915,chr16:88827254,chr17:78774742,chr18:76117153,chr19:63811651,chr20:62435964,chr21:46944323,chr22:49691432,chrX:154913754,chrY:57772954,chrM:16571},s={chr1:245522847,chr2:243018229,chr3:199505740,chr4:191411218,chr5:180857866,chr6:170975699,chr7:158628139,chr8:146274826,chr9:138429268,chr10:135413628,chr11:134452384,chr12:132449811,chr13:114142980,chr14:106368585,chr15:100338915,chr16:88827254,chr17:78774742,chr18:76117153,chr19:63811651,chr20:62435964,chr21:46944323,chr22:49554710,chrX:154824264,chrY:57701691,chrM:16571},l={chr1:246127941,chr2:243615958,chr3:199344050,chr4:191731959,chr5:181034922,chr6:170914576,chr7:158545518,chr8:146308819,chr9:136372045,chr10:135037215,chr11:134482954,chr12:132078379,chr13:113042980,chr14:105311216,chr15:100256656,chr16:90041932,chr17:81860266,chr18:76115139,chr19:63811651,chr20:63741868,chr21:46976097,chr22:49396972,chrX:153692391,chrY:50286555,chrM:16571},u={chr1:195471971,chr2:182113224,chr3:160039680,chr4:156508116,chr5:151834684,chr6:149736546,chr7:145441459,chr8:129401213,chr9:124595110,chr10:130694993,chr11:122082543,chr12:120129022,chr13:120421639,chr14:124902244,chr15:104043685,chr16:98207768,chr17:94987271,chr18:90702639,chr19:61431566,chrX:171031299,chrY:91744698,chrM:16299},c={chr1:197195432,chr2:181748087,chr3:159599783,chr4:155630120,chr5:152537259,chr6:149517037,chr7:152524553,chr8:131738871,chr9:124076172,chr10:129993255,chr11:121843856,chr12:121257530,chr13:120284312,chr14:125194864,chr15:103494974,chr16:98319150,chr17:95272651,chr18:90772031,chr19:61342430,chrX:166650296,chrY:15902555,chrM:16299};function f(e,t){const n=Object.entries(h(t).interval).find((t=>{const[,[n,r]]=t;return n<=e&&e<r}));if(!n)return""+e;const i=Object(r.a)(",")(e-n[1][0]);return`${n[0]}:${i}`}function h(e){return e&&e in p?p[e]:p.hg38}const d=e=>`https://s3.amazonaws.com/gosling-lang.org/data/${e}.chrom.sizes`,p=Object.freeze({hg38:{size:i,interval:m(i),total:g(i),path:d("hg38")},hg19:{size:o,interval:m(o),total:g(o),path:d("hg19")},hg18:{size:a,interval:m(a),total:g(a),path:d("hg18")},hg17:{size:s,interval:m(s),total:g(s),path:d("hg17")},hg16:{size:l,interval:m(l),total:g(l),path:d("hg16")},mm10:{size:u,interval:m(u),total:g(u),path:d("mm10")},mm9:{size:c,interval:m(c),total:g(c),path:d("mm9")}});function m(e){const t={};return Object.keys(e).reduce(((n,r)=>(t[r]=[n,n+e[r]],n+e[r])),0),t}function g(e){return Object.values(e).reduce(((e,t)=>e+t),0)}},function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(3),i=n(14),o=n(10),a=n(16),s=n(55),l=n(172),u=n(95),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(o.a),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[u.a]=function(){return new c(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new l.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.a),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(f)},function(e,t,n){n.d(t,"a",(function(){return r}));const r=1},function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(67),i=new(n(65).a)(r.a),o=i},function(e,t,n){n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__22__},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(3),i=n(10);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.a)},function(e,t,n){function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(14),i=new r.a((function(e){return e.complete()}));function o(e){return e?(t=e,new r.a((function(e){return t.schedule((function(){return e.complete()}))}))):i;var t}},function(e,t,n){(function(e,r){var i;
/**
         * @license
         * Lodash <https://lodash.com/>
         * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
         * Released under MIT license <https://lodash.com/license>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",u="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",E="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",T="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",O="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",M="[object Uint16Array]",R="[object Uint32Array]",I=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,j=RegExp(L.source),B=RegExp(F.source),U=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,W=RegExp(X.source),Y=/^\s+|\s+$/g,q=/^\s+/,K=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="["+de+"]",me="["+he+"]",ge="\\d+",ve="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+de+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Te="(?:"+ve+"|"+ye+")",Se="(?:"+xe+"|"+ye+")",ke="(?:"+me+"|"+be+")?",Oe="[\\ufe0e\\ufe0f]?"+ke+"(?:\\u200d(?:"+[_e,Ee,we].join("|")+")[\\ufe0e\\ufe0f]?"+ke+")*",Ae="(?:"+["[\\u2700-\\u27bf]",Ee,we].join("|")+")"+Oe,Ce="(?:"+[_e+me+"?",me,Ee,we,"[\\ud800-\\udfff]"].join("|")+")",Pe=RegExp("[']","g"),Me=RegExp(me,"g"),Re=RegExp(be+"(?="+be+")|"+Ce+Oe,"g"),Ie=RegExp([xe+"?"+ve+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[pe,xe,"$"].join("|")+")",Se+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[pe,xe+Te,"$"].join("|")+")",xe+"?"+Te+"+(?:['](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ae].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,je={};je[S]=je[k]=je[O]=je[A]=je[C]=je[P]=je["[object Uint8ClampedArray]"]=je[M]=je[R]=!0,je[l]=je[u]=je[x]=je[c]=je[T]=je[f]=je[h]=je[d]=je[m]=je[g]=je[v]=je[y]=je[b]=je[_]=je[w]=!1;var Be={};Be[l]=Be[u]=Be[x]=Be[T]=Be[c]=Be[f]=Be[S]=Be[k]=Be[O]=Be[A]=Be[C]=Be[m]=Be[g]=Be[v]=Be[y]=Be[b]=Be[_]=Be[E]=Be[P]=Be["[object Uint8ClampedArray]"]=Be[M]=Be[R]=!0,Be[h]=Be[d]=Be[w]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,He=parseInt,Ge="object"==typeof e&&e&&e.Object===Object&&e,Ve="object"==typeof self&&self&&self.Object===Object&&self,$e=Ge||Ve||Function("return this")(),Xe=t&&!t.nodeType&&t,We=Xe&&"object"==typeof r&&r&&!r.nodeType&&r,Ye=We&&We.exports===Xe,qe=Ye&&Ge.process,Ke=function(){try{return We&&We.require&&We.require("util").types||qe&&qe.binding&&qe.binding("util")}catch(e){}}(),Ze=Ke&&Ke.isArrayBuffer,Qe=Ke&&Ke.isDate,Je=Ke&&Ke.isMap,et=Ke&&Ke.isRegExp,tt=Ke&&Ke.isSet,nt=Ke&&Ke.isTypedArray;function rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function it(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ut(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=xt("length");function vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function yt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function bt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):yt(e,Et,n)}function _t(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Et(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?kt(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function Tt(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function kt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function At(e){return function(t){return e(t)}}function Ct(e,t){return ft(t,(function(t){return e[t]}))}function Pt(e,t){return e.has(t)}function Mt(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function It(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Dt=Tt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Nt=Tt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+Ue[e]}function Ft(e){return De.test(e)}function jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Bt(e,t){return function(n){return e(t(n))}}function Ut(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Ht(e){return Ft(e)?function(e){for(var t=Re.lastIndex=0;Re.test(e);)++t;return t}(e):gt(e)}function Gt(e){return Ft(e)?e.match(Re)||[]:function(e){return e.split("")}(e)}var Vt=Tt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$t=function e(t){var n,r=(t=null==t?$e:$t.defaults($e.Object(),t,$t.pick($e,Le))).Array,i=t.Date,he=t.Error,de=t.Function,pe=t.Math,me=t.Object,ge=t.RegExp,ve=t.String,ye=t.TypeError,be=r.prototype,_e=de.prototype,Ee=me.prototype,we=t["__core-js_shared__"],xe=_e.toString,Te=Ee.hasOwnProperty,Se=0,ke=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Oe=Ee.toString,Ae=xe.call(me),Ce=$e._,Re=ge("^"+xe.call(Te).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=Ye?t.Buffer:void 0,Ue=t.Symbol,Ge=t.Uint8Array,Ve=De?De.allocUnsafe:void 0,Xe=Bt(me.getPrototypeOf,me),We=me.create,qe=Ee.propertyIsEnumerable,Ke=be.splice,gt=Ue?Ue.isConcatSpreadable:void 0,Tt=Ue?Ue.iterator:void 0,Xt=Ue?Ue.toStringTag:void 0,Wt=function(){try{var e=Zi(me,"defineProperty");return e({},"",{}),e}catch(t){}}(),Yt=t.clearTimeout!==$e.clearTimeout&&t.clearTimeout,qt=i&&i.now!==$e.Date.now&&i.now,Kt=t.setTimeout!==$e.setTimeout&&t.setTimeout,Zt=pe.ceil,Qt=pe.floor,Jt=me.getOwnPropertySymbols,en=De?De.isBuffer:void 0,tn=t.isFinite,nn=be.join,rn=Bt(me.keys,me),on=pe.max,an=pe.min,sn=i.now,ln=t.parseInt,un=pe.random,cn=be.reverse,fn=Zi(t,"DataView"),hn=Zi(t,"Map"),dn=Zi(t,"Promise"),pn=Zi(t,"Set"),mn=Zi(t,"WeakMap"),gn=Zi(me,"create"),vn=mn&&new mn,yn={},bn=Oo(fn),_n=Oo(hn),En=Oo(dn),wn=Oo(pn),xn=Oo(mn),Tn=Ue?Ue.prototype:void 0,Sn=Tn?Tn.valueOf:void 0,kn=Tn?Tn.toString:void 0;function On(e){if(Va(e)&&!Ia(e)&&!(e instanceof Mn)){if(e instanceof Pn)return e;if(Te.call(e,"__wrapped__"))return Ao(e)}return new Pn(e)}var An=function(){function e(){}return function(t){if(!Ga(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Cn(){}function Pn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Mn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new In(e);this.size=t.size}function Fn(e,t){var n=Ia(e),r=!n&&Ra(e),i=!n&&!r&&Fa(e),o=!n&&!r&&!i&&Qa(e),a=n||r||i||o,s=a?Ot(e.length,ve):[],l=s.length;for(var u in e)!t&&!Te.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||io(u,l))||s.push(u);return s}function jn(e){var t=e.length;return t?e[Dr(0,t-1)]:void 0}function Bn(e,t){return wo(mi(e),Yn(t,0,e.length))}function Un(e){return wo(mi(e))}function zn(e,t,n){(void 0!==n&&!Ca(e[t],n)||void 0===n&&!(t in e))&&Xn(e,t,n)}function Hn(e,t,n){var r=e[t];Te.call(e,t)&&Ca(r,n)&&(void 0!==n||t in e)||Xn(e,t,n)}function Gn(e,t){for(var n=e.length;n--;)if(Ca(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return Jn(e,(function(e,i,o){t(r,e,n(e),o)})),r}function $n(e,t){return e&&gi(t,_s(t),e)}function Xn(e,t,n){"__proto__"==t&&Wt?Wt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:ms(e,t[n]);return o}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function qn(e,t,n,r,i,o){var a,s=1&t,u=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Ga(e))return e;var w,I,D,N=Ia(e);if(N){if(I=(w=e).length,D=new w.constructor(I),I&&"string"==typeof w[0]&&Te.call(w,"index")&&(D.index=w.index,D.input=w.input),a=D,!s)return mi(e,a)}else{var L=eo(e),F=L==d||L==p;if(Fa(e))return ui(e,s);if(L==v||L==l||F&&!i){if(a=u||F?{}:no(e),!s)return u?function(e,t){return gi(e,Ji(e),t)}(e,function(e,t){return e&&gi(t,Es(t),e)}(a,e)):function(e,t){return gi(e,Qi(e),t)}(e,$n(a,e))}else{if(!Be[L])return i?e:{};a=function(e,t,n){var r,i,o,a=e.constructor;switch(t){case x:return ci(e);case c:case f:return new a(+e);case T:return r=e,i=n?ci(r.buffer):r.buffer,new r.constructor(i,r.byteOffset,r.byteLength);case S:case k:case O:case A:case C:case P:case"[object Uint8ClampedArray]":case M:case R:return fi(e,n);case m:return new a;case g:case _:return new a(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new a;case E:return o=e,Sn?me(Sn.call(o)):{}}}(e,L,s)}}o||(o=new Ln);var j=o.get(e);if(j)return j;o.set(e,a),qa(e)?e.forEach((function(r){a.add(qn(r,t,n,r,e,o))})):$a(e)&&e.forEach((function(r,i){a.set(i,qn(r,t,n,i,e,o))}));var B=N?void 0:(h?u?Vi:Gi:u?Es:_s)(e);return ot(B||e,(function(r,i){B&&(r=e[i=r]),Hn(a,i,qn(r,t,n,i,e,o))})),a}function Kn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ye(o);return yo((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var i=-1,o=ut,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=ft(t,At(n))),r?(o=ct,a=!1):t.length>=200&&(o=Pt,a=!1,t=new Nn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(c)}else o(t,f,r)||l.push(c)}return l}On.templateSettings={escape:U,evaluate:z,interpolate:H,variable:"",imports:{_:On}},On.prototype=Cn.prototype,On.prototype.constructor=On,Pn.prototype=An(Cn.prototype),Pn.prototype.constructor=Pn,Mn.prototype=An(Cn.prototype),Mn.prototype.constructor=Mn,Rn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Rn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Te.call(t,e)?t[e]:void 0},Rn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Te.call(t,e)},Rn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(e){var t=this.__data__,n=Gn(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},In.prototype.get=function(e){var t=this.__data__,n=Gn(t,e);return n<0?void 0:t[n][1]},In.prototype.has=function(e){return Gn(this.__data__,e)>-1},In.prototype.set=function(e,t){var n=this.__data__,r=Gn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(hn||In),string:new Rn}},Dn.prototype.delete=function(e){var t=qi(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return qi(this,e).get(e)},Dn.prototype.has=function(e){return qi(this,e).has(e)},Dn.prototype.set=function(e,t){var n=qi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new In,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof In){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(e,t),this.size=n.size,this};var Jn=bi(sr),er=bi(lr,!0);function tr(e,t){var n=!0;return Jn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,l=o}return l}function rr(e,t){var n=[];return Jn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ir(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ro),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ir(s,t-1,n,r,i):ht(i,s):r||(i[i.length]=s)}return i}var or=_i(),ar=_i(!0);function sr(e,t){return e&&or(e,t,_s)}function lr(e,t){return e&&ar(e,t,_s)}function ur(e,t){return lt(t,(function(t){return Ua(e[t])}))}function cr(e,t){for(var n=0,r=(t=oi(t,e)).length;null!=e&&n<r;)e=e[ko(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Ia(e)?r:ht(r,n(e))}function hr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Xt&&Xt in me(e)?function(e){var t=Te.call(e,Xt),n=e[Xt];try{e[Xt]=void 0;var r=!0}catch(o){}var i=Oe.call(e);return r&&(t?e[Xt]=n:delete e[Xt]),i}(e):(t=e,Oe.call(t));var t}function dr(e,t){return e>t}function pr(e,t){return null!=e&&Te.call(e,t)}function mr(e,t){return null!=e&&t in me(e)}function gr(e,t,n){for(var i=n?ct:ut,o=e[0].length,a=e.length,s=a,l=r(a),u=1/0,c=[];s--;){var f=e[s];s&&t&&(f=ft(f,At(t))),u=an(f.length,u),l[s]=!n&&(t||o>=120&&f.length>=120)?new Nn(s&&f):void 0}f=e[0];var h=-1,d=l[0];e:for(;++h<o&&c.length<u;){var p=f[h],m=t?t(p):p;if(p=n||0!==p?p:0,!(d?Pt(d,m):i(c,m,n))){for(s=a;--s;){var g=l[s];if(!(g?Pt(g,m):i(e[s],m,n)))continue e}d&&d.push(m),c.push(p)}}return c}function vr(e,t,n){var r=null==(e=po(e,t=oi(t,e)))?e:e[ko(Bo(t))];return null==r?void 0:rt(r,e,n)}function yr(e){return Va(e)&&hr(e)==l}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Ia(e),s=Ia(t),d=a?u:eo(e),p=s?u:eo(t),w=(d=d==l?v:d)==v,S=(p=p==l?v:p)==v,k=d==p;if(k&&Fa(e)){if(!Fa(t))return!1;a=!0,w=!1}if(k&&!w)return o||(o=new Ln),a||Qa(e)?zi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new Ge(e),new Ge(t)));case c:case f:case g:return Ca(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case _:return e==t+"";case m:var s=jt;case b:var l=1&r;if(s||(s=zt),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var d=zi(s(e),s(t),r,i,o,a);return a.delete(e),d;case E:if(Sn)return Sn.call(e)==Sn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var O=w&&Te.call(e,"__wrapped__"),A=S&&Te.call(t,"__wrapped__");if(O||A){var C=O?e.value():e,P=A?t.value():t;return o||(o=new Ln),i(C,P,n,r,o)}}return!!k&&(o||(o=new Ln),function(e,t,n,r,i,o){var a=1&n,s=Gi(e),l=s.length;if(l!=Gi(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Te.call(t,c)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=a?r(g,m,c,t,e,o):r(m,g,c,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o))}(e,t,n,r,br,i))}function _r(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=me(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Ln;if(r)var h=r(u,c,l,e,t,f);if(!(void 0===h?br(c,u,3,r,f):h))return!1}}return!0}function Er(e){return!(!Ga(e)||(t=e,ke&&ke in t))&&(Ua(e)?Re:ae).test(Oo(e));var t}function wr(e){return"function"==typeof e?e:null==e?Xs:"object"==typeof e?Ia(e)?Or(e[0],e[1]):kr(e):tl(e)}function xr(e){if(!uo(e))return rn(e);var t=[];for(var n in me(e))Te.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Tr(e,t){return e<t}function Sr(e,t){var n=-1,i=Na(e)?r(e.length):[];return Jn(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function kr(e){var t=Ki(e);return 1==t.length&&t[0][2]?fo(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Or(e,t){return ao(e)&&co(t)?fo(ko(e),t):function(n){var r=ms(n,e);return void 0===r&&r===t?gs(n,e):br(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&or(t,(function(o,a){if(i||(i=new Ln),Ga(o))!function(e,t,n,r,i,o,a){var s=go(e,n),l=go(t,n),u=a.get(l);if(u)zn(e,n,u);else{var c=o?o(s,l,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=Ia(l),d=!h&&Fa(l),p=!h&&!d&&Qa(l);c=l,h||d||p?Ia(s)?c=s:La(s)?c=mi(s):d?(f=!1,c=ui(l,!0)):p?(f=!1,c=fi(l,!0)):c=[]:Wa(l)||Ra(l)?(c=s,Ra(s)?c=as(s):Ga(s)&&!Ua(s)||(c=no(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),zn(e,n,c)}}(e,t,a,n,Ar,r,i);else{var s=r?r(go(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),zn(e,a,s)}}),Es)}function Cr(e,t){var n=e.length;if(n)return io(t+=t<0?n:0,n)?e[t]:void 0}function Pr(e,t,n){t=t.length?ft(t,(function(e){return Ia(e)?function(t){return cr(t,1===e.length?e[0]:e)}:e})):[Xs];var r=-1;return t=ft(t,At(Yi())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=hi(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(Sr(e,(function(e,n,i){return{criteria:ft(t,(function(t){return t(e)})),index:++r,value:e}})))}function Mr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=cr(e,a);n(s,a)&&Br(o,oi(a,e),s)}return o}function Rr(e,t,n,r){var i=r?_t:bt,o=-1,a=t.length,s=e;for(e===t&&(t=mi(t)),n&&(s=ft(e,At(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Ir(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;io(i)?Ke.call(e,i,1):Zr(e,i)}}return e}function Dr(e,t){return e+Qt(un()*(t-e+1))}function Nr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Lr(e,t){return bo(ho(e,t,Xs),e+"")}function Fr(e){return jn(Cs(e))}function jr(e,t){var n=Cs(e);return wo(n,Yn(t,0,n.length))}function Br(e,t,n,r){if(!Ga(e))return e;for(var i=-1,o=(t=oi(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=ko(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Ga(c)?c:io(t[i+1])?[]:{})}Hn(s,l,u),s=s[l]}return e}var Ur=vn?function(e,t){return vn.set(e,t),e}:Xs,zr=Wt?function(e,t){return Wt(e,"toString",{configurable:!0,enumerable:!1,value:Gs(t),writable:!0})}:Xs;function Hr(e){return wo(Cs(e))}function Gr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Vr(e,t){var n;return Jn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function $r(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Xr(e,t,Xs,n)}function Xr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,l=Za(t),u=void 0===t;i<o;){var c=Qt((i+o)/2),f=n(e[c]),h=void 0!==f,d=null===f,p=f==f,m=Za(f);if(a)var g=r||p;else g=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);g?i=c+1:o=c}return an(o,4294967294)}function Wr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ca(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Yr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function qr(e){if("string"==typeof e)return e;if(Ia(e))return ft(e,qr)+"";if(Za(e))return kn?kn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kr(e,t,n){var r=-1,i=ut,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=ct;else if(o>=200){var u=t?null:Ni(e);if(u)return zt(u);a=!1,i=Pt,l=new Nn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function Zr(e,t){return null==(e=po(e,t=oi(t,e)))||delete e[ko(Bo(t))]}function Qr(e,t,n,r){return Br(e,t,n(cr(e,t)),r)}function Jr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gr(e,r?0:o,r?o+1:i):Gr(e,r?o+1:0,r?i:o)}function ei(e,t){var n=e;return n instanceof Mn&&(n=n.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),n)}function ti(e,t,n){var i=e.length;if(i<2)return i?Kr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=Qn(a[o]||s,e[l],t,n));return Kr(ir(a,1),t,n)}function ni(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ri(e){return La(e)?e:[]}function ii(e){return"function"==typeof e?e:Xs}function oi(e,t){return Ia(e)?e:ao(e,t)?[e]:So(ss(e))}var ai=Lr;function si(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Gr(e,t,n)}var li=Yt||function(e){return $e.clearTimeout(e)};function ui(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function ci(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function fi(e,t){var n=t?ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Za(e),a=void 0!==t,s=null===t,l=t==t,u=Za(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function di(e,t,n,i){for(var o=-1,a=e.length,s=n.length,l=-1,u=t.length,c=on(a-s,0),f=r(u+c),h=!i;++l<u;)f[l]=t[l];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}function pi(e,t,n,i){for(var o=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,f=on(a-l,0),h=r(f+c),d=!i;++o<f;)h[o]=e[o];for(var p=o;++u<c;)h[p+u]=t[u];for(;++s<l;)(d||o<a)&&(h[p+n[s]]=e[o++]);return h}function mi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function gi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Xn(n,s,l):Hn(n,s,l)}return n}function vi(e,t){return function(n,r){var i=Ia(n)?it:Vn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function yi(e){return Lr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&oo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=me(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function bi(e,t){return function(n,r){if(null==n)return n;if(!Na(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=me(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(e){return function(t,n,r){for(var i=-1,o=me(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Ei(e){return function(t){var n=Ft(t=ss(t))?Gt(t):void 0,r=n?n[0]:t.charAt(0),i=n?si(n,1).join(""):t.slice(1);return r[e]()+i}}function wi(e){return function(t){return dt(Us(Rs(t).replace(Pe,"")),e,"")}}function xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),r=e.apply(n,t);return Ga(r)?r:n}}function Ti(e){return function(t,n,r){var i=me(t);if(!Na(t)){var o=Yi(n,3);t=_s(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Si(e){return Hi((function(t){var n=t.length,r=n,i=Pn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ye(o);if(i&&!s&&"wrapper"==Xi(a))var s=new Pn([],!0)}for(r=s?r:n;++r<n;){var l=Xi(a=t[r]),u="wrapper"==l?$i(a):void 0;s=u&&so(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Xi(u[0])].apply(s,u[3]):1==a.length&&so(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ia(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ki(e,t,n,i,o,a,s,l,u,c){var f=128&t,h=1&t,d=2&t,p=24&t,m=512&t,g=d?void 0:xi(e);return function v(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var E=Wi(v),w=It(b,E);if(i&&(b=di(b,i,o,p)),a&&(b=pi(b,a,s,p)),y-=w,p&&y<c){var x=Ut(b,E);return Ii(e,t,ki,v.placeholder,n,b,x,l,u,c-y)}var T=h?n:this,S=d?T[e]:e;return y=b.length,l?b=mo(b,l):m&&y>1&&b.reverse(),f&&u<y&&(b.length=u),this&&this!==$e&&this instanceof v&&(S=g||xi(S)),S.apply(T,b)}}function Oi(e,t){return function(n,r){return i=n,o=e,a=t(r),s={},sr(i,(function(e,t,n){o(s,a(e),t,n)})),s;var i,o,a,s}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=qr(n),r=qr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ci(e){return Hi((function(t){return t=ft(t,At(Yi())),Lr((function(n){var r=this;return e(t,(function(e){return rt(e,r,n)}))}))}))}function Pi(e,t){var n=(t=void 0===t?" ":qr(t)).length;if(n<2)return n?Nr(t,e):t;var r=Nr(t,Zt(e/Ht(t)));return Ft(t)?si(Gt(r),0,e).join(""):r.slice(0,e)}function Mi(e){return function(t,n,i){return i&&"number"!=typeof i&&oo(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var o=-1,a=on(Zt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Ii(e,t,n,r,i,o,a,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u],h=n.apply(void 0,f);return so(e)&&vo(h,f),h.placeholder=r,_o(h,e,t)}function Di(e){var t=pe[e];return function(e,n){if(e=os(e),(n=null==n?0:an(rs(n),292))&&tn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ni=pn&&1/zt(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Zs;function Li(e){return function(t){var n,r=eo(t);return r==m?jt(t):r==b?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):(n=t,ft(e(t),(function(e){return[e,n[e]]})))}}function Fi(e,t,n,i,s,l,u,c){var f=2&t;if(!f&&"function"!=typeof e)throw new ye(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),u=void 0===u?u:on(rs(u),0),c=void 0===c?c:rs(c),h-=s?s.length:0,64&t){var d=i,p=s;i=s=void 0}var m,g,v,y,b=f?void 0:$i(e),_=[e,t,n,i,s,d,p,l,u,c];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?di(u,l,t[4]):l,e[4]=u?Ut(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?pi(u,l,t[6]):l,e[6]=u?Ut(e[5],a):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,b),e=_[0],t=_[1],n=_[2],i=_[3],s=_[4],!(c=_[9]=void 0===_[9]?f?0:e.length:on(_[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?(g=t,v=c,y=xi(m=e),function e(){for(var t=arguments.length,n=r(t),i=t,o=Wi(e);i--;)n[i]=arguments[i];var a=t<3&&n[0]!==o&&n[t-1]!==o?[]:Ut(n,o);if((t-=a.length)<v)return Ii(m,g,ki,e.placeholder,void 0,n,a,void 0,void 0,v-t);var s=this&&this!==$e&&this instanceof e?y:m;return rt(s,this,n)}):32!=t&&33!=t||s.length?ki.apply(void 0,_):function(e,t,n,i){var o=1&t,a=xi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,f=r(c+l),h=this&&this!==$e&&this instanceof t?a:e;++u<c;)f[u]=i[u];for(;l--;)f[u++]=arguments[++s];return rt(h,o?n:this,f)}}(e,t,n,i);else var E=function(e,t,n){var r=1&t,i=xi(e);return function t(){var o=this&&this!==$e&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return _o((b?Ur:vo)(E,_),e,t)}function ji(e,t,n,r){return void 0===e||Ca(e,Ee[n])&&!Te.call(r,n)?t:e}function Bi(e,t,n,r,i,o){return Ga(e)&&Ga(t)&&(o.set(t,e),Ar(e,t,void 0,Bi,o),o.delete(t)),e}function Ui(e){return Wa(e)?void 0:e}function zi(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new Nn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],m=t[f];if(r)var g=a?r(m,p,f,t,e,o):r(p,m,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!mt(t,(function(e,t){if(!Pt(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Hi(e){return bo(ho(e,void 0,Do),e+"")}function Gi(e){return fr(e,_s,Qi)}function Vi(e){return fr(e,Es,Ji)}var $i=vn?function(e){return vn.get(e)}:Zs;function Xi(e){for(var t=e.name+"",n=yn[t],r=Te.call(yn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Wi(e){return(Te.call(On,"placeholder")?On:e).placeholder}function Yi(){var e=On.iteratee||Ws;return e=e===Ws?wr:e,arguments.length?e(arguments[0],arguments[1]):e}function qi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ki(e){for(var t=_s(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,co(i)]}return t}function Zi(e,t){var n,r,i=(r=t,null==(n=e)?void 0:n[r]);return Er(i)?i:void 0}var Qi=Jt?function(e){return null==e?[]:(e=me(e),lt(Jt(e),(function(t){return qe.call(e,t)})))}:il,Ji=Jt?function(e){for(var t=[];e;)ht(t,Qi(e)),e=Xe(e);return t}:il,eo=hr;function to(e,t,n){for(var r=-1,i=(t=oi(t,e)).length,o=!1;++r<i;){var a=ko(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ha(i)&&io(a,i)&&(Ia(e)||Ra(e))}function no(e){return"function"!=typeof e.constructor||uo(e)?{}:An(Xe(e))}function ro(e){return Ia(e)||Ra(e)||!!(gt&&e&&e[gt])}function io(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function oo(e,t,n){if(!Ga(n))return!1;var r=typeof t;return!!("number"==r?Na(n)&&io(t,n.length):"string"==r&&t in n)&&Ca(n[t],e)}function ao(e,t){if(Ia(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||V.test(e)||!G.test(e)||null!=t&&e in me(t)}function so(e){var t=Xi(e),n=On[t];if("function"!=typeof n||!(t in Mn.prototype))return!1;if(e===n)return!0;var r=$i(n);return!!r&&e===r[0]}(fn&&eo(new fn(new ArrayBuffer(1)))!=T||hn&&eo(new hn)!=m||dn&&"[object Promise]"!=eo(dn.resolve())||pn&&eo(new pn)!=b||mn&&eo(new mn)!=w)&&(eo=function(e){var t=hr(e),n=t==v?e.constructor:void 0,r=n?Oo(n):"";if(r)switch(r){case bn:return T;case _n:return m;case En:return"[object Promise]";case wn:return b;case xn:return w}return t});var lo=we?Ua:ol;function uo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ee)}function co(e){return e==e&&!Ga(e)}function fo(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in me(n))}}function ho(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=on(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),rt(e,this,l)}}function po(e,t){return t.length<2?e:cr(e,Gr(t,0,-1))}function mo(e,t){for(var n=e.length,r=an(t.length,n),i=mi(e);r--;){var o=t[r];e[r]=io(o,n)?i[o]:void 0}return e}function go(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var vo=Eo(Ur),yo=Kt||function(e,t){return $e.setTimeout(e,t)},bo=Eo(zr);function _o(e,t,n){var r,i=t+"";return bo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Z,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return ot(s,(function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)})),e.sort()}((r=i.match(Q))?r[1].split(J):[],n)))}function Eo(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Dr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var xo,To,So=(xo=xa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}),(function(e){return 500===To.size&&To.clear(),e})),To=xo.cache,xo);function ko(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Oo(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ao(e){if(e instanceof Mn)return e.clone();var t=new Pn(e.__wrapped__,e.__chain__);return t.__actions__=mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Co=Lr((function(e,t){return La(e)?Qn(e,ir(t,1,La,!0)):[]})),Po=Lr((function(e,t){var n=Bo(t);return La(n)&&(n=void 0),La(e)?Qn(e,ir(t,1,La,!0),Yi(n,2)):[]})),Mo=Lr((function(e,t){var n=Bo(t);return La(n)&&(n=void 0),La(e)?Qn(e,ir(t,1,La,!0),void 0,n):[]}));function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),yt(e,Yi(t,3),i)}function Io(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):an(i,r-1)),yt(e,Yi(t,3),i,!0)}function Do(e){return null!=e&&e.length?ir(e,1):[]}function No(e){return e&&e.length?e[0]:void 0}var Lo=Lr((function(e){var t=ft(e,ri);return t.length&&t[0]===e[0]?gr(t):[]})),Fo=Lr((function(e){var t=Bo(e),n=ft(e,ri);return t===Bo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Yi(t,2)):[]})),jo=Lr((function(e){var t=Bo(e),n=ft(e,ri);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function Bo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Uo=Lr(zo);function zo(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Ho=Hi((function(e,t){var n=null==e?0:e.length,r=Wn(e,t);return Ir(e,ft(t,(function(e){return io(e,n)?+e:e})).sort(hi)),r}));function Go(e){return null==e?e:cn.call(e)}var Vo=Lr((function(e){return Kr(ir(e,1,La,!0))})),$o=Lr((function(e){var t=Bo(e);return La(t)&&(t=void 0),Kr(ir(e,1,La,!0),Yi(t,2))})),Xo=Lr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,Kr(ir(e,1,La,!0),void 0,t)}));function Wo(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(La(e))return t=on(e.length,t),!0})),Ot(t,(function(t){return ft(e,xt(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Wo(e);return null==t?n:ft(n,(function(e){return rt(t,void 0,e)}))}var qo=Lr((function(e,t){return La(e)?Qn(e,t):[]})),Ko=Lr((function(e){return ti(lt(e,La))})),Zo=Lr((function(e){var t=Bo(e);return La(t)&&(t=void 0),ti(lt(e,La),Yi(t,2))})),Qo=Lr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,ti(lt(e,La),void 0,t)})),Jo=Lr(Wo),ea=Lr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function ta(e){var t=On(e);return t.__chain__=!0,t}function na(e,t){return t(e)}var ra=Hi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Wn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Mn&&io(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Pn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),ia=vi((function(e,t,n){Te.call(e,n)?++e[n]:Xn(e,n,1)})),oa=Ti(Ro),aa=Ti(Io);function sa(e,t){return(Ia(e)?ot:Jn)(e,Yi(t,3))}function la(e,t){return(Ia(e)?at:er)(e,Yi(t,3))}var ua=vi((function(e,t,n){Te.call(e,n)?e[n].push(t):Xn(e,n,[t])})),ca=Lr((function(e,t,n){var i=-1,o="function"==typeof t,a=Na(e)?r(e.length):[];return Jn(e,(function(e){a[++i]=o?rt(t,e,n):vr(e,t,n)})),a})),fa=vi((function(e,t,n){Xn(e,n,t)}));function ha(e,t){return(Ia(e)?ft:Sr)(e,Yi(t,3))}var da=vi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),pa=Lr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&oo(e,t[0],t[1])?t=[]:n>2&&oo(t[0],t[1],t[2])&&(t=[t[0]]),Pr(e,ir(t,1),[])})),ma=qt||function(){return $e.Date.now()};function ga(e,t,n){return t=n?void 0:t,Fi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function va(e,t){var n;if("function"!=typeof t)throw new ye(o);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ya=Lr((function(e,t,n){var r=1;if(n.length){var i=Ut(n,Wi(ya));r|=32}return Fi(e,r,t,n,i)})),ba=Lr((function(e,t,n){var r=3;if(n.length){var i=Ut(n,Wi(ba));r|=32}return Fi(t,r,e,n,i)}));function _a(e,t,n){var r,i,a,s,l,u,c=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new ye(o);function p(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function m(e){return c=e,l=yo(v,t),f?p(e):s}function g(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-c>=a}function v(){var e,n,r=ma();if(g(r))return y(r);l=yo(v,(n=t-((e=r)-u),h?an(n,a-(e-c)):n))}function y(e){return l=void 0,d&&r?p(e):(r=i=void 0,s)}function b(){var e=ma(),n=g(e);if(r=arguments,i=this,u=e,n){if(void 0===l)return m(u);if(h)return li(l),l=yo(v,t),p(u)}return void 0===l&&(l=yo(v,t)),s}return t=os(t)||0,Ga(n)&&(f=!!n.leading,a=(h="maxWait"in n)?on(os(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==l&&li(l),c=0,r=u=i=l=void 0},b.flush=function(){return void 0===l?s:y(ma())},b}var Ea=Lr((function(e,t){return Zn(e,1,t)})),wa=Lr((function(e,t,n){return Zn(e,os(t)||0,n)}));function xa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(xa.Cache||Dn),n}function Ta(e){if("function"!=typeof e)throw new ye(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xa.Cache=Dn;var Sa=ai((function(e,t){var n=(t=1==t.length&&Ia(t[0])?ft(t[0],At(Yi())):ft(ir(t,1),At(Yi()))).length;return Lr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return rt(e,this,r)}))})),ka=Lr((function(e,t){return Fi(e,32,void 0,t,Ut(t,Wi(ka)))})),Oa=Lr((function(e,t){return Fi(e,64,void 0,t,Ut(t,Wi(Oa)))})),Aa=Hi((function(e,t){return Fi(e,256,void 0,void 0,void 0,t)}));function Ca(e,t){return e===t||e!=e&&t!=t}var Pa=Ri(dr),Ma=Ri((function(e,t){return e>=t})),Ra=yr(function(){return arguments}())?yr:function(e){return Va(e)&&Te.call(e,"callee")&&!qe.call(e,"callee")},Ia=r.isArray,Da=Ze?At(Ze):function(e){return Va(e)&&hr(e)==x};function Na(e){return null!=e&&Ha(e.length)&&!Ua(e)}function La(e){return Va(e)&&Na(e)}var Fa=en||ol,ja=Qe?At(Qe):function(e){return Va(e)&&hr(e)==f};function Ba(e){if(!Va(e))return!1;var t=hr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wa(e)}function Ua(e){if(!Ga(e))return!1;var t=hr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function za(e){return"number"==typeof e&&e==rs(e)}function Ha(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ga(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var $a=Je?At(Je):function(e){return Va(e)&&eo(e)==m};function Xa(e){return"number"==typeof e||Va(e)&&hr(e)==g}function Wa(e){if(!Va(e)||hr(e)!=v)return!1;var t=Xe(e);if(null===t)return!0;var n=Te.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Ae}var Ya=et?At(et):function(e){return Va(e)&&hr(e)==y},qa=tt?At(tt):function(e){return Va(e)&&eo(e)==b};function Ka(e){return"string"==typeof e||!Ia(e)&&Va(e)&&hr(e)==_}function Za(e){return"symbol"==typeof e||Va(e)&&hr(e)==E}var Qa=nt?At(nt):function(e){return Va(e)&&Ha(e.length)&&!!je[hr(e)]},Ja=Ri(Tr),es=Ri((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Na(e))return Ka(e)?Gt(e):mi(e);if(Tt&&e[Tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Tt]());var t=eo(e);return(t==m?jt:t==b?zt:Cs)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Yn(rs(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(Ga(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ga(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Y,"");var n=oe.test(e);return n||se.test(e)?He(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function as(e){return gi(e,Es(e))}function ss(e){return null==e?"":qr(e)}var ls=yi((function(e,t){if(uo(t)||Na(t))gi(t,_s(t),e);else for(var n in t)Te.call(t,n)&&Hn(e,n,t[n])})),us=yi((function(e,t){gi(t,Es(t),e)})),cs=yi((function(e,t,n,r){gi(t,Es(t),e,r)})),fs=yi((function(e,t,n,r){gi(t,_s(t),e,r)})),hs=Hi(Wn),ds=Lr((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&oo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Es(o),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(void 0===c||Ca(c,Ee[u])&&!Te.call(e,u))&&(e[u]=o[u])}return e})),ps=Lr((function(e){return e.push(void 0,Bi),rt(xs,void 0,e)}));function ms(e,t,n){var r=null==e?void 0:cr(e,t);return void 0===r?n:r}function gs(e,t){return null!=e&&to(e,t,mr)}var vs=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=n}),Gs(Xs)),ys=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),Te.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),bs=Lr(vr);function _s(e){return Na(e)?Fn(e):xr(e)}function Es(e){return Na(e)?Fn(e,!0):function(e){if(!Ga(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=uo(e),n=[];for(var r in e)("constructor"!=r||!t&&Te.call(e,r))&&n.push(r);return n}(e)}var ws=yi((function(e,t,n){Ar(e,t,n)})),xs=yi((function(e,t,n,r){Ar(e,t,n,r)})),Ts=Hi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ft(t,(function(t){return t=oi(t,e),r||(r=t.length>1),t})),gi(e,Vi(e),n),r&&(n=qn(n,7,Ui));for(var i=t.length;i--;)Zr(n,t[i]);return n})),Ss=Hi((function(e,t){return null==e?{}:Mr(n=e,t,(function(e,t){return gs(n,t)}));var n}));function ks(e,t){if(null==e)return{};var n=ft(Vi(e),(function(e){return[e]}));return t=Yi(t),Mr(e,n,(function(e,n){return t(e,n[0])}))}var Os=Li(_s),As=Li(Es);function Cs(e){return null==e?[]:Ct(e,_s(e))}var Ps=wi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ms(t):t)}));function Ms(e){return Bs(ss(e).toLowerCase())}function Rs(e){return(e=ss(e))&&e.replace(ue,Dt).replace(Me,"")}var Is=wi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ds=wi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ns=Ei("toLowerCase"),Ls=wi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Fs=wi((function(e,t,n){return e+(n?" ":"")+Bs(t)})),js=wi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Bs=Ei("toUpperCase");function Us(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?(r=e,Ne.test(r)?function(e){return e.match(Ie)||[]}(e):function(e){return e.match(ee)||[]}(e)):e.match(t)||[];var r}var zs=Lr((function(e,t){try{return rt(e,void 0,t)}catch(n){return Ba(n)?n:new he(n)}})),Hs=Hi((function(e,t){return ot(t,(function(t){t=ko(t),Xn(e,t,ya(e[t],e))})),e}));function Gs(e){return function(){return e}}var Vs=Si(),$s=Si(!0);function Xs(e){return e}function Ws(e){return wr("function"==typeof e?e:qn(e,1))}var Ys=Lr((function(e,t){return function(n){return vr(n,e,t)}})),qs=Lr((function(e,t){return function(n){return vr(e,n,t)}}));function Ks(e,t,n){var r=_s(t),i=ur(t,r);null!=n||Ga(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=ur(t,_s(t)));var o=!(Ga(n)&&"chain"in n&&!n.chain),a=Ua(e);return ot(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})})),e}function Zs(){}var Qs=Ci(ft),Js=Ci(st),el=Ci(mt);function tl(e){return ao(e)?xt(ko(e)):(t=e,function(e){return cr(e,t)});var t}var nl=Mi(),rl=Mi(!0);function il(){return[]}function ol(){return!1}var al,sl=Ai((function(e,t){return e+t}),0),ll=Di("ceil"),ul=Ai((function(e,t){return e/t}),1),cl=Di("floor"),fl=Ai((function(e,t){return e*t}),1),hl=Di("round"),dl=Ai((function(e,t){return e-t}),0);return On.after=function(e,t){if("function"!=typeof t)throw new ye(o);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},On.ary=ga,On.assign=ls,On.assignIn=us,On.assignInWith=cs,On.assignWith=fs,On.at=hs,On.before=va,On.bind=ya,On.bindAll=Hs,On.bindKey=ba,On.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ia(e)?e:[e]},On.chain=ta,On.chunk=function(e,t,n){t=(n?oo(e,t,n):void 0===t)?1:on(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Zt(i/t));o<i;)s[a++]=Gr(e,o,o+=t);return s},On.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},On.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(Ia(n)?mi(n):[n],ir(t,1))},On.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ye(o);return[n(e[0]),e[1]]})):[],Lr((function(n){for(var r=-1;++r<t;){var i=e[r];if(rt(i[0],this,n))return rt(i[1],this,n)}}))},On.conforms=function(e){return function(e){var t=_s(e);return function(n){return Kn(n,e,t)}}(qn(e,1))},On.constant=Gs,On.countBy=ia,On.create=function(e,t){var n=An(e);return null==t?n:$n(n,t)},On.curry=function e(t,n,r){var i=Fi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.curryRight=function e(t,n,r){var i=Fi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.debounce=_a,On.defaults=ds,On.defaultsDeep=ps,On.defer=Ea,On.delay=wa,On.difference=Co,On.differenceBy=Po,On.differenceWith=Mo,On.drop=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},On.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},On.dropRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0,!0):[]},On.dropWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!0):[]},On.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&oo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},On.filter=function(e,t){return(Ia(e)?lt:rr)(e,Yi(t,3))},On.flatMap=function(e,t){return ir(ha(e,t),1)},On.flatMapDeep=function(e,t){return ir(ha(e,t),1/0)},On.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ir(ha(e,t),n)},On.flatten=Do,On.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},On.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:rs(t)):[]},On.flip=function(e){return Fi(e,512)},On.flow=Vs,On.flowRight=$s,On.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},On.functions=function(e){return null==e?[]:ur(e,_s(e))},On.functionsIn=function(e){return null==e?[]:ur(e,Es(e))},On.groupBy=ua,On.initial=function(e){return null!=e&&e.length?Gr(e,0,-1):[]},On.intersection=Lo,On.intersectionBy=Fo,On.intersectionWith=jo,On.invert=vs,On.invertBy=ys,On.invokeMap=ca,On.iteratee=Ws,On.keyBy=fa,On.keys=_s,On.keysIn=Es,On.map=ha,On.mapKeys=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Xn(n,t(e,r,i),e)})),n},On.mapValues=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Xn(n,r,t(e,r,i))})),n},On.matches=function(e){return kr(qn(e,1))},On.matchesProperty=function(e,t){return Or(e,qn(t,1))},On.memoize=xa,On.merge=ws,On.mergeWith=xs,On.method=Ys,On.methodOf=qs,On.mixin=Ks,On.negate=Ta,On.nthArg=function(e){return e=rs(e),Lr((function(t){return Cr(t,e)}))},On.omit=Ts,On.omitBy=function(e,t){return ks(e,Ta(Yi(t)))},On.once=function(e){return va(2,e)},On.orderBy=function(e,t,n,r){return null==e?[]:(Ia(t)||(t=null==t?[]:[t]),Ia(n=r?void 0:n)||(n=null==n?[]:[n]),Pr(e,t,n))},On.over=Qs,On.overArgs=Sa,On.overEvery=Js,On.overSome=el,On.partial=ka,On.partialRight=Oa,On.partition=da,On.pick=Ss,On.pickBy=ks,On.property=tl,On.propertyOf=function(e){return function(t){return null==e?void 0:cr(e,t)}},On.pull=Uo,On.pullAll=zo,On.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Yi(n,2)):e},On.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},On.pullAt=Ho,On.range=nl,On.rangeRight=rl,On.rearg=Aa,On.reject=function(e,t){return(Ia(e)?lt:rr)(e,Ta(Yi(t,3)))},On.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Ir(e,i),n},On.rest=function(e,t){if("function"!=typeof e)throw new ye(o);return Lr(e,t=void 0===t?t:rs(t))},On.reverse=Go,On.sampleSize=function(e,t,n){return t=(n?oo(e,t,n):void 0===t)?1:rs(t),(Ia(e)?Bn:jr)(e,t)},On.set=function(e,t,n){return null==e?e:Br(e,t,n)},On.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,t,n,r)},On.shuffle=function(e){return(Ia(e)?Un:Hr)(e)},On.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&oo(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),Gr(e,t,n)):[]},On.sortBy=pa,On.sortedUniq=function(e){return e&&e.length?Wr(e):[]},On.sortedUniqBy=function(e,t){return e&&e.length?Wr(e,Yi(t,2)):[]},On.split=function(e,t,n){return n&&"number"!=typeof n&&oo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Ya(t))&&!(t=qr(t))&&Ft(e)?si(Gt(e),0,n):e.split(t,n):[]},On.spread=function(e,t){if("function"!=typeof e)throw new ye(o);return t=null==t?0:on(rs(t),0),Lr((function(n){var r=n[t],i=si(n,0,t);return r&&ht(i,r),rt(e,this,i)}))},On.tail=function(e){var t=null==e?0:e.length;return t?Gr(e,1,t):[]},On.take=function(e,t,n){return e&&e.length?Gr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},On.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Gr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},On.takeRightWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3),!1,!0):[]},On.takeWhile=function(e,t){return e&&e.length?Jr(e,Yi(t,3)):[]},On.tap=function(e,t){return t(e),e},On.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ye(o);return Ga(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_a(e,t,{leading:r,maxWait:t,trailing:i})},On.thru=na,On.toArray=ts,On.toPairs=Os,On.toPairsIn=As,On.toPath=function(e){return Ia(e)?ft(e,ko):Za(e)?[e]:mi(So(ss(e)))},On.toPlainObject=as,On.transform=function(e,t,n){var r=Ia(e),i=r||Fa(e)||Qa(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ga(e)&&Ua(o)?An(Xe(e)):{}}return(i?ot:sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},On.unary=function(e){return ga(e,1)},On.union=Vo,On.unionBy=$o,On.unionWith=Xo,On.uniq=function(e){return e&&e.length?Kr(e):[]},On.uniqBy=function(e,t){return e&&e.length?Kr(e,Yi(t,2)):[]},On.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Kr(e,void 0,t):[]},On.unset=function(e,t){return null==e||Zr(e,t)},On.unzip=Wo,On.unzipWith=Yo,On.update=function(e,t,n){return null==e?e:Qr(e,t,ii(n))},On.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,ii(n),r)},On.values=Cs,On.valuesIn=function(e){return null==e?[]:Ct(e,Es(e))},On.without=qo,On.words=Us,On.wrap=function(e,t){return ka(ii(t),e)},On.xor=Ko,On.xorBy=Zo,On.xorWith=Qo,On.zip=Jo,On.zipObject=function(e,t){return ni(e||[],t||[],Hn)},On.zipObjectDeep=function(e,t){return ni(e||[],t||[],Br)},On.zipWith=ea,On.entries=Os,On.entriesIn=As,On.extend=us,On.extendWith=cs,Ks(On,On),On.add=sl,On.attempt=zs,On.camelCase=Ps,On.capitalize=Ms,On.ceil=ll,On.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Yn(os(e),t,n)},On.clone=function(e){return qn(e,4)},On.cloneDeep=function(e){return qn(e,5)},On.cloneDeepWith=function(e,t){return qn(e,5,t="function"==typeof t?t:void 0)},On.cloneWith=function(e,t){return qn(e,4,t="function"==typeof t?t:void 0)},On.conformsTo=function(e,t){return null==t||Kn(e,t,_s(t))},On.deburr=Rs,On.defaultTo=function(e,t){return null==e||e!=e?t:e},On.divide=ul,On.endsWith=function(e,t,n){e=ss(e),t=qr(t);var r=e.length,i=n=void 0===n?r:Yn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},On.eq=Ca,On.escape=function(e){return(e=ss(e))&&B.test(e)?e.replace(F,Nt):e},On.escapeRegExp=function(e){return(e=ss(e))&&W.test(e)?e.replace(X,"\\$&"):e},On.every=function(e,t,n){var r=Ia(e)?st:tr;return n&&oo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},On.find=oa,On.findIndex=Ro,On.findKey=function(e,t){return vt(e,Yi(t,3),sr)},On.findLast=aa,On.findLastIndex=Io,On.findLastKey=function(e,t){return vt(e,Yi(t,3),lr)},On.floor=cl,On.forEach=sa,On.forEachRight=la,On.forIn=function(e,t){return null==e?e:or(e,Yi(t,3),Es)},On.forInRight=function(e,t){return null==e?e:ar(e,Yi(t,3),Es)},On.forOwn=function(e,t){return e&&sr(e,Yi(t,3))},On.forOwnRight=function(e,t){return e&&lr(e,Yi(t,3))},On.get=ms,On.gt=Pa,On.gte=Ma,On.has=function(e,t){return null!=e&&to(e,t,pr)},On.hasIn=gs,On.head=No,On.identity=Xs,On.includes=function(e,t,n,r){e=Na(e)?e:Cs(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Ka(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},On.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),bt(e,t,i)},On.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),(r=e=os(e))>=an(i=t,o=n)&&r<on(i,o);var r,i,o},On.invoke=bs,On.isArguments=Ra,On.isArray=Ia,On.isArrayBuffer=Da,On.isArrayLike=Na,On.isArrayLikeObject=La,On.isBoolean=function(e){return!0===e||!1===e||Va(e)&&hr(e)==c},On.isBuffer=Fa,On.isDate=ja,On.isElement=function(e){return Va(e)&&1===e.nodeType&&!Wa(e)},On.isEmpty=function(e){if(null==e)return!0;if(Na(e)&&(Ia(e)||"string"==typeof e||"function"==typeof e.splice||Fa(e)||Qa(e)||Ra(e)))return!e.length;var t=eo(e);if(t==m||t==b)return!e.size;if(uo(e))return!xr(e).length;for(var n in e)if(Te.call(e,n))return!1;return!0},On.isEqual=function(e,t){return br(e,t)},On.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},On.isError=Ba,On.isFinite=function(e){return"number"==typeof e&&tn(e)},On.isFunction=Ua,On.isInteger=za,On.isLength=Ha,On.isMap=$a,On.isMatch=function(e,t){return e===t||_r(e,t,Ki(t))},On.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Ki(t),n)},On.isNaN=function(e){return Xa(e)&&e!=+e},On.isNative=function(e){if(lo(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},On.isNil=function(e){return null==e},On.isNull=function(e){return null===e},On.isNumber=Xa,On.isObject=Ga,On.isObjectLike=Va,On.isPlainObject=Wa,On.isRegExp=Ya,On.isSafeInteger=function(e){return za(e)&&e>=-9007199254740991&&e<=9007199254740991},On.isSet=qa,On.isString=Ka,On.isSymbol=Za,On.isTypedArray=Qa,On.isUndefined=function(e){return void 0===e},On.isWeakMap=function(e){return Va(e)&&eo(e)==w},On.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==hr(e)},On.join=function(e,t){return null==e?"":nn.call(e,t)},On.kebabCase=Is,On.last=Bo,On.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):yt(e,Et,i,!0)},On.lowerCase=Ds,On.lowerFirst=Ns,On.lt=Ja,On.lte=es,On.max=function(e){return e&&e.length?nr(e,Xs,dr):void 0},On.maxBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),dr):void 0},On.mean=function(e){return wt(e,Xs)},On.meanBy=function(e,t){return wt(e,Yi(t,2))},On.min=function(e){return e&&e.length?nr(e,Xs,Tr):void 0},On.minBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),Tr):void 0},On.stubArray=il,On.stubFalse=ol,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=fl,On.nth=function(e,t){return e&&e.length?Cr(e,rs(t)):void 0},On.noConflict=function(){return $e._===this&&($e._=Ce),this},On.noop=Zs,On.now=ma,On.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ht(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Pi(Qt(i),n)+e+Pi(Zt(i),n)},On.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ht(e):0;return t&&r<t?e+Pi(t-r,n):e},On.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ht(e):0;return t&&r<t?Pi(t-r,n)+e:e},On.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(ss(e).replace(q,""),t||0)},On.random=function(e,t,n){if(n&&"boolean"!=typeof n&&oo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=un();return an(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)}return Dr(e,t)},On.reduce=function(e,t,n){var r=Ia(e)?dt:St,i=arguments.length<3;return r(e,Yi(t,4),n,i,Jn)},On.reduceRight=function(e,t,n){var r=Ia(e)?pt:St,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},On.repeat=function(e,t,n){return t=(n?oo(e,t,n):void 0===t)?1:rs(t),Nr(ss(e),t)},On.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},On.result=function(e,t,n){var r=-1,i=(t=oi(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[ko(t[r])];void 0===o&&(r=i,o=n),e=Ua(o)?o.call(e):o}return e},On.round=hl,On.runInContext=e,On.sample=function(e){return(Ia(e)?jn:Fr)(e)},On.size=function(e){if(null==e)return 0;if(Na(e))return Ka(e)?Ht(e):e.length;var t=eo(e);return t==m||t==b?e.size:xr(e).length},On.snakeCase=Ls,On.some=function(e,t,n){var r=Ia(e)?mt:Vr;return n&&oo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},On.sortedIndex=function(e,t){return $r(e,t)},On.sortedIndexBy=function(e,t,n){return Xr(e,t,Yi(n,2))},On.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=$r(e,t);if(r<n&&Ca(e[r],t))return r}return-1},On.sortedLastIndex=function(e,t){return $r(e,t,!0)},On.sortedLastIndexBy=function(e,t,n){return Xr(e,t,Yi(n,2),!0)},On.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=$r(e,t,!0)-1;if(Ca(e[n],t))return n}return-1},On.startCase=Fs,On.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Yn(rs(n),0,e.length),t=qr(t),e.slice(n,n+t.length)==t},On.subtract=dl,On.sum=function(e){return e&&e.length?kt(e,Xs):0},On.sumBy=function(e,t){return e&&e.length?kt(e,Yi(t,2)):0},On.template=function(e,t,n){var r=On.templateSettings;n&&oo(e,t,n)&&(t=void 0),e=ss(e),t=cs({},t,r,ji);var i,o,a=cs({},t.imports,r.imports,ji),s=_s(a),l=Ct(a,s),u=0,c=t.interpolate||ce,f="__p += '",h=ge((t.escape||ce).source+"|"+c.source+"|"+(c===H?ne:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,l){return r||(r=a),f+=e.slice(u,l).replace(fe,Lt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var p=Te.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(I,""):f).replace(D,"$1").replace(N,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=zs((function(){return de(s,d+"return "+f).apply(void 0,l)}));if(m.source=f,Ba(m))throw m;return m},On.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=Ot(r,t=Yi(t));++n<e;)t(n);return i},On.toFinite=ns,On.toInteger=rs,On.toLength=is,On.toLower=function(e){return ss(e).toLowerCase()},On.toNumber=os,On.toSafeInteger=function(e){return e?Yn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},On.toString=ss,On.toUpper=function(e){return ss(e).toUpperCase()},On.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=qr(t)))return e;var r=Gt(e),i=Gt(t);return si(r,Mt(r,i),Rt(r,i)+1).join("")},On.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=qr(t)))return e;var r=Gt(e);return si(r,0,Rt(r,Gt(t))+1).join("")},On.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(q,"");if(!e||!(t=qr(t)))return e;var r=Gt(e);return si(r,Mt(r,Gt(t))).join("")},On.truncate=function(e,t){var n=30,r="...";if(Ga(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?qr(t.omission):r}var o=(e=ss(e)).length;if(Ft(e)){var a=Gt(e);o=a.length}if(n>=o)return e;var s=n-Ht(r);if(s<1)return r;var l=a?si(a,0,s).join(""):e.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),Ya(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=ge(i.source,ss(re.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,void 0===f?s:f)}}else if(e.indexOf(qr(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},On.unescape=function(e){return(e=ss(e))&&j.test(e)?e.replace(L,Vt):e},On.uniqueId=function(e){var t=++Se;return ss(e)+t},On.upperCase=js,On.upperFirst=Bs,On.each=sa,On.eachRight=la,On.first=No,Ks(On,(al={},sr(On,(function(e,t){Te.call(On.prototype,t)||(al[t]=e)})),al),{chain:!1}),On.VERSION="4.17.19",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){On[e].placeholder=On})),ot(["drop","take"],(function(e,t){Mn.prototype[e]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!t?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Mn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Mn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Mn.prototype[e]=function(){return this[n](1).value()[0]}})),ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Mn.prototype[e]=function(){return this.__filtered__?new Mn(this):this[n](1)}})),Mn.prototype.compact=function(){return this.filter(Xs)},Mn.prototype.find=function(e){return this.filter(e).head()},Mn.prototype.findLast=function(e){return this.reverse().find(e)},Mn.prototype.invokeMap=Lr((function(e,t){return"function"==typeof e?new Mn(this):this.map((function(n){return vr(n,e,t)}))})),Mn.prototype.reject=function(e){return this.filter(Ta(Yi(e)))},Mn.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Mn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Mn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},sr(Mn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=On[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(On.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Mn,l=a[0],u=s||Ia(t),c=function(e){var t=i.apply(On,ht([e],a));return r&&f?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&u){t=p?t:new Mn(this);var m=e.apply(t,a);return m.__actions__.push({func:na,args:[c],thisArg:void 0}),new Pn(m,f)}return d&&p?e.apply(this,a):(m=this.thru(c),d?r?m.value()[0]:m.value():m)})})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);On.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ia(i)?i:[],e)}return this[n]((function(n){return t.apply(Ia(n)?n:[],e)}))}})),sr(Mn.prototype,(function(e,t){var n=On[t];if(n){var r=n.name+"";Te.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}})),yn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var e=new Mn(this.__wrapped__);return e.__actions__=mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mi(this.__views__),e},Mn.prototype.reverse=function(){if(this.__filtered__){var e=new Mn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Mn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ia(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=an(t,e+a);break;case"takeRight":e=on(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=an(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return ei(e,this.__actions__);var p=[];e:for(;l--&&h<d;){for(var m=-1,g=e[u+=t];++m<f;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[h++]=g}return p},On.prototype.at=ra,On.prototype.chain=function(){return ta(this)},On.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},On.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},On.prototype.plant=function(e){for(var t,n=this;n instanceof Cn;){var r=Ao(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},On.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Mn){var t=e;return this.__actions__.length&&(t=new Mn(this)),(t=t.reverse()).__actions__.push({func:na,args:[Go],thisArg:void 0}),new Pn(t,this.__chain__)}return this.thru(Go)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,Tt&&(On.prototype[Tt]=function(){return this}),On}();$e._=$t,void 0===(i=function(){return $t}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(51),n(145)(e))},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(14),i=n(74),o=n(168);function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},function(e,t,n){var r=n(349),i=n(350),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y}));var r,i,o=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},a=(1===(r=o).length&&(i=r,r=function(e,t){return o(i(e),t)}),{left:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;r(e[o],t)<0?n=o+1:i=o}return n},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;r(e[o],t)>0?i=o:n=o+1}return n}}).right,s=n(546),l=n(137),u=n(544),c=function(e){return+e},f=[0,1];function h(e){return e}function d(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function p(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=d(i,r),o=n(a,o)):(r=d(r,i),o=n(o,a)),function(e){return o(r(e))}}function m(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=d(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=a(e,t,1,r)-1;return o[n](i[n](t))}}function g(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function v(){var e,t,n,r,i,o,a=f,d=f,g=s.a,v=h;function y(){var e,t,n,s=Math.min(a.length,d.length);return v!==h&&(e=a[0],t=a[s-1],e>t&&(n=e,e=t,t=n),v=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?m:p,i=o=null,b}function b(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),d,g)))(e(v(t)))}return b.invert=function(n){return v(t((o||(o=r(d,a.map(e),l.a)))(n)))},b.domain=function(e){return arguments.length?(a=Array.from(e,c),y()):a.slice()},b.range=function(e){return arguments.length?(d=Array.from(e),y()):d.slice()},b.rangeRound=function(e){return d=Array.from(e),g=u.a,y()},b.clamp=function(e){return arguments.length?(v=!!e||h,y()):v!==h},b.interpolate=function(e){return arguments.length?(g=e,y()):g},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,y()}}function y(){return v()(h,h)}},function(e,t,n){n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));const r=6,i=180,o=360,a=10,s=.3,l=0,u="gray"},function(e,t,n){function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(3),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(10).a),o=n(74),a=n(14);function s(e,t,n,r,s){if(void 0===s&&(s=new i(e,n,r)),!s.closed)return t instanceof a.a?t.subscribe(s):Object(o.a)(t)(s)}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){(function(e){
/*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <http://feross.org>
         * @license  MIT
         */
var r=n(352),i=n(353),o=n(251);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function E(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return E(e,t,n,r)}function x(e,t,n,r){return H(z(t),e,n,r)}function T(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return r=null,o=t,a=n,c(i=e),i<=0?s(r,i):void 0!==o?"string"==typeof a?s(r,i).fill(o,a):s(r,i).fill(o):s(r,i);var r,i,o,a},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:U(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(j,"")).length<2)return"";for(var t;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(51))},function(e,t,n){function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(299),i=n.n(r),o=n(7),a=n(47),s=n(157);function l(e){return u(s,e)}function u(e,t,n=!1){const r=new i.a({extendRefs:!0}).compile(e),o=r(t);let a="",s="";return r.errors&&(s=JSON.stringify(r.errors,null,2),n||console.warn(s),a=" Some properties are incorrectly used."),{state:o?"success":"warn",message:a,details:s}}function c(e){let t=!0;const n=[];return Object(a.a)(e).forEach((e=>{f(e)||"brush"===e.mark||(n.push("genomic type is not encoded to either a x- or y- axis"),t=!1);const r=e.color;Object(o.b)(r)&&"genomic"===r.type&&(n.push("genomic type cannot be used for a color channel"),t=!1);const i=e.row;Object(o.b)(i)&&"nominal"!==i.type&&(n.push(i.type+" type cannot be used for a row channel"),t=!1),"line"===e.mark&&Object(o.b)(r)&&"quantitative"===r.type&&(n.push("`line` mark cannot be used with `quantitative` value"),t=!1)})),{valid:t,errorMessages:n}}function f(e){let t;return["x","y","xe","ye","x1","y1","x1e","y1e"].reverse().forEach((n=>{const r=e[n];Object(o.b)(r)&&"genomic"===r.type&&(t=r)})),t}function h(e){let t;return["x","xe","y","ye","x1","y1","x1e","y1e"].reverse().forEach((n=>{const r=e[n];Object(o.b)(r)&&"genomic"===r.type&&(t=n)})),t}},function(e,t,n){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return E}));var r=n(169),i=n(7),o=n(13),a=n(11),s=n(19),l=n(170),u=n(535),c=n(540),f=n(541),h=n(171);const d={fontSize:"12px",fontFamily:"sans-serif",fontWeight:"normal",fill:"black",background:"white",lineJoin:"round",stroke:"#ffffff",strokeThickness:0};var p=n(294),m=n(43),g=n(98),v=n(27);const y=["x","xe","x1","x1e","y","ye","y1","y1e","color","size","row","stroke","strokeWidth","opacity","text"];function b(e,t,n,m){if(!e||!t||!n)return;if("brush"===m.spec().mark)return;if(["x","x1","x1e","xe"].forEach((e=>{m.setChannelScale(e,t._xScale)})),Object(i.a)(m.spec())){const e=t._yScale.copy();e.range([e.range()[1],e.range()[0]]),["y","y1","y1e","ye"].forEach((t=>{m.setChannelScale(t,e)}))}const[g,v]=t.dimensions;switch(m.spec().mark){case"point":Object(r.a)(t,n.graphics,m);break;case"bar":Object(l.b)(t,n,m);break;case"line":!function(e,t,n){var r,l,u,c,f,h;const d=t.spec();if(!d.width||!d.height)return void console.warn("Size of a track is not properly determined, so visual mark cannot be rendered");const p=t.data(),m=d.width,g=d.height,v="circular"===d.layout,y=null!==(r=d.innerRadius)&&void 0!==r?r:220,b=null!==(l=d.outerRadius)&&void 0!==l?l:300,_=null!==(u=d.startAngle)&&void 0!==u?u:0,E=null!==(c=d.endAngle)&&void 0!==c?c:360,w=b-y,x=m/2,T=g/2,S=null!==(f=t.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],k=g/S.length,O=null!==(h=t.getChannelDomainArray("color"))&&void 0!==h?h:["___SINGLE_COLOR___"];S.forEach((r=>{const l=t.encodedValue("row",r);O.forEach((u=>{p.filter((e=>!(Object(i.C)(e,d.row)&&Object(i.C)(e,d.row)!==r||Object(i.C)(e,d.color)&&Object(i.C)(e,d.color)!==u))).sort(((e,t)=>Object(i.C)(e,d.x)-Object(i.C)(t,d.x))).forEach(((r,i)=>{const u=t.encodedPIXIProperty("x",r),c=t.encodedPIXIProperty("y",r),f=t.encodedPIXIProperty("size",r),h=t.encodedPIXIProperty("color",r),p=t.encodedPIXIProperty("opacity",r);if(e.lineStyle(f,Object(o.a)(h),p,.5),v){const t=b-(l+k-c)/g*w,n=Object(a.b)(u,m,t,x,T,_,E);0===i?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)}else 0===i?e.moveTo(u,l+k-c):e.lineTo(u,l+k-c),d.tooltip&&n.push({datum:r,isMouseOver:(e,t)=>u-s.a<e&&e<u+s.a&&l-s.a<t&&t<l+k+s.a,markInfo:{x:u,y:c,width:s.a,height:c,type:"line"}})}))}))}))}(n.graphics,m,t.tooltips);break;case"area":!function(e,t,n,r){var l,h,d,p,m,g;const v=r.spec(),y=r.data(),b=t.dimensions[0],_=t.dimensions[1],E=t.tilesetInfo.tile_size,{tileX:w}=t.getTilePosAndDimensions(n.gos.zoomLevel,n.gos.tilePos,E),x="circular"===v.layout,T=null!==(l=v.innerRadius)&&void 0!==l?l:220,S=null!==(h=v.outerRadius)&&void 0!==h?h:300,k=null!==(d=v.startAngle)&&void 0!==d?d:0,O=null!==(p=v.endAngle)&&void 0!==p?p:360,A=S-T,C=b/2,P=_/2,M=r.getChannelScale("x"),R=null!==(m=r.getChannelDomainArray("row"))&&void 0!==m?m:["___SINGLE_ROW___"],I=_/R.length,D=null!==(g=r.getChannelDomainArray("color"))&&void 0!==g?g:["___SINGLE_COLOR___"],N=r.encodedPIXIProperty("opacity"),L=r.encodedPIXIProperty("strokeWidth"),F=r.encodedPIXIProperty("stroke"),j=n.graphics;if(Object(i.v)(v)){const e=r.getGenomicChannel();if(!e||!e.field)return void console.warn("Genomic field is not provided in the specification");const n=Object(u.a)(y,(t=>t[e.field])),l=[...n.keys()];j.lineStyle(L,Object(o.a)(F),N,1);const f={};D.forEach((e=>{const u=[],h=[];l.forEach(((o,l,d)=>{var p,m;null===(m=null===(p=n.get(o))||void 0===p?void 0:p.filter((t=>Object(i.C)(t,v.color)===e)))||void 0===m||m.forEach((e=>{const n=M(+o),i=Object(c.a)([r.encodedPIXIProperty("y",e),0]);if(x){if(0===l){const e=S-I/_*A,t=Object(a.b)(n,b,e,C,P,k,O);u.push([t.x,t.y]),h.push([t.x,t.y])}void 0===f[o]&&(f[o]=0);const e=S-(I-i-f[o])/_*A,t=Object(a.b)(n,b,e,C,P,k,O);u.push([t.x,t.y]);const r=S-(I-f[o])/_*A,s=Object(a.b)(n,b,r,C,P,k,O);if(h.push([s.x,s.y]),l===d.length-1){const e=S-I/_*A,t=Object(a.b)(n,b,e,C,P,k,O);u.push([t.x,t.y]),h.push([t.x,t.y])}}else if(0===l&&(u.push([n,I]),h.push([n,I])),void 0===f[o]&&(f[o]=0),u.push([n,I-i-f[o]]),h.push([n,I-f[o]]),l===d.length-1&&(u.push([n,I]),h.push([n,I])),v.tooltip){const r=I-i-f[o],a=I-f[o];t.tooltips.push({datum:e,isMouseOver:(e,t)=>n-s.a<e&&e<n+s.a&&r-s.a<t&&t<a+s.a,markInfo:{x:n,y:r,width:s.a,height:i,type:"area"}})}f[o]+=i}))}));const d=r.encodedValue("color",e);j.beginFill(Object(o.a)(d),N),j.drawPolygon([...u.reduce(((e,t)=>e.concat(t))),...h.reverse().reduce(((e,t)=>e.concat(t)))]),j.endFill()}))}else R.forEach((e=>{const n=r.encodedValue("row",e);j.lineStyle(L,Object(o.a)(F),N,0),D.forEach((l=>{const u=[],h=[],d=S-(n+I)/_*A;y.filter((t=>!(void 0!==Object(i.C)(t,v.row)&&Object(i.C)(t,v.row)!==e||void 0!==Object(i.C)(t,v.color)&&Object(i.C)(t,v.color)!==l))).sort(((e,t)=>r.encodedPIXIProperty("x",e)-r.encodedPIXIProperty("x",t))).forEach(((e,i,o)=>{const l=Object(f.a)([Object(c.a)([r.encodedPIXIProperty("y",e),0]),I]),p=r.encodedPIXIProperty("x",e);if(x){const e=Object(a.b)(p,b,d,C,P,k,O);u.push([e.x,e.y]),0===i&&h.push(e.x,e.y);const t=S-(n+I-l)/_*A,r=Object(a.b)(p,b,t,C,P,k,O);if(h.push(r.x,r.y),i===o.length-1){const e=S-(n+I)/_*A,t=Object(a.b)(p,b,e,C,P,k,O);h.push(t.x,t.y)}}else{if(0===i&&h.push(p,n+I),h.push(p,n+I-l),i===o.length-1){const e=M(w);h.push(p,n+I),h.push(e,n+I)}v.tooltip&&t.tooltips.push({datum:e,isMouseOver:(e,t)=>p-s.a<e&&e<p+s.a&&n-s.a<t&&t<n+I+s.a,markInfo:{x:p,y:l,width:s.a,height:l,type:"area"}})}})),x&&0!==u.length&&h.push(...u.reverse().reduce(((e,t)=>e.concat(t))));const p=r.encodedValue("color",l);j.beginFill(Object(o.a)(p),N),j.drawPolygon(h),j.endFill()}))}))}(0,t,n,m);break;case"rect":Object(h.a)(e,t,n,m);break;case"triangleLeft":case"triangleRight":case"triangleBottom":!function(e,t,n,r){var s,l,u,c,f,h,d;const p=t.spec();if(!p.width||!p.height)return void console.warn("Size of a track is not properly determined, so visual mark cannot be rendered");const m=t.data(),g=t.getChannelScale("x").invert(n)-t.getChannelScale("x").invert(0),v="circular"===p.layout,y=null!==(s=p.innerRadius)&&void 0!==s?s:220,b=null!==(l=p.outerRadius)&&void 0!==l?l:300,_=null!==(u=p.startAngle)&&void 0!==u?u:0,E=null!==(c=p.endAngle)&&void 0!==c?c:360,w=b-y,x=n/2,T=r/2,S=null!==(f=t.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],k=r/S.length,O=null!==(h=t.getChannelDomainArray("y"))&&void 0!==h?h:["___SINGLE_Y___"],A=null!==(d=t.encodedValue("size"))&&void 0!==d?d:v?w/S.length/O.length:k/O.length;S.forEach((s=>{const l=t.encodedValue("row",s);m.filter((e=>!Object(i.C)(e,p.row)||Object(i.C)(e,p.row)===s)).forEach((i=>{var s,u,c;const f=t.encodedPIXIProperty("x",i),h=t.encodedPIXIProperty("xe",i),d=null!==(s=t.encodedPIXIProperty("size",i))&&void 0!==s?s:void 0===h?A:h-f,m=t.encodedPIXIProperty("y",i),y=t.encodedPIXIProperty("strokeWidth",i),S=t.encodedPIXIProperty("stroke",i),O=t.encodedPIXIProperty("color",i),C=t.encodedPIXIProperty("opacity",i);if(v){let s=f||h-d,c=h||f+d,v=(s+c)/2;const P=b-(l+k-m)/r*w,M=P-A/2,R=P+A/2;"right"!==(null===(u=p.style)||void 0===u?void 0:u.align)||h||(s-=d,c-=d,v-=d);let I=[];if("triangleLeft"===p.mark){const e=Object(a.b)(c,n,M,x,T,_,E),t=Object(a.b)(s,n,P,x,T,_,E),r=Object(a.b)(c,n,R,x,T,_,E),i=Object(a.b)(c,n,M,x,T,_,E);I=[e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y]}else if("triangleRight"===p.mark){const e=Object(a.b)(s,n,M,x,T,_,E),t=Object(a.b)(c,n,P,x,T,_,E),r=Object(a.b)(s,n,R,x,T,_,E),i=Object(a.b)(s,n,M,x,T,_,E);I=[e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y]}else if("triangleBottom"===p.mark){s=v-d/2,c=v+d/2;const e=Object(a.b)(s,n,R,x,T,_,E),t=Object(a.b)(c,n,R,x,T,_,E),r=Object(a.b)(v,n,M,x,T,_,E),i=Object(a.b)(s,n,R,x,T,_,E);I=[e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y]}const D=t.markVisibility(i,{width:c-s,zoomLevel:g}),N=Math.min(D,C);e.lineStyle(y,Object(o.a)(S),c-s>2?N:0,0),e.beginFill(Object(o.a)(O),N),e.drawPolygon(I),e.endFill()}else{let n=f||h-d,r=h||f+d,a=n+(r-n)/2;const s=l+k-m,u=l+k-m-A/2,v=l+k-m+A/2;"right"!==(null===(c=p.style)||void 0===c?void 0:c.align)||h||(n-=d,r-=d,a-=d);const b={triangleLeft:[r,u,n,s,r,v,r,u],triangleRight:[n,u,r,s,n,v,n,u],triangleBottom:[n,u,r,u,a,v,n,u]}[p.mark],_=t.markVisibility(i,{width:r-n,zoomLevel:g}),E=Math.min(_,C);e.lineStyle(y,Object(o.a)(S),r-n>2?E:0,.5),e.beginFill(Object(o.a)(O),E),e.drawPolygon(b),e.endFill()}}))}))}(n.graphics,m,g,v);break;case"text":!function(e,t,n,r){var o,s,l,c,f,h,p,m,g;const v=r.spec(),y=r.data(),[b,_]=t.dimensions,E="circular"===v.layout,w=null!==(o=v.innerRadius)&&void 0!==o?o:220,x=null!==(s=v.outerRadius)&&void 0!==s?s:300,T=null!==(l=v.startAngle)&&void 0!==l?l:0,S=null!==(c=v.endAngle)&&void 0!==c?c:360,k=x-w,O=b/2,A=_/2,C=null!==(f=r.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],P=_/C.length,M=null!==(p=null===(h=v.style)||void 0===h?void 0:h.dx)&&void 0!==p?p:0,R=null!==(g=null===(m=v.style)||void 0===m?void 0:m.dy)&&void 0!==g?g:0;if(Object(i.v)(v)){if(E)return;const i=n.graphics,o=r.getGenomicChannel();if(!o||!o.field)return void console.warn("Genomic field is not provided in the specification");const a=Object(u.a)(y,(e=>e[o.field]));[...a.keys()].forEach((n=>{var o;let s=0;null===(o=a.get(n))||void 0===o||o.forEach((n=>{var o,a,l,u,c,f,h,p;const m=r.encodedPIXIProperty("text",n),g=r.encodedPIXIProperty("color",n),y=r.encodedPIXIProperty("x",n)+M,_=r.encodedPIXIProperty("xe",n)+M,E=r.encodedPIXIProperty("x-center",n)+M,w=r.encodedPIXIProperty("y",n)+R,x=r.encodedPIXIProperty("size",n),T=r.encodedPIXIProperty("stroke",n),S=r.encodedPIXIProperty("strokeWidth",n),k=r.encodedPIXIProperty("opacity",n);if(E<0||E>b)return;if(t.textsBeingUsed>1e3)return;const O=Object.assign(Object.assign({},d),{fontSize:null!=x?x:(null===(o=v.style)||void 0===o?void 0:o.textFontSize)?(null===(a=v.style)||void 0===a?void 0:a.textFontSize)+"px":d.fontSize,stroke:null!==(u=null!=T?T:null===(l=v.style)||void 0===l?void 0:l.textStroke)&&void 0!==u?u:d.stroke,strokeThickness:null!==(f=null!=S?S:null===(c=v.style)||void 0===c?void 0:c.textStrokeWidth)&&void 0!==f?f:d.strokeThickness,fontWeight:null!==(p=null===(h=v.style)||void 0===h?void 0:h.textFontWeight)&&void 0!==p?p:d.fontWeight}),A=new e.libraries.PIXI.TextStyle(O);let C;t.textGraphics.length>t.textsBeingUsed?(C=t.textGraphics[t.textsBeingUsed],C.style.fill=g,C.visible=!0,C.text=m,C.alpha=1):(C=new e.libraries.PIXI.Text(m,Object.assign(Object.assign({},O),{fill:g})),t.textGraphics.push(C));const I=e.libraries.PIXI.TextMetrics.measureText(m,A);t.textsBeingUsed++;const D=r.markVisibility(n,Object.assign(Object.assign({},I),{zoomLevel:t._xScale.invert(b)-t._xScale.invert(0)})),N=Math.min(D,k);if(!m||0===N)return t.textsBeingUsed--,void(C.visible=!1);C.alpha=N,C.resolution=8,C.updateText(),C.texture.baseTexture.scaleMode=e.libraries.PIXI.SCALE_MODES.LINEAR;const L=new e.libraries.PIXI.Sprite(C.texture);L.x=y,L.y=P-w-s,L.width=_-y,L.height=w,i.addChild(L),s+=w}))}))}else C.forEach((o=>{const s=n.graphics,l=r.encodedValue("row",o);y.filter((e=>!Object(i.C)(e,v.row)||Object(i.C)(e,v.row)===o)).forEach((n=>{var i,o,u,c,f,h,p,m,g,y;const w=r.encodedPIXIProperty("text",n),C=r.encodedPIXIProperty("color",n),I=r.encodedPIXIProperty("x-center",n)+M,D=r.encodedPIXIProperty("y",n)+R,N=r.encodedPIXIProperty("size",n),L=r.encodedPIXIProperty("stroke",n),F=r.encodedPIXIProperty("strokeWidth",n),j=r.encodedPIXIProperty("opacity",n);if(I<0||I>b)return;if(t.textsBeingUsed>1e3)return;const B=Object.assign(Object.assign({},d),{fontSize:null!=N?N:(null===(i=v.style)||void 0===i?void 0:i.textFontSize)?(null===(o=v.style)||void 0===o?void 0:o.textFontSize)+"px":d.fontSize,stroke:null!==(c=null!=L?L:null===(u=v.style)||void 0===u?void 0:u.textStroke)&&void 0!==c?c:d.stroke,strokeThickness:null!==(h=null!=F?F:null===(f=v.style)||void 0===f?void 0:f.textStrokeWidth)&&void 0!==h?h:d.strokeThickness,fontWeight:null!==(m=null===(p=v.style)||void 0===p?void 0:p.textFontWeight)&&void 0!==m?m:d.fontWeight}),U=new e.libraries.PIXI.TextStyle(B);let z;t.textGraphics.length>t.textsBeingUsed?(z=t.textGraphics[t.textsBeingUsed],z.style.fill=C,z.visible=!0,z.text=w,z.alpha=1):(z=new e.libraries.PIXI.Text(w,Object.assign(Object.assign({},B),{fill:C})),t.textGraphics.push(z));const H=e.libraries.PIXI.TextMetrics.measureText(w,U);t.textsBeingUsed++;const G=r.markVisibility(n,Object.assign(Object.assign({},H),{zoomLevel:t._xScale.invert(b)-t._xScale.invert(0)})),V=Math.min(G,j);if(!w||0===V)return t.textsBeingUsed--,void(z.visible=!1);if(z.alpha=V,z.anchor.x=(null===(g=v.style)||void 0===g?void 0:g.textAnchor)&&"middle"!==(null===(y=v.style)||void 0===y?void 0:y.textAnchor)?"start"===v.style.textAnchor?0:1:.5,z.anchor.y=.5,E){const t=x-(l+P-D)/_*k,n=Object(a.b)(I,b,t,O,A,T,S);z.x=n.x,z.y=n.y,z.resolution=4;const r=new e.libraries.PIXI.TextStyle(U),i=e.libraries.PIXI.TextMetrics.measureText(z.text,r).width/(2*t*Math.PI)*b;let[o,u]=[I-i/2,I+i/2];if(o<0){const e=-o;o=0,u+=e}else if(u>b){const e=u-b;u=b,o-=e}const c=[];for(let s=u;s>=o;s-=i/10){const n=Object(a.b)(s,b,t,O,A,T,S);c.push(new e.libraries.PIXI.Point(n.x,n.y))}z.updateText();const f=new e.libraries.PIXI.SimpleRope(z.texture,c);f.alpha=V,s.addChild(f)}else z.position.x=I,z.position.y=l+P-D,s.addChild(z)}))}))}(e,t,n,m);break;case"rule":!function(e,t,n,r){var s,l,u,c,f,h,d,p;const m=r.spec(),g=r.data(),[v,y]=t.dimensions,b="circular"===m.layout,_=null!==(s=m.innerRadius)&&void 0!==s?s:220,E=null!==(l=m.outerRadius)&&void 0!==l?l:300,w=null!==(u=m.startAngle)&&void 0!==u?u:0,x=null!==(c=m.endAngle)&&void 0!==c?c:360,T=E-_,S=v/2,k=y/2,O=null!==(f=r.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],A=y/O.length,C=null===(h=m.style)||void 0===h?void 0:h.dashed,P=null===(d=m.style)||void 0===d?void 0:d.linePattern,M=null===(p=m.style)||void 0===p?void 0:p.curve,R=n.graphics;O.forEach((e=>{const t=r.encodedValue("row",e);g.filter((t=>!Object(i.C)(t,m.row)||Object(i.C)(t,m.row)===e)).forEach((e=>{const n=r.encodedPIXIProperty("x",e),i=r.encodedPIXIProperty("xe",e),s=r.encodedPIXIProperty("y",e),l=r.encodedPIXIProperty("color",e),u=r.encodedPIXIProperty("strokeWidth",e),c=r.encodedPIXIProperty("opacity",e);if(R.lineStyle(u,Object(o.a)(l),c,.5),b){if(0===u)return;R.lineStyle(u,Object(o.a)(l),0,.5);const e=E-(t+s)/y*T,r=e+u/2,f=e-u/2,h=Object(a.b)(n,v,f,S,k,w,x),d=Object(a.d)(n,v,w,x),p=Object(a.d)(i,v,w,x);R.beginFill(Object(o.a)(l),c),R.moveTo(h.x,h.y),R.arc(S,k,f,d,p,!0),R.arc(S,k,r,p,d,!1),R.closePath()}else if(C){const[e,r]=C;let o=n;do{R.moveTo(o,t+A-s),R.lineTo(o+e,t+A-s),o+=e+r}while(o<i)}else if(void 0===M)R.moveTo(n,t+A-s),R.lineTo(i,t+A-s);else if("top"===M){const e=2,r=n+(i-n)/2;R.moveTo(n,t+A-s+e/2),R.lineTo(r,t+A-s-e/2),R.moveTo(r,t+A-s-e/2),R.lineTo(i,t+A-s+e/2)}if(P&&void 0===M&&!b){const{type:e,size:r}=P;let a=Math.max(n,0);R.lineStyle(0);const u=2*r;let f=0;for(;a<Math.min(i,v)&&f<100;){const n=a,i=a+r,h=t+A-s,d=h-r/2,p=h+r/2;R.beginFill(Object(o.a)(l),c),R.drawPolygon("triangleLeft"===e?[i,d,n,h,i,p,i,d]:[n,d,i,h,n,p,n,d]),R.endFill(),a+=r+u,f++}}}))}))}(0,t,n,m);break;case"betweenLink":case"withinLink":!function(e,t,n){var r,s,l,u,c;const f=n.spec();if(!f.width||!f.height)return void console.warn("Size of a track is not properly determined, so visual mark cannot be rendered");const h=n.data(),d=f.width,m=f.height,g="circular"===f.layout,v=null!==(r=f.innerRadius)&&void 0!==r?r:220,y=null!==(s=f.outerRadius)&&void 0!==s?s:300,b=null!==(l=f.startAngle)&&void 0!==l?l:0,_=null!==(u=f.endAngle)&&void 0!==u?u:360,E=y-v,w=d/2,x=m/2,T=null!==(c=n.getChannelDomainArray("row"))&&void 0!==c?c:["___SINGLE_ROW___"],S=m/T.length;T.forEach((r=>{const s=n.encodedValue("row",r);h.filter((e=>!Object(i.C)(e,f.row)||Object(i.C)(e,f.row)===r)).forEach((r=>{var l,u,c,h;let v=n.encodedPIXIProperty("x",r),T=n.encodedPIXIProperty("xe",r);const k=n.encodedPIXIProperty("x1",r),O=n.encodedPIXIProperty("x1e",r),A=n.encodedPIXIProperty("y",r),C=n.encodedPIXIProperty("stroke",r),P=n.encodedPIXIProperty("color",r),M=n.encodedPIXIProperty("opacity",r),R=void 0!==T&&void 0!==O&&Math.abs(v-T)>.1&&Math.abs(k-O)>.1;if(!R&&void 0===T&&!Object(i.a)(f)){if(void 0===k&&void 0===O)return;T=void 0!==k?k:O}!R&&Math.abs(v-T)<=.1&&Math.abs(k-O)<=.1&&(v=(v+T)/2,T=(k+O)/2),e.lineStyle(n.encodedValue("strokeWidth"),Object(o.a)(C),M,.5);const I=Object(i.b)(f.y)&&f.y.flip||f.flipY,D=s+(I?0:S);if(R){e.beginFill("none"===P?Object(o.a)("white"):Object(o.a)(P),"none"===P?0:M);let[t,n,r,i]=[v,T,k,O];if("betweenLink"===f.mark?([t,n]=[t,n].sort(((e,t)=>e-t)),[r,i]=[r,i].sort(((e,t)=>e-t))):[t,n,r,i]=[t,n,r,i].sort(((e,t)=>e-t)),t>d||i<0||Math.abs(i-t)<.5)return;if(g){if(t<0||i>d)return;const o=y-s/m*E,l=Object(a.b)(t,d,o,w,x,b,_),u=Object(a.b)(n,d,o,w,x,b,_),c=Object(a.b)(r,d,o,w,x,b,_),f=Object(a.b)(i,d,o,w,x,b,_);e.moveTo(l.x,l.y),e.bezierCurveTo(w,x,w,x,f.x,f.y),e.arc(w,x,y,Object(a.c)(f.x,f.y,w,x),Object(a.c)(c.x,c.y,w,x),!1),e.bezierCurveTo(w,x,w,x,u.x,u.y),e.arc(w,x,y,Object(a.c)(u.x,u.y,w,x),Object(a.c)(l.x,l.y,w,x),!1),e.endFill()}else{if("betweenLink"===f.mark)return e.moveTo(t,s),e.lineTo(n,s),e.lineTo(i,s+S),e.lineTo(r,s+S),e.lineTo(t,s),void e.closePath();e.moveTo(t,D),null===(l=f.style)||void 0===l||l.bazierLink,e.arc((t+i)/2,D,(i-t)/2,-Math.PI,Math.PI,!1),e.arc((n+r)/2,D,(r-n)/2,Math.PI,-Math.PI,!0),e.closePath()}}else{if(Object(i.a)(f)&&"betweenLink"===f.mark)return void("curve"===(null===(u=f.style)||void 0===u?void 0:u.linkConnectionType)?(e.moveTo(v,0),e.bezierCurveTo(v/5*4,(s+S-A)/2,v/2,(s+S-A)/5*4,0,s+S-A)):"straight"===(null===(c=f.style)||void 0===c?void 0:c.linkConnectionType)?(e.moveTo(v,0),e.lineTo(0,s+S-A)):(e.moveTo(v,0),e.lineTo(v,s+S-A),e.lineTo(0,s+S-A)));if("betweenLink"===f.mark)return e.moveTo(T,s+S),void e.lineTo(v,s);if(T-v<=.1)return;const n=(v+T)/2;if(e.beginFill(Object(o.a)("white"),0),g){if(v<0||T>d)return;const t=y-s/m*E,n=Object(a.b)(v,d,t,w,x,b,_),r=Object(a.b)(T,d,t,w,x,b,_);e.moveTo(n.x,n.y),e.bezierCurveTo(n.x,n.y,d/2,m/2,r.x,r.y)}else if(e.moveTo(v,D),null===(h=f.style)||void 0===h?void 0:h.bazierLink){const n=v,i=D,o=v+(T-v)/3,a=D+Math.min(S,(T-v)/2)*(I?1:-1),s=v+(T-v)/3*2,l=D+Math.min(S,(T-v)/2)*(I?1:-1),u=T,c=D;e.bezierCurveTo(o,a,s,l,u,c);const h=new p.Bezier(n,i,o,a,s,l,u,c).getLUT(1e3);f.tooltip&&t.tooltips.push({datum:r,isMouseOver:(e,t)=>-1!==h.findIndex((n=>Math.sqrt(Math.pow(n.x-e,2)+Math.pow(n.y-t,2))<5)),markInfo:{}})}else{if(T<0||v>d)return;e.arc(n,D,(T-v)/2,-Math.PI,Math.PI),e.closePath()}}}))}))}(n.graphics,t,m);break;default:console.warn("Unsupported mark type")}}function _(e,t,n,r,s){if(!e||!t||!n)return;if("brush"===r.spec().mark)return;t.pBackground.clear(),t.pBackground.removeChildren(),t.pBorder.clear(),t.pBorder.removeChildren();const l="circular"===r.spec().layout;["x","x1","x1e","xe"].forEach((e=>{r.setChannelScale(e,t._xScale)})),l?function(e,t,n,r,s){var l,u,c,f,h,d,p,m,g,v,y,b;const _=r.spec(),[E,w]=t.position,[x,T]=t.dimensions,S=null!==(l=_.innerRadius)&&void 0!==l?l:220,k=null!==(u=_.outerRadius)&&void 0!==u?u:300,O=null!==(c=_.startAngle)&&void 0!==c?c:0,A=null!==(f=_.endAngle)&&void 0!==f?f:360,C=E+x/2,P=w+T/2,M=Object(a.b)(0,x,S,C,P,O,A),R=Object(a.d)(0,x,O,A),I=Object(a.d)(x,x,O,A),D=t.pBackground;"circular"===_.layout&&"withinLink"===_.mark||(D.lineStyle((null===(h=_.style)||void 0===h?void 0:h.outlineWidth)?(null===(d=_.style)||void 0===d?void 0:d.outlineWidth)/2.5:0,Object(o.a)(null!==(m=null===(p=_.style)||void 0===p?void 0:p.outline)&&void 0!==m?m:"#DBDBDB"),1,1),D.beginFill(Object(o.a)(null!==(v=null===(g=r.spec().style)||void 0===g?void 0:g.background)&&void 0!==v?v:s.track.background),null!==(b=null===(y=r.spec().style)||void 0===y?void 0:y.backgroundOpacity)&&void 0!==b?b:s.track.background&&"transparent"!==s.track.background?1:0),D.moveTo(M.x,M.y),D.arc(C,P,S,R,I,!0),D.arc(C,P,k,I,R,!1),D.closePath()),Object(i.b)(_.x)&&"top"===_.x.axis&&(D.lineStyle(.5,Object(o.a)("black"),0,.5),D.beginFill(Object(o.a)("white"),0),D.moveTo(M.x,M.y),D.arc(C,P,k-.5,R,I,!0),D.arc(C,P,k,I,R,!1),D.closePath()),D.lineStyle(.5,Object(o.a)("black"),0,.5),D.beginFill(Object(o.a)("white"),0),D.moveTo(C,P),D.arc(C,P,k+3,R,I,!1),D.closePath(),D.lineStyle(1,Object(o.a)("#DBDBDB"),0,0),D.beginFill(Object(o.a)("white"),0),D.drawCircle(C,P,S-1)}(0,t,0,r,s):(function(e,t,n,r,a){var s,l,u,c,f,h;const[d,p]=t.position,[m,g]=t.dimensions,y=t.pBackground;if((null===(s=r.spec().style)||void 0===s?void 0:s.background)||a.track.background&&"transparent"!==a.track.background){y.clear();const e=null!==(u=null===(l=r.spec().style)||void 0===l?void 0:l.background)&&void 0!==u?u:a.track.background,t=Object(v.isUndefined)(null===(c=r.spec().style)||void 0===c?void 0:c.backgroundOpacity)?1:null===(f=r.spec().style)||void 0===f?void 0:f.backgroundOpacity;y.lineStyle(1,Object(o.a)("white"),0,0),y.beginFill(Object(o.a)(e),t),y.drawRect(d,p,m,g)}if(a.track.alternatingBackground&&"transparent"!==a.track.alternatingBackground){const e=r.spec();if(!Object(i.b)(e.row)||"nominal"!==e.row.type)return;const n=null!==(h=r.getChannelDomainArray("row"))&&void 0!==h?h:["___SINGLE_ROW___"];if(0===n.length)return;n.forEach(((e,i)=>{var s,l,u,c;if(i%2==0)return;const f=r.encodedValue("row",e),h=null!==(l=null===(s=r.spec().style)||void 0===s?void 0:s.background)&&void 0!==l?l:a.track.alternatingBackground,d=Object(v.isUndefined)(null===(u=r.spec().style)||void 0===u?void 0:u.backgroundOpacity)?1:null===(c=r.spec().style)||void 0===c?void 0:c.backgroundOpacity;y.lineStyle(1,Object(o.a)("white"),0,0),y.beginFill(Object(o.a)(h),d),y.drawRect(t.position[0],t.position[1]+f,m,g/n.length)}))}}(0,t,0,r,s),function(e,t,n,r){var a,s,l,u;const c=t.pBorder,[f,h]=t.position,[d,p]=t.dimensions;c.lineStyle(null!==(s=null===(a=n.spec().style)||void 0===a?void 0:a.outlineWidth)&&void 0!==s?s:1,Object(o.a)(null!==(u=null===(l=n.spec().style)||void 0===l?void 0:l.outline)&&void 0!==u?u:r.track.outline),1,.5),c.beginFill(Object(o.a)("white"),0),c.drawRect(f,h,d,p);const m=n.spec().x;c.lineStyle(1,Object(o.a)(r.axis.baselineColor),1,.5),Object(i.b)(m)&&"top"===m.axis?(c.moveTo(f,h),c.lineTo(f+d,h)):Object(i.b)(m)&&"bottom"===m.axis&&(c.moveTo(f,h+p),c.lineTo(f+d,h+p))}(0,t,r,s)),function(e,t,n){!function(e,t,n){var r,s,l,u,c;const f=t.spec();if(!Object(i.b)(f.y)||!0!==f.y.grid)return;const[h,d]=e.position,[p,m]=e.dimensions,g=h,v=h+p,y="circular"===t.spec().layout,b=null!==(r=f.innerRadius)&&void 0!==r?r:220,_=null!==(s=f.outerRadius)&&void 0!==s?s:300,E=null!==(l=f.startAngle)&&void 0!==l?l:0,w=null!==(u=f.endAngle)&&void 0!==u?u:360,x=_-b,T=p/2,S=m/2,k=null!==(c=t.getChannelDomainArray("row"))&&void 0!==c?c:["___SINGLE_ROW___"],O=m/k.length,A=t.getChannelScale("y"),C=t.getChannelDomainArray("y");if(!A||!C)return;if(y&&O/m*x<=20||!y&&O<=20)return;const P=e.pBackground,M=n.axis.gridStrokeWidth;k.forEach((e=>{const r=t.encodedValue("row",e),i=y?O/m*x:O,s=Math.max(Math.ceil(i/40),1);let l=A.ticks(s).filter((e=>C[0]<=e&&e<=C[1]));1===l.length&&(l=A.ticks(s+1).filter((e=>C[0]<=e&&e<=C[1]))),y?l.forEach((e=>{const t=A(e),i=_-(r+O-t)/m*x,s=i+M/2,l=i-M/2,u=Object(a.b)(0,p,l,T,S,E,w),c=Object(a.d)(0,p,E,w),f=Object(a.d)(p,p,E,w);P.lineStyle(M,Object(o.a)("black"),0,.5),P.beginFill(Object(o.a)(n.axis.gridColor),1),P.moveTo(h+u.x,d+u.y),P.arc(h+T,d+S,l,c,f,!0),P.arc(h+T,d+S,s,f,c,!1),P.closePath()})):(P.lineStyle(M,Object(o.a)(n.axis.gridColor),1,.5),l.forEach((e=>{var t;const i=d+r+O-A(e);if("solid"===n.axis.gridStrokeType)P.moveTo(g,i),P.lineTo(v,i);else if("dashed"===n.axis.gridStrokeType){const[e,r]=null!==(t=n.axis.gridStrokeDash)&&void 0!==t?t:[1,1];for(let t=g;t<v;t+=e+r)P.moveTo(t,i),P.lineTo(t+e,i)}})))}))}(e,t,n),function(e,t,n){var r,s,l,u;const c=t.spec();if(!Object(i.b)(c.row)||!0!==c.row.grid)return;const[f,h]=e.position,[d,p]=e.dimensions,m="circular"===t.spec().layout,g=null!==(r=c.innerRadius)&&void 0!==r?r:220,v=null!==(s=c.outerRadius)&&void 0!==s?s:300,y=null!==(l=c.startAngle)&&void 0!==l?l:0,b=null!==(u=c.endAngle)&&void 0!==u?u:360,_=v-g,E=d/2,w=p/2,x=t.getChannelDomainArray("row");if(!x)return;const T=p/x.length;if(m&&_<=20||!m&&T<=20)return;const S=e.pBackground,k=n.axis.gridStrokeWidth;x.forEach((e=>{const r=t.encodedValue("row",e);if(m){const e=v-(r+T/2)/p*_,t=e+k/2,i=e-k/2,s=Object(a.b)(0,d,i,E,w,y,b),l=Object(a.d)(0,d,y,b),u=Object(a.d)(d,d,y,b);S.lineStyle(k,Object(o.a)("black"),0,.5),S.beginFill(Object(o.a)(n.axis.gridColor),1),S.moveTo(f+s.x,h+s.y),S.arc(f+E,h+w,i,l,u,!0),S.arc(f+E,h+w,t,u,l,!1),S.closePath()}else{S.lineStyle(k,Object(o.a)(n.axis.gridColor),1,.5);const e=h+r+T/2;S.moveTo(f,e),S.lineTo(f+d,e)}}))}(e,t,n)}(t,r,s)}function E(e,t,n,r,s){if(!e||!t||!n)return;if("brush"===r.spec().mark)return;const l="circular"===r.spec().layout;["x","x1","x1e","xe"].forEach((e=>{r.setChannelScale(e,t._xScale)})),l?(function(e,t,n,r,s){var l,u,c,f,h;const d=r.spec(),p="circular"===d.layout,v=r.getChannelDomainArray("y"),y=r.getChannelRangeArray("y");if(!p)return;if(!r.isShowYAxis()||!v||!y)return;const[b,_]=[d.width,d.height],E=null!==(l=d.innerRadius)&&void 0!==l?l:220,w=null!==(u=d.outerRadius)&&void 0!==u?u:300,x=w-E,T=null!==(c=d.startAngle)&&void 0!==c?c:0,S=null!==(f=d.endAngle)&&void 0!==f?f:360,k=b/2,O=_/2,A=null!==(h=r.getChannelDomainArray("row"))&&void 0!==h?h:["___SINGLE_ROW___"],C=_/A.length;if(C/_*x<=20)return;const P=r.spec().y,M=!Object(i.b)(P)||"right"!==P.axis,R=Object(g.a)().domain(v).range(y),I=n.graphics;A.forEach((t=>{const n=r.encodedValue("row",t),i=w-(n+C)/_*x,l=w-n/_*x,u=Object(a.b)(M?0:b,b,i,k,O,T,S),c=Object(a.b)(M?0:b,b,l,k,O,T,S);I.lineStyle(1,Object(o.a)(s.axis.baselineColor),1,.5),I.moveTo(u.x,u.y),I.lineTo(c.x,c.y);const f=e=>6*b/2/Math.PI/e,h=e=>8*b/2/Math.PI/e,d=C/_*x,p=Math.max(Math.ceil(d/40),1);let g=R.ticks(p).filter((e=>v[0]<=e&&e<=v[1]));1===g.length&&(g=R.ticks(p+1).filter((e=>v[0]<=e&&e<=v[1]))),I.lineStyle(1,Object(o.a)(s.axis.tickColor),1,.5),g.forEach((e=>{const t=R(e),r=w-(n+C-t)/_*x,i=M?0:b-f(r),o=M?f(r):b,s=Object(a.b)(i,b,r,k,O,T,S),l=Object(a.d)(i,b,T,S),u=Object(a.d)(o,b,T,S);I.moveTo(s.x,s.y),I.arc(k,O,r,l,u,!0),I.arc(k,O,r,u,l,!1),I.closePath()}));{const e=M?0:b-h(E),t=M?h(E):b,n=Object(a.d)(e,b,T,S),r=Object(a.d)(t,b,T,S);I.moveTo(u.x,u.y),I.arc(k,O,E,n,r,!0),I.arc(k,O,E,r,n,!1),I.closePath()}{const e=M?0:b-h(w),t=M?h(w):b,n=Object(a.d)(e,b,T,S),r=Object(a.d)(t,b,T,S);I.moveTo(c.x,c.y),I.arc(k,O,w,n,r,!0),I.arc(k,O,w,r,n,!1),I.closePath()}g.forEach((t=>{const r=R(t),i=w-(n+C-r)/_*x,o=Object(a.b)(2*f(i),b,i,k,O,T,S),l=Object(m.b)({color:s.axis.labelColor,size:s.axis.labelFontSize,fontFamily:s.axis.labelFontFamily,fontWeight:s.axis.labelFontWeight}),u=new e.libraries.PIXI.Text(t,l);u.anchor.x=M?1:0,u.anchor.y=.5,u.position.x=o.x,u.position.y=o.y,u.resolution=4;const c=new e.libraries.PIXI.TextStyle(l),h=e.libraries.PIXI.TextMetrics.measureText(u.text,c).width/(2*i*Math.PI)*b*360/(S-T),d=M?2*f(i):b-2*f(i)-h,p=[];for(let n=M?2*f(i)+h:b-2*f(i);n>=d;n-=h/10){const t=Object(a.b)(n,b,i,k,O,T,S);p.push(new e.libraries.PIXI.Point(t.x,t.y))}u.updateText();const g=new e.libraries.PIXI.SimpleRope(u.texture,p);I.addChild(g)}))}))}(e,0,n,r,s),function(e,t,n,r,i){var s,l,u;const c=r.spec(),{title:f}=c;if("circular"!==c.layout)return;if(!f)return;const[h,d]=t.dimensions,p=null!==(s=c.outerRadius)&&void 0!==s?s:300,g=null!==(l=c.startAngle)&&void 0!==l?l:0,v=null!==(u=c.endAngle)&&void 0!==u?u:360,y=h/2,b=d/2,_=n.graphics,E=p-1,w=Object(a.b)(1,h,E,y,b,g,v),x=Object(m.b)({color:i.track.titleColor,size:12,fontFamily:i.axis.labelFontFamily,fontWeight:i.axis.labelFontWeight}),T=new e.libraries.PIXI.Text(f,x);T.anchor.x=1,T.anchor.y=.5,T.position.x=w.x,T.position.y=w.y,T.resolution=4;const S=new e.libraries.PIXI.TextStyle(x),k=e.libraries.PIXI.TextMetrics.measureText(T.text,S),O=k.width/(2*E*Math.PI)*h*360/(v-g),A=1+O,C=[];for(let o=A;o>=1;o-=O/10){const t=Object(a.b)(o,h,E-k.height/2,y,b,g,v);C.push(new e.libraries.PIXI.Point(t.x,t.y))}const P=Object(a.d)(1,h,g,v),M=Object(a.d)(A+1,h,g,v);_.lineStyle(1,Object(o.a)("red"),0,.5),_.beginFill(Object(o.a)(i.track.titleBackground),.5),_.moveTo(w.x,w.y),_.arc(y,b,E-k.height,P,M,!0),_.arc(y,b,E,M,P,!1),_.closePath(),T.updateText();const R=new e.libraries.PIXI.SimpleRope(T.texture,C);_.addChild(R)}(e,t,n,r,s)):(function(e,t,n,r,a){var s;const l="circular"===r.spec().layout,u=r.getChannelDomainArray("y"),c=r.getChannelRangeArray("y");if(l)return;if(!r.isShowYAxis()||!u||!c)return;const[f,h]=t.dimensions,[d,p]=t.position,v=null!==(s=r.getChannelDomainArray("row"))&&void 0!==s?s:["___SINGLE_ROW___"],y=h/v.length;if(y<=20)return;const b=r.spec().y,_=!Object(i.b)(b)||"right"!==b.axis,E=Object(g.a)().domain(u).range(c),w=t.pBorder;v.forEach((t=>{const n=r.encodedValue("row",t),i=_?d:d+f,s=p+n;w.lineStyle(1,Object(o.a)(a.axis.baselineColor),1,.5),w.moveTo(i,s),w.lineTo(i,s+y);const l=Math.max(Math.ceil(y/40),1);let c=E.ticks(l).filter((e=>u[0]<=e&&e<=u[1]));1===c.length&&(c=E.ticks(l+1).filter((e=>u[0]<=e&&e<=u[1]))),w.lineStyle(1,Object(o.a)(a.axis.tickColor),1,.5);let h=_?i+6:i-6;c.forEach((e=>{const t=E(e);w.moveTo(i,s+y-t),w.lineTo(h,s+y-t)})),h=_?i+8:i-8,w.moveTo(i,s),w.lineTo(h,s),w.moveTo(i,s+y),w.lineTo(h,s+y);const g=Object(m.b)({color:a.axis.labelColor,size:a.axis.labelFontSize,fontFamily:a.axis.labelFontFamily,fontWeight:a.axis.labelFontWeight});c.forEach((t=>{const n=E(t);h=_?i+12:i-12;const r=new e.libraries.PIXI.Text(t,g);r.anchor.x=_?0:1,r.anchor.y=0===n?.9:.5,r.position.x=h,r.position.y=s+y-n,w.addChild(r)}))}))}(e,t,0,r,s),function(e,t,n,r,a){var s;const l=r.spec();if(!Object(i.b)(l.row)||"nominal"!==l.row.type||!l.row.legend)return;const u=null!==(s=r.getChannelDomainArray("row"))&&void 0!==s?s:["___SINGLE_ROW___"];if(0===u.length)return;const c=t.pBorder,f=Object(m.b)({color:a.legend.labelColor,size:a.legend.labelFontSize,fontWeight:a.legend.labelFontWeight,fontFamily:a.legend.labelFontFamily});u.forEach((n=>{const i=r.encodedValue("row",n),s=new e.libraries.PIXI.Text(n,f);s.anchor.x=0,s.anchor.y=0,s.position.x=t.position[0]+4,s.position.y=t.position[1]+i+2,c.addChild(s);const l=new e.libraries.PIXI.TextStyle(f),u=e.libraries.PIXI.TextMetrics.measureText(n,l);c.beginFill(Object(o.a)(a.legend.background),a.legend.backgroundOpacity),c.lineStyle(1,Object(o.a)(a.legend.backgroundStroke),0,0),c.drawRect(t.position[0]+1,t.position[1]+i+1,u.width+8,u.height+4)}))}(e,t,0,r,s)),function(e,t,n,r,a){const s=r.spec();if(Object(i.b)(s.color)&&s.color.legend)switch(s.color.type){case"nominal":!function(e,t,n,r,a){var s,l,u,c,f;const h=r.spec();if(!Object(i.b)(h.color)||"nominal"!==h.color.type||!h.color.legend)return;const d=null!==(s=r.getChannelDomainArray("color"))&&void 0!==s?s:["___SINGLE_COLOR___"];if(0===d.length)return;const p=t.pBorder;let g=4,v=0;const y=[],b=Object(m.b)({color:a.legend.labelColor,size:a.legend.labelFontSize,fontWeight:a.legend.labelFontWeight,fontFamily:a.legend.labelFontFamily});if(null===(l=h.style)||void 0===l?void 0:l.inlineLegend)d.map((e=>e)).reverse().forEach((n=>{if(v>t.dimensions[0])return;const i=r.encodedValue("color",n),o=new e.libraries.PIXI.Text(n,b);o.anchor.x=1,o.anchor.y=0,o.position.x=t.position[0]+t.dimensions[0]-v-10,o.position.y=t.position[1]+4,p.addChild(o);const a=new e.libraries.PIXI.TextStyle(b),s=e.libraries.PIXI.TextMetrics.measureText(n,a);g<s.height+12&&(g=s.height+12),y.push({x:t.position[0]+t.dimensions[0]-s.width-v-20,y:t.position[1]+4+s.height/2,color:i}),v+=s.width+30}));else{if(null===(u=h.style)||void 0===u?void 0:u.legendTitle){const n=new e.libraries.PIXI.Text(null===(c=h.style)||void 0===c?void 0:c.legendTitle,Object.assign(Object.assign({},b),{fontWeight:"bold"}));n.anchor.x=1,n.anchor.y=0,n.position.x=t.position[0]+t.dimensions[0]-10,n.position.y=t.position[1]+g;const r=new e.libraries.PIXI.TextStyle(Object.assign(Object.assign({},b),{fontWeight:"bold"})),i=e.libraries.PIXI.TextMetrics.measureText(null===(f=h.style)||void 0===f?void 0:f.legendTitle,r);p.addChild(n),g+=i.height+8}d.forEach((n=>{if(g>t.dimensions[1])return;const i=r.encodedValue("color",n),o=new e.libraries.PIXI.Text(n,b);o.anchor.x=1,o.anchor.y=0,o.position.x=t.position[0]+t.dimensions[0]-10,o.position.y=t.position[1]+g,p.addChild(o);const a=new e.libraries.PIXI.TextStyle(b),s=e.libraries.PIXI.TextMetrics.measureText(n,a);v<s.width+30&&(v=s.width+30),y.push({x:t.position[0]+t.dimensions[0]-s.width-20,y:t.position[1]+g+s.height/2,color:i}),g+=s.height+8}))}p.beginFill(Object(o.a)(a.legend.background),a.legend.backgroundOpacity),p.lineStyle(1,Object(o.a)(a.legend.backgroundStroke),a.legend.backgroundOpacity,0),p.drawRect(t.position[0]+t.dimensions[0]-v-1,t.position[1]+1,v,g-4),y.forEach((e=>{p.lineStyle(1,Object(o.a)("black"),0,0),p.beginFill(Object(o.a)(e.color),1),p.drawCircle(e.x,e.y,4)}))}(e,t,0,r,a);break;case"quantitative":!function(e,t,n,r,a){const s=r.spec();if(!Object(i.b)(s.color)||"quantitative"!==s.color.type||!s.color.legend)return;const[l,u]=t.position,[c,f]=t.dimensions,h=f-2>110?110:Math.max(f-2,38),d={top:10,left:55,width:20,height:h-20},p=l+c-80-1,g=u+1,v=r.getChannelScale("color"),y=r.getChannelDomainArray("color");if(!v||!y)return;const b=t.pBorder;b.beginFill(Object(o.a)(a.legend.background),a.legend.backgroundOpacity),b.lineStyle(1,Object(o.a)(a.legend.backgroundStroke),a.legend.backgroundOpacity,0),b.drawRect(p,g,80,h);const[_,E]=y,w=E-_;[...Array(d.height).keys()].forEach((e=>{const t=(d.height-e)/d.height*w+_;b.beginFill(Object(o.a)(v(t)),1),b.lineStyle(1,Object(o.a)(a.legend.backgroundStroke),0,.5),b.drawRect(p+d.left,g+d.top+e,d.width,1)}));const x=Math.max(Math.ceil(d.height/30),2);let T=v.ticks(x).filter((e=>y[0]<=e&&e<=y[1]));1===T.length&&(T=v.ticks(x+1).filter((e=>y[0]<=e&&e<=y[1]))),b.lineStyle(1,Object(o.a)(a.legend.tickColor),1,.5);const S=Object(m.b)({color:a.legend.labelColor,size:a.legend.labelFontSize,fontWeight:a.legend.labelFontWeight,fontFamily:a.legend.labelFontFamily}),k=p+d.left;T.forEach((t=>{let n=g+d.top+d.height-(t-_)/w*d.height;n===g+d.top?n+=.5:n===g+d.top+d.height&&(n-=.5),b.moveTo(k-3,n),b.lineTo(k,n);const r=new e.libraries.PIXI.Text(t,S);r.anchor.x=1,r.anchor.y=.5,r.position.x=k-6,r.position.y=n,b.addChild(r)}))}(e,t,0,r,a)}}(e,t,0,r,s)}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(3),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(10).a)},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(3),i=n(10);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.a)},function(e,t,n){t.__esModule=!0;var r,i=(r=n(486))&&r.__esModule?r:{default:r};t.default=(0,i.default)({shouldComponentUpdate:function(){return!this._notifying}},(function(e,t,n,r,i){n&&(e._notifying=!0,n.call.apply(n,[e,r].concat(i)),e._notifying=!1),e._values[t]=r,e.unmounted||e.forceUpdate()})),e.exports=t.default},function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r,i=n(26),o=n(82),a=n(109);r||(r={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={color:"black",size:10,fontFamily:"Arial",fontWeight:"normal",stroke:"#ffffff",strokeThickness:0};function i(e=r){var t,n,i,o,a,s;return{fontSize:(null!==(t=e.size)&&void 0!==t?t:r.size)+"px",fontFamily:null!==(n=e.fontFamily)&&void 0!==n?n:r.fontFamily,fontWeight:null!==(i=e.fontWeight)&&void 0!==i?i:r.fontWeight,fill:null!==(o=e.color)&&void 0!==o?o:r.color,background:"white",lineJoin:"round",stroke:null!==(a=e.stroke)&&void 0!==a?a:r.stroke,strokeThickness:null!==(s=e.strokeThickness)&&void 0!==s?s:r.strokeThickness}}},function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));var r=n(29),i=n.n(r),o=n(300),a=n(97),s=n(37),l=n(17),u={compactLayout:!1,trackSourceServers:["https://server.gosling-lang.org/api/v1/"],views:[{genomePositionSearchBoxVisible:!1,genomePositionSearchBox:{autocompleteServer:"https://higlass.io/api/v1",autocompleteId:"P0PLbQMwTYGy-5uPIQid7A",chromInfoServer:"https://higlass.io/api/v1",chromInfoId:"hg38"},layout:{x:0,y:0,w:6.4,h:600},tracks:{top:[],left:[{type:"combined",width:130,height:600,contents:[{type:"gosling-track",server:"https://server.gosling-lang.org/api/v1/",tilesetUid:"cistrome-multivec",width:130,height:600,options:{showMousePosition:!0,mousePositionColor:"#000000",fontSize:24,labelPosition:"none",labelShowResolution:!1,labelColor:"black",labelBackgroundColor:"white",labelTextOpacity:1,labelLeftMargin:1,labelTopMargin:1,labelRightMargin:0,labelBottomMargin:0,backgroundColor:"transparent",spec:{spacing:10,orientation:"vertical",assembly:"hg38",layout:"linear",static:!1,xDomain:{interval:[0,1e9]},centerRadius:.3,xOffset:0,yOffset:0,style:{outlineWidth:.5},data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"],binSize:4},mark:"rect",x:{field:"start",type:"genomic",axis:"left",domain:{interval:[0,1e9]},linkingId:"7f94b74e-25ec-4e67-8c75-3dc0f1b0d6bd"},xe:{field:"end",type:"genomic"},row:{field:"sample",type:"nominal",legend:!0},color:{field:"peak",type:"quantitative",legend:!0},tooltip:[{field:"start",type:"genomic",alt:"Start Position"},{field:"end",type:"genomic",alt:"End Position"},{field:"peak",type:"quantitative",alt:"Value",format:".2"},{field:"sample",type:"nominal",alt:"Sample"}],width:160,height:600,overlayOnPreviousTrack:!1},theme:{base:"light",root:{background:"white",titleColor:"black",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"bold",subtitleColor:"gray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleFontWeight:"normal",subtitleAlign:"left",mousePositionColor:"#000000"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"black",titleBackground:"white",titleFontSize:24,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},point:{color:"#E79F00",size:3,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rect:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},triangle:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},area:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},line:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},bar:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rule:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},link:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},text:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6],textAnchor:"middle",textFontWeight:"normal"},brush:{color:"gray",size:1,stroke:"black",strokeWidth:1,opacity:.3,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]}}}}]},{uid:"15483511-f6fb-11eb-914b-976b6ecda162",type:"axis-track",chromInfoPath:"https://s3.amazonaws.com/gosling-lang.org/data/hg38.chrom.sizes",options:{layout:"linear",outerRadius:null,width:160,height:600,theme:{base:"light",root:{background:"white",titleColor:"black",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"bold",subtitleColor:"gray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleFontWeight:"normal",subtitleAlign:"left",mousePositionColor:"#000000"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"black",titleBackground:"white",titleFontSize:24,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},point:{color:"#E79F00",size:3,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rect:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},triangle:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},area:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},line:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},bar:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rule:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},link:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},text:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6],textAnchor:"middle",textFontWeight:"normal"},brush:{color:"gray",size:1,stroke:"black",strokeWidth:1,opacity:.3,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]}},assembly:"hg38",stroke:"transparent",color:"black",fontSize:12,fontFamily:"Arial",fontWeight:"normal",tickColor:"black",tickFormat:"plain",tickPositions:"even",reverseOrientation:!1},width:30}],center:[],right:[],bottom:[],gallery:[],whole:[]},initialXDomain:[0,1e9],initialYDomain:[0,1e9],zoomFixed:!1,zoomLimits:[1,null],uid:"15483510-f6fb-11eb-914b-976b6ecda162",chromInfoPath:"https://s3.amazonaws.com/gosling-lang.org/data/hg38.chrom.sizes"},{genomePositionSearchBoxVisible:!1,genomePositionSearchBox:{autocompleteServer:"https://higlass.io/api/v1",autocompleteId:"P0PLbQMwTYGy-5uPIQid7A",chromInfoServer:"https://higlass.io/api/v1",chromInfoId:"hg38"},layout:{x:6.8,y:0,w:5.2,h:600},tracks:{top:[],left:[{type:"combined",width:130,height:600,contents:[{type:"gosling-track",server:"https://server.gosling-lang.org/api/v1/",tilesetUid:"cistrome-multivec",width:130,height:600,options:{showMousePosition:!0,mousePositionColor:"#000000",fontSize:24,labelPosition:"none",labelShowResolution:!1,labelColor:"black",labelBackgroundColor:"white",labelTextOpacity:1,labelLeftMargin:1,labelTopMargin:1,labelRightMargin:0,labelBottomMargin:0,backgroundColor:"transparent",spec:{spacing:10,orientation:"vertical",assembly:"hg38",layout:"linear",static:!1,xDomain:{interval:[0,1e9]},centerRadius:.3,xOffset:0,yOffset:0,style:{outlineWidth:.5},data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"],binSize:4},mark:"rect",x:{field:"start",type:"genomic",domain:{interval:[0,1e9]},linkingId:"7f94b74e-25ec-4e67-8c75-3dc0f1b0d6bd"},xe:{field:"end",type:"genomic"},row:{field:"sample",type:"nominal",legend:!0},color:{field:"peak",type:"quantitative",legend:!0},tooltip:[{field:"start",type:"genomic",alt:"Start Position"},{field:"end",type:"genomic",alt:"End Position"},{field:"peak",type:"quantitative",alt:"Value",format:".2"},{field:"sample",type:"nominal",alt:"Sample"}],width:130,height:600},theme:{base:"light",root:{background:"white",titleColor:"black",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"bold",subtitleColor:"gray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleFontWeight:"normal",subtitleAlign:"left",mousePositionColor:"#000000"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"black",titleBackground:"white",titleFontSize:24,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},point:{color:"#E79F00",size:3,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rect:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},triangle:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},area:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},line:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},bar:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},rule:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},link:{color:"#E79F00",size:1,stroke:"black",strokeWidth:1,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]},text:{color:"#E79F00",size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6],textAnchor:"middle",textFontWeight:"normal"},brush:{color:"gray",size:1,stroke:"black",strokeWidth:1,opacity:.3,nominalColorRange:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],quantitativeSizeRange:[2,6]}}}}]}],center:[],right:[],bottom:[],gallery:[],whole:[]},initialXDomain:[0,1e9],initialYDomain:[0,1e9],zoomFixed:!1,zoomLimits:[1,null],uid:"154b1b40-f6fb-11eb-914b-976b6ecda162"}],zoomLocks:{locksByViewUid:{},locksDict:{}},locationLocks:{locksByViewUid:{},locksDict:{}},editable:!1,chromInfoPath:"https://s3.amazonaws.com/gosling-lang.org/data/hg38.chrom.sizes"};const c=30;class f{constructor(){this.assembly="hg38",this.hg={compactLayout:!1,trackSourceServers:[],views:[],zoomLocks:{locksByViewUid:{},locksDict:{}},locationLocks:{locksByViewUid:{},locksDict:{}}},this.setEditable(!1)}spec(){return this.hg}setViewOrientation(e){return this.orientation=e,this}addDefaultView(e,t){return this.hg.views.push(JSON.parse(JSON.stringify(Object.assign(Object.assign({},{genomePositionSearchBoxVisible:!1,genomePositionSearchBox:{autocompleteServer:"https://higlass.io/api/v1",autocompleteId:"P0PLbQMwTYGy-5uPIQid7A",chromInfoServer:"https://higlass.io/api/v1",chromInfoId:null!=(n=t)?n:"hg38"},layout:{w:12,h:12,x:0,y:0},tracks:{top:[],left:[],center:[],right:[],bottom:[],gallery:[],whole:[]},initialXDomain:[0,Object(l.a)(n).total],initialYDomain:[0,Object(l.a)(n).total],zoomFixed:!1,zoomLimits:[1,null]}),{uid:e})))),this;var n}setAssembly(e){return this.assembly=e,this.setChromInfoPath(Object(l.a)(this.assembly).path),this}getAssembly(){return this.assembly}setTextTrack(e,t,n,r="black",i=14,o="normal",a="left",s="transparent",l="Arial"){var u;return this.getLastView()&&(null===(u=this.getLastView().tracks.top)||void 0===u||u.push({type:"text",width:e,height:t,options:{backgroundColor:s,textColor:r,fontSize:i,fontWeight:o,fontFamily:l,offsetY:0,align:a,text:n}})),this}addBrush(e,t,n,r,o){var a,s,l,u,c,f;if(r)return null===(a=this.getView(t))||void 0===a||a.tracks.whole.push({type:"circular"===e?"brush-track":"viewport-projection-horizontal",uid:i.a.v4(),fromViewUid:r,options:{projectionFillColor:null!==(s=null==o?void 0:o.color)&&void 0!==s?s:n.brush.color,projectionStrokeColor:null!==(l=null==o?void 0:o.stroke)&&void 0!==l?l:n.brush.stroke,projectionFillOpacity:null!==(u=null==o?void 0:o.opacity)&&void 0!==u?u:n.brush.opacity,projectionStrokeOpacity:null!==(c=null==o?void 0:o.opacity)&&void 0!==c?c:n.brush.opacity,strokeWidth:null!==(f=null==o?void 0:o.strokeWidth)&&void 0!==f?f:n.brush.strokeWidth,startAngle:null==o?void 0:o.startAngle,endAngle:null==o?void 0:o.endAngle,innerRadius:null==o?void 0:o.innerRadius,outerRadius:null==o?void 0:o.outerRadius}}),this}getLastView(){return this.hg.views[this.hg.views.length-1]}getMainTrackPosition(){return"vertical"===this.orientation?"left":"center"}getLastVisView(){const e=this.hg.views.filter((e=>{var t,n;return"combined"===(null===(n=null===(t=e.tracks[this.getMainTrackPosition()])||void 0===t?void 0:t[0])||void 0===n?void 0:n.type)}));return e[e.length-1]}getView(e){return this.hg.views.find((t=>t.uid===e))}validateSpec(e=!1){return"success"===Object(s.d)(o,this.spec(),e).state}setDomain(e,t){return e&&(this.getLastView().initialXDomain=Object(a.a)(e,this.getAssembly())),t&&(this.getLastView().initialYDomain=Object(a.a)(t,this.getAssembly())),this}adjustDomain(e="horizontal",t,n){if("vertical"!==e)return this;const r=this.getLastView().initialXDomain;if(!r)return this;const[i,o]=r,a=o-i,s=(i+o)/2;return this.getLastView().initialXDomain=[s-a/t/2/n*t,s+a/t/2/n*t],this}setZoomFixed(e){return this.getLastView().zoomFixed=e,this}setLayout(e){return this.getLastView().layout=e,this}setEditable(e){return this.hg.editable=e,this}setChromInfoPath(e){return this.getLastView()&&(this.getLastView().chromInfoPath=e),this.hg.chromInfoPath=e,this}addTrackSourceServers(e){var t,n;return e&&-1===(null===(t=this.hg.trackSourceServers)||void 0===t?void 0:t.indexOf(e))&&(null===(n=this.hg.trackSourceServers)||void 0===n||n.push(e)),this}setMainTrack(e){return this.getLastView()?(this.getLastView().tracks[this.getMainTrackPosition()]=[{type:"combined",width:e.width-1,height:e.height,contents:[e]}],this):this}addTrackToCombined(e){var t;return this.getLastVisView()?(null===(t=this.getLastVisView().tracks[this.getMainTrackPosition()][0])||void 0===t||t.contents.push(e),this):this}setAxisTrack(e,t="regular",n){if(!this.hg.views)return this;const r="left"===e||"right"===e?"width":"height",o={uid:i.a.v1(),type:"axis-track",chromInfoPath:this.hg.chromInfoPath,options:Object.assign(Object.assign({},n),{assembly:this.getAssembly(),stroke:"transparent",color:n.theme.axis.labelColor,fontSize:n.theme.axis.labelFontSize,fontFamily:n.theme.axis.labelFontFamily,fontWeight:n.theme.axis.labelFontWeight,tickColor:n.theme.axis.tickColor,tickFormat:"narrower"===t?"si":"plain",tickPositions:"regular"===t?"even":"ends",reverseOrientation:"bottom"===e||"right"===e})};if("circular"===n.layout)this.addTrackToCombined(Object.assign(Object.assign({},o),{options:Object.assign(Object.assign({},o.options),{layout:"circular"})}));else{const t=Object.assign(Object.assign({},o),{[r]:c});if("left"===e){if(0!==this.getLastView().tracks.left.filter((e=>"axis-track"===e.type)).length)return this;this.getLastView().tracks.left=(s=t,(a=this.getLastView().tracks.left)||(a=[]),[...a.slice(0,0),s,...a.slice(0)])}else if("right"===e){if(0!==this.getLastView().tracks.left.filter((e=>"axis-track"===e.type)).length)return this;this.getLastView().tracks.left.push(t)}else{if(0!==this.getLastView().tracks[e].filter((e=>"axis-track"===e.type)).length)return this;this.getLastView().tracks[e].push(t)}}var a,s;return this}setExampleHiglassViewConfig(){this.hg=u}}},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
       * Programatically add the following
       */for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(e,t,n){t.a=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}},function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(70),i=n.n(r),o=n(7);function a(e){if(Object(o.g)(e))return[];if(!Object(o.p)(e))return[e];if(0===e.overlay.length)return[Object.assign(Object.assign({},e),{superpose:void 0})];const t=JSON.parse(JSON.stringify(e));delete t.overlay;const n=[];let r;return e.overlay.forEach(((e,r)=>{const o=i()(JSON.parse(JSON.stringify(t)),e);o.title&&0!==r&&delete o.title,n.push(o)})),n.forEach((e=>{Object(o.b)(e.x)&&e.x.axis&&!r&&(r=e.x.axis)})),n.map((e=>Object.assign(Object.assign({},e),{x:Object.assign(Object.assign({},e.x),{axis:r})})))}function s(e){return[].concat(...e.map((e=>{if(Object(o.g)(e)||!Object(o.p)(e)||e.overlay.length<=1)return[e];if(0===e.overlay.filter((e=>e.data)).length)return[e];if(l([e.data,...e.overlay.map((e=>e.data))]))return[e];const t=JSON.parse(JSON.stringify(e));delete t.overlay;const n=[],r=JSON.parse(JSON.stringify(t));return r.overlay=[],e.overlay.forEach((e=>{if(r.data||(r.data=e.data),!e.data||l([r.data,e.data]))return void r.overlay.push(e);const o=i()(JSON.parse(JSON.stringify(t)),e);n.push(o)})),(r.overlay.length>0?[r,...n]:n).map(((e,t,n)=>{const r=0!==t,i=Object(o.t)(e)&&Object(o.b)(e.y)&&!e.y.axis&&r?Object.assign(Object.assign({},e.y),{axis:1===t?"right":"none"}):Object(o.t)(e)?e.y:void 0;return e.title&&t!==n.length-1&&1!==n.length&&delete e.title,Object.assign(Object.assign({},e),{overlayOnPreviousTrack:r,y:i})}))})))}function l(e){if(0===e.length)return!1;const t=e.filter((e=>e));if(t.length!==e.length)return!1;const n=Object.keys(t[0]).sort();let r=!0;return n.forEach((e=>{1===Array.from(new Set(t.map((t=>JSON.stringify(t[e]))))).length||(r=!1)})),r}},function(e,t,n){n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(27),i=n(7),o=n(17);function a(e,t){const{field:n,not:r}=e;let o=Array.from(t);if(Object(i.o)(e)){const{oneOf:t}=e;o=o.filter((e=>r?-1===t.indexOf(e[n]):-1!==t.indexOf(e[n])))}else if(Object(i.r)(e)){const{inRange:t}=e;o=o.filter((e=>r?!(t[0]<=e[n]&&e[n]<=t[1]):t[0]<=e[n]&&e[n]<=t[1]))}else if(Object(i.n)(e)){const{include:t}=e;o=o.filter((e=>r?(""+e[n]).includes(t):!(""+e[n]).includes(t)))}return o}function s(e,t){const{fields:n,separator:r,newField:i}=e;let o=Array.from(t);return o=o.map((e=>{const t=n.map((t=>e[t]));return e[i]=t.join(r),e})),o}function l(e,t){const{field:n,replace:r,newField:i}=e;let o=Array.from(t);return o=o.map((e=>(e[i]=e[n],r.forEach((t=>{const{from:n,to:r}=t;e[i]=e[i].toString().replaceAll(n,r)})),e))),o}function u(e,t){const{field:n,base:r,newField:i}=e;let o=Array.from(t);return o=o.map((e=>(+e[n]&&(e[null!=i?i:n]="e"===r?Math.log(+e[n]):Math.log(+e[n])/Math.log(null!=r?r:10)),e))),o}function c(e,t,n){const{startField:r,endField:i,newField:o,groupField:a}=e,s={};return t.forEach((e=>{const t=n(e[r]),o=n(e[i]),l=a?e[a]:"__NO_GROUP__";for(let n=Math.floor(t);n<o;n+=1)s[l]||(s[l]={}),s[l][n]||(s[l][n]=0),s[l][n]++})),Object.entries(s).flatMap((e=>{const[t,s]=e;return Object.entries(s).map((e=>{const[s,l]=e;return{[r]:n.invert(+s),[i]:n.invert(+s+1),[null!=o?o:"coverage"]:l,[null!=a?a:"group"]:t}}))}))}function f(e,t,n){const{boundingBox:r,method:i,newField:o}=e,{startField:a,endField:s,groupField:l}=r;let u=0;r.padding&&n&&!r.isPaddingBP?u=Math.abs(n.invert(r.padding)-n.invert(0)):r.padding&&r.isPaddingBP&&(u=r.padding);const c=Array.from(t);if(c&&c.length>0&&(!Object.keys(c[0]).find((e=>e===a))||!Object.keys(c[0]).find((e=>e===s))))return c;if("pile"===i){const{maxRows:t}=e,n={};c.sort(((e,t)=>e[a]-t[a])).forEach((e=>{const r=e[a]-u,i=e[s]+u,c=l?e[l]:"__NO_GROUP__";n[c]||(n[c]=[]);let f=n[c].findIndex((e=>i<e.start?(e.start=r,!0):e.end<r&&(e.end=i,!0)));-1===f&&(n[c].push({start:r,end:i}),f=n[c].length-1),e[o]=""+(t&&t<=f?t-1:f)}))}else if("spread"===i){const e=[];c.sort(((e,t)=>e[a]-t[a])).forEach((t=>{let n=t[a]-u,r=t[s]+u,i=e.filter((e=>e.start===n&&r===e.end||e.start<n&&n<e.end||e.start<r&&r<e.end||n<e.start&&e.end<r));if(i.length>0){let t=0;do{i=e.filter((e=>e.start===n&&r===e.end||e.start<n&&n<e.end||e.start<r&&r<e.end||n<e.start&&e.end<r)),i.length>0&&(t%2==0?(n+=u*t,r+=u*t):(n-=u*t,r-=u*t)),t++}while(i.length>0&&t<1e3)}t[o+"Start"]=""+(n+u),t[o+"Etart"]=""+(r-u),e.push({start:n,end:r})}))}return c}function h(e,t,n="hg38"){const{separator:i,fields:a,flag:s}=e;let l=Array.from(t);return l=l.map((e=>{const t=[];return a.forEach((a=>{const{field:l,type:u,newField:c,chrField:f}=a;e[l].toString().split(i).forEach(((i,a)=>{let l=i;"genomic"===u&&(l=Object(o.a)(n).interval[e[f]][0]+ +i),t[a]?t[a][c]=l:t[a]=Object(r.assign)(JSON.parse(JSON.stringify(e)),{[c]:l,[s.field]:s.value})}))})),[e,...t]})).reduce(((e,t)=>e.concat(t)),[]),l}function d(e,t){const{field:n,genomicField:i,baseGenomicField:o,genomicLengthField:a}=e;let s=Array.from(t);return s=s.map((e=>{let t=JSON.parse(e[n]);return t=t.map((t=>(t[i]&&e[o]&&(t[i+"_start"]=+t[i]+ +e[o],t[i+"_end"]=+t[i]+ +e[o]+ +t[a]),Object(r.assign)(JSON.parse(JSON.stringify(e)),Object.assign(Object.assign({},t),{[i+"_start"]:t[i+"_start"],[i+"_end"]:t[i+"_end"],type:"sub"}))))),[e,...t]})).reduce(((e,t)=>e.concat(t)),[]),s}function p(e,t){if(0===Object(i.A)(e).length)return t;const n=Object(i.B)(e,"nominal");if(1!==n.length)return console.warn("Currently, we only support aggregating datasets with single nominal field."),t;const r=e[n[0]];if(!Object(i.b)(r))return t;const o=r.field;if(!o)return t;const a=[...Object(i.B)(e,"quantitative"),...Object(i.B)(e,"genomic")],s=[],l=Array.from(new Set(t.map((e=>e[o]))));let u=!1;return l.forEach((n=>{const r={};r[o]=n,a.forEach((a=>{const s=e[a];if(!Object(i.b)(s))return void(u=!0);const{field:l,aggregate:c}=s;l&&c?r[l]="max"===c?Math.max(...t.filter((e=>e[o]===n)).map((e=>+e[l]))):Math.min(...t.filter((e=>e[o]===n)).map((e=>+e[l]))):u=!0})),s.push(r)})),u?t:s}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=function(){}},function(e,t,n){n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){e.exports={default:n(490),__esModule:!0}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return T})),n.d(t,"b",(function(){return S}));var r=n(77);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),m=new RegExp("^hsl\\("+[l,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[l,u,u,l]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function _(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?E(t):3===n?new S(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new S(t[1],t[2],t[3],1):(t=h.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?w(t[1],t[2],t[3],t[4]):(t=p.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?E(v[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function E(e){return new S(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,r){return r<=0&&(e=t=n=NaN),new S(e,t,n,r)}function x(e){return e instanceof i||(e=_(e)),e?new S((e=e.rgb()).r,e.g,e.b,e.opacity):new S}function T(e,t,n,r){return 1===arguments.length?x(e):new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function k(){return"#"+A(this.r)+A(this.g)+A(this.b)}function O(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function P(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=_(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-o,u=(a+o)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new M(s,l,u,e.opacity)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function R(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(r.a)(i,_,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return P(this).formatHsl()},formatRgb:b,toString:b}),Object(r.a)(S,T,Object(r.b)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:O,toString:O})),Object(r.a)(M,(function(e,t,n,r){return 1===arguments.length?P(e):new M(e,t,n,null==r?1:r)}),Object(r.b)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new M(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new S(R(e>=240?e-240:e+120,i,r),R(e,i,r),R(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(215)("wks"),i=n(152),o=n(79).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(3),i=n(23),o=n(28),a=n(12);function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(s((function(n,r){return Object(o.a)(e(n,r)).pipe(Object(i.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.a(this),n=this.destination;n.add(t);var r=Object(a.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.b),c=s},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(14),i=n(173),o=n(118);function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(3),i=n(136),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(3),i=n(18),o=n(16),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a)},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(3),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return this},t}(n(16).a))},function(e,t,n){var r=n(94);t.a=function(e){return(e=Object(r.a)(Math.abs(e)))?e[1]:NaN}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(21);function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){var r=n(238),i=n(324),o=n(325),a=n(185),s=n(248),l=n(334),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=s(n(1)),o=s(n(22)),a=n(501);function s(e){return e&&e.__esModule?e:{default:e}}n(502),t.UNMOUNTED="unmounted",t.EXITED="exited",t.ENTERING="entering",t.ENTERED="entered",t.EXITING="exiting";var l=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function u(){}l.contextTypes={transitionGroup:r.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var c=(0,a.polyfill)(l);t.default=c},function(e,t,n){t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(82),i=n(163);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.a)()(r.a.apply(void 0,e))}},function(e,t,n){n.d(t,"a",(function(){return c}));var r=n(173),i=n(75),o=n(48),a=n(53),s=n(174),l=n(175),u=n(116),c=function(e){if(e&&"function"==typeof e[a.a])return c=e,function(e){var t=c[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(l.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,c,f=Object(u.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s}));const r=Symbol("thread.errors"),i=Symbol("thread.events"),o=Symbol("thread.terminate"),a=Symbol("thread.transferable"),s=Symbol("thread.worker")},function(e,t,n){function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,"b",(function(){return r})),t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){var r=n(79),i=n(56),o=n(209),a=n(103),s=n(88),l=function(e,t,n){var u,c,f,h=e&l.F,d=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=d?i:i[t]||(i[t]={}),b=y.prototype,_=d?r:p?r[t]:(r[t]||{}).prototype;for(u in d&&(n=t),n)(c=!h&&_&&void 0!==_[u])&&s(y,u)||(f=c?_[u]:n[u],y[u]=d&&"function"!=typeof _[u]?n[u]:g&&c?o(f,r):v&&_[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,e&l.R&&b&&!b[u]&&a(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(129)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(72)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(24),i=n(64),o=n(118);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(i.a)(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,i.default)(r)};var r,i=(r=n(115))&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==t[n])return new Error("The "+i+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return e.apply(void 0,[t,n,r,i,o].concat(u))}},e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const r=e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),i=e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack});let o={deserialize(e){return(t=e)&&"object"==typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?r(e):e;var t},serialize:e=>e instanceof Error?i(e):e};function a(e){return o.deserialize(e)}function s(e){return o.serialize(e)}},function(e,t,n){var r=n(147),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=Object.create(n(128));o.inherits=n(101);var a=n(256),s=n(198);o.inherits(f,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(104),i=n(275),o=n(210),a=Object.defineProperty;t.f=n(80)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(278),i=n(212);e.exports=function(e){return r(i(e))}},function(e,t,n){t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t,n){var r="",c="",f=t;if("string"==typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,a.default)(e).getPropertyValue((0,o.default)(t));(f={})[t]=n}Object.keys(f).forEach((function(t){var n=f[t];n||0===n?(0,u.default)(t)?c+=t+"("+n+") ":r+=(0,o.default)(t)+": "+n+";":(0,s.default)(e,(0,o.default)(t))})),c&&(r+=l.transform+": "+c+";"),e.style.cssText+=";"+r};var i=r(n(286)),o=r(n(496)),a=r(n(498)),s=r(n(499)),l=n(222),u=r(n(500));e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(36);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(3),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(function(e){s(e)}(n),t.scheduled=void 0)},t}(n(67).a),u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(65).a))(l),c=u},function(e,t,n){t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(38),i=n(7),o=n(17);function a(e,t){if("chromosome"in e&&(e.chromosome.includes("chr")&&(e.chromosome=e.chromosome.replace("chr","")),Object.keys(Object(o.a)().interval).find((t=>t==="chr"+e.chromosome))||(e.chromosome="1")),Object(i.i)(e))return[Object(o.a)(t).interval["chr"+e.chromosome][0]+1,Object(o.a)(t).interval["chr"+e.chromosome][1]];if(Object(i.l)(e))return e.interval;if(Object(i.j)(e)){const n=Object(o.a)(t).interval["chr"+e.chromosome][0],[r,i]=e.interval;return[n+r,n+i]}Object(i.k)(e)}function s(e,t){const n={},o=r.a;e.forEach((e=>{o.forEach((t=>{const r=e.spec()[t];if(!Object(i.b)(r)||void 0===r.domain)return;const{domain:o,type:a}=r;if("quantitative"===a){const e=Array.from(o);n[t]?(n[t][0]>e[0]&&(n[t][0]=e[0]),n[t][1]<e[1]&&(n[t][1]=e[1])):n[t]=e}else if("nominal"===a){const e=Array.from(o);n[t]?n[t]=Array.from(new Set([...n[t],...e])):n[t]=e}}))})),e.forEach((e=>{o.forEach((r=>{const o=e.spec()[r];Object(i.b)(o)&&"genomic"===o.type||(e.setChannelDomain(r,n[r],t),e.generateScales())})),e.updateChannelValue()}))}},function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(542),i=n(30),o=n(32),a=n(231),s=n(543),l=n(533),u=n(68);function c(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.a)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var o,c,f,h=Object(r.c)(e,t,n);switch((i=Object(a.a)(null==i?",f":i)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(o=Object(s.a)(h,d))||(i.precision=o),Object(l.b)(i,d);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN((c=h,f=Math.max(Math.abs(e),Math.abs(t)),c=Math.abs(c),f=Math.abs(f)-c,o=Math.max(0,Object(u.a)(f)-Object(u.a)(c))+1))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(e){return Math.max(0,-Object(u.a)(Math.abs(e)))}(h))||(i.precision=o-2*("%"===i.type))}return Object(l.a)(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.b)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.b)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.b)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,t(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,t(o)),e},e}function f(){var e=Object(i.b)();return e.copy=function(){return Object(i.a)(e,f())},o.b.apply(e,arguments),c(e)}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){function r(e,t,n,r){var i=r?" !== ":" === ",o=r?" || ":" && ",a=r?"!":"",s=r?"":"!";switch(e){case"null":return t+i+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+i+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+s+"("+t+" % 1)"+o+t+i+t+(n?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(n?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t,n){switch(e.length){case 1:return r(e[0],t,n,!0);default:var i="",a=o(e);for(var s in a.array&&a.object&&(i=a.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)i+=(i?" && ":"")+r(s,t,n,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:u,equal:n(207),ucs2length:n(417),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:c,getPathExpr:function(e,t,n,r){return d(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return d(e,c(n?"/"+p(t):l(t)))},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!f.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var d=u[c];d&&(s+=" && "+(o+=l(m(d))))}return s},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(p(e))},escapeJsonPointer:p};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e){return"'"+u(e)+"'"}var f=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function p(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var r=n(87),i=n(130);e.exports=n(80)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(105);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){t.__esModule=!0,t.default=function(e){return(0,i.default)(r.default.findDOMNode(e))};var r=o(n(22)),i=o(n(90));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(3),i=n(10);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,n){n.d(t,"a",(function(){return c}));var r=n(3),i=n(18),o=n(134),a=n(16),s=n(161),l=n(55),u=n(172),c=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new l.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new u.a(this,e)),i&&e.add(e=new s.a(e,i)),n)for(var c=0;c<o&&!e.closed;c++)e.next(r[c]);else for(c=0;c<o&&!e.closed;c++)e.next(r[c].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.a),f=function(e,t){this.time=e,this.value=t}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(14);function i(e,t){return t?new r.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(3),i=n(24),o=n(21),a=n(39),s=n(33),l=n(64),u={};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return Object(i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(l.a)(e,r).lift(new f(n))}var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.a)},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(63),i=n(36);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.b)(i.a,e)}},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(14),i=n(28),o=n(26);function a(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(3),i=n(64),o=n(21),a=n(10),s=n(48),l=n(12);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(i.a)(e,void 0).lift(new c(n))}var c=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new d(e)):"function"==typeof e[s.a]?t.push(new h(e[s.a]())):t.push(new p(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.a),h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),d=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[s.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),p=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(t,e),t.prototype[s.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Object(l.c)(this.observable,new l.a(this))},t}(l.b)},function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(10);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(14),i=n(16);function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=a(n(1)),o=a(n(530));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l=void 0===s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}))},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(34),i=n(75),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(448)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(60))},function(e,t,n){var r,i,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),(o=r||(r={})).cancel="cancel",o.run="run",function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(i||(i={}))},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=w(n(227)),o=w(n(81)),a=w(n(72)),s=w(n(0)),l=w(n(154)),u=w(n(514)),c=w(n(15)),f=n(1),h=w(f),d=w(n(22)),p=w(n(52)),m=w(n(516)),g=w(n(289)),v=w(n(522)),y=w(n(287)),b=w(n(523)),_=w(n(156)),E=w(n(106));function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=new m.default,k=function(e){function t(){var n,r;x(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=T(this,e.call.apply(e,[this].concat(o))),O.call(r),T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),r={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])})),r},t.prototype.render=function(){var e=this.props,n=e.show,i=e.container,o=e.children,a=e.transition,s=e.backdrop,l=e.className,u=e.style,c=e.onExit,d=e.onExiting,p=e.onEnter,m=e.onEntering,y=e.onEntered,b=h.default.Children.only(o),_=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var E=b.props,w=E.role,x=E.tabIndex;return void 0!==w&&void 0!==x||(b=(0,f.cloneElement)(b,{role:void 0===w?"document":w,tabIndex:null==x?"-1":x})),a&&(b=h.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:c,onExiting:d,onExited:this.handleHidden,onEnter:p,onEntering:m,onEntered:y},b)),h.default.createElement(g.default,{ref:this.setMountNode,container:i,onRendered:this.onPortalRendered},h.default.createElement("div",r({ref:this.setModalNodeRef,role:w||"dialog"},_,{style:u,className:l}),s&&this.renderBackdrop(),h.default.createElement(v.default,{ref:this.setDialogRef},b)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,i.default)((0,E.default)(this));e&&!(0,o.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,p.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return d.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(h.default.Component);k.propTypes=r({},g.default.propTypes,{show:s.default.bool,container:s.default.oneOfType([l.default,s.default.func]),onShow:s.default.func,onHide:s.default.func,backdrop:s.default.oneOfType([s.default.bool,s.default.oneOf(["static"])]),renderBackdrop:s.default.func,onEscapeKeyDown:s.default.func,onEscapeKeyUp:(0,u.default)(s.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:s.default.func,backdropStyle:s.default.object,backdropClassName:s.default.string,containerClassName:s.default.string,keyboard:s.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:s.default.bool,enforceFocus:s.default.bool,restoreFocus:s.default.bool,onEnter:s.default.func,onEntering:s.default.func,onEntered:s.default.func,onExit:s.default.func,onExiting:s.default.func,onExited:s.default.func,manager:s.default.object.isRequired}),k.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:S,renderBackdrop:function(e){return h.default.createElement("div",e)}};var O=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,r=t.backdropClassName,i=t.renderBackdrop,o=t.backdropTransition,a=i({ref:function(t){return e.backdrop=t},style:n,className:r,onClick:e.handleBackdropClick});return o&&(a=h.default.createElement(o,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,E.default)(e),n=(0,_.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,y.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,y.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,b.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;e.setState({exited:!0}),e.onHide(),e.props.onExited&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){a.default&&(e.lastFocus=(0,i.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,i.default)((0,E.default)(e));t&&!(0,o.default)(t,n)&&t.focus()}}};k.Manager=m.default,t.default=k,e.exports=t.default},function(e,t,n){e.exports=n(235)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(35).Buffer)},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(277),i=n(216);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports={}},function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(3),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(67).a),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t}(n(65).a))(i),a=o},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__135__},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){t.a=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}},function(e,t,n){n.d(t,"a",(function(){return r}));const r={NOMINAL_COLOR:["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],NOMINAL_COLOR_EXTENDED:["#d60000","#018700","#b500ff","#05acc6","#97ff00","#ffa52f","#ff8ec8","#79525e","#00fdcf","#afa5ff","#93ac83","#9a6900","#366962","#d3008c","#fdf490","#c86e66","#9ee2ff","#00c846","#a877ac","#b8ba01","#f4bfb1","#ff28fd","#f2cdff","#009e7c","#ff6200","#56642a","#953f1f","#90318e","#ff3464","#a0e491","#8c9ab1","#829026","#ae083f","#77c6ba","#bc9157","#e48eff","#72b8ff","#c6a5c1","#ff9070","#d3c37c","#bceddb","#6b8567","#916e56","#f9ff00","#bac1df","#ac567c","#ffcd03","#ff49b1","#c15603","#5d8c90","#c144bc","#00753f","#ba6efd","#00d493","#00ff75","#49a150","#cc9790","#00ebed","#db7e01","#f77589","#b89500","#c84248","#00cff9","#755726","#85d401","#ebffd4","#a77b87","#db72c8","#cae256","#8abf5d","#a1216b","#855b89","#89bacf","#ffbad6","#b6cfaa","#97414d","#67aa00","#fde1b1","#ff3628","#80793d","#d6e8ff","#a795c6","#7ea59a","#d182a3","#54823b","#e6a872","#9cffff","#da5480","#05b3aa","#ffaaf6","#d1afef","#da015d","#ac1a13","#60b385","#d442fd","#acaa59","#fb9ca7","#b3723b","#f26952","#aed1d4","#9affc3","#dbb333","#eb01c3","#9900c4","#cfff9e","#a55949","#3b6d01","#008579","#959167","#89dbb3","#6d7400","#aa5dca","#07ef00","#804f3d","#d88052","#ffc862","#b8009e","#99acdd","#904f00","#8c4470","#4f6e52","#ff8734","#c68ecd","#d4e29e","#b1826d","#9cfb75","#56dd77","#f90087","#a1cdff","#13cad1","#118e54","#d154a5","#00dfc3","#a3832f","#77975b","#baaa80","#70a3af","#d6fbff","#e8013a","#d84621","#ff82ed","#b63862","#b6cd72","#97626b","#897490","#00a316","#00f4a1","#bf90f2","#89e4d8","#a34d95","#6e5d00","#8cc68e","#95aa2a","#c672dd","#b33b01","#d69a36","#dfacb6","#009aa0","#599000","#97bca8","#ac8ca8","#dad4ff","#547c72","#00ba69","#ffc38e","#b800d4","#dfcf5b","#629a7b","#bfedbc","#c1bdfd","#80d3dd","#e2857e","#f9eb4d","#bf6d82","#caff4f","#ef72aa","#ed67ff","#9946ae","#6d6942","#e25660","#dd662d","#9cdb5d","#e29ccf","#b87500","#c6002d","#dfbcda","#59b5df","#ff59da","#38c1a1","#9e698c","#acaac8","#95622f","#b55662","#2b7e60","#b1e400","#eda590","#95fde2","#ff548e","#bd6ea1","#aa3b36","#d8cf00","#aa80cd","#a08052","#e100e8","#c35b3d","#b53a85","#8c7700","#dbbc95","#529e93","#afbc82","#91b5b6","#a75423","#ffd4ef","#79ae6b","#5db54b","#80fb9a","#48ffef","#979548","#9387a7","#31d400","#6ee956","#b6d4eb","#705470","#f2db8a","#aad4c1","#7ecdf2","#89ba00","#64b6ba","#ffb500","#c38285","#caaa5e","#647748","#59e2ff","#df4dcd","#e9ff79","#bc66b8","#c395a5","#64c674","#d19570","#70cf4f","#aa6e66","#9c60a5","#00b800","#e299b3","#bc006b","#b3e8ef","#cdbfe4","#77a342","#856277","#568e5b","#9eafc4","#e82fa0","#247c2a","#826723","#bfbc4d","#ddd3a5"],QUANTITATIVE_COLOR:"viridis",SIZE:3,SIZE_RANGE:[2,6]}},function(e,t,n){e.exports={default:n(488),__esModule:!0}},function(e,t,n){const r=()=>"function"==typeof Symbol,i=e=>r()&&Boolean(Symbol[e]),o=e=>i(e)?Symbol[e]:"@@"+e;i("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const a=o("iterator"),s=o("observable"),l=o("species");function u(e,t){const n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function c(e){let t=e.constructor;return void 0!==t&&(t=t[l],null===t&&(t=void 0)),void 0!==t?t:b}function f(e){f.log?f.log(e):setTimeout((()=>{throw e}),0)}function h(e){Promise.resolve().then((()=>{try{e()}catch(t){f(t)}}))}function d(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=u(t,"unsubscribe");e&&e.call(t)}}catch(n){f(n)}}function p(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";const r=e._observer;try{const i=r?u(r,t):void 0;switch(t){case"next":i&&i.call(r,n);break;case"error":if(p(e),!i)throw n;i.call(r,n);break;case"complete":p(e),i&&i.call(r)}}catch(i){f(i)}"closed"===e._state?d(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:n})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void h((()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const n of t)if(m(e,n.type,n.value),"closed"===e._state)break}}(e)))):void m(e,t,n)}class v{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const n=new y(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(p(this),d(this))}}class y{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){g(this._subscription,"next",e)}error(e){g(this._subscription,"error",e)}complete(){g(this._subscription,"complete")}}class b{constructor(e){if(!(this instanceof b))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:n}),new v(e,this._subscriber)}pipe(e,...t){let n=this;for(const r of[e,...t])n=r(n);return n}tap(e,t,n){const r="object"!=typeof e||null===e?{next:e,error:t,complete:n}:e;return new b((e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}})))}forEach(e){return new Promise(((t,n)=>{if("function"!=typeof e)return void n(new TypeError(e+" is not a function"));function r(){i.unsubscribe(),t()}const i=this.subscribe({next(t){try{e(t,r)}catch(o){n(o),i.unsubscribe()}},error:n,complete:t})}))}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(c(this))((t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(i){return t.error(i)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}})))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(c(this))((t=>this.subscribe({next(n){try{if(!e(n))return}catch(r){return t.error(r)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}})))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const n=c(this),r=arguments.length>1;let i=!1,o=t;return new n((t=>this.subscribe({next(n){const a=!i;if(i=!0,!a||r)try{o=e(o,n)}catch(s){return t.error(s)}else o=n},error(e){t.error(e)},complete(){if(!i&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(o),t.complete()}})))}concat(...e){const t=c(this);return new t((n=>{let r,i=0;return function o(a){r=a.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){i===e.length?(r=void 0,n.complete()):o(t.from(e[i++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}}))}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=c(this);return new t((n=>{const r=[],i=this.subscribe({next(i){let a;if(e)try{a=e(i)}catch(l){return n.error(l)}else a=i;const s=t.from(a).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){const e=r.indexOf(s);e>=0&&r.splice(e,1),o()}});r.push(s)},error(e){n.error(e)},complete(){o()}});function o(){i.closed&&0===r.length&&n.complete()}return()=>{r.forEach((e=>e.unsubscribe())),i.unsubscribe()}}))}[s](){return this}static from(e){const t="function"==typeof this?this:b;if(null==e)throw new TypeError(e+" is not an object");const n=u(e,s);if(n){const r=n.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return r instanceof b&&r.constructor===t?r:new t((e=>r.subscribe(e)))}if(i("iterator")){const n=u(e,a);if(n)return new t((t=>{h((()=>{if(!t.closed){for(const r of n.call(e))if(t.next(r),t.closed)return;t.complete()}}))}))}if(Array.isArray(e))return new t((t=>{h((()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:b)((t=>{h((()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}}))}))}static get[l](){return this}}r()&&Object.defineProperty(b,Symbol("extensions"),{value:{symbol:s,hostReportError:f},configurable:!0}),t.a=b},function(e,t,n){var r,i;n.d(t,"a",(function(){return r})),(i=r||(r={})).internalError="internalError",i.message="message",i.termination="termination"},function(e,t,n){!function(e){
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation.
        
            Permission to use, copy, modify, and/or distribute this software for any
            purpose with or without fee is hereby granted.
        
            THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
            PERFORMANCE OF THIS SOFTWARE.
            ***************************************************************************** */
var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],r={color:n[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:n,quantitativeSizeRange:[2,6]},i={base:"light",root:{background:"white",titleColor:"black",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"bold",subtitleColor:"gray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleFontWeight:"normal",subtitleAlign:"left",mousePositionColor:"#000000"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"black",titleBackground:"white",titleFontSize:24,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:t({},r),point:t(t({},r),{size:3}),rect:t({},r),triangle:t({},r),area:t({},r),line:t({},r),bar:t({},r),rule:t(t({},r),{strokeWidth:1}),link:t(t({},r),{strokeWidth:1}),text:t(t({},r),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},r),{color:"gray",opacity:.3,stroke:"black",strokeWidth:1})},o=["#E79F00","#029F73","#0072B2","#CB7AA7","#D45E00","#57B4E9","#EFE441"],a=t(t({},{color:o[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:o,quantitativeSizeRange:[2,6]}),{stroke:"white"}),s={base:"dark",root:{background:"black",titleColor:"white",subtitleColor:"lightgray",mousePositionColor:"#FFFFFF"},track:{titleColor:"white",titleBackground:"black",outline:"white",outlineWidth:1},legend:{background:"black",backgroundOpacity:.7,labelColor:"white",backgroundStroke:"#DBDBDB",tickColor:"white"},axis:{tickColor:"white",labelColor:"white",baselineColor:"white",gridColor:"gray",gridStrokeWidth:1},markCommon:t({},a),point:t(t({},a),{size:3}),rect:t({},a),triangle:t({},a),area:t({},a),line:t({},a),bar:t({},a),rule:t(t({},a),{strokeWidth:1}),link:t(t({},a),{strokeWidth:1}),text:t(t({},a),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},a),{color:"lightgray",opacity:.3,stroke:"white",strokeWidth:1})},l=["#D19000","#008F67","#005F96","#B86E97","#B55100","#4793BF","#C9C03"],u={color:l[0],size:1,stroke:"#3C3C3C",strokeWidth:0,opacity:1,nominalColorRange:l,quantitativeSizeRange:[2,6]},c={base:"warm",root:{background:"#FFF8E8",titleColor:"#3C3C3C",subtitleColor:"gray",mousePositionColor:"#3C3C3C"},track:{titleColor:"#3C3C3C",titleBackground:"#FFF8E8",outline:"#3C3C3C",outlineWidth:1},legend:{background:"#FFF8E8",backgroundOpacity:.7,labelColor:"#3C3C3C",backgroundStroke:"#3C3C3C",tickColor:"3C3C3C"},axis:{tickColor:"#3C3C3C",labelColor:"#3C3C3C",baselineColor:"#3C3C3C",gridColor:"#E3E3E3",gridStrokeWidth:1},markCommon:t({},u),point:t(t({},u),{size:3}),rect:t({},u),triangle:t({},u),area:t({},u),line:t({},u),bar:t({},u),rule:t(t({},u),{strokeWidth:1}),link:t(t({},u),{strokeWidth:1}),text:t(t({},u),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},u),{color:"lightgray",opacity:.3,stroke:"#3C3C3C",strokeWidth:1})},f=["#F66A62","#05B230","#5692FF","#D764D6","#86E9D4","#6E6AD7","#FFFB00"],h={color:f[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:f,quantitativeSizeRange:[2,6]},d={base:"ggplot",root:{background:"white",titleColor:"black",titleFontSize:18,titleFontFamily:"Helvetica",titleAlign:"middle",titleFontWeight:"bold",titleBackgroundColor:"white",subtitleColor:"gray",subtitleFontSize:14,subtitleFontFamily:"Helvetica",subtitleAlign:"middle",subtitleFontWeight:"light",subtitleBackgroundColor:"white",mousePositionColor:"black"},track:{background:"#e8e8e8",alternatingBackground:"#d1d1d1",titleColor:"black",titleBackground:"white",outline:"black",outlineWidth:2},legend:{position:"right",background:"#e8e8e8",backgroundOpacity:1,labelColor:"black",backgroundStroke:"#e8e8e8",tickColor:"white"},axis:{tickColor:"white",labelColor:"black",baselineColor:"#e8e8e8",gridColor:"white",gridStrokeWidth:2},markCommon:t({},h),point:t(t({},h),{size:3}),rect:t({},h),triangle:t({},h),area:t({},h),line:t({},h),bar:t({},h),rule:t(t({},h),{strokeWidth:1}),link:t(t({},h),{strokeWidth:1}),text:t(t({},h),{textAnchor:"middle",textFontWeight:"bold"}),brush:t(t({},h),{color:"black",opacity:.3,stroke:"black",strokeWidth:1})},p=["#37E649","#ED2D44","#AEAFEA","#EBAEAE","#CE7B3D","#8743E0","#5233F0"],m={color:p[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:p,quantitativeSizeRange:[2,6]},g={base:"igv",root:{background:"white",titleColor:"white",titleAlign:"left",titleFontWeight:"bold",titleBackgroundColor:"#5f5f5f",subtitleColor:"#3b3b3b",subtitleAlign:"left",subtitleFontWeight:"bold",subtitleBackgroundColor:"#c4c4c4",mousePositionColor:"black"},track:{background:"white",alternatingBackground:"#e8e8e8",titleColor:"white",titleBackground:"#5F5F5F",outline:"#5F5F5F",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:1,labelColor:"black",backgroundStroke:"black",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",baselineColor:"white",gridColor:"transparent",gridStrokeWidth:0},markCommon:t({},m),point:t(t({},m),{size:3}),rect:t({},m),triangle:t({},m),area:t({},m),line:t({},m),bar:t({},m),rule:t(t({},m),{strokeWidth:1}),link:t(t({},m),{strokeWidth:1}),text:t(t({},m),{textAnchor:"middle",textFontWeight:"bold"}),brush:t(t({},m),{color:"white",opacity:.3,stroke:"black",strokeWidth:1})},v=["#CD9B1D","#8A668B","#40E0D0","#FF6969","#666666","#FAC902","#FE0000","#CC96CD","#D9D9D9"],y={color:v[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:v,quantitativeSizeRange:[2,6]},b={base:"ensembl",root:{background:"white",titleColor:"#494949",titleFontSize:24,titleFontFamily:"GGX88",titleAlign:"left",titleFontWeight:"bold",titleBackgroundColor:"white",subtitleColor:"white",subtitleFontSize:19,subtitleFontFamily:"GGX88",subtitleAlign:"left",subtitleFontWeight:"normal",subtitleBackgroundColor:"#7B8BAF",mousePositionColor:"#FE0000"},track:{background:"white",alternatingBackground:"#fffdf7",titleColor:"black",titleBackground:"white",titleFontSize:"normal",titleAlign:"left",outline:"#7B8BAF",outlineWidth:2},legend:{position:"middle",tickColor:"black",labelColor:"black",labelFontWeight:"normal",labelFontFamily:"GGX88",background:"white",backgroundOpacity:2,backgroundStroke:"lightgray"},axis:{tickColor:"black",labelColor:"black",labelFontFamily:"GGX88",baselineColor:"black",gridColor:"#7B8BAF",gridStrokeWidth:2},markCommon:t({},y),point:t(t({},y),{size:3}),rect:t({},y),triangle:t({},y),area:t({},y),line:t({},y),bar:t({},y),rule:t(t({},y),{strokeWidth:1}),link:t(t({},y),{strokeWidth:1}),text:t(t({},y),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},y),{color:"gray",opacity:.3,stroke:"black",strokeWidth:1})},_=["#3A62FE","#F85353","#3A62FE","#F85353","#DCA326","#03BF06","#BABABA"],E={color:_[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:_,quantitativeSizeRange:[2,6]},w={base:"jbrowse",root:{background:"white",titleColor:"white",titleFontSize:20,titleFontFamily:"Roboto",titleAlign:"middle",titleFontWeight:"normal",titleBackgroundColor:"#0b243f",subtitleColor:"white",subtitleFontSize:18,subtitleFontFamily:"Roboto",subtitleAlign:"middle",subtitleFontWeight:"normal",subtitleBackgroundColor:"#732162",mousePositionColor:"#000000"},track:{background:"white",alternatingBackground:"white",titleAlign:"middle",titleColor:"white",titleBackground:"#0B243F",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"#DCA326",labelFontWeight:"bold",labelFontFamily:"Roboto",backgroundStroke:"#black",tickColor:"black"},axis:{tickColor:"black",labelColor:"#DCA326",labelFontWeight:"bold",labelFontFamily:"Roboto",baselineColor:"black",gridColor:"#c5d5d9",gridStrokeWidth:1},markCommon:t({},E),point:t(t({},E),{size:3}),rect:t({},E),triangle:t({},E),area:t({},E),line:t({},E),bar:t({},E),rule:t(t({},E),{strokeWidth:1}),link:t(t({},E),{strokeWidth:1}),text:t(t({},E),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},E),{color:"#c5d5d9",opacity:.3,stroke:"black",strokeWidth:1})},x=["#3A5FCD","#FFA54E","#8FBC8F","#B6709B","#EE6A50","#CCB79E","#DADA8F","#00CDCC","#EED5D2","#CD8EDD","#9ACD31","#D1BEA8","#FFB6C0"],T={color:x[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:x,quantitativeSizeRange:[2,6]},S={base:"ucsc",root:{background:"white",titleColor:"white",titleFontSize:22,titleAlign:"middle",titleFontWeight:"bold",titleBackgroundColor:"#00457c",subtitleColor:"black",subtitleAlign:"middle",subtitleFontWeight:"bold",subtitleBackgroundColor:"white",mousePositionColor:"#FE0000"},track:{background:"white",alternatingBackground:"#e3f7fc",titleColor:"#3A5FCD",titleBackground:"white",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontWeight:"bold",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"#3A5FCD",labelFontWeight:"bold",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1},markCommon:t({},T),point:t(t({},T),{size:3}),rect:t({},T),triangle:t({},T),area:t({},T),line:t({},T),bar:t({},T),rule:t(t({},T),{strokeWidth:1}),link:t(t({},T),{strokeWidth:1}),text:t(t({},T),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},T),{color:"gray",opacity:.3,stroke:"black",strokeWidth:1})},k=["#6E12AC","#15C250","#E70FB1","#FF8E55","#A3B8F3","#DE5E59","#77AAAA","#F5CCCA"],O={color:k[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:k,quantitativeSizeRange:[2,6]},A={base:"washu",root:{background:"white",titleColor:"gray",titleAlign:"left",titleFontWeight:"normal",titleBackgroundColor:"white",subtitleColor:"lightgray",subtitleAlign:"left",subtitleFontWeight:"light",subtitleBackgroundColor:"white",mousePositionColor:"#000000"},track:{background:"white",titleColor:"gray",titleBackground:"white",titleAlign:"left",outline:"gray",outlineWidth:1},legend:{position:"left",background:"white",backgroundOpacity:.5,labelColor:"gray",labelFontWeight:"light",backgroundStroke:"#DBDBDB",tickColor:"gray"},axis:{tickColor:"lightgray",labelColor:"gray",labelFontWeight:"light",baselineColor:"gray",gridColor:"transparent",gridStrokeWidth:0},markCommon:t({},O),point:t(t({},O),{size:3}),rect:t({},O),triangle:t({},O),area:t({},O),line:t({},O),bar:t({},O),rule:t(t({},O),{strokeWidth:1}),link:t(t({},O),{strokeWidth:1}),text:t(t({},O),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},O),{color:"gray",opacity:.3,stroke:"gray",strokeWidth:1})},C=["#ED7D31","#4472C4","#FFC207","#76AE4F","#9E480E","#A5A5A5","#4472C4","#264378","#76AE4F","#5B9CD5"],P={color:C[0],size:1,stroke:"#5A5A5A",strokeWidth:0,opacity:1,nominalColorRange:C,quantitativeSizeRange:[2,6]},M={base:"excel",root:{background:"white",titleColor:"#5A5A5A",titleFontSize:30,titleFontFamily:"Calibri",titleAlign:"middle",titleFontWeight:"bold",titleBackgroundColor:"white",subtitleColor:"#5A5A5A",subtitleFontSize:22,subtitleFontFamily:"Calibri",subtitleAlign:"middle",subtitleFontWeight:"bold",subtitleBackgroundColor:"white",mousePositionColor:"#000000"},track:{background:"white",alternatingBackground:"#f5f5f5",titleColor:"#5A5A5A",titleBackground:"white",outline:"#5A5A5A",outlineWidth:1},legend:{position:"right",tickColor:"#5A5A5A",labelColor:"#5A5A5A",labelFontSize:12,labelFontWeight:"bold",labelFontFamily:"Calibri",background:"white",backgroundOpacity:.7,backgroundStroke:"#5A5A5A"},axis:{tickColor:"#5A5A5A",labelColor:"#5A5A5A",labelFontFamily:"Calibri",baselineColor:"#5A5A5A",gridColor:"#5A5A5A",gridStrokeWidth:1},markCommon:t({},P),point:t(t({},P),{size:3}),rect:t({},P),triangle:t({},P),area:t({},P),line:t({},P),bar:t({},P),rule:t(t({},P),{strokeWidth:1}),link:t(t({},P),{strokeWidth:1}),text:t(t({},P),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},P),{color:"#5A5A5A",opacity:.3,stroke:"#5A5A5A",strokeWidth:1})},R=["#4185f4","#DB4437","#F4B400","#0D9D58","#AA30C3","#FF6E02","#CBC74C"],I={color:R[0],size:2,stroke:"black",strokeWidth:.3,opacity:1,nominalColorRange:R,quantitativeSizeRange:[2,6]},D={light:i,dark:s,warm:c,ggplot:d,igv:g,ensembl:b,jbrowse:w,ucsc:S,washu:A,excel:M,google:{base:"google",root:{background:"white",titleColor:"#454545",titleFontSize:20,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"normal",titleBackgroundColor:"white",subtitleColor:"#7d7d7d",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleAlign:"left",subtitleFontWeight:"light",subtitleBackgroundColor:"white",mousePositionColor:"#000000"},track:{background:"white",alternatingBackground:"#f5f5f5",titleColor:"#e8e8e8",titleBackground:"white",titleFontSize:12,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"right",background:"white",backgroundOpacity:1,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"black",tickColor:"black"},axis:{labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",tickColor:"black",labelColor:"black",baselineColor:"black",gridColor:"black",gridStrokeWidth:1},markCommon:t({},I),point:t(t({},I),{size:3}),rect:t({},I),triangle:t({},I),area:t({},I),line:t({},I),bar:t({},I),rule:t(t({},I),{strokeWidth:1}),link:t(t({},I),{strokeWidth:1}),text:t(t({},I),{textAnchor:"middle",textFontWeight:"normal"}),brush:t(t({},I),{color:"#999999",opacity:.3,stroke:"black",strokeWidth:.7})}};function N(e){return-1!==Object.keys(D).indexOf(e)}e.IsThereTheme=N,e.Themes=D,e.getTheme=function(e){return N(e)?D[e]:D.light},Object.defineProperty(e,"__esModule",{value:!0})}(t)},,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(60))},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h}));var r=n(3),i=n(10),o=n(16),a=n(14),s=n(18);function l(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),c=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(l){this.error(l)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new h(t,i))}catch(l){return void this.error(l)}this.add(a.subscribe(new f(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.a),f=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),h=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new d(n)),t.add(r.subscribe(e)),t},t}(a.a),d=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(212);e.exports=function(e){return Object(r(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(n(1)),o=a(n(115));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l=void 0===s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,i.default.findDOMNode(e)||t};var r,i=(r=n(22))&&r.__esModule?r:{default:r};e.exports=t.default},function(e){e.exports=JSON.parse('{"$ref":"#/definitions/GoslingSpec","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"Aggregate":{"enum":["max","min","mean","bin","count"],"type":"string"},"Assembly":{"enum":["hg38","hg19","hg18","hg17","hg16","mm10","mm9","unknown"],"type":"string"},"AxisPosition":{"enum":["none","top","bottom","left","right"],"type":"string"},"BAMData":{"additionalProperties":false,"properties":{"indexUrl":{"type":"string"},"type":{"const":"bam","type":"string"},"url":{"type":"string"}},"required":["type","url","indexUrl"],"type":"object"},"BEDDBData":{"additionalProperties":false,"properties":{"exonIntervalFields":{"items":[{"additionalProperties":false,"properties":{"index":{"type":"number"},"name":{"type":"string"}},"required":["index","name"],"type":"object"},{"additionalProperties":false,"properties":{"index":{"type":"number"},"name":{"type":"string"}},"required":["index","name"],"type":"object"}],"maxItems":2,"minItems":2,"type":"array"},"genomicFields":{"items":{"additionalProperties":false,"properties":{"index":{"type":"number"},"name":{"type":"string"}},"required":["index","name"],"type":"object"},"type":"array"},"type":{"const":"beddb","type":"string"},"url":{"type":"string"},"valueFields":{"items":{"additionalProperties":false,"properties":{"index":{"type":"number"},"name":{"type":"string"},"type":{"enum":["nominal","quantitative"],"type":"string"}},"required":["index","name","type"],"type":"object"},"type":"array"}},"required":["type","url","genomicFields"],"type":"object"},"BIGWIGData":{"additionalProperties":false,"properties":{"binSize":{"type":"number"},"column":{"type":"string"},"end":{"type":"string"},"start":{"type":"string"},"type":{"const":"bigwig","type":"string"},"url":{"type":"string"},"value":{"type":"string"}},"required":["type","url","column","value"],"type":"object"},"CSVData":{"additionalProperties":false,"properties":{"chromosomeField":{"type":"string"},"chromosomePrefix":{"type":"string"},"genomicFields":{"items":{"type":"string"},"type":"array"},"genomicFieldsToConvert":{"items":{"additionalProperties":false,"properties":{"chromosomeField":{"type":"string"},"genomicFields":{"items":{"type":"string"},"type":"array"}},"required":["chromosomeField","genomicFields"],"type":"object"},"type":"array"},"headerNames":{"items":{"type":"string"},"type":"array"},"longToWideId":{"type":"string"},"quantitativeFields":{"items":{"type":"string"},"type":"array"},"sampleLength":{"type":"number"},"separator":{"type":"string"},"type":{"const":"csv","type":"string"},"url":{"type":"string"}},"required":["type","url"],"type":"object"},"Channel":{"anyOf":[{"$ref":"#/definitions/ChannelDeep"},{"$ref":"#/definitions/ChannelValue"}]},"ChannelBind":{"additionalProperties":false,"properties":{"aggregate":{"$ref":"#/definitions/Aggregate"},"bind":{"$ref":"#/definitions/ChannelType"}},"required":["bind"],"type":"object"},"ChannelDeep":{"additionalProperties":false,"properties":{"aggregate":{"$ref":"#/definitions/Aggregate"},"axis":{"$ref":"#/definitions/AxisPosition"},"baseline":{"type":["string","number"]},"domain":{"$ref":"#/definitions/Domain"},"field":{"type":"string"},"flip":{"type":"boolean"},"grid":{"type":"boolean"},"legend":{"type":"boolean"},"linkingId":{"type":"string"},"mirrored":{"type":"boolean"},"padding":{"type":"number"},"range":{"$ref":"#/definitions/Range"},"sort":{"items":{"type":"string"},"type":"array"},"stack":{"type":"boolean"},"type":{"$ref":"#/definitions/FieldType"},"zeroBaseline":{"type":"boolean"}},"type":"object"},"ChannelType":{"type":"string"},"ChannelValue":{"additionalProperties":false,"properties":{"value":{"type":["number","string"]}},"required":["value"],"type":"object"},"Chromosome":{"enum":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","X","Y","M","chr1","chr2","chr3","chr4","chr5","chr6","chr7","chr8","chr9","chr10","chr11","chr12","chr13","chr14","chr15","chr16","chr17","chr18","chr19","chr20","chr21","chr22","chrX","chrY","chrM"],"type":"string"},"CoverageTransform":{"additionalProperties":false,"description":"Aggregate rows and calculate coverage","properties":{"endField":{"type":"string"},"groupField":{"type":"string"},"newField":{"type":"string"},"startField":{"type":"string"},"type":{"const":"coverage","type":"string"}},"required":["type","startField","endField"],"type":"object"},"DataDeep":{"anyOf":[{"$ref":"#/definitions/JSONData"},{"$ref":"#/definitions/CSVData"},{"$ref":"#/definitions/BIGWIGData"},{"$ref":"#/definitions/MultivecData"},{"$ref":"#/definitions/BEDDBData"},{"$ref":"#/definitions/VectorData"},{"$ref":"#/definitions/MatrixData"},{"$ref":"#/definitions/BAMData"}]},"DataTrack":{"additionalProperties":false,"description":"Partial specification of `BasicSingleTrack` to use default visual encoding predefined by data type.","properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"data":{"$ref":"#/definitions/DataDeep"},"endAngle":{"type":"number"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"title":{"type":"string"},"width":{"type":"number"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["data","height","width"],"type":"object"},"DataTransform":{"anyOf":[{"$ref":"#/definitions/FilterTransform"},{"$ref":"#/definitions/StrConcatTransform"},{"$ref":"#/definitions/StrReplaceTransform"},{"$ref":"#/definitions/LogTransform"},{"$ref":"#/definitions/DisplaceTransform"},{"$ref":"#/definitions/ExonSplitTransform"},{"$ref":"#/definitions/CoverageTransform"},{"$ref":"#/definitions/JSONParseTransform"}]},"Datum":{"additionalProperties":{"type":["number","string"]},"type":"object"},"DisplaceTransform":{"additionalProperties":false,"properties":{"boundingBox":{"additionalProperties":false,"properties":{"endField":{"type":"string"},"groupField":{"type":"string"},"isPaddingBP":{"type":"boolean"},"padding":{"type":"number"},"startField":{"type":"string"}},"required":["startField","endField"],"type":"object"},"maxRows":{"type":"number"},"method":{"$ref":"#/definitions/DisplacementType"},"newField":{"type":"string"},"type":{"const":"displace","type":"string"}},"required":["type","boundingBox","method","newField"],"type":"object"},"Displacement":{"additionalProperties":false,"properties":{"padding":{"type":"number"},"type":{"$ref":"#/definitions/DisplacementType"}},"required":["type"],"type":"object"},"DisplacementType":{"enum":["pile","spread"],"type":"string"},"Domain":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"items":{"type":"number"},"type":"array"},{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"},{"$ref":"#/definitions/DomainGene"}]},"DomainChr":{"additionalProperties":false,"properties":{"chromosome":{"$ref":"#/definitions/Chromosome"}},"required":["chromosome"],"type":"object"},"DomainChrInterval":{"additionalProperties":false,"properties":{"chromosome":{"$ref":"#/definitions/Chromosome"},"interval":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"}},"required":["chromosome","interval"],"type":"object"},"DomainGene":{"additionalProperties":false,"properties":{"gene":{"anyOf":[{"type":"string"},{"items":[{"type":"string"},{"type":"string"}],"maxItems":2,"minItems":2,"type":"array"}]}},"required":["gene"],"type":"object"},"DomainInterval":{"additionalProperties":false,"properties":{"interval":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"}},"required":["interval"],"type":"object"},"ExonSplitTransform":{"additionalProperties":false,"properties":{"fields":{"items":{"additionalProperties":false,"properties":{"chrField":{"type":"string"},"field":{"type":"string"},"newField":{"type":"string"},"type":{"$ref":"#/definitions/FieldType"}},"required":["field","type","newField","chrField"],"type":"object"},"type":"array"},"flag":{"additionalProperties":false,"properties":{"field":{"type":"string"},"value":{"type":["number","string"]}},"required":["field","value"],"type":"object"},"separator":{"type":"string"},"type":{"const":"exonSplit","type":"string"}},"required":["type","separator","flag","fields"],"type":"object"},"FieldType":{"enum":["genomic","nominal","quantitative"],"type":"string"},"FilterTransform":{"anyOf":[{"$ref":"#/definitions/OneOfFilter"},{"$ref":"#/definitions/RangeFilter"},{"$ref":"#/definitions/IncludeFilter"}]},"FlatTracks":{"additionalProperties":false,"properties":{"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"spacing":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"tracks":{"items":{"$ref":"#/definitions/Track"},"type":"array"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["tracks"],"type":"object"},"GlyphElement":{"additionalProperties":false,"properties":{"background":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"color":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"description":{"type":"string"},"mark":{"anyOf":[{"$ref":"#/definitions/MarkType"},{"$ref":"#/definitions/MarkBind"}]},"opacity":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"row":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"select":{"items":{"additionalProperties":false,"properties":{"channel":{"$ref":"#/definitions/ChannelType"},"oneOf":{"items":{"type":"string"},"type":"array"}},"required":["channel","oneOf"],"type":"object"},"type":"array"},"size":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"stroke":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"strokeWidth":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"style":{"$ref":"#/definitions/MarkStyleInGlyph"},"text":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"w":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"x":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"x1":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"x1e":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"xe":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"y":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"y1":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"y1e":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]},"ye":{"anyOf":[{"$ref":"#/definitions/ChannelBind"},{"$ref":"#/definitions/ChannelValue"},{"const":"none","type":"string"}]}},"required":["mark"],"type":"object"},"GoslingSpec":{"anyOf":[{"$ref":"#/definitions/RootSpecWithSingleView"},{"$ref":"#/definitions/RootSpecWithMultipleViews"}]},"IncludeFilter":{"additionalProperties":false,"properties":{"field":{"type":"string"},"include":{"type":"string"},"not":{"type":"boolean"},"type":{"const":"filter","type":"string"}},"required":["type","field","include"],"type":"object"},"JSONData":{"additionalProperties":false,"properties":{"chromosomeField":{"type":"string"},"genomicFields":{"items":{"type":"string"},"type":"array"},"genomicFieldsToConvert":{"items":{"additionalProperties":false,"properties":{"chromosomeField":{"type":"string"},"genomicFields":{"items":{"type":"string"},"type":"array"}},"required":["chromosomeField","genomicFields"],"type":"object"},"type":"array"},"quantitativeFields":{"items":{"type":"string"},"type":"array"},"sampleLength":{"type":"number"},"type":{"const":"json","type":"string"},"values":{"items":{"$ref":"#/definitions/Datum"},"type":"array"}},"required":["type","values"],"type":"object"},"JSONParseTransform":{"additionalProperties":false,"description":"Parse JSON Object Array and append vertically","properties":{"baseGenomicField":{"type":"string"},"field":{"type":"string"},"genomicField":{"type":"string"},"genomicLengthField":{"type":"string"},"type":{"const":"subjson","type":"string"}},"required":["type","field","baseGenomicField","genomicField","genomicLengthField"],"type":"object"},"Layout":{"enum":["linear","circular"],"type":"string"},"LogBase":{"anyOf":[{"type":"number"},{"const":"e","type":"string"}]},"LogTransform":{"additionalProperties":false,"properties":{"base":{"$ref":"#/definitions/LogBase"},"field":{"type":"string"},"newField":{"type":"string"},"type":{"const":"log","type":"string"}},"required":["type","field"],"type":"object"},"LogicalOperation":{"enum":["less-than","lt","LT","greater-than","gt","GT","less-than-or-equal-to","ltet","LTET","greater-than-or-equal-to","gtet","GTET"],"type":"string"},"Mark":{"anyOf":[{"$ref":"#/definitions/MarkType"},{"$ref":"#/definitions/MarkDeep"}]},"MarkBind":{"additionalProperties":false,"properties":{"bind":{"type":"string"},"domain":{"items":{"type":"string"},"type":"array"},"range":{"items":{"$ref":"#/definitions/MarkType"},"type":"array"}},"required":["bind","domain","range"],"type":"object"},"MarkDeep":{"anyOf":[{"$ref":"#/definitions/MarkGlyphPreset"},{"$ref":"#/definitions/MarkGlyph"}]},"MarkGlyph":{"additionalProperties":false,"properties":{"elements":{"items":{"$ref":"#/definitions/GlyphElement"},"type":"array"},"name":{"type":"string"},"referenceColumn":{"type":"string"},"requiredChannels":{"items":{"$ref":"#/definitions/ChannelType"},"type":"array"},"type":{"const":"compositeMark","type":"string"}},"required":["type","name","requiredChannels","elements"],"type":"object"},"MarkGlyphPreset":{"additionalProperties":false,"properties":{"server":{"type":"string"},"type":{"type":"string"}},"required":["type","server"],"type":"object"},"MarkStyleInGlyph":{"additionalProperties":false,"properties":{"background":{"type":"string"},"dashed":{"type":"string"},"dy":{"type":"number"},"stroke":{"type":"string"},"strokeWidth":{"type":"number"}},"type":"object"},"MarkType":{"enum":["point","line","area","bar","rect","text","withinLink","betweenLink","rule","triangleLeft","triangleRight","triangleBottom","brush","header"],"type":"string"},"MatrixData":{"additionalProperties":false,"properties":{"type":{"const":"matrix","type":"string"},"url":{"type":"string"}},"required":["type","url"],"type":"object"},"MultipleViews":{"additionalProperties":false,"properties":{"arrangement":{"enum":["parallel","serial","horizontal","vertical"],"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"spacing":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"views":{"items":{"anyOf":[{"$ref":"#/definitions/SingleView"},{"$ref":"#/definitions/MultipleViews"}]},"type":"array"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["views"],"type":"object"},"MultivecData":{"additionalProperties":false,"properties":{"binSize":{"type":"number"},"categories":{"items":{"type":"string"},"type":"array"},"column":{"type":"string"},"end":{"type":"string"},"row":{"type":"string"},"start":{"type":"string"},"type":{"const":"multivec","type":"string"},"url":{"type":"string"},"value":{"type":"string"}},"required":["type","url","column","row","value"],"type":"object"},"OneOfFilter":{"additionalProperties":false,"properties":{"field":{"type":"string"},"not":{"type":"boolean"},"oneOf":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"items":{"type":"number"},"type":"array"}]},"type":{"const":"filter","type":"string"}},"required":["type","field","oneOf"],"type":"object"},"Orientation":{"enum":["horizontal","vertical"],"type":"string"},"OverlaidTrack":{"additionalProperties":false,"description":"Superposing multiple tracks.","properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlay":{"items":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"id":{"type":"string"},"innerRadius":{"type":"number"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"text":{"$ref":"#/definitions/Channel"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"type":"object"},"type":"array"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["height","overlay","width"],"type":"object"},"OverlaidTracks":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"alignment":{"const":"overlay","type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"tracks":{"items":{"$ref":"#/definitions/PartialTrack"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["alignment","tracks","width","height"],"type":"object"},"PREDEFINED_COLORS":{"enum":["viridis","grey","spectral","warm","cividis","bupu","rdbu"],"type":"string"},"PartialTrack":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"encoding":{"additionalProperties":{"$ref":"#/definitions/Channel"},"type":"object"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlay":{"items":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"id":{"type":"string"},"innerRadius":{"type":"number"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"text":{"$ref":"#/definitions/Channel"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"type":"object"},"type":"array"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"template":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"type":"object"},"Range":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"items":{"type":"number"},"type":"array"},{"$ref":"#/definitions/PREDEFINED_COLORS"}]},"RangeFilter":{"additionalProperties":false,"properties":{"field":{"type":"string"},"inRange":{"items":{"type":"number"},"type":"array"},"not":{"type":"boolean"},"type":{"const":"filter","type":"string"}},"required":["type","field","inRange"],"type":"object"},"RootSpecWithMultipleViews":{"additionalProperties":false,"properties":{"arrangement":{"enum":["parallel","serial","horizontal","vertical"],"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"description":{"type":"string"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"spacing":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"title":{"type":"string"},"views":{"items":{"anyOf":[{"$ref":"#/definitions/SingleView"},{"$ref":"#/definitions/MultipleViews"}]},"type":"array"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["views"],"type":"object"},"RootSpecWithSingleView":{"anyOf":[{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"alignment":{"const":"overlay","type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"description":{"type":"string"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"tracks":{"items":{"$ref":"#/definitions/PartialTrack"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["alignment","height","tracks","width"],"type":"object"},{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"alignment":{"const":"stack","type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"description":{"type":"string"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"tracks":{"items":{"anyOf":[{"$ref":"#/definitions/PartialTrack"},{"$ref":"#/definitions/OverlaidTracks"}]},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["tracks"],"type":"object"},{"additionalProperties":false,"properties":{"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"description":{"type":"string"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"spacing":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"title":{"type":"string"},"tracks":{"items":{"$ref":"#/definitions/Track"},"type":"array"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["tracks"],"type":"object"}]},"SingleTrack":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["data","height","mark","width"],"type":"object"},"SingleView":{"anyOf":[{"$ref":"#/definitions/OverlaidTracks"},{"$ref":"#/definitions/StackedTracks"},{"$ref":"#/definitions/FlatTracks"}]},"SizeVisibilityCondition":{"additionalProperties":false,"properties":{"conditionPadding":{"type":"number"},"measure":{"enum":["width","height"],"type":"string"},"operation":{"$ref":"#/definitions/LogicalOperation"},"target":{"enum":["track","mark"],"type":"string"},"threshold":{"anyOf":[{"type":"number"},{"const":"|xe-x|","type":"string"}]},"transitionPadding":{"type":"number"}},"required":["measure","operation","target","threshold"],"type":"object"},"StackedTracks":{"additionalProperties":false,"properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"alignment":{"const":"stack","type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"color":{"$ref":"#/definitions/Channel"},"column":{"$ref":"#/definitions/Channel"},"data":{"$ref":"#/definitions/DataDeep"},"dataTransform":{"items":{"$ref":"#/definitions/DataTransform"},"type":"array"},"displacement":{"$ref":"#/definitions/Displacement"},"endAngle":{"type":"number"},"flipY":{"type":"boolean"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"mark":{"$ref":"#/definitions/Mark"},"opacity":{"$ref":"#/definitions/Channel"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"overrideTemplate":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"row":{"$ref":"#/definitions/Channel"},"size":{"$ref":"#/definitions/Channel"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"stretch":{"type":"boolean"},"stroke":{"$ref":"#/definitions/Channel"},"strokeWidth":{"$ref":"#/definitions/Channel"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"text":{"$ref":"#/definitions/Channel"},"title":{"type":"string"},"tooltip":{"items":{"$ref":"#/definitions/Tooltip"},"type":"array"},"tracks":{"items":{"anyOf":[{"$ref":"#/definitions/PartialTrack"},{"$ref":"#/definitions/OverlaidTracks"}]},"type":"array"},"visibility":{"items":{"$ref":"#/definitions/VisibilityCondition"},"type":"array"},"width":{"type":"number"},"x":{"$ref":"#/definitions/Channel"},"x1":{"$ref":"#/definitions/Channel"},"x1e":{"$ref":"#/definitions/Channel"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"xe":{"$ref":"#/definitions/Channel"},"y":{"$ref":"#/definitions/Channel"},"y1":{"$ref":"#/definitions/Channel"},"y1e":{"$ref":"#/definitions/Channel"},"yOffset":{"type":"number"},"ye":{"$ref":"#/definitions/Channel"}},"required":["tracks"],"type":"object"},"StrConcatTransform":{"additionalProperties":false,"properties":{"fields":{"items":{"type":"string"},"type":"array"},"newField":{"type":"string"},"separator":{"type":"string"},"type":{"const":"concat","type":"string"}},"required":["type","fields","newField","separator"],"type":"object"},"StrReplaceTransform":{"additionalProperties":false,"properties":{"field":{"type":"string"},"newField":{"type":"string"},"replace":{"items":{"additionalProperties":false,"properties":{"from":{"type":"string"},"to":{"type":"string"}},"required":["from","to"],"type":"object"},"type":"array"},"type":{"const":"replace","type":"string"}},"required":["type","field","newField","replace"],"type":"object"},"Style":{"additionalProperties":false,"properties":{"align":{"enum":["left","right"],"type":"string"},"background":{"type":"string"},"backgroundOpacity":{"type":"number"},"bazierLink":{"type":"boolean"},"circularLink":{"type":"boolean"},"curve":{"enum":["top","bottom","left","right"],"type":"string"},"dashed":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"},"dx":{"type":"number"},"dy":{"type":"number"},"enableSmoothPath":{"type":"boolean"},"inlineLegend":{"type":"boolean"},"legendTitle":{"type":"string"},"linePattern":{"additionalProperties":false,"properties":{"size":{"type":"number"},"type":{"enum":["triangleLeft","triangleRight"],"type":"string"}},"required":["type","size"],"type":"object"},"linkConnectionType":{"enum":["straight","curve","corner"],"type":"string"},"outline":{"type":"string"},"outlineWidth":{"type":"number"},"textAnchor":{"enum":["start","middle","end"],"type":"string"},"textFontSize":{"type":"number"},"textFontWeight":{"enum":["bold","normal"],"type":"string"},"textStroke":{"type":"string"},"textStrokeWidth":{"type":"number"}},"type":"object"},"TemplateTrack":{"additionalProperties":false,"description":"Template specification that will be internally converted into `SingleTrack` for rendering","properties":{"_invalidTrack":{"type":"boolean"},"_renderingId":{"type":"string"},"assembly":{"$ref":"#/definitions/Assembly"},"centerRadius":{"description":"Proportion of the radius of the center white space.","type":"number"},"data":{"$ref":"#/definitions/DataDeep"},"encoding":{"additionalProperties":{"$ref":"#/definitions/Channel"},"type":"object"},"endAngle":{"type":"number"},"height":{"type":"number"},"id":{"type":"string"},"innerRadius":{"type":"number"},"layout":{"$ref":"#/definitions/Layout"},"linkingId":{"type":"string"},"orientation":{"$ref":"#/definitions/Orientation"},"outerRadius":{"type":"number"},"overlayOnPreviousTrack":{"type":"boolean"},"prerelease":{"additionalProperties":false,"properties":{"testUsingNewRectRenderingForBAM":{"type":"boolean"}},"type":"object"},"spacing":{"type":"number"},"startAngle":{"type":"number"},"static":{"type":"boolean"},"style":{"$ref":"#/definitions/Style"},"subtitle":{"type":"string"},"template":{"type":"string"},"title":{"type":"string"},"width":{"type":"number"},"xAxis":{"$ref":"#/definitions/AxisPosition"},"xDomain":{"anyOf":[{"$ref":"#/definitions/DomainInterval"},{"$ref":"#/definitions/DomainChrInterval"},{"$ref":"#/definitions/DomainChr"}]},"xOffset":{"type":"number"},"yOffset":{"type":"number"}},"required":["data","height","template","width"],"type":"object"},"Tooltip":{"additionalProperties":false,"properties":{"alt":{"type":"string"},"field":{"type":"string"},"format":{"type":"string"},"type":{"$ref":"#/definitions/FieldType"}},"required":["field","type"],"type":"object"},"Track":{"anyOf":[{"$ref":"#/definitions/SingleTrack"},{"$ref":"#/definitions/OverlaidTrack"},{"$ref":"#/definitions/DataTrack"},{"$ref":"#/definitions/TemplateTrack"}]},"VectorData":{"additionalProperties":false,"properties":{"binSize":{"type":"number"},"column":{"type":"string"},"end":{"type":"string"},"start":{"type":"string"},"type":{"const":"vector","type":"string"},"url":{"type":"string"},"value":{"type":"string"}},"required":["type","url","column","value"],"type":"object"},"VisibilityCondition":{"anyOf":[{"$ref":"#/definitions/SizeVisibilityCondition"},{"$ref":"#/definitions/ZoomLevelVisibilityCondition"}]},"ZoomLevelVisibilityCondition":{"additionalProperties":false,"properties":{"conditionPadding":{"type":"number"},"measure":{"const":"zoomLevel","type":"string"},"operation":{"$ref":"#/definitions/LogicalOperation"},"target":{"enum":["track","mark"],"type":"string"},"threshold":{"type":"number"},"transitionPadding":{"type":"number"}},"required":["measure","operation","target","threshold"],"type":"object"}}}')},function(e,t,n){var r=n(149);Object.defineProperty(t,"__esModule",{value:!0});var i={open:!0,fromUrl:!0,LocalFile:!0,RemoteFile:!0,BlobFile:!0};t.open=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(void 0!==n)return n;if(void 0!==e)return u(e,r);if(void 0!==t)return new o.default(t,r);throw new Error("no url, path, or filehandle provided, cannot open")},t.fromUrl=u,Object.defineProperty(t,"LocalFile",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RemoteFile",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BlobFile",{enumerable:!0,get:function(){return s.default}});var o=r(n(402)),a=r(n(404)),s=r(n(407)),l=n(408);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a.default(e,t)}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));var r,i=n(3),o=n(18),a=n(14),s=n(10),l=n(16),u=n(107),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new l.a).add(this.source.subscribe(new h(this.getSubject(),this))),e.closed&&(this._connection=null,e=l.a.EMPTY)),e},t.prototype.refCount=function(){return Object(u.a)()(this)},t}(a.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=c.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.b);s.a},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(3),i=n(18),o=n(55),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var r=n(3),i=n(10),o=n(42);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(i.a),u=function(e,t){this.notification=e,this.destination=t}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(111);function i(){return Object(r.a)(1)}},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(14),i=n(24),o=n(111),a=n(64);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,l=e[e.length-1];return Object(i.a)(l)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(n)(Object(a.a)(e,s))}},function(e,t,n){n.d(t,"a",(function(){return l}));var r=n(3),i=n(21),o=n(64),a=n(39),s=n(33);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(s.a)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(a.a)},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(14),i=n(20),o=n(69),a=n(24);function s(e,t,n){void 0===e&&(e=0);var s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=i.a),new r.a((function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(l,r,{index:0,period:s,subscriber:t})}))}function l(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){t.__esModule=!0;var r=a(n(456)),i=a(n(467)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){n.d(t,"a",(function(){return c}));var r=n(14),i=n(16),o=n(53),a=n(118),s=n(48),l=n(175),u=n(174);function c(e,t){if(null!=e){if((n=e)&&"function"==typeof n[o.a])return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(l.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}var n;throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(7),i=n(13),o=n(11),a=n(19);function s(e,t,n){var s,l,u,c,f;const h=n.spec();if(!h.width||!h.height)return void console.warn("Size of a track is not properly determined, so visual mark cannot be rendered");const d=n.data(),p=h.width,m=h.height,g=n.getChannelScale("x").invert(p)-n.getChannelScale("x").invert(0),v="circular"===h.layout,y=null!==(s=h.innerRadius)&&void 0!==s?s:220,b=null!==(l=h.outerRadius)&&void 0!==l?l:300,_=null!==(u=h.startAngle)&&void 0!==u?u:0,E=null!==(c=h.endAngle)&&void 0!==c?c:360,w=b-y,x=p/2,T=m/2,S=null!==(f=n.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],k=m/S.length;S.forEach((s=>{const l=n.encodedValue("row",s);d.filter((e=>!Object(r.C)(e,h.row)||Object(r.C)(e,h.row)===s)).forEach((r=>{const s=n.encodedPIXIProperty("x-center",r),u=n.encodedPIXIProperty("y-center",r),c=n.encodedPIXIProperty("color",r),f=n.encodedPIXIProperty("p-size",r),h=n.encodedPIXIProperty("strokeWidth",r),d=n.encodedPIXIProperty("stroke",r),y=n.encodedPIXIProperty("opacity",r),S=n.markVisibility(r,{width:f,zoomLevel:g}),O=Math.min(S,y);if(!(f<=.1||0===O||s+f<0||s-f>p))if(t.lineStyle(h,Object(i.a)(d),O,1),v){const e=b-(l+k-u)/m*w,n=Object(o.b)(s,p,e,x,T,_,E);t.beginFill(Object(i.a)(c),O),t.drawCircle(n.x,n.y,f)}else if(t.beginFill(Object(i.a)(c),O),t.drawCircle(s,l+k-u,f),null==e?void 0:e.tooltips){const t=l+k-u;e.tooltips.push({datum:r,isMouseOver:(e,n)=>Math.sqrt(Math.abs(e-s)*Math.abs(e-s)+Math.abs(n-t)*Math.abs(n-t))<f+a.a,markInfo:{x:s,y:l+k-u,width:f,height:f,type:"point"}})}}))}))}function l(e,t,n){const r=e.visualPropertyByChannel("xe",n),i=e.visualPropertyByChannel("x",n),o=e.visualPropertyByChannel("size",n);switch(t){case"x-center":return r?(r+i)/2:i;case"y-center":const t=e.visualPropertyByChannel("ye",n),a=e.visualPropertyByChannel("y",n);return t?(t+a)/2:a;case"p-size":return r&&e.spec().stretch?(r-i)/2:o;default:return}}},function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(535),i=n(7),o=n(11),a=n(13),s=n(19);function l(e,t,n){var l,u,c,f,h,d,p;const m=n.spec();if(!m.width||!m.height)return void console.warn("Size of a track is not properly determined, so visual mark cannot be rendered");const g=n.data(),[v,y]=e.dimensions,b=e.tilesetInfo.tile_size,{tileX:_,tileWidth:E}=e.getTilePosAndDimensions(t.gos.zoomLevel,t.gos.tilePos,b),w=n.getChannelScale("x").invert(v)-n.getChannelScale("x").invert(0),x="circular"===m.layout,T=null!==(l=m.innerRadius)&&void 0!==l?l:220,S=null!==(u=m.outerRadius)&&void 0!==u?u:300,k=null!==(c=m.startAngle)&&void 0!==c?c:0,O=null!==(f=m.endAngle)&&void 0!==f?f:360,A=S-T,C=v/2,P=y/2,M=n.getChannelScale("x"),R=M(_+E/b)-M(_),I=null!==(h=n.getChannelDomainArray("row"))&&void 0!==h?h:["___SINGLE_ROW___"],D=y/I.length,N=Object(i.b)(m.y)?null===(d=m.y)||void 0===d?void 0:d.baseline:void 0,L=null!==(p=n.encodedValue("y",N))&&void 0!==p?p:0,F=t.graphics;if(Object(i.v)(m)){const t=n.getGenomicChannel();if(!t||!t.field)return void console.warn("Genomic field is not provided in the specification");const i=Object(r.a)(g,(e=>e[t.field]));[...i.keys()].forEach((t=>{var r;let l=0;null===(r=i.get(t))||void 0===r||r.forEach((t=>{const r=n.encodedPIXIProperty("color",t),i=n.encodedPIXIProperty("stroke",t),u=n.encodedPIXIProperty("strokeWidth",t),c=n.encodedPIXIProperty("opacity",t),f=n.encodedPIXIProperty("y",t),h=n.encodedPIXIProperty("width",t,{tileUnitWidth:R}),d=n.encodedPIXIProperty("x-start",t,{markWidth:h}),p=d+h,g=n.markVisibility(t,{width:h,zoomLevel:w}),b=Math.min(g,c);if(!(0===b||h<=0||f<=0)){if(F.lineStyle(u,Object(a.a)(i),b,0),x){const e=S-(D-l)/y*A,t=S-(D-f-l)/y*A,n=Object(o.b)(d,v,t,C,P,k,O),i=Object(o.d)(d,v,k,O),s=Object(o.d)(d+h,v,k,O);F.beginFill(Object(a.a)(r),b),F.moveTo(n.x,n.y),F.arc(C,P,t,i,s,!0),F.arc(C,P,e,s,i,!1),F.closePath()}else{const n=D-f-l,i=f;F.beginFill(Object(a.a)(r),b),F.drawRect(d,D-f-l,h,f),m.tooltip&&e.tooltips.push({datum:t,isMouseOver:(e,t)=>d-s.a<e&&e<p+s.a&&n-s.a<t&&t<n+i+s.a,markInfo:{x:d,y:n,width:h,height:i,type:"bar"}})}l+=f}}))}))}else I.forEach((t=>{const r=n.encodedValue("row",t);g.filter((e=>{const n=Object(i.C)(e,m.row);return!n||n===t})).forEach((t=>{const i=n.encodedPIXIProperty("color",t),l=n.encodedPIXIProperty("stroke",t),u=n.encodedPIXIProperty("strokeWidth",t),c=n.encodedPIXIProperty("opacity"),f=n.encodedPIXIProperty("y",t),h=n.encodedPIXIProperty("width",t,{tileUnitWidth:R}),d=n.encodedPIXIProperty("x-start",t,{markWidth:h}),p=f-L,g=r+D-p-L,b=d+h,_=n.markVisibility(t,{width:h,zoomLevel:w}),E=Math.min(_,c);if(0!==E&&0!==h&&0!==f)if(F.lineStyle(u,Object(a.a)(l),E,0),x){const e=S-(r+D-p-L)/y*A,t=S-(r+D-L)/y*A,n=Object(o.b)(d,v,t,C,P,k,O),s=Object(o.d)(d,v,k,O),l=Object(o.d)(d+h,v,k,O);F.beginFill(Object(a.a)(i),E),F.moveTo(n.x,n.y),F.arc(C,P,t,s,l,!0),F.arc(C,P,e,l,s,!1),F.closePath()}else F.beginFill(Object(a.a)(i),E),F.drawRect(d,r+D-p-L,h,p),m.tooltip&&e.tooltips.push({datum:t,isMouseOver:(e,t)=>d-s.a<e&&e<b+s.a&&g-s.a<t&&t<g+p+s.a,markInfo:{x:d,y:g,width:h,height:p,type:"bar"}})}))}))}function u(e,t,n,r){const i=e.visualPropertyByChannel("x",n),o=e.visualPropertyByChannel("xe",n),a=e.visualPropertyByChannel("size",n);switch(t){case"width":return null!=a?a:o?o-i:null==r?void 0:r.tileUnitWidth;case"x-start":if(!(null==r?void 0:r.markWidth))return;return o?(i+o-(null==r?void 0:r.markWidth))/2:i-(null==r?void 0:r.markWidth)/2;default:return}}},function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(19),i=n(11),o=n(13);function a(e,t,n,a){var s,l,u,c,f,h;const d=a.spec(),p=a.data(),[m,g]=t.dimensions,v=t.tilesetInfo.tile_size,{tileX:y,tileWidth:b}=t.getTilePosAndDimensions(n.gos.zoomLevel,n.gos.tilePos,v),_="circular"===d.layout,E=null!==(s=d.innerRadius)&&void 0!==s?s:220,w=null!==(l=d.outerRadius)&&void 0!==l?l:300,x=null!==(u=d.startAngle)&&void 0!==u?u:0,T=null!==(c=d.endAngle)&&void 0!==c?c:360,S=w-E,k=m/2,O=g/2,A=t._xScale,C=A(y+b/v)-A(y),P=null!==(f=a.getChannelDomainArray("row"))&&void 0!==f?f:["___SINGLE_ROW___"],M=g/P.length,R=null!==(h=a.getChannelDomainArray("y"))&&void 0!==h?h:["___SINGLE_Y_POSITION___"],I=M/R.length,D=n.graphics;p.forEach((e=>{var n;const s=a.encodedPIXIProperty("row",e),l=a.encodedPIXIProperty("x",e),u=a.encodedPIXIProperty("color",e),c=a.encodedPIXIProperty("stroke",e),f=a.encodedPIXIProperty("strokeWidth",e),h=a.encodedPIXIProperty("opacity",e),p=a.encodedPIXIProperty("width",e,{markWidth:C}),v=a.encodedPIXIProperty("height",e,{markHeight:I}),y=a.encodedPIXIProperty("y",e),b=a.markVisibility(e,{width:p,zoomLevel:t._xScale.invert(m)-t._xScale.invert(0)}),E=Math.min(b,h);if(0===E||0===v||p<=1e-4)return;const A=l,P=l+p,R=null!==(n=a.visualPropertyByChannel("size",e))&&void 0!==n?n:void 0;if(D.lineStyle(f,Object(o.a)(c),h,.5),_){if(P<0||m<A)return;let e=w-(s+M-y-v/2)/g*S,t=w-(s+M-y+v/2)/g*S;if(R){const n=w-(s+y)/g*S;e=n-R/2,t=n+R/2}const n=Object(i.b)(A,m,t,k,O,x,T),r=Object(i.d)(A,m,x,T),a=Object(i.d)(P,m,x,T);D.beginFill(Object(o.a)("none"===u?"white":u),"none"===u?0:E),D.moveTo(n.x,n.y),D.arc(k,O,t,r,a,!0),D.arc(k,O,e,a,r,!1),D.closePath()}else D.beginFill(Object(o.a)("none"===u?"white":u),"none"===u?0:h),D.drawRect(A,s+M-y-v/2,P-A,v),d.tooltip&&t.tooltips.push({datum:e,isMouseOver:(e,t)=>A-r.a<e&&e<P+r.a&&s+M-y-v/2-r.a<t&&t<s+M-y+v/2+r.a,markInfo:{x:A,y:s+M-y-v/2,width:P-A,height:v,type:"rect"}})}))}function s(e,t,n,r){var i;switch(t){case"width":const t=e.visualPropertyByChannel("xe",n)?e.visualPropertyByChannel("xe",n)-e.visualPropertyByChannel("x",n):null==r?void 0:r.markWidth;return 0===t?.1:t;case"height":return null!==(i=e.visualPropertyByChannel("size",n))&&void 0!==i?i:null==r?void 0:r.markHeight;default:return}}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(3),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(16).a)},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e){var n,r;n="object"==typeof window&&window||this,r={},n.PubSub=r,function(e){var t={},n=-1;function r(e,t,n){try{e(t,n)}catch(i){setTimeout((r=i,function(){throw r}),0)}var r}function i(e,t,n){e(t,n)}function o(e,n,o,a){var s,l=t[n],u=a?i:r;if(Object.prototype.hasOwnProperty.call(t,n))for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&u(l[s],e,o)}function a(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function s(e,t,n,r){var i,s,l,u=(i=e="symbol"==typeof e?e.toString():e,s=t,l=r,function(){var e=String(i),t=e.lastIndexOf(".");for(o(i,i,s,l);-1!==t;)t=(e=e.substr(0,t)).lastIndexOf("."),o(i,e,s,l);o(i,"*",s,l)});return!!function(e){for(var t=String(e),n=a(t)||a("*"),r=t.lastIndexOf(".");!n&&-1!==r;)r=(t=t.substr(0,r)).lastIndexOf("."),n=a(t);return n}(e)&&(!0===n?u():setTimeout(u,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=r,i},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,i=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])i++;break}return i},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,i,o,a="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,u=!1;if(!a){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(i=t[r],s&&i[n]){delete i[n],u=n;break}if(l)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&i[o]===n&&(delete i[o],u=!0)}return u}e.clearSubscriptions(n)}}(r),void 0!==e&&e.exports&&(t=e.exports=r),t.PubSub=r,e.exports=t=r}).call(this,n(145)(e))},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){if((!i&&0!==i||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var i,o=r(n(72));e.exports=t.default},,,,function(e,t,n){var r=n(242),i=n(318),o=n(319),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(243),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(241),i=n(246);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){(function(e){var r=n(188),i=n(356),o=n(35).Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,u=e.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=i([32,0])),u.BIGUINT64||(u.BIGUINT64=i([32,0])),u.BIGINT64||(u.BIGINT64=i([32,0])),u.BUFFER||(u.BUFFER=i([32,0]));var c=u.DATA,f=u.BUFFER;function h(e){if(e){var t=e.length||e.byteLength,n=r.log2(t);c[n].push(e)}}function d(e){e=r.nextPow2(e);var t=r.log2(e),n=c[t];return n.length>0?n.pop():new ArrayBuffer(e)}function p(e){return new Uint8Array(d(e),0,e)}function m(e){return new Uint16Array(d(2*e),0,e)}function g(e){return new Uint32Array(d(4*e),0,e)}function v(e){return new Int8Array(d(e),0,e)}function y(e){return new Int16Array(d(2*e),0,e)}function b(e){return new Int32Array(d(4*e),0,e)}function _(e){return new Float32Array(d(4*e),0,e)}function E(e){return new Float64Array(d(8*e),0,e)}function w(e){return a?new Uint8ClampedArray(d(e),0,e):p(e)}function x(e){return s?new BigUint64Array(d(8*e),0,e):null}function T(e){return l?new BigInt64Array(d(8*e),0,e):null}function S(e){return new DataView(d(e),0,e)}function k(e){e=r.nextPow2(e);var t=r.log2(e),n=f[t];return n.length>0?n.pop():new o(e)}t.free=function(e){if(o.isBuffer(e))f[r.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|r.log2(t);c[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){h(e.buffer)},t.freeArrayBuffer=h,t.freeBuffer=function(e){f[r.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return d(e);switch(t){case"uint8":return p(e);case"uint16":return m(e);case"uint32":return g(e);case"int8":return v(e);case"int16":return y(e);case"int32":return b(e);case"float":case"float32":return _(e);case"double":case"float64":return E(e);case"uint8_clamped":return w(e);case"bigint64":return T(e);case"biguint64":return x(e);case"buffer":return k(e);case"data":case"dataview":return S(e);default:return null}return null},t.mallocArrayBuffer=d,t.mallocUint8=p,t.mallocUint16=m,t.mallocUint32=g,t.mallocInt8=v,t.mallocInt16=y,t.mallocInt32=b,t.mallocFloat32=t.mallocFloat=_,t.mallocFloat64=t.mallocDouble=E,t.mallocUint8Clamped=w,t.mallocBigUint64=x,t.mallocBigInt64=T,t.mallocDataView=S,t.mallocBuffer=k,t.clearCache=function(){for(var e=0;e<32;++e)u.UINT8[e].length=0,u.UINT16[e].length=0,u.UINT32[e].length=0,u.INT8[e].length=0,u.INT16[e].length=0,u.INT32[e].length=0,u.FLOAT[e].length=0,u.DOUBLE[e].length=0,u.BIGUINT64[e].length=0,u.BIGINT64[e].length=0,u.UINT8C[e].length=0,c[e].length=0,f[e].length=0}}).call(this,n(51))},function(e,t,n){function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){var r=n(190);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(362),i=n(192);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(363),o=n(364).Context,a=n(365);"undefined"!=typeof window&&(window.Buffer=e),"undefined"!=typeof self&&(self.Buffer=e);var s={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8,UInt64:8,Int64:8},l={},u=[];!function(){var e;for(e=1;e<=32;e++)u.push(e)}();var c={};Object.keys(s).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(e){c[e.toLowerCase()]=e}));var f=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};f.start=function(){return new f},Object.keys(s).forEach((function(e){f.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in f.prototype||(f.prototype[t]=function(e,n){return this[t+this.endian](e,n)})})),u.forEach((function(e){f.prototype["bit".concat(e.toString())]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}})),f.prototype.namely=function(e){return l[e]=this,this.alias=e,this},f.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},f.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},f.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},f.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!l[t.type]&&Object.keys(s).indexOf(c[t.type])<0)throw new Error('Specified primitive type "'.concat(t.type,'" is not supported.'));return this.setNextParser("array",e,t)},f.prototype.choice=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach((function(n){if(!t.choices[n])throw new Error("Choice Case ".concat(n," of ").concat(e," is not valid."));if("string"==typeof t.choices[n]&&!l[t.choices[n]]&&Object.keys(s).indexOf(c[t.choices[n]])<0)throw new Error('Specified primitive type "'.concat(t.choices[n],'" is not supported.'))}),this),this.setNextParser("choice",e,t)},f.prototype.nest=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof f||l[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof f||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},f.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: ".concat(e))}return this},f.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},f.prototype.getCode=function(){var e=new o;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},f.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},f.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},f.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((function(t){l[t].addAliasedCode(e)}))},f.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { ".concat(this.getCode()," })");this.compiled=i.runInThisContext(e)},f.prototype.sizeOf=function(){var e=NaN;if(Object.keys(s).indexOf(this.type)>=0)e=s[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=s[c[this.options.type]]:this.options.type instanceof f&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},f.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,a)},f.prototype.setNextParser=function(e,t,n){var r=new f;return r.type=c[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},f.prototype.generate=function(e){this.type&&(this["generate".concat(this.type)](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},f.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(r(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},f.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(s).forEach((function(e){f.prototype["generate".concat(e)]=function(t){"UInt64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):"Int64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",s[e])}})),f.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach((function(e){n+=e.options.length}));var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",o),e.pushCode("var {2} = ({0} << 8) | {1};",i,o,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var a=0,s="be"===this.endian;e.bitFields.forEach((function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,s?n-a-t.options.length:a,(1<<t.options.length)-1),a+=t.options.length})),e.bitFields=[]}},f.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},f.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},f.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},f.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),o=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,h="string"==typeof u;if(h?e.pushCode("{0} = {};",o):e.pushCode("{0} = [];",o),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(l[r]){var d=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",d,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",a,d),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",a,c[r]),e.pushCode("offset += {0};",s[c[r]]);else r instanceof f&&(e.pushCode("var {0} = {};",a),e.pushScope(a),r.generate(e),e.popScope());h?e.pushCode("{0}[{2}.{1}] = {2};",o,u,a):e.pushCode("{0}.push({1});",o,a),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,a)},f.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(l[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),c[n]),e.pushCode("offset += {0};",s[c[n]]);else n instanceof f&&(e.pushPath(t),n.generate(e),e.popPath(t))},f.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach((function(t){var n=this.options.choices[t];Number.isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")}),this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},f.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof f)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(l[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},f.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},f.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},f.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},f.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},f.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},f.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},f.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=f}).call(this,n(35).Buffer)},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(366));t.default=i.default},function(e,t,n){var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=g(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(256)).Stream=t,t.Readable=t,t.Writable=n(198),t.Duplex=n(86),t.Transform=n(260),t.PassThrough=n(379)},function(e,t,n){var r=n(35),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){(function(t,r,i){var o=n(147);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=v;var u=Object.create(n(128));u.inherits=n(101);var c,f={deprecate:n(377)},h=n(257),d=n(197).Buffer,p=i.Uint8Array||function(){},m=n(258);function g(){}function v(e,t){s=s||n(86),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n,r=e._writableState,i=r.sync,a=r.writecb;if((n=r).writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,r,i,t,a);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),i?l(_,e,r,s,a):_(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(86),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){var i,o;n||(i=e,0===(o=t).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),T(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n,r,i=w(t);return i&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,o.nextTick(x,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}u.inherits(y,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i,a=this._writableState,s=!1,l=!a.objectMode&&(r=e,d.isBuffer(r)||r instanceof p);return l&&!d.isBuffer(e)&&(i=e,e=d.from(i)),"function"==typeof t&&(n=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=g),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(l||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,a,e,n))&&(a.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var a=(l=r,u=i,(s=t).objectMode||!1===s.decodeStrings||"string"!=typeof l||(l=d.from(l,u)),l);r!==a&&(n=!0,i="buffer",r=a)}var s,l,u,c=t.objectMode?1:r.length;t.length+=c;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,c,r,i,o);return f}(this,a,l,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r,i,a,s=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(r=this,a=n,(i=s).ending=!0,T(r,i),a&&(i.finished?o.nextTick(a):r.once("finish",a)),i.ended=!0,r.writable=!1)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(60),n(375).setImmediate,n(51))},function(e,t,n){class r{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=r},function(e,t,n){(function(e){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.BBI=void 0;var i=r(n(124)),o=r(n(125)),a=r(n(100)),s=r(n(126)),l=r(n(127)),u=n(193),c=n(158),f=n(293),h=n(292),d=r(n(194)),p=r(n(199)),m=n(254);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e?"big":"little",n=(new u.Parser).endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:(new u.Parser).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=(new u.Parser).endianess(t).uint64("basesCovered").double("scoreMin").double("scoreMax").double("scoreSum").double("scoreSumSquares");return{chromTreeParser:(new u.Parser).endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),totalSummaryParser:r,headerParser:n,isLeafNode:(new u.Parser).endianess(t).uint8("isLeafNode").skip(1).uint16("cnt")}}var b=function(){function t(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t),(0,l.default)(this,"bbi",void 0),(0,l.default)(this,"headerCache",new d.default({cache:new p.default({maxSize:1}),fill:(e=(0,o.default)(i.default.mark((function e(t,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._getHeader(v(v({},t),{},{signal:r})));case 1:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})})),(0,l.default)(this,"renameRefSeqs",void 0);var s=r.filehandle,u=r.renameRefSeqs,f=r.path,h=r.url;if(this.renameRefSeqs=u||function(e){return e},s)this.bbi=s;else if(h)this.bbi=new c.RemoteFile(h);else{if(!f)throw new Error("no file given");this.bbi=new c.LocalFile(f)}}var n,r,g,b,_,E;return(0,s.default)(t,[{key:"getHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="aborted"in e?{signal:e}:e;return this.headerCache.get(JSON.stringify(t),t,t.signal)}}]),(0,s.default)(t,[{key:"_getHeader",value:(E=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMainHeader(t);case 2:return n=e.sent,e.next=5,this._readChromTree(n,t);case 5:return r=e.sent,e.abrupt("return",v(v({},n),r));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"_getMainHeader",value:(_=(0,o.default)(i.default.mark((function t(n){var r,o,a,s,l,u,c,f=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:2e3,t.next=3,this.bbi.read(e.alloc(r),0,r,0,n);case 3:if(o=t.sent,a=o.buffer,s=this._isBigEndian(a),l=y(s),(u=l.headerParser.parse(a).result).fileType=-2021002517===u.magic?"bigbed":"bigwig",!(u.asOffset>r||u.totalSummaryOffset>r)){t.next=11;break}return t.abrupt("return",this._getMainHeader(n,2*r));case 11:if(u.asOffset&&(u.autoSql=a.slice(u.asOffset,a.indexOf(0,u.asOffset)).toString("utf8")),!(u.totalSummaryOffset>r)){t.next=14;break}return t.abrupt("return",this._getMainHeader(n,2*r));case 14:return u.totalSummaryOffset&&(c=a.slice(u.totalSummaryOffset),u.totalSummary=l.totalSummaryParser.parse(c).result),t.abrupt("return",v(v({},u),{},{isBigEndian:s}));case 16:case"end":return t.stop()}}),t,this)}))),function(e){return _.apply(this,arguments)})},{key:"_isBigEndian",value:function(e){var t=e.readInt32LE(0);if(-2003829722===t||-2021002517===t)return!1;if(-2003829722===(t=e.readInt32BE(0))||-2021002517===t)return!0;throw new Error("not a BigWig/BigBed file")}},{key:"_readChromTree",value:(b=(0,o.default)(i.default.mark((function t(n,r){var a,s,l,c,f,h,d,p,m,g,v,b,_,E=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=n.isBigEndian,s=a?"big":"little",l=[],c={},f=n.chromTreeOffset,h=n.unzoomedDataOffset;h%4!=0;)h+=1;return t.next=9,this.bbi.read(e.alloc(h-f),0,h-f,f,r);case 9:return d=t.sent,p=d.buffer,m=y(a),g=m.chromTreeParser.parse(p).result.keySize,v=(new u.Parser).endianess(s).string("key",{stripNull:!0,length:g}).uint32("refId").uint32("refSize"),b=(new u.Parser).endianess(s).skip(g).uint64("childOffset"),_=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,u,h,d,g,y,w,x,T,S,k,O;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t)>=p.length)){e.next=3;break}throw new Error("reading beyond end of buffer");case 3:if(r=m.isLeafNode.parse(p.slice(n)),o=r.result,a=o.isLeafNode,s=o.cnt,n+=r.offset,!a){e.next=10;break}for(u=0;u<s;u+=1)h=v.parse(p.slice(n)),n+=h.offset,d=h.result,g=d.key,y=d.refId,w=d.refSize,x={name:g,id:y,length:w},c[E.renameRefSeqs(g)]=y,l[y]=x;e.next=14;break;case 10:for(T=[],S=0;S<s;S+=1)k=b.parse(p.slice(n)),O=k.result.childOffset,n+=k.offset,O-=f,T.push(_(O));return e.next=14,Promise.all(T);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.next=19,_(32);case 19:return t.abrupt("return",{refsByName:c,refsByNumber:l});case 20:case"end":return t.stop()}}),t,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"getUnzoomedView",value:(g=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,l,u,c,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader(t);case 2:return n=e.sent,r=n.unzoomedIndexOffset,o=n.zoomLevels,a=n.refsByName,s=n.uncompressBufSize,l=n.isBigEndian,u=n.fileType,c=o[0],f=c?c.dataOffset-r:4e3,e.abrupt("return",new m.BlockView(this.bbi,a,r,f,l,s>0,u));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"getFeatureStream",value:(r=(0,o.default)(i.default.mark((function e(t,n,r){var o,a,s,l=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{scale:1},e.next=3,this.getHeader(o);case 3:if(a=this.renameRefSeqs(t),!o.basesPerSpan){e.next=10;break}return e.next=7,this.getView(1/o.basesPerSpan,o);case 7:s=e.sent,e.next=19;break;case 10:if(!o.scale){e.next=16;break}return e.next=13,this.getView(o.scale,o);case 13:s=e.sent,e.next=19;break;case 16:return e.next=18,this.getView(1,o);case 18:s=e.sent;case 19:if(s){e.next=21;break}throw new Error("unable to get block view for data");case 21:return e.abrupt("return",new f.Observable((function(e){s.readWigData(a,n,r,e,o)})));case 22:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getFeatures",value:(n=(0,o.default)(i.default.mark((function e(t,n,r){var o,a,s,l=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{scale:1},e.next=3,this.getFeatureStream(t,n,r,o);case 3:return a=e.sent,e.next=6,a.pipe((0,h.reduce)((function(e,t){return e.concat(t)}))).toPromise();case 6:return s=e.sent,e.abrupt("return",s||[]);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})}]),t}();t.BBI=b}).call(this,n(35).Buffer)},function(e,t,n){e.exports=n(235)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(416),i=n(207),o=n(102),a=n(267),s=n(418);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var n=r.parse(t),i=g(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=y(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==y(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,n,o,e.schema,e)}function c(e,t,n){var r=u.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=b(o,a)),h.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=y,l.fullPath=m,l.url=b,l.ids=function(e){var t=y(this._getId(e)),n={"":t},a={"":m(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,f,h,d){if(""!==t){var p=u._getId(e),m=n[c],g=a[c]+"/"+f;if(void 0!==d&&(g+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=y(m?r.resolve(m,p):p);var v=u._refs[p];if("string"==typeof v&&(v=u._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=y(g))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else u._refs[p]=g}n[t]=m,a[t]=g}})),l},l.inlineRef=p,l.schema=u;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!f[s]&&((l=this._getId(n))&&(t=b(t,l)),n.$ref)){var c=b(t,n.$ref),h=u.call(this,r,c);h&&(n=h.schema,r=h.root,t=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(d[o])r++;else if("object"==typeof(n=t[o])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),g(r.parse(e))}function g(e){return r.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function b(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){var r=n(206);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var r=n(452);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(105);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(215)("keys"),i=n(152);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(56),i=n(79),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(151)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(104),i=n(460),o=n(216),a=n(214)("IE_PROTO"),s=function(){},l=function(){var e,t=n(276)("iframe"),r=o.length;for(t.style.display="none",n(461).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(87).f,i=n(88),o=n(61)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(61)},function(e,t,n){var r=n(79),i=n(56),o=n(151),a=n(220),s=n(87).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,l,u,c,f,h,d,p,m=r(n(72)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=c,t.transitionTiming=u,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=p,t.animationTiming=d,t.animationDuration=h,t.animationName=f,m.default){var v=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}return!e&&"transitionProperty"in n&&(e="transitionend"),!t&&"animationName"in n&&(t="animationend"),n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=v.prefix,t.transitionEnd=o=v.transitionEnd,t.animationEnd=a=v.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=c=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=f=i+"-animation-name",t.animationDuration=h=i+"-animation-duration",t.animationTiming=d=i+"-animation-delay",t.animationDelay=p=i+"-animation-timing-function"}var y={transform:g,end:o,property:s,timing:u,delay:c,duration:l};t.default=y},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(72)).default&&(i=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(72)).default&&(i=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){(function(e){n.d(t,"a",(function(){return v}));var r=n(121),i=n.n(r),o=n(140),a=n(85),s=n(303),l=n(76),u=n(141),c=n(234),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const h=i()("threads:master:messages"),d=i()("threads:master:spawn"),p=i()("threads:master:thread-utils"),m=void 0!==e&&Object({NODE_ENV:"production"}).THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(Object({NODE_ENV:"production"}).THREADS_WORKER_INIT_TIMEOUT,10):1e4;function g(e,t,n,r){const i=n.filter((e=>e.type===u.a.internalError)).map((e=>e.error));return Object.assign(e,{[l.a]:i,[l.b]:n,[l.c]:r,[l.e]:t})}function v(e,t){return f(this,void 0,void 0,(function*(){d("Initializing new thread");const n=t&&t.timeout?t.timeout:m,r=(yield function(e,t,n){return f(this,void 0,void 0,(function*(){let r;const i=new Promise(((e,i)=>{r=setTimeout((()=>i(Error(n))),t)})),o=yield Promise.race([e,i]);return clearTimeout(r),o}))}((y=e,new Promise(((e,t)=>{const n=r=>{var i,o;h("Message from worker before finishing initialization:",r.data),(i=r.data)&&"init"===i.type?(y.removeEventListener("message",n),e(r.data)):(o=r.data)&&"uncaughtError"===o.type&&(y.removeEventListener("message",n),t(Object(a.a)(r.data.error)))};y.addEventListener("message",n)}))),n,`Timeout: Did not receive an init message from worker after ${n}ms. Make sure the worker calls expose().`)).exposed,{termination:i,terminate:l}=function(e){const[t,n]=Object(s.a)();return{terminate:()=>f(this,void 0,void 0,(function*(){p("Terminating worker"),yield e.terminate(),n()})),termination:t}}(e),v=function(e,t){return new o.a((n=>{const r=e=>{const t={type:u.a.message,data:e.data};n.next(t)},i=e=>{p("Unhandled promise rejection event in thread:",e);const t={type:u.a.internalError,error:Error(e.reason)};n.next(t)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",i),t.then((()=>{const t={type:u.a.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",i),n.next(t),n.complete()}))}))}(e,i);var y;if("function"===r.type)return g(Object(c.a)(e),e,v,l);if("module"===r.type)return g(Object(c.b)(e,r.methods),e,v,l);{const e=r.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}}).call(this,n(60))},function(e,t,n){e.exports={default:n(450),__esModule:!0}},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,i.default)());try{return e.activeElement}catch(t){}};var i=r(n(90));e.exports=t.default},function(e,t,n){t.__esModule=!0;var r=u(n(81)),i=u(n(0)),o=u(n(1)),a=u(n(22)),s=u(n(287)),l=u(n(106));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.addEventListeners=function(){var e=o.props.event,t=(0,l.default)(o);o.documentMouseCaptureListener=(0,s.default)(t,e,o.handleMouseCapture,!0),o.documentMouseListener=(0,s.default)(t,e,o.handleMouse),o.documentKeyupListener=(0,s.default)(t,"keyup",o.handleKeyUp)},o.removeEventListeners=function(){o.documentMouseCaptureListener&&o.documentMouseCaptureListener.remove(),o.documentMouseListener&&o.documentMouseListener.remove(),o.documentKeyupListener&&o.documentKeyupListener.remove()},o.handleMouseCapture=function(e){var t;o.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!(0===e.button)||(0,r.default)(a.default.findDOMNode(o),e.target)},o.handleMouse=function(e){!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(e)},o.handleKeyUp=function(e){27===e.keyCode&&o.props.onRootClose&&o.props.onRootClose(e)},o.preventMouseRootClose=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(o.default.Component);c.displayName="RootCloseWrapper",c.propTypes={onRootClose:i.default.func,children:i.default.element,disabled:i.default.bool,event:i.default.oneOf(["click","mousedown"])},c.defaultProps={event:"click"},t.default=c,e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){return(0,r.default)(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=(0,i.default)(e),n=(0,r.default)(t).innerWidth;if(!n){var o=t.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight;var t};var r=o(n(155)),i=o(n(90));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e){e.exports=JSON.parse('{"name":"gosling.js","author":"Sehi L\'Yi","version":"0.9.4","license":"MIT","repository":{"type":"git","url":"https://github.com/gosling-lang/gosling.js"},"homepage":"https://gosling-lang.github.io/gosling.js/","main":"dist/gosling.js","types":"dist/src/index.d.ts","files":["dist"],"scripts":{"start":"yarn build-worker && webpack-dev-server --mode development --config webpack.config.editor.js","build":"rm -rf build/* && rm -rf dist/* && yarn build-worker && webpack --mode production --config webpack.config.js","build-log":"rm -rf build/* && rm -rf dist/* && yarn build --display-error-details","build-editor":"yarn build-worker && webpack --mode production --config webpack.config.editor.js","build-worker":"webpack --mode production --config webpack.config.worker.js","test":"jest src/","changelog":"conventional-changelog -p angular -i CHANGELOG.md -s -r 0","format":"eslint src/ --fix && prettier \'src/**/*.css\' --write","schema":"ts-json-schema-generator -p src/index.ts -f tsconfig.json -t GoslingSpec --no-type-check --no-ref-encode > schema/gosling.schema.json","schema-theme":"ts-json-schema-generator -p src/index.ts -f tsconfig.json -t Theme --no-type-check --no-ref-encode > schema/theme.schema.json","schema-template":"ts-json-schema-generator -p src/index.ts -f tsconfig.json -t TemplateTrackDef --no-type-check --no-ref-encode > schema/template.schema.json","schema-versioning":"mkdir -p schema/history/$npm_package_version && cp schema/gosling.schema.json schema/history/$npm_package_version/gosling$npm_package_version.schema.json && cp src/core/gosling.schema.ts schema/history/$npm_package_version/gosling$npm_package_version.schema.ts","predeploy":"yarn build-editor; echo \\"gosling.js.org\\" >> build/CNAME","deploy":"gh-pages -d build"},"peerDependencies":{"pixi.js":"^6.0.4","react":"16.13.1","react-dom":"16.13.1"},"dependencies":{"@gmod/bam":"^1.1.6","@gmod/bbi":"^1.0.30","@types/bezier-js":"^4.1.0","@types/d3":"^5.7.2","@types/lodash":"^4.14.151","@types/node":"^12.0.0","@types/uuid":"^8.3.0","bezier-js":"^4.1.1","box-intersect":"^1.0.2","d3-array":"^2.5.1","d3-color":"^2.0.0","d3-dsv":"^2.0.0","d3-scale":"^3.2.1","d3-scale-chromatic":"^2.0.0","d3-shape":"^2.0.0","file-loader":"^6.0.0","generic-filehandle":"^2.0.3","gosling-theme":"0.0.7","higlass":"^1.11.7","higlass-register":"^0.3.0","higlass-text":"^0.1.1","json-stringify-pretty-compact":"^2.0.0","jspdf":"^2.3.1","lodash":"^4.17.15","mixwith":"^0.1.1","pubsub-js":"^1.9.3","react-grid-layout":"^1.2.5","threads":"^1.6.4","worker-loader":"^3.0.8"},"devDependencies":{"@babel/core":"^7.11.1","@commitlint/cli":"^11.0.0","@commitlint/config-conventional":"^11.0.0","@testing-library/jest-dom":"^5.11.3","@testing-library/react":"^10.4.8","@testing-library/user-event":"^12.1.1","@types/jest":"^26.0.10","@types/pubsub-js":"^1.8.2","@types/qs":"^6.9.5","@types/react":"^16.9.46","@types/react-dom":"^16.9.8","@types/react-resize-detector":"^4.2.0","@types/react-router-dom":"^5.1.6","@typescript-eslint/eslint-plugin":"^4.8.1","@typescript-eslint/parser":"^4.8.1","ajv":"^6.12.2","babel-jest":"^26.3.0","canvas":"^2.6.1","conventional-changelog-cli":"^2.1.1","cross-fetch":"^3.0.6","css-loader":"^4.2.1","d3-drag":"^1","d3-selection":"^1","documentation":"^13.0.2","eslint":"^7.6.0","eslint-config-prettier":"^6.11.0","eslint-plugin-jest":"^23.20.0","eslint-plugin-prettier":"^3.1.4","eslint-plugin-react":"^7.20.6","fetch-jsonp":"^1.1.3","gh-pages":"^3.1.0","git-branch-is":"^4.0.0","html-webpack-plugin":"^4.3.0","husky":"^4.2.5","jest":"^26.4.0","jest-canvas-mock":"^2.3.0","jest-raw-loader":"^1.0.1","monaco-editor-webpack-plugin":"^3.0.0","peer-deps-externals-webpack-plugin":"^1.0.4","pixi.js":"^6.0.4","postcss-loader":"^3.0.0","prettier":"^2.0.5","qs":"^6.9.4","raw-loader":"^4.0.2","react":"16.13.1","react-dom":"16.13.1","react-markdown":"^5.0.3","react-monaco-editor":"^0.42.0","react-resize-detector":"^4.2.3","react-router-dom":"^5.2.0","react-scripts":"3.4.1","react-split-pane":"^0.1.91","remark-gfm":"^1.0.0","strip-json-comments":"^3.1.1","style-loader":"^1.2.1","threads-plugin":"^1.4.0","ts-jest":"^26.2.0","ts-json-schema-generator":"^0.75.0","ts-loader":"^8.0.2","typescript":"~4.1.2","unminified-webpack-plugin":"^2.0.0","webpack":"^4.44.1","webpack-bundle-analyzer":"^3.8.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.0"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"jest":{"moduleNameMapper":{"raw-loader!*":"jest-raw-loader"},"setupFiles":["jest-canvas-mock"],"preset":"ts-jest","verbose":true,"moduleFileExtensions":["js","ts"],"coverageDirectory":"./coverage/","collectCoverage":true,"collectCoverageFrom":["**/src/**/*.{js,ts}","!**/node_modules/**","!**/coverage/**","!**/public/**","!**/dist/**","!**/editor/**","!**/deprecated/**"],"coverageReporters":["lcov","text"]},"husky":{"hooks":{"pre-commit":"yarn changelog && yarn schema && yarn schema-theme && yarn schema-template && yarn format && git add .","commit-msg":"commitlint -E HUSKY_GIT_PARAMS"}}}')},function(e,t,n){n.d(t,"a",(function(){return i}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(223));t.on=i.default;var o=r(n(224));t.off=o.default;var a=r(n(511));t.filter=a.default;var s=r(n(513));t.listen=s.default;var l={on:i.default,off:o.default,filter:a.default,listen:s.default};t.default=l},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(0)),o=c(n(15)),a=c(n(1)),s=c(n(289)),l=c(n(524)),u=c(n(228));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.handleHidden=function(){var e;i.setState({exited:!0}),i.props.onExited&&(e=i.props).onExited.apply(e,arguments)},i.state={exited:!n.show},i.onHiddenListener=i.handleHidden.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,i=e.placement,o=e.shouldUpdatePosition,c=e.rootClose,f=e.children,h=e.transition,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(d.show||h&&!this.state.exited))return null;var p=f;if(p=a.default.createElement(l.default,{container:t,containerPadding:n,target:r,placement:i,shouldUpdatePosition:o},p),h){var m=d.onExit,g=d.onExiting,v=d.onEnter,y=d.onEntering,b=d.onEntered;p=a.default.createElement(h,{in:d.show,appear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:v,onEntering:y,onEntered:b},p)}return c&&(p=a.default.createElement(u.default,{onRootClose:d.onHide},p)),a.default.createElement(s.default,{container:t},p)},t}(a.default.Component);f.propTypes=r({},s.default.propTypes,l.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},transition:o.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=f,e.exports=t.default},function(e,t,n){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b}));var r=n(121),i=n.n(r),o=n(140);class a extends o.a{constructor(){super((e=>(this._observers.add(e),()=>this._observers.delete(e)))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}}var s=a,l=n(85);const u=()=>{},c=e=>e,f=e=>Promise.resolve().then(e);function h(e){throw e}class d extends o.a{constructor(e){super((t=>{const n=this,r=Object.assign(Object.assign({},t),{complete(){t.complete(),n.onCompletion()},error(e){t.error(e),n.onError(e)},next(e){t.next(e),n.onNext(e)}});try{return this.initHasRun=!0,e(r)}catch(i){r.error(i)}})),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)f((()=>t(e)))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)f((()=>e(this.firstValue)))}then(e,t){const n=e||c,r=t||h;let i=!1;return new Promise(((e,t)=>{const o=n=>{if(!i){i=!0;try{e(r(n))}catch(o){t(o)}}};return this.initHasRun||this.subscribe({error:o}),"fulfilled"===this.state?e(n(this.firstValue)):"rejected"===this.state?(i=!0,e(r(this.rejection))):(this.fulfillmentCallbacks.push((t=>{try{e(n(t))}catch(r){o(r)}})),void this.rejectionCallbacks.push(o))}))}catch(e){return this.then(void 0,e)}finally(e){const t=e||u;return this.then((e=>(t(),e)),(()=>t()))}static from(e){return(t=e)&&"function"==typeof t.then?new d((t=>{e.then((e=>{t.next(e),t.complete()}),(e=>{t.error(e)}))})):super.from(e);var t}}var p=n(304),m=n(122);const g=i()("threads:master:messages");let v=1;function y(e,t){return(...n)=>{const r=v++,{args:i,transferables:a}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],n=[];for(const i of e)Object(p.a)(i)?(t.push(Object(l.b)(i.send)),n.push(...i.transferables)):t.push(Object(l.b)(i));return{args:t,transferables:0===n.length?n:(r=n,Array.from(new Set(r)))};var r}(n),u={type:m.a.run,uid:r,method:t,args:i};g("Sending command to run function to worker:",u);try{e.postMessage(u,a)}catch(c){return d.from(Promise.reject(c))}return d.from(function(e){const t=new s;let n,r=0;return new o.a((i=>{n||(n=e.subscribe(t));const o=t.subscribe(i);return r++,()=>{r--,o.unsubscribe(),0===r&&(function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()}(n),n=void 0)}}))}(function(e,t){return new o.a((n=>{let r;const i=o=>{var a,s;if(g("Message from worker:",o.data),o.data&&o.data.uid===t)if((a=o.data)&&a.type===m.b.running)r=o.data.resultType;else if((s=o.data)&&s.type===m.b.result)"promise"===r?(void 0!==o.data.payload&&n.next(Object(l.a)(o.data.payload)),n.complete(),e.removeEventListener("message",i)):(o.data.payload&&n.next(Object(l.a)(o.data.payload)),o.data.complete&&(n.complete(),e.removeEventListener("message",i)));else if((e=>e&&e.type===m.b.error)(o.data)){const t=Object(l.a)(o.data.error);n.error(t),e.removeEventListener("message",i)}};return e.addEventListener("message",i),()=>{if("observable"===r||!r){const n={type:m.a.cancel,uid:t};e.postMessage(n)}e.removeEventListener("message",i)}}))}(e,r)))}}function b(e,t){const n={};for(const r of t)n[r]=y(e,r);return n}},function(e,t,n){var r=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(k){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i,o,a,s,l=t&&t.prototype instanceof f?t:f,h=Object.create(l.prototype),d=new x(r||[]);return h._invoke=(i=e,o=n,a=d,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=_(n,a);if(r){if(r===c)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";var l=u(i,o,a);if("normal"===l.type){if(s=a.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s="completed",a.method="throw",a.arg=l.arg)}}),h}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c={};function f(){}function h(){}function d(){}var p={};p[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,i)&&(p=g);var v=d.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,h.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,function(e){e.exports=JSON.parse('{"$ref":"#/definitions/Theme","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"AxisStyle":{"additionalProperties":false,"properties":{"baselineColor":{"type":"string"},"gridColor":{"type":"string"},"gridStrokeDash":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"},"gridStrokeType":{"enum":["solid","dashed"],"type":"string"},"gridStrokeWidth":{"type":"number"},"labelColor":{"type":"string"},"labelFontFamily":{"type":"string"},"labelFontSize":{"type":"number"},"labelFontWeight":{"enum":["bold","normal","light"],"type":"string"},"tickColor":{"type":"string"}},"type":"object"},"LegendStyle":{"additionalProperties":false,"properties":{"background":{"type":"string"},"backgroundOpacity":{"type":"number"},"backgroundStroke":{"type":"string"},"labelColor":{"type":"string"},"labelFontFamily":{"type":"string"},"labelFontSize":{"type":"number"},"labelFontWeight":{"enum":["bold","normal","light"],"type":"string"},"position":{"enum":["top","right"],"type":"string"},"tickColor":{"type":"string"}},"type":"object"},"MarkStyle":{"additionalProperties":false,"properties":{"color":{"type":"string"},"nominalColorRange":{"items":{"type":"string"},"type":"array"},"opacity":{"type":"number"},"quantitativeSizeRange":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"},"size":{"type":"number"},"stroke":{"type":"string"},"strokeWidth":{"type":"number"}},"type":"object"},"RootStyle":{"additionalProperties":false,"properties":{"background":{"type":"string"},"mousePositionColor":{"type":"string"},"subtitleAlign":{"enum":["left","middle","right"],"type":"string"},"subtitleBackgroundColor":{"type":"string"},"subtitleColor":{"type":"string"},"subtitleFontFamily":{"type":"string"},"subtitleFontSize":{"type":"number"},"subtitleFontWeight":{"enum":["bold","normal","light"],"type":"string"},"titleAlign":{"enum":["left","middle","right"],"type":"string"},"titleBackgroundColor":{"type":"string"},"titleColor":{"type":"string"},"titleFontFamily":{"type":"string"},"titleFontSize":{"type":"number"},"titleFontWeight":{"enum":["bold","normal","light"],"type":"string"}},"type":"object"},"Theme":{"anyOf":[{"$ref":"#/definitions/ThemeType"},{"$ref":"#/definitions/ThemeDeep"}]},"ThemeDeep":{"additionalProperties":false,"properties":{"area":{"$ref":"#/definitions/MarkStyle"},"axis":{"$ref":"#/definitions/AxisStyle"},"bar":{"$ref":"#/definitions/MarkStyle"},"base":{"$ref":"#/definitions/ThemeType"},"brush":{"$ref":"#/definitions/MarkStyle"},"legend":{"$ref":"#/definitions/LegendStyle"},"line":{"$ref":"#/definitions/MarkStyle"},"link":{"$ref":"#/definitions/MarkStyle"},"markCommon":{"$ref":"#/definitions/MarkStyle"},"point":{"$ref":"#/definitions/MarkStyle"},"rect":{"$ref":"#/definitions/MarkStyle"},"root":{"$ref":"#/definitions/RootStyle"},"rule":{"$ref":"#/definitions/MarkStyle"},"text":{"additionalProperties":false,"properties":{"color":{"type":"string"},"nominalColorRange":{"items":{"type":"string"},"type":"array"},"opacity":{"type":"number"},"quantitativeSizeRange":{"items":[{"type":"number"},{"type":"number"}],"maxItems":2,"minItems":2,"type":"array"},"size":{"type":"number"},"stroke":{"type":"string"},"strokeWidth":{"type":"number"},"textAnchor":{"enum":["start","middle","end"],"type":"string"},"textFontWeight":{"enum":["bold","normal"],"type":"string"}},"type":"object"},"track":{"$ref":"#/definitions/TrackStyle"},"triangle":{"$ref":"#/definitions/MarkStyle"}},"required":["base"],"type":"object"},"ThemeType":{"type":"string"},"TrackStyle":{"additionalProperties":false,"properties":{"alternatingBackground":{"type":"string"},"background":{"type":"string"},"outline":{"type":"string"},"outlineWidth":{"type":"number"},"titleAlign":{"enum":["left","middle","right"],"type":"string"},"titleBackground":{"type":"string"},"titleColor":{"type":"string"},"titleFontSize":{"type":"number"}},"type":"object"}}}')},function(e,t,n){var r=n(239),i=n(244),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(240);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(316),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(182),i=n(184);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(183).Symbol;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(51))},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports={init:function(e){var t=i.nextPow2(e);a.length<t&&(r.free(a),a=r.mallocInt32(t)),s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,c,f,m,g,v){for(var y=0,b=2*e,_=e-1,E=b-1,w=n;w<r;++w){var x=c[w],T=b*w;h[y++]=i[T+_],h[y++]=-(x+1),h[y++]=i[T+E],h[y++]=x}for(w=f;w<m;++w){x=v[w]+(1<<28);var S=b*w;h[y++]=g[S+_],h[y++]=-x,h[y++]=g[S+E],h[y++]=x}var k=y>>>1;o(h,k);var O=0,A=0;for(w=0;w<k;++w){var C=0|h[2*w+1];if(C>=1<<28)d(l,u,A--,C=C-(1<<28)|0);else if(C>=0)d(a,s,O--,C);else if(C<=-(1<<28)){C=-C-(1<<28)|0;for(var P=0;P<O;++P)if(void 0!==(M=t(a[P],C)))return M;p(l,u,A++,C)}else{for(C=-C-1|0,P=0;P<A;++P){var M;if(void 0!==(M=t(C,l[P])))return M}p(a,s,O++,C)}}},sweepComplete:function(e,t,n,r,i,m,g,v,y,b){for(var _=0,E=2*e,w=e-1,x=E-1,T=n;T<r;++T){var S=m[T]+1<<1,k=E*T;h[_++]=i[k+w],h[_++]=-S,h[_++]=i[k+x],h[_++]=S}for(T=g;T<v;++T){S=b[T]+1<<1;var O=E*T;h[_++]=y[O+w],h[_++]=1|-S,h[_++]=y[O+x],h[_++]=1|S}var A=_>>>1;o(h,A);var C=0,P=0,M=0;for(T=0;T<A;++T){var R=0|h[2*T+1],I=1&R;if(T<A-1&&R>>1==h[2*T+3]>>1&&(I=2,T+=1),R<0){for(var D=-(R>>1)-1,N=0;N<M;++N)if(void 0!==(L=t(c[N],D)))return L;if(0!==I)for(N=0;N<C;++N)if(void 0!==(L=t(a[N],D)))return L;if(1!==I)for(N=0;N<P;++N){var L;if(void 0!==(L=t(l[N],D)))return L}0===I?p(a,s,C++,D):1===I?p(l,u,P++,D):2===I&&p(c,f,M++,D)}else D=(R>>1)-1,0===I?d(a,s,C--,D):1===I?d(l,u,P--,D):2===I&&d(c,f,M--,D)}},scanBipartite:function(e,t,n,r,i,l,u,c,f,m,g,v){var y=0,b=2*e,_=t,E=t+e,w=1,x=1;r?x=1<<28:w=1<<28;for(var T=i;T<l;++T){var S=T+w,k=b*T;h[y++]=u[k+_],h[y++]=-S,h[y++]=u[k+E],h[y++]=S}for(T=f;T<m;++T){S=T+x;var O=b*T;h[y++]=g[O+_],h[y++]=-S}var A=y>>>1;o(h,A);var C=0;for(T=0;T<A;++T){var P=0|h[2*T+1];if(P<0){var M=!1;if((S=-P)>=1<<28?(M=!r,S-=1<<28):(M=!!r,S-=1),M)p(a,s,C++,S);else{var R=v[S],I=b*S,D=g[I+t+1],N=g[I+t+1+e];e:for(var L=0;L<C;++L){var F=a[L],j=b*F;if(!(N<u[j+t+1]||u[j+t+1+e]<D)){for(var B=t+2;B<e;++B)if(g[I+B+e]<u[j+B]||u[j+B+e]<g[I+B])continue e;var U,z=c[F];if(void 0!==(U=r?n(R,z):n(z,R)))return U}}}}else d(a,s,C--,P-w)}},scanComplete:function(e,t,n,r,i,s,l,u,c,f,d){for(var p=0,m=2*e,g=t,v=t+e,y=r;y<i;++y){var b=y+(1<<28),_=m*y;h[p++]=s[_+g],h[p++]=-b,h[p++]=s[_+v],h[p++]=b}for(y=u;y<c;++y){b=y+1;var E=m*y;h[p++]=f[E+g],h[p++]=-b}var w=p>>>1;o(h,w);var x=0;for(y=0;y<w;++y){var T=0|h[2*y+1];if(T<0)if((b=-T)>=1<<28)a[x++]=b-(1<<28);else{var S=d[b-=1],k=m*b,O=f[k+t+1],A=f[k+t+1+e];e:for(var C=0;C<x;++C){var P=a[C],M=l[P];if(M===S)break;var R=m*P;if(!(A<s[R+t+1]||s[R+t+1+e]<O)){for(var I=t+2;I<e;++I)if(f[k+I+e]<s[R+I]||s[R+I+e]<f[k+I])continue e;var D=n(M,S);if(void 0!==D)return D}}}else{for(b=T-(1<<28),C=x-1;C>=0;--C)if(a[C]===b){for(I=C+1;I<x;++I)a[I-1]=a[I];break}--x}}}};var r=n(187),i=n(188),o=n(357),a=r.mallocInt32(1024),s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),h=r.mallocDouble(8192);function d(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function p(e,t,n,r){e[n]=r,t[r]=n}},function(e,t,n){e.exports=function(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}},function(e,t,n){(function(e){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.BlockView=void 0;var i=r(n(124)),o=r(n(125)),a=r(n(100)),s=r(n(126)),l=r(n(127)),u=n(193),c=r(n(194)),f=r(n(370)),h=r(n(199)),d=r(n(396)),p=n(397);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){function t(n,r,s,f,d,p,m){var g,v,y,b,_,E,w=this;if((0,a.default)(this,t),(0,l.default)(this,"cirTreeOffset",void 0),(0,l.default)(this,"cirTreeLength",void 0),(0,l.default)(this,"bbi",void 0),(0,l.default)(this,"isCompressed",void 0),(0,l.default)(this,"isBigEndian",void 0),(0,l.default)(this,"refsByName",void 0),(0,l.default)(this,"blockType",void 0),(0,l.default)(this,"cirTreePromise",void 0),(0,l.default)(this,"featureCache",new c.default({cache:new h.default({maxSize:1e3}),fill:(g=(0,o.default)(i.default.mark((function t(n,r){var o,a,s,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.length,a=n.offset,t.next=3,w.bbi.read(e.alloc(o),0,o,a,{signal:r});case 3:return s=t.sent,l=s.buffer,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t)}))),function(e,t){return g.apply(this,arguments)})})),(0,l.default)(this,"leafParser",void 0),(0,l.default)(this,"bigWigParser",void 0),(0,l.default)(this,"bigBedParser",void 0),(0,l.default)(this,"summaryParser",void 0),!(s>=0))throw new Error("invalid cirTreeOffset!");if(!(f>0))throw new Error("invalid cirTreeLength!");this.cirTreeOffset=s,this.cirTreeLength=f,this.isCompressed=p,this.refsByName=r,this.isBigEndian=d,this.bbi=n,this.blockType=m,Object.assign(this,(y=d?"big":"little",b=(new u.Parser).endianess(y).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").float("minScore").float("maxScore").float("sumData").float("sumSqData"),_=(new u.Parser).endianess(y).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:(new u.Parser).array("blocksToFetch",{length:"cnt",type:(new u.Parser).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize")}),0:(new u.Parser).array("recurOffsets",{length:"cnt",type:(new u.Parser).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset")})}}),E=(new u.Parser).endianess(y).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}),{bigWigParser:(new u.Parser).endianess(y).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:(v={},(0,l.default)(v,3,(new u.Parser).array("items",{length:"itemCount",type:(new u.Parser).float("score")})),(0,l.default)(v,2,(new u.Parser).array("items",{length:"itemCount",type:(new u.Parser).int32("start").float("score")})),(0,l.default)(v,1,(new u.Parser).array("items",{length:"itemCount",type:(new u.Parser).int32("start").int32("end").float("score")})),v)}),bigBedParser:E,summaryParser:b,leafParser:_}))}var n,r;return(0,s.default)(t,[{key:"readWigData",value:(r=(0,o.default)(i.default.mark((function t(n,r,a,s,l){var u,c,f,h,p,m,v,y,b,_,E,w,x,T,S,k,O=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u=this.refsByName,c=this.bbi,f=this.cirTreeOffset,h=this.isBigEndian,p=l.signal,void 0===(m=u[n])&&s.complete(),v={chrId:m,start:r,end:a},this.cirTreePromise||(this.cirTreePromise=c.read(e.alloc(48),0,48,f,{signal:p})),t.next=9,this.cirTreePromise;case 9:return y=t.sent,b=y.buffer,_=h?b.readUInt32BE(4):b.readUInt32LE(4),E=[],w=0,T=function(e){return(e.startChrom<m||e.startChrom===m&&e.startBase<=a)&&(e.endChrom>m||e.endChrom===m&&e.endBase>=r)},S=function(){var e=(0,o.default)(i.default.mark((function e(t,n,r){var o,a,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=n.max()-n.min(),a=n.min(),e.next=5,O.featureCache.get("".concat(o,"_").concat(a),{length:o,offset:a},p);case 5:for(u=e.sent,c=0;c<t.length;c+=1)n.contains(t[c])&&(x(u,t[c]-a,r,s,l),0==(w-=1)&&O.readFeatures(s,E,g(g({},l),{},{request:v})));e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(e,t){try{w+=e.length;for(var n=4+32*_,r=new d.default(e[0],e[0]+n),i=1;i<e.length;i+=1){var o=new d.default(e[i],e[i]+n);r=r.union(o)}r.getRanges().map((function(n){return S(e,n,t)}))}catch(a){s.error(a)}},x=function(e,t,n){try{var r=e.slice(t),i=O.leafParser.parse(r).result;if(i.blocksToFetch&&(E=E.concat(i.blocksToFetch.filter(T).map((function(e){return{offset:e.blockOffset,length:e.blockSize}})))),i.recurOffsets){var o=i.recurOffsets.filter(T).map((function(e){return e.blockOffset}));o.length>0&&k(o,n+1)}}catch(a){s.error(a)}},t.abrupt("return",k([f+48],1));case 21:t.prev=21,t.t0=t.catch(0),s.error(t.t0);case 24:case"end":return t.stop()}}),t,this,[[0,21]])}))),function(e,t,n,i,o){return r.apply(this,arguments)})},{key:"parseSummaryBlock",value:function(e,n,r){for(var i=[],o=n;o<e.byteLength;){var a=this.summaryParser.parse(e.slice(o));i.push(a.result),o+=a.offset}var s=i;return r&&(s=s.filter((function(e){return e.chromId===r.chrId}))),s=s.map((function(e){return{start:e.start,end:e.end,maxScore:e.maxScore,minScore:e.minScore,score:e.sumData/(e.validCnt||1),summary:!0}})),r?s.filter((function(e){return t.coordFilter(e,r)})):s}},{key:"parseBigBedBlock",value:function(e,n,r,i){for(var o=[],a=n;a<e.byteLength;){var s=this.bigBedParser.parse(e.slice(a));s.result.uniqueId="bb-".concat(r+a),o.push(s.result),a+=s.offset}return i?o.filter((function(e){return t.coordFilter(e,i)})):o}},{key:"parseBigWigBlock",value:function(e,n,r){var i=e.slice(n),o=this.bigWigParser.parse(i).result,a=o.items,s=o.itemSpan,l=o.itemStep,u=o.blockStart,c=o.blockType;if(3===c)for(var f=0;f<a.length;f++)a[f].start=u+f*l,a[f].end=u+f*l+s;else if(2===c)for(var h=0;h<a.length;h++)a[h].end=a[h].start+s;return r?a.filter((function(e){return t.coordFilter(e,r)})):a}},{key:"readFeatures",value:(n=(0,o.default)(i.default.mark((function e(t,n){var r,a,s,l,u,c,h=this,d=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},e.prev=1,a=this.blockType,s=this.isCompressed,l=r.signal,u=r.request,c=(0,p.groupBlocks)(n),(0,p.checkAbortSignal)(l),e.next=8,Promise.all(c.map(function(){var e=(0,o.default)(i.default.mark((function e(n){var r,o,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,p.checkAbortSignal)(l),r=n.length,o=n.offset,e.next=4,h.featureCache.get("".concat(r,"_").concat(o),n,l);case 4:c=e.sent,n.blocks.forEach((function(e){(0,p.checkAbortSignal)(l);var r=e.offset-n.offset,i=c;switch(s&&(i=f.default.inflateSync(c.slice(r)),r=0),(0,p.checkAbortSignal)(l),a){case"summary":t.next(h.parseSummaryBlock(i,r,u));break;case"bigwig":t.next(h.parseBigWigBlock(i,r,u));break;case"bigbed":t.next(h.parseBigBedBlock(i,r,256*e.offset,u));break;default:console.warn("Don't know what to do with ".concat(a))}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:t.complete(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e,t){return n.apply(this,arguments)})}],[{key:"coordFilter",value:function(e,t){return e.start<t.end&&e.end>=t.start}}]),t}();t.BlockView=v}).call(this,n(35).Buffer)},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(367),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")},o=void 0===i().AbortController?r.AbortController:i().AbortController;t.AbortController=o;var a=void 0===i().AbortController?r.AbortSignal:i().AbortSignal;t.AbortSignal=a}).call(this,n(51))},function(e,t,n){(function(t,r){var i=n(147);e.exports=b;var o,a=n(251);b.ReadableState=y,n(195).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(257),u=n(197).Buffer,c=t.Uint8Array||function(){},f=Object.create(n(128));f.inherits=n(101);var h=n(372),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(373),g=n(258);f.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(86));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(259).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(86),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var o,a,s,l,f,h=e._readableState;return null===t?(h.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}}(e,h)):(i||(a=h,f=s=t,u.isBuffer(f)||f instanceof c||"string"==typeof s||void 0===s||a.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),o=l),o?e.emit("error",o):h.objectMode||t&&t.length>0?("string"==typeof t||h.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?h.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,h,t,!0):h.ended?e.emit("error",new Error("stream.push() after EOF")):(h.reading=!1,h.decoder&&!n?(t=h.decoder.write(t),h.objectMode||0!==t.length?E(e,h,t,!1):S(e,h)):E(e,h,t,!1))):r||(h.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(h)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),S(e,t)}function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=((n=e)>=8388608?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),C(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){d("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?a=t.buffer.shift():!e||e>=t.length?(a=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(n=e,r=t.buffer,i=t.decoder,n<r.head.data.length?(o=r.head.data.slice(0,n),r.head.data=r.head.data.slice(n)):o=n===r.head.data.length?r.shift():i?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(n,r):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(n,r),a=o),a);var n,r,i,o,a}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(259).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):x(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?b:u;function u(){d("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",(function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}));var c,f=(c=n,function(){var e=c._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(c,"data")&&(e.flowing=!0,C(c))});e.on("drain",f);var h=!1,p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){d("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){d("onfinish"),e.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=I(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(d("resume"),n.flowing=!0,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=P}).call(this,n(51),n(60))},function(e,t,n){e.exports=n(195).EventEmitter},function(e,t,n){var r=n(147);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(378).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=a;var r=n(86),i=Object.create(n(128));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(101),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){(function(t){var r=n(385);
/*!
         * The buffer module from node.js, for the browser.
         *
         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
         * @license  MIT
         */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(262),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,u="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var h=e.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||v(e,!0,t,"==",h.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),o=_(t);if(i&&!o||!i&&o)return!1;if(i)return b(e=l.call(e),t=l.call(t),n);var s,u,c=x(e),f=x(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),u=c.length-1;u>=0;u--)if(c[u]!==f[u])return!1;for(u=c.length-1;u>=0;u--)if(!b(e[s=c[u]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i&&!n;if((!e&&a.isError(i)&&o&&E(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!E(i,n)||!e&&i)throw i}h.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=m(g((t=this).actual),128)+" "+t.operator+" "+m(g(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=p(n),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(h.AssertionError,Error),h.fail=v,h.ok=y,h.equal=function(e,t,n){e!=t&&v(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){w(!0,e,t,n)},h.doesNotThrow=function(e,t,n){w(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r((function e(t,n){t||v(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var x=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(51))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a,s=Object.keys(n),l=(a={},s.forEach((function(e,t){a[e]=!0})),a);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(x(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var _,T="",S=!1,k=["{","}"];return d(n)&&(S=!0,k=["[","]"]),x(n)&&(T=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(T=" "+RegExp.prototype.toString.call(n)),E(n)&&(T=" "+Date.prototype.toUTCString.call(n)),w(n)&&(T=" "+f(n)),0!==s.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),_=S?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,l,s):s.map((function(t){return h(e,n,r,l,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(_,T,k)):k[0]+T+k[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function E(e){return _(e)&&"[object Date]"===T(e)}function w(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function x(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=E,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(386);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(387),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(60))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){(function(e){var r=n(177),i=n.n(r),o=n(29),a=n.n(o),s=n(27),l=n(98),u=n(533),c=n(38),f=n(308),h=n(37),d=n(97),p=n(47),m=(n(13),n(50)),g=n(301),v=n(309),y=n(17),b=n(7),_=n(225),E=n(534),w=n(302);function x(e){var t;return"bam"===(null===(t=e.data)||void 0===t?void 0:t.type)}function T(t,...r){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');const{tileProxy:o}=t.services,{showMousePosition:T}=t.utils;class S extends t.tracks.BarTrack{constructor(e){var n,r,i,o,s;const[l,u]=e;let c;if(x(u.spec))try{c=Object(_.a)(E.a.fromText(w.a)),l.dataFetcher=new v.a(t,l.dataConfig,c)}catch(m){console.warn("Error loading worker",m)}super(l,u),this.worker=c,l.dataFetcher.track=this,this.context=l,this.originalSpec=this.options.spec,"overlay"in this.originalSpec?this.originalSpec.overlay=this.originalSpec.overlay.map((e=>Object.assign(Object.assign({},e),{_renderingId:a.a.v1()}))):this.originalSpec._renderingId=a.a.v1(),this.tileSize=null!==(r=null===(n=this.tilesetInfo)||void 0===n?void 0:n.tile_size)&&void 0!==r?r:1024,this.drawnAtScale=t.libraries.d3Scale.scaleLinear(),this.scalableGraphics={};const{valid:f,errorMessages:d}=Object(h.e)(this.originalSpec);f||console.warn("The specification of the following track is invalid",d,this.originalSpec),this.extent={min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER},this.mouseOverGraphics=new t.libraries.PIXI.Graphics,this.pMain.addChild(this.mouseOverGraphics),this.pMask.interactive=!0,this.pMask.mousedown=e=>this.onMouseDown(e.data.getLocalPosition(this.pMain).x,e.data.getLocalPosition(this.pMain).y),this.pMask.mouseup=e=>this.onClick(e.data.getLocalPosition(this.pMain).x,e.data.getLocalPosition(this.pMain).y),this.pMask.mousemove=()=>this.onMouseOut(),this.flipText="vertical"===this.originalSpec.orientation,this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),(null===(i=this.options)||void 0===i?void 0:i.showMousePosition)&&!this.hideMousePosition&&(this.hideMousePosition=T(this,Object(b.a)(Object(p.a)(this.originalSpec)[0]),this.isShowGlobalMousePosition())),this.tooltips=[],this.svgData=[],this.textGraphics=[],this.textsBeingUsed=0,t.libraries.PIXI.GRAPHICS_CURVES.adaptive=null!==(s=null===(o=this.originalSpec.style)||void 0===o?void 0:o.enableSmoothPath)&&void 0!==s&&s,t.libraries.PIXI.GRAPHICS_CURVES.adaptive&&(t.libraries.PIXI.GRAPHICS_CURVES.maxLength=1,t.libraries.PIXI.GRAPHICS_CURVES.maxSegments=20480)}draw(){var e;this.tooltips=[],this.svgData=[],this.textsBeingUsed=0,null===(e=this.mouseOverGraphics)||void 0===e||e.clear();const t=()=>{this.preprocessAllTiles(),super.draw(),this.prevVisibleAndFetchedTiles=this.visibleAndFetchedTiles()};x(this.originalSpec)&&!Object(s.isEqual)(this.visibleAndFetchedTiles(),this.prevVisibleAndFetchedTiles)?this.updateTileAsync(t):t()}initTile(e){this.drawTile(e)}updateTile(){}renderTile(){}drawTile(e){if(e.drawnAtScale=this._xScale.copy(),e.goslingModels){if(e.graphics.clear(),e.graphics.removeChildren(),e.goslingModels&&e.goslingModels[0]){const n=e.goslingModels[0],r=this.dimensions[1],i=this._xScale.invert(r)-this._xScale.invert(0);if(!n.trackVisibility({zoomLevel:i}))return;Object(c.d)(t,this,e,n,this.options.theme)}if(e.goslingModels.forEach((n=>{const r=this.dimensions[1],i=this._xScale.invert(r)-this._xScale.invert(0);n.trackVisibility({zoomLevel:i})&&Object(c.b)(t,this,e,n)})),e.goslingModels&&e.goslingModels[0]){const n=e.goslingModels[0],r=this.dimensions[1],i=this._xScale.invert(r)-this._xScale.invert(0);if(!n.trackVisibility({zoomLevel:i}))return;Object(c.c)(t,this,e,n,this.options.theme)}this.forceDraw()}}rerender(e){this.options=e,this.tooltips=[],this.svgData=[],this.textsBeingUsed=0,this.draw(),this.forceDraw()}setDimensions(e){this.oldDimensions=this.dimensions,super.setDimensions(e)}setPosition(e){super.setPosition(e),[this.pMain.position.x,this.pMain.position.y]=this.position}forceDraw(){this.animate()}zoomed(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw(),this.forceDraw()}updateTileAsync(n){this.xDomain=this._xScale.domain(),this.xRange=this._xScale.range(),this.labelText.text=" Loading...",this.worker.then((r=>{r.getTabularData(this.dataFetcher.uid,Object.values(this.fetchedTiles).map((e=>e.remoteId))).then((r=>{var i;const o=this.visibleAndFetchedTiles(),a=JSON.parse(e.from(r).toString());if(null==o?void 0:o[0]){const e=o[0];e.tileData.tabularData=a;const[n]=t.utils.trackUtils.calculate1DVisibleTiles(this.tilesetInfo,this._xScale);e.tileData.zoomLevel=n[0],e.tileData.tilePos=[n[1]]}n(),this.labelText.text=null!==(i=this.originalSpec.title)&&void 0!==i?i:""}))}))}scaleScalableGraphics(e,t,n){const r=(n.domain()[1]-n.domain()[0])/(t.domain()[1]-t.domain()[0]),i=t.domain().map(n)[0];e.forEach((e=>{e.scale.x=r,e.position.x=-i*r}))}visibleAndFetchedIds(){return Object.keys(this.fetchedTiles).filter((e=>this.visibleTileIds.has(e)))}visibleAndFetchedTiles(){return this.visibleAndFetchedIds().map((e=>this.fetchedTiles[e]))}calculateVisibleTiles(){if(x(this.originalSpec)){const e=t.utils.trackUtils.calculate1DVisibleTiles(this.tilesetInfo,this._xScale);for(const t of e){const{tileWidth:e}=this.getTilePosAndDimensions(t[0],[t[1]],this.tilesetInfo.tile_size),n=2e4;if(e>(this.tilesetInfo.max_tile_width||n))return void this.forceDraw();this.forceDraw()}this.setVisibleTiles(e)}else{if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const e=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e));this.xTiles=o.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),Object(b.a)(Object(p.a)(this.originalSpec)[0])&&o.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);const t=this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel);this.setVisibleTiles(t)}else{this.xTiles=o.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),Object(b.a)(Object(p.a)(this.originalSpec)[0])&&(this.yTiles=o.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width));const e=this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel);this.setVisibleTiles(e)}}}getTilePosAndDimensions(e,t,n){const r=n||this.tilesetInfo.bins_per_dimension||256;if(this.tilesetInfo.resolutions){const n=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[e],i=n*r,o=i;return{tileX:n*r*t[0],tileY:n*r*t[1],tileWidth:i,tileHeight:o}}{const n=t[0],r=t[1],i=this.tilesetInfo.min_pos[0],o=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],a=this.tilesetInfo.max_width/Math.pow(2,e),s=this.tilesetInfo.max_width/Math.pow(2,e);return{tileX:i+n*a,tileY:o+r*s,tileWidth:a,tileHeight:s}}}tilesToId(e,t,n){if(e&&!t)return e.map((e=>[n,e]));{const r=[];return e.forEach((e=>t.forEach((t=>r.push([n,e,t]))))),r}}reorganizeTileInfo(){var e,t;const n=this.visibleAndFetchedTiles();this.tileSize=null!==(t=null===(e=this.tilesetInfo)||void 0===e?void 0:e.tile_size)&&void 0!==t?t:1024,n.forEach((e=>{e.gos={},Object.keys(e.tileData).filter((e=>!+e&&"0"!==e)).forEach((t=>{e.gos[t]=e.tileData[t]})),e.gos.raw=Array.from(e.tileData)}))}shouldCombineTiles(){var e,t,n,r,i,o;return(null===(e=this.originalSpec.dataTransform)||void 0===e?void 0:e.find((e=>"displace"===e.type)))&&(null===(n=null===(t=this.visibleAndFetchedTiles())||void 0===t?void 0:t[0])||void 0===n?void 0:n.tileData)&&!(null===(i=null===(r=this.visibleAndFetchedTiles())||void 0===r?void 0:r[0])||void 0===i?void 0:i.tileData.dense)||"bam"===(null===(o=this.originalSpec.data)||void 0===o?void 0:o.type)}combineAllTilesIfNeeded(){var e,t,n;if(!this.shouldCombineTiles())return;const r=this.visibleAndFetchedTiles();if(!r||0===r.length)return;this.tileSize=(null!==(t=null===(e=this.tilesetInfo)||void 0===e?void 0:e.tile_size)&&void 0!==t?t:1024)*r.length;let i=[];r.forEach(((e,t)=>{i=[...i,...e.tileData],e.mergedToAnotherTile=0!==t})),r[0].gos.raw=i,(null===(n=r[0].gos.raw[0])||void 0===n?void 0:n.uid)&&(r[0].gos.raw=Object(s.uniqBy)(r[0].gos.raw,"uid"))}preprocessAllTiles(){const e=[];this.reorganizeTileInfo(),this.combineAllTilesIfNeeded(),this.visibleAndFetchedTiles().forEach((t=>{const n=this.preprocessTile(t);null==n||n.forEach((t=>{e.push(t)}))})),Object(d.b)(e)}preprocessTile(e){if(e.mergedToAnotherTile)return void(e.goslingModels=[]);if(e.goslingModels&&0!==e.goslingModels.length)return e.goslingModels;e.goslingModels=[];const t=JSON.parse(JSON.stringify(this.originalSpec));return Object(p.a)(t).forEach((t=>{if("brush"===t.mark)return;if("matrix"===t.data.type)return;if(!e.gos.tabularData){const{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.gos.zoomLevel,e.gos.tilePos,this.tileSize);e.gos.tabularData=Object(g.a)(t,Object.assign(Object.assign({},e.gos),{tileX:n,tileWidth:r,tileSize:this.tileSize}))}e.gos.tabularDataFiltered=Array.from(e.gos.tabularData),t.dataTransform&&t.dataTransform.forEach((n=>{switch(n.type){case"filter":e.gos.tabularDataFiltered=Object(m.f)(n,e.gos.tabularDataFiltered);break;case"concat":e.gos.tabularDataFiltered=Object(m.d)(n,e.gos.tabularDataFiltered);break;case"replace":e.gos.tabularDataFiltered=Object(m.h)(n,e.gos.tabularDataFiltered);break;case"log":e.gos.tabularDataFiltered=Object(m.c)(n,e.gos.tabularDataFiltered);break;case"exonSplit":e.gos.tabularDataFiltered=Object(m.i)(n,e.gos.tabularDataFiltered,t.assembly);break;case"coverage":e.gos.tabularDataFiltered=Object(m.a)(n,e.gos.tabularDataFiltered,this._xScale.copy());break;case"subjson":e.gos.tabularDataFiltered=Object(m.g)(n,e.gos.tabularDataFiltered);break;case"displace":e.gos.tabularDataFiltered=Object(m.e)(n,e.gos.tabularDataFiltered,this._xScale.copy())}}));try{const r=n(177);if(r){const n=100,i=e.gos.tabularDataFiltered.length;r.publish("data-preview",{id:this.context.id,dataConfig:JSON.stringify({data:t.data}),data:n>i?e.gos.tabularDataFiltered:Object(s.sampleSize)(e.gos.tabularDataFiltered,n)})}}catch(i){}const r=new f.a(t,e.gos.tabularDataFiltered,this.options.theme);e.goslingModels.push(r)})),e.goslingModels}getIndicesOfVisibleDataInTile(e){var t,n,r;const i=this._xScale.range();if(!this.tilesetInfo)return[null,null];const{tileX:o,tileWidth:a}=this.getTilePosAndDimensions(e.gos.zoomLevel,e.gos.tilePos,this.tilesetInfo.bins_per_dimension||(null===(t=this.tilesetInfo)||void 0===t?void 0:t.tile_size)),s=Object(l.a)().domain([0,(null===(n=this.tilesetInfo)||void 0===n?void 0:n.tile_size)||(null===(r=this.tilesetInfo)||void 0===r?void 0:r.bins_per_dimension)]).range([o,o+a]);return[Math.max(0,Math.round(s.invert(this._xScale.invert(i[0])))),Math.min(e.gos.dense.length,Math.round(s.invert(this._xScale.invert(i[1]))))]}minVisibleValue(){}maxVisibleValue(){}exportSVG(){}onMouseOut(){document.body.style.cursor="default"}onMouseDown(e,t){this.mouseDownX=e,this.mouseDownY=t}onClick(e,t){if(!this.tilesetInfo||!this.tooltips)return;if(Math.sqrt(Math.pow(this.mouseDownX-e,2)+Math.pow(this.mouseDownY-t,2))>1)return;const n=this.tooltips.find((n=>n.isMouseOver(e,t)));n&&i.a.publish("click",{data:Object.assign({},n.datum),genomicPosition:Object(y.b)(Math.floor(this._xScale.invert(e)))})}getMouseOverHtml(e,t){if(!this.tilesetInfo||!this.tooltips)return;this.mouseOverGraphics.clear(),this.pMain.removeChild(this.mouseOverGraphics),this.pMain.addChild(this.mouseOverGraphics);const n=this.tooltips.find((n=>n.isMouseOver(e,t)));return document.body.style.cursor=n?"pointer":"default",n&&i.a.publish("mouseover",{data:Object.assign({},n.datum),genomicPosition:Object(y.b)(Math.floor(this._xScale.invert(e)))}),n&&(n.markInfo.type,this.originalSpec.tooltip)?`<table style='text-align: left; margin-top: 12px'>${this.originalSpec.tooltip.map((e=>{var t;const r=n.datum[e.field];let i=r;return"quantitative"===e.type&&e.format?i=Object(u.a)(e.format)(+r):"genomic"===e.type&&(i=Object(y.b)(+r)),`<tr><td style='padding: 4px 8px'>${null!==(t=e.alt)&&void 0!==t?t:e.field}</td><td style='padding: 4px 8px'><b>${i}</b></td></tr>`})).join("")}</table>`:void 0}}return new S(r)}T.config={type:"gosling-track",datatype:["multivec","epilogos"],rotatable:!0,local:!1,orientation:"1d-horizontal",thumbnail:(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width={30} height={30}>\n    <rect style={{ fill: \'none\' }} width="400" height="400" />\n    <circle cx="110.62" cy="129.64" r="41.69" />\n    <circle style={{ fill: \'#fff\' }} cx="124.14" cy="114.12" r="10.76" />\n    <circle cx="288.56" cy="129.64" r="41.69" />\n    <circle style={{ fill: \'#fff\' }} cx="302.07" cy="114.12" r="10.76" />\n    <path\n        style={{ fill: \'#e18241\' }}\n        d="M313.1,241.64l8.61-22.09a430.11,430.11,0,0,0-88-15.87L224,225.63A384.54,384.54,0,0,1,313.1,241.64Z"\n    />\n    <path\n        style={{ fill: \'#e18241\' }}\n        d="M208.63,260.53a299.77,299.77,0,0,1,90.56,16.79L308,254.79a371.68,371.68,0,0,0-90-15.47Z"\n    />\n    <path\n        style={{ fill: \'#e18241\' }}\n        d="M174.4,225.56l-9-22a431.34,431.34,0,0,0-88,15.43l8.9,22A385.08,385.08,0,0,1,174.4,225.56Z"\n    />\n    <path\n        style={{ fill: \'#e18241\' }}\n        d="M100.71,276.35a300.51,300.51,0,0,1,87.91-15.82L180,239.29a372.51,372.51,0,0,0-88.3,14.76Z"\n    />\n    <path\n        style={{ fill: \'#e18241\' }}\n        d="M106.52,290.71c27.53,13.92,59.05,21.34,92.05,21.34h0c33.68,0,65.83-7.72,93.75-22.2a291.31,291.31,0,0,0-186.33-.4Z"\n    />\n</svg>',"text/xml").documentElement,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","trackType","scaledHeight","backgroundColor","barBorder","sortLargestOnTop","theme","axisPositionHorizontal"],defaultOptions:{labelPosition:"none",labelColor:"black",labelTextOpacity:.4,trackBorderWidth:0,trackBorderColor:"black",backgroundColor:"white",barBorder:!1,sortLargestOnTop:!0,axisPositionHorizontal:"left",theme:"light"}},t.a=T}).call(this,n(35).Buffer)},function(e,t,n){var r=n(102);e.exports=function(e){r.copy(e,this)}},function(e,t,n){e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var u=e.level,c=e.dataLevel,f=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),d=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,m="data"+(c||""),g="valid"+u;if(!1===e.schema){e.isTop?p=!0:r+=" var "+g+" = false; ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;if(u=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((c=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}g="valid"+u,p=!e.opts.allErrors;var _="",E="",w=e.schema.type,x=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],x=!0)),x&&1==w.length&&(w=w[0],x=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var T=e.util.coerceToTypes(e.opts.coerceTypes,w);var S=e.RULES.types[w];if(T||x||!0===S||S&&!Q(S)){h=e.schemaPath+".type",d=e.errSchemaPath+"/type",h=e.schemaPath+".type",d=e.errSchemaPath+"/type";var k=x?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[k](w,m,e.opts.strictNumbers,!0)+") { ",T){var O="dataType"+u,A="coerced"+u;r+=" var "+O+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+O+" == 'object' && Array.isArray("+m+")) "+O+" = 'array'; "),r+=" var "+A+" = undefined; ";var C="",P=T;if(P)for(var M,R=-1,I=P.length-1;R<I;)M=P[R+=1],R&&(r+=" if ("+A+" === undefined) { ",C+="}"),"array"==e.opts.coerceTypes&&"array"!=M&&(r+=" if ("+O+" == 'array' && "+m+".length == 1) { "+A+" = "+m+" = "+m+"[0]; "+O+" = typeof "+m+";  } "),"string"==M?r+=" if ("+O+" == 'number' || "+O+" == 'boolean') "+A+" = '' + "+m+"; else if ("+m+" === null) "+A+" = ''; ":"number"==M||"integer"==M?(r+=" if ("+O+" == 'boolean' || "+m+" === null || ("+O+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==M&&(r+=" && !("+m+" % 1)"),r+=")) "+A+" = +"+m+"; "):"boolean"==M?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+A+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+A+" = true; ":"null"==M?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==M&&(r+=" if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+m+" == null) "+A+" = ["+m+"]; ");r+=" "+C+" if ("+A+" === undefined) {   ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+A+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+A+"; } "}else(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",E+="}");else{var N=e.RULES;if(N)for(var L=-1,F=N.length-1;L<F;)if(Q(S=N[L+=1])){if(S.type&&(r+=" if ("+e.util.checkDataType(S.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){f=e.schema.properties;var j=Object.keys(f);if(j)for(var B,U=-1,z=j.length-1;U<z;)if(void 0!==(V=f[B=j[U+=1]]).default){var H=m+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(e.schema.items)){var G=e.schema.items;if(G){R=-1;for(var V,$=G.length-1;R<$;)if(void 0!==(V=G[R+=1]).default)if(H=m+"["+R+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}var X,W=S.rules;if(W)for(var Y,q=-1,K=W.length-1;q<K;)if(J(Y=W[q+=1])){var Z=Y.code(e,Y.keyword,S.type);Z&&(r+=" "+Z+" ",p&&(_+="}"))}p&&(r+=" "+_+" ",_=""),S.type&&(r+=" } ",w&&w===S.type&&!T)&&(r+=" else { ",h=e.schemaPath+".type",d=e.errSchemaPath+"/type",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",E+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+E+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+u+";",r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==t,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],g=e.opts.$data&&m&&m.$data,v=d?"<":">",y=d?">":"<",b=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(p+" must be number or boolean");if(g){var _,E=e.util.getData(m.$data,a,e.dataPathArr),w="exclusive"+o,x="exclType"+o,T="exclIsNumber"+o,S="' + "+(O="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+E+"; ",i+=" var "+w+"; var "+x+" = typeof "+(E="schemaExcl"+o)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+E+" "+v+"= "+r+") ? "+f+" "+y+"= "+E+" : "+f+" "+y+" "+r+" ) : ( ("+w+" = "+E+" === true) ? "+f+" "+y+"= "+r+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(b=p,u=e.errSchemaPath+"/"+p,r=E,h=g)}else if(S=v,(T="number"==typeof m)&&h){var O="'"+S+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+f+" "+y+"= "+m+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { "}else T&&void 0===s?(w=!0,b=p,u=e.errSchemaPath+"/"+p,r=m,y+="="):(T&&(r=Math[d?"min":"max"](m,s)),m===(!T||r)?(w=!0,b=p,u=e.errSchemaPath+"/"+p,y+="="):(w=!1,S+="=")),O="'"+S+"'",i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+" "+y+" "+r+" || "+f+" !== "+f+") { ";return b=b||t,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+O+", limit: "+r+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var d="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+d+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){e.exports=!n(80)&&!n(129)((function(){return 7!=Object.defineProperty(n(276)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(105),i=n(79).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(88),i=n(89),o=n(454)(!1),a=n(214)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(211);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(213),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(458)(!0);n(281)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(151),i=n(78),o=n(282),a=n(103),s=n(133),l=n(459),u=n(219),c=n(462),f=n(61)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,m,g,v){l(n,t,p);var y,b,_,E=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",x="values"==m,T=!1,S=e.prototype,k=S[f]||S["@@iterator"]||m&&S[m],O=k||E(m),A=m?x?E("entries"):O:void 0,C="Array"==t&&S.entries||k;if(C&&(_=c(C.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[f]||a(_,f,d)),x&&k&&"values"!==k.name&&(T=!0,O=function(){return k.call(this)}),r&&!v||!h&&!T&&S[f]||a(S,f,O),s[t]=O,s[w]=d,m)if(y={values:x?O:E("values"),keys:g?O:E("keys"),entries:A},v)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(h||T),t,y);return y}},function(e,t,n){e.exports=n(103)},function(e,t,n){var r=n(277),i=n(216).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(132),i=n(130),o=n(89),a=n(210),s=n(88),l=n(275),u=Object.getOwnPropertyDescriptor;t.f=n(80)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(80),i=n(131),o=n(89),a=n(132).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),u=l.length,c=0,f=[];u>c;)n=l[c++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(o,"ms-"))};var i=r(n(495)),o=/^-ms-/;e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(223)),i=o(n(224));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){t.__esModule=!0;var r=c(n(0)),i=c(n(154)),o=c(n(1)),a=c(n(22)),s=c(n(156)),l=c(n(106)),u=c(n(521));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r._portalContainerNode=(0,s.default)(e.container,(0,l.default)(r).body)},r.getMountNode=function(){return r._portalContainerNode},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},t}(o.default.Component);d.displayName="Portal",d.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=a.default.createPortal?d:u.default,e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,o.default)(t),r=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(t)return(0,i.default)(r,e)?(void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect()),{top:s.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:s.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}):s};var i=r(n(81)),o=r(n(155)),a=r(n(90));e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=r(n(155));e.exports=t.default},function(e,t,n){n.r(t),n.d(t,"audit",(function(){return o})),n.d(t,"auditTime",(function(){return c})),n.d(t,"buffer",(function(){return f})),n.d(t,"bufferCount",(function(){return m})),n.d(t,"bufferTime",(function(){return _})),n.d(t,"bufferToggle",(function(){return P})),n.d(t,"bufferWhen",(function(){return I})),n.d(t,"catchError",(function(){return L})),n.d(t,"combineAll",(function(){return U})),n.d(t,"combineLatest",(function(){return G})),n.d(t,"concat",(function(){return $})),n.d(t,"concatAll",(function(){return X.a})),n.d(t,"concatMap",(function(){return Y})),n.d(t,"concatMapTo",(function(){return q})),n.d(t,"count",(function(){return K})),n.d(t,"debounce",(function(){return J})),n.d(t,"debounceTime",(function(){return ne})),n.d(t,"defaultIfEmpty",(function(){return ae})),n.d(t,"delay",(function(){return fe})),n.d(t,"delayWhen",(function(){return ge})),n.d(t,"dematerialize",(function(){return Ee})),n.d(t,"distinct",(function(){return Te})),n.d(t,"distinctUntilChanged",(function(){return Oe})),n.d(t,"distinctUntilKeyChanged",(function(){return Pe})),n.d(t,"elementAt",(function(){return He})),n.d(t,"endWith",(function(){return Ve})),n.d(t,"every",(function(){return $e})),n.d(t,"exhaust",(function(){return Ye})),n.d(t,"exhaustMap",(function(){return Qe})),n.d(t,"expand",(function(){return tt})),n.d(t,"filter",(function(){return Re.a})),n.d(t,"finalize",(function(){return it})),n.d(t,"find",(function(){return st})),n.d(t,"findIndex",(function(){return ct})),n.d(t,"first",(function(){return ht})),n.d(t,"groupBy",(function(){return dt.b})),n.d(t,"ignoreElements",(function(){return pt})),n.d(t,"isEmpty",(function(){return vt})),n.d(t,"last",(function(){return xt})),n.d(t,"map",(function(){return Ze.a})),n.d(t,"mapTo",(function(){return Tt})),n.d(t,"materialize",(function(){return Ot})),n.d(t,"max",(function(){return Nt})),n.d(t,"merge",(function(){return Ft})),n.d(t,"mergeAll",(function(){return jt.a})),n.d(t,"mergeMap",(function(){return W.b})),n.d(t,"flatMap",(function(){return W.a})),n.d(t,"mergeMapTo",(function(){return Bt})),n.d(t,"mergeScan",(function(){return Ut})),n.d(t,"min",(function(){return Gt})),n.d(t,"multicast",(function(){return $t})),n.d(t,"observeOn",(function(){return Wt.b})),n.d(t,"onErrorResumeNext",(function(){return Yt})),n.d(t,"pairwise",(function(){return Zt})),n.d(t,"partition",(function(){return tn})),n.d(t,"pluck",(function(){return nn})),n.d(t,"publish",(function(){return an})),n.d(t,"publishBehavior",(function(){return ln})),n.d(t,"publishLast",(function(){return cn})),n.d(t,"publishReplay",(function(){return hn})),n.d(t,"race",(function(){return pn})),n.d(t,"reduce",(function(){return Dt})),n.d(t,"repeat",(function(){return mn})),n.d(t,"repeatWhen",(function(){return yn})),n.d(t,"retry",(function(){return En})),n.d(t,"retryWhen",(function(){return Tn})),n.d(t,"refCount",(function(){return On.a})),n.d(t,"sample",(function(){return An})),n.d(t,"sampleTime",(function(){return Mn})),n.d(t,"scan",(function(){return Pt})),n.d(t,"sequenceEqual",(function(){return Nn})),n.d(t,"share",(function(){return Un})),n.d(t,"shareReplay",(function(){return zn})),n.d(t,"single",(function(){return Hn})),n.d(t,"skip",(function(){return $n})),n.d(t,"skipLast",(function(){return Yn})),n.d(t,"skipUntil",(function(){return Zn})),n.d(t,"skipWhile",(function(){return er})),n.d(t,"startWith",(function(){return rr})),n.d(t,"subscribeOn",(function(){return sr})),n.d(t,"switchAll",(function(){return hr})),n.d(t,"switchMap",(function(){return ur})),n.d(t,"switchMapTo",(function(){return dr})),n.d(t,"take",(function(){return Be})),n.d(t,"takeLast",(function(){return _t})),n.d(t,"takeUntil",(function(){return pr})),n.d(t,"takeWhile",(function(){return vr})),n.d(t,"tap",(function(){return wr})),n.d(t,"throttle",(function(){return kr})),n.d(t,"throttleTime",(function(){return Cr})),n.d(t,"throwIfEmpty",(function(){return De})),n.d(t,"timeInterval",(function(){return Dr})),n.d(t,"timeout",(function(){return zr})),n.d(t,"timeoutWith",(function(){return Fr})),n.d(t,"timestamp",(function(){return Hr})),n.d(t,"toArray",(function(){return $r})),n.d(t,"window",(function(){return Xr})),n.d(t,"windowCount",(function(){return qr})),n.d(t,"windowTime",(function(){return Qr})),n.d(t,"windowToggle",(function(){return oi})),n.d(t,"windowWhen",(function(){return li})),n.d(t,"withLatestFrom",(function(){return fi})),n.d(t,"zip",(function(){return mi})),n.d(t,"zipAll",(function(){return gi}));var r=n(3),i=n(12);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(i.c)(t,new i.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.b),l=n(20),u=n(166);function c(e,t){return void 0===t&&(t=l.a),o((function(){return Object(u.a)(e,t)}))}function f(e){return function(t){return t.lift(new h(e))}}var h=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.closingNotifier))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(i.c)(n,new i.a(r))),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.b),p=n(10);function m(e,t){return void 0===t&&(t=null),function(n){return n.lift(new g(e,t))}}var g=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?y:v}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),v=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(p.a),y=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(p.a),b=n(24);function _(e){var t=arguments.length,n=l.a;Object(b.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new E(e,r,i,n))}}var E=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new x(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),w=function(){this.buffer=[]},x=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var l={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(T,n,l))}else{var u={subscriber:a,context:s},c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(k,n,u)),a.add(o.schedule(S,r,c))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(T,n,r))}},t.prototype.openContext=function(){var e=new w;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(p.a);function T(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function S(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(k,n,{subscriber:r,context:o})),this.schedule(e,t))}function k(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var O=n(16),A=n(33),C=n(39);function P(e,t){return function(n){return n.lift(new M(e,t))}}var M=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new R(e,this.openings,this.closingSelector))},e}(),R=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add(Object(A.a)(i,n)),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(n){this._error(n)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new O.a,r={buffer:[],subscription:n};t.push(r);var i=Object(A.a)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(C.a);function I(e){return function(t){return t.lift(new D(e))}}var D=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new N(e,this.closingSelector))},e}(),N=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(r){return this.error(r)}e=new O.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(i.c)(t,new i.a(this))),this.subscribing=!1},t}(i.b);function L(e){return function(t){var n=new F(e),r=t.lift(n);return n.caught=r}}var F=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new j(e,this.selector,this.caught))},e}(),j=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(a){return void e.prototype.error.call(this,a)}this._unsubscribeAndRecycle();var r=new i.a(this);this.add(r);var o=Object(i.c)(n,r);o!==r&&this.add(o)}},t}(i.b),B=n(110);function U(e){return function(t){return t.lift(new B.a(e))}}var z=n(21),H=n(28);function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(z.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(H.a)([t].concat(e)),new B.a(n))}}var V=n(73);function $(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(V.a.apply(void 0,[t].concat(e)))}}var X=n(163),W=n(63);function Y(e,t){return Object(W.b)(e,t,1)}function q(e,t){return Y((function(){return e}),t)}function K(e){return function(t){return t.lift(new Z(e,t))}}var Z=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.predicate,this.source))},e}(),Q=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(p.a);function J(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(i.c)(t,new i.a(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.b);function ne(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(p.a);function oe(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new se(e))}}var se=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new le(e,this.defaultValue))},e}(),le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(p.a);function ue(e){return e instanceof Date&&!isNaN(+e)}var ce=n(42);function fe(e,t){void 0===t&&(t=l.a);var n=ue(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new he(n,t))}}var he=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.delay,this.scheduler))},e}(),de=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new pe(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ce.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ce.a.createComplete()),this.unsubscribe()},t}(p.a),pe=function(e,t){this.time=e,this.notification=t},me=n(14);function ge(e,t){return t?function(n){return new be(n,t).lift(new ve(e))}:function(t){return t.lift(new ve(e))}}var ve=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.delayDurationSelector))},e}(),ye=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(A.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(C.a),be=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new _e(e,this.source))},t}(me.a),_e=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(p.a);function Ee(){return function(e){return e.lift(new we)}}var we=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new xe(e))},e}(),xe=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(p.a);function Te(e,t){return function(n){return n.lift(new Se(e,t))}}var Se=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new ke(e,this.keySelector,this.flushes))},e}(),ke=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add(Object(i.c)(r,new i.a(o))),o}return r.a(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.b);function Oe(e,t){return function(n){return n.lift(new Ae(e,t))}}var Ae=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Ce(e,this.compare,this.keySelector))},e}(),Ce=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(p.a);function Pe(e,t){return Oe((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var Me=n(57),Re=n(40),Ie=n(62);function De(e){return void 0===e&&(e=Fe),function(t){return t.lift(new Ne(e))}}var Ne=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Le(e,this.errorFactory))},e}(),Le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(p.a);function Fe(){return new Ie.a}var je=n(26);function Be(e){return function(t){return 0===e?Object(je.b)():t.lift(new Ue(e))}}var Ue=function(){function e(e){if(this.total=e,this.total<0)throw new Me.a}return e.prototype.call=function(e,t){return t.subscribe(new ze(e,this.total))},e}(),ze=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(p.a);function He(e,t){if(e<0)throw new Me.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Re.a)((function(t,n){return n===e})),Be(1),n?ae(t):De((function(){return new Me.a})))}}var Ge=n(82);function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(V.a)(t,Ge.a.apply(void 0,e))}}function $e(e,t){return function(n){return n.lift(new Xe(e,t,n))}}var Xe=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new We(e,this.predicate,this.thisArg,this.source))},e}(),We=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.a);function Ye(){return function(e){return e.lift(new qe)}}var qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e))},e}(),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(i.c)(e,new i.a(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.b),Ze=n(23);function Qe(e,t){return t?function(n){return n.pipe(Qe((function(n,r){return Object(H.a)(e(n,r)).pipe(Object(Ze.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Je(e))}}var Je=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.b);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(a){n.error(a)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(i.c)(e,new i.a(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.b);function it(e){return function(t){return t.lift(new ot(e))}}var ot=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new O.a(n)),r}return r.a(t,e),t}(p.a);function st(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new lt(e,n,!1,t))}}var lt=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ut(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ut=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(p.a);function ct(e,t){return function(n){return n.lift(new lt(e,n,!0,t))}}var ft=n(36);function ht(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Re.a)((function(t,n){return e(t,n,r)})):ft.a,Be(1),n?ae(t):De((function(){return new Ie.a})))}}var dt=n(150);function pt(){return function(e){return e.lift(new mt)}}var mt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new gt(e))},e}(),gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype._next=function(e){},t}(p.a);function vt(){return function(e){return e.lift(new yt)}}var yt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new bt(e))},e}(),bt=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.a);function _t(e){return function(t){return 0===e?Object(je.b)():t.lift(new Et(e))}}var Et=function(){function e(e){if(this.total=e,this.total<0)throw new Me.a}return e.prototype.call=function(e,t){return t.subscribe(new wt(e,this.total))},e}(),wt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(p.a);function xt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Re.a)((function(t,n){return e(t,n,r)})):ft.a,_t(1),n?ae(t):De((function(){return new Ie.a})))}}function Tt(e){return function(t){return t.lift(new St(e))}}var St=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new kt(e,this.value))},e}(),kt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(p.a);function Ot(){return function(e){return e.lift(new At)}}var At=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ct(e))},e}(),Ct=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){this.destination.next(ce.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ce.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ce.a.createComplete()),e.complete()},t}(p.a);function Pt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Mt(e,t,n))}}var Mt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Rt(e,this.accumulator,this.seed,this.hasSeed))},e}(),Rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(p.a),It=n(92);function Dt(e,t){return arguments.length>=2?function(n){return Object(It.a)(Pt(e,t),_t(1),ae(t))(n)}:function(t){return Object(It.a)(Pt((function(t,n,r){return e(t,n,r+1)})),_t(1))(t)}}function Nt(e){return Dt("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Lt=n(164);function Ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Lt.a.apply(void 0,[t].concat(e)))}}var jt=n(111);function Bt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(W.b)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(W.b)((function(){return e}),n))}function Ut(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new zt(e,t,n))}}var zt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.accumulator,this.seed,this.concurrent))},e}(),Ht=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(i){return n.error(i)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.b);function Gt(e){return Dt("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Vt=n(159);function $t(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new Xt(r,t));var i=Object.create(n,Vt.b);return i.source=n,i.subjectFactory=r,i}}var Xt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),Wt=n(161);function Yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(z.a)(e[0])&&(e=e[0]),function(t){return t.lift(new qt(e))}}var qt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Kt(e,this.nextSources))},e}(),Kt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.a(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(i.b);function Zt(){return function(e){return e.lift(new Qt)}}var Qt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e))},e}(),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(p.a),en=n(176);function tn(e,t){return function(n){return[Object(Re.a)(e,t)(n),Object(Re.a)(Object(en.a)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(Ze.a)(rn(e,n))(t)}}function rn(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=null!=r?r[e[i]]:void 0;if(void 0===o)return;r=o}return r}}var on=n(18);function an(e){return e?$t((function(){return new on.a}),e):$t(new on.a)}var sn=n(160);function ln(e){return function(t){return $t(new sn.a(e))(t)}}var un=n(66);function cn(){return function(e){return $t(new un.a)(e)}}var fn=n(108);function hn(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new fn.a(e,t,r);return function(e){return $t((function(){return o}),i)(e)}}var dn=n(165);function pn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(z.a)(e[0])&&(e=e[0]),t.lift.call(dn.a.apply(void 0,[t].concat(e)))}}function mn(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(je.b)():e<0?t.lift(new gn(-1,t)):t.lift(new gn(e-1,t))}}var gn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.count,this.source))},e}(),vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(p.a);function yn(e){return function(t){return t.lift(new bn(e))}}var bn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new _n(e,this.notifier,t))},e}(),_n=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new on.a;try{t=(0,this.notifier)(this.notifications)}catch(n){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(i.c)(t,new i.a(this))},t}(i.b);function En(e){return void 0===e&&(e=-1),function(t){return t.lift(new wn(e,t))}}var wn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new xn(e,this.count,this.source))},e}(),xn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(p.a);function Tn(e){return function(t){return t.lift(new Sn(e,t))}}var Sn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new kn(e,this.notifier,this.source))},e}(),kn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(a){return e.prototype.error.call(this,a)}o=Object(i.c)(r,new i.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(i.b),On=n(107);function An(e){return function(t){return t.lift(new Cn(e))}}var Cn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Pn(e),r=t.subscribe(n);return r.add(Object(i.c)(this.notifier,new i.a(n))),r},e}(),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.b);function Mn(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new Rn(e,t))}}var Rn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new In(e,this.period,this.scheduler))},e}(),In=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Dn,n,{subscriber:i,period:n})),i}return r.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(p.a);function Dn(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Nn(e,t){return function(n){return n.lift(new Ln(e,t))}}var Ln=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Fn(e,this.compareTo,this.comparator))},e}(),Fn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new jn(t,i))),i}return r.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(a){this.destination.error(a)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(p.a),jn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(p.a);function Bn(){return new on.a}function Un(){return function(e){return Object(On.a)()($t(Bn)(e))}}function zn(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift((o=(t=r).bufferSize,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.windowTime,l=void 0===s?Number.POSITIVE_INFINITY:s,u=t.refCount,c=t.scheduler,f=0,h=!1,d=!1,function(e){var t;f++,!n||h?(h=!1,n=new fn.a(a,l,c),t=n.subscribe(this),i=e.subscribe({next:function(e){n.next(e)},error:function(e){h=!0,n.error(e)},complete:function(){d=!0,i=void 0,n.complete()}})):t=n.subscribe(this),this.add((function(){f--,t.unsubscribe(),i&&!d&&u&&0===f&&(i.unsubscribe(),i=void 0,n=void 0)}))}));var t,n,i,o,a,s,l,u,c,f,h,d}}function Hn(e){return function(t){return t.lift(new Gn(e,t))}}var Gn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Vn(e,this.predicate,this.source))},e}(),Vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Ie.a)},t}(p.a);function $n(e){return function(t){return t.lift(new Xn(e))}}var Xn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Wn(e,this.total))},e}(),Wn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(p.a);function Yn(e){return function(t){return t.lift(new qn(e))}}var qn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Me.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new p.a(e)):t.subscribe(new Kn(e,this._skipCount))},e}(),Kn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(p.a);function Zn(e){return function(t){return t.lift(new Qn(e))}}var Qn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Jn(e,this.notifier))},e}(),Jn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new i.a(r);r.add(o),r.innerSubscription=o;var a=Object(i.c)(n,o);return a!==o&&(r.add(a),r.innerSubscription=a),r}return r.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.b);function er(e){return function(t){return t.lift(new tr(e))}}var tr=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new nr(e,this.predicate))},e}(),nr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(p.a);function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(b.a)(n)?(e.pop(),function(t){return Object(V.a)(e,t,n)}):function(t){return Object(V.a)(e,t)}}var ir=n(93),or=n(69),ar=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=ir.a);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(or.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=ir.a),i}return r.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=ir.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(me.a);function sr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new lr(e,t))}}var lr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new ar(t,this.delay,this.scheduler).subscribe(e)},e}();function ur(e,t){return"function"==typeof t?function(n){return n.pipe(ur((function(n,r){return Object(H.a)(e(n,r)).pipe(Object(Ze.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new cr(e))}}var cr=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new fr(e,this.project))},e}(),fr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new i.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(i.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(i.b);function hr(){return ur(ft.a)}function dr(e,t){return t?ur((function(){return e}),t):ur((function(){return e}))}function pr(e){return function(t){return t.lift(new mr(e))}}var mr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new gr(e),r=Object(i.c)(this.notifier,new i.a(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),gr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.a(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.b);function vr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new yr(e,t))}}var yr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new br(e,this.predicate,this.inclusive))},e}(),br=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(p.a),_r=n(49),Er=n(58);function wr(e,t,n){return function(r){return r.lift(new xr(e,t,n))}}var xr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Tr(e,this.nextOrObserver,this.error,this.complete))},e}(),Tr=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=_r.a,o._tapError=_r.a,o._tapComplete=_r.a,o._tapError=r||_r.a,o._tapComplete=i||_r.a,Object(Er.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||_r.a,o._tapError=n.error||_r.a,o._tapComplete=n.complete||_r.a),o}return r.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(p.a),Sr={leading:!0,trailing:!1};function kr(e,t){return void 0===t&&(t=Sr),function(n){return n.lift(new Or(e,!!t.leading,!!t.trailing))}}var Or=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Ar(e,this.durationSelector,this.leading,this.trailing))},e}(),Ar=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(i.c)(t,new i.a(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.b);function Cr(e,t,n){return void 0===t&&(t=l.a),void 0===n&&(n=Sr),function(r){return r.lift(new Pr(e,t,n.leading,n.trailing))}}var Pr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Mr(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Mr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Rr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(p.a);function Rr(e){e.subscriber.clearThrottle()}var Ir=n(112);function Dr(e){return void 0===e&&(e=l.a),function(t){return Object(Ir.a)((function(){return t.pipe(Pt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(Ze.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Nr(r,t-n)})))}))}}var Nr=function(e,t){this.value=e,this.interval=t},Lr=n(162);function Fr(e,t,n){return void 0===n&&(n=l.a),function(r){var i=ue(e),o=i?+e-n.now():Math.abs(e);return r.lift(new jr(o,i,t,n))}}var jr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Br(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Br=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.scheduleTimeout(),a}return r.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(i.c)(t,new i.a(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(i.b),Ur=n(109);function zr(e,t){return void 0===t&&(t=l.a),Fr(e,Object(Ur.a)(new Lr.a),t)}function Hr(e){return void 0===e&&(e=l.a),Object(Ze.a)((function(t){return new Gr(t,e.now())}))}var Gr=function(e,t){this.value=e,this.timestamp=t};function Vr(e,t,n){return 0===n?[t]:(e.push(t),e)}function $r(){return Dt(Vr,[])}function Xr(e){return function(t){return t.lift(new Wr(e))}}var Wr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Yr(e),r=t.subscribe(n);return r.closed||n.add(Object(i.c)(this.windowBoundaries,new i.a(n))),r},e}(),Yr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new on.a,t.next(n.window),n}return r.a(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new on.a;t.next(n)},t}(i.b);function qr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Kr(e,t))}}var Kr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Zr(e,this.windowSize,this.startWindowEvery))},e}(),Zr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new on.a],i.count=0,t.next(i.windows[0]),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var l=new on.a;i.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(p.a);function Qr(e){var t=l.a,n=null,r=Number.POSITIVE_INFINITY;return Object(b.a)(arguments[3])&&(t=arguments[3]),Object(b.a)(arguments[2])?t=arguments[2]:Object(or.a)(arguments[2])&&(r=Number(arguments[2])),Object(b.a)(arguments[1])?t=arguments[1]:Object(or.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Jr(e,n,r,t))}}var Jr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ti(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),ei=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(on.a),ti=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var l={subscriber:a,window:s,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(ii,n,l)),a.add(o.schedule(ri,r,u))}else{var c={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(ni,n,c))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new ei;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(p.a);function ni(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ri(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null},s={subscriber:n,window:o,context:a};a.subscription=r.schedule(ii,t,s),this.add(a.subscription),this.schedule(e,i)}function ii(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function oi(e,t){return function(n){return n.lift(new ai(e,t))}}var ai=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new si(e,this.openings,this.closingSelector))},e}(),si=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(A.a)(i,n,n)),i}return r.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(c){return this.error(c)}var a=new on.a,s=new O.a,l={window:a,subscription:s};this.contexts.push(l);var u=Object(A.a)(this,o,l);u.closed?this.closeWindow(this.contexts.length-1):(u.context=l,s.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(C.a);function li(e){return function(t){return t.lift(new ui(e))}}var ui=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ci(e,this.closingSelector))},e}(),ci=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=Object(A.a)(this,n))},t}(C.a);function fi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new hi(r,n))}}var hi=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new di(e,this.observables,this.project))},e}(),di=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(Object(A.a)(i,s,void 0,a))}return i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(C.a),pi=n(113);function mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(pi.b.apply(void 0,[t].concat(e)))}}function gi(e){return function(t){return t.lift(new pi.a(e))}}},function(e,t,n){n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return i.a})),n.d(t,"GroupedObservable",(function(){return o.a})),n.d(t,"observable",(function(){return a.a})),n.d(t,"Subject",(function(){return s.a})),n.d(t,"BehaviorSubject",(function(){return l.a})),n.d(t,"ReplaySubject",(function(){return u.a})),n.d(t,"AsyncSubject",(function(){return c.a})),n.d(t,"asap",(function(){return f.a})),n.d(t,"asapScheduler",(function(){return f.b})),n.d(t,"async",(function(){return h.a})),n.d(t,"asyncScheduler",(function(){return h.b})),n.d(t,"queue",(function(){return d.a})),n.d(t,"queueScheduler",(function(){return d.b})),n.d(t,"animationFrame",(function(){return b})),n.d(t,"animationFrameScheduler",(function(){return y})),n.d(t,"VirtualTimeScheduler",(function(){return _})),n.d(t,"VirtualAction",(function(){return E})),n.d(t,"Scheduler",(function(){return w.a})),n.d(t,"Subscription",(function(){return x.a})),n.d(t,"Subscriber",(function(){return T.a})),n.d(t,"Notification",(function(){return S.a})),n.d(t,"NotificationKind",(function(){return S.b})),n.d(t,"pipe",(function(){return k.a})),n.d(t,"noop",(function(){return O.a})),n.d(t,"identity",(function(){return A.a})),n.d(t,"isObservable",(function(){return C})),n.d(t,"ArgumentOutOfRangeError",(function(){return P.a})),n.d(t,"EmptyError",(function(){return M.a})),n.d(t,"ObjectUnsubscribedError",(function(){return R.a})),n.d(t,"UnsubscriptionError",(function(){return I.a})),n.d(t,"TimeoutError",(function(){return D.a})),n.d(t,"bindCallback",(function(){return B})),n.d(t,"bindNodeCallback",(function(){return H})),n.d(t,"combineLatest",(function(){return X.b})),n.d(t,"concat",(function(){return W.a})),n.d(t,"defer",(function(){return Y.a})),n.d(t,"empty",(function(){return q.b})),n.d(t,"forkJoin",(function(){return Q})),n.d(t,"from",(function(){return Z.a})),n.d(t,"fromEvent",(function(){return te})),n.d(t,"fromEventPattern",(function(){return ne})),n.d(t,"generate",(function(){return re})),n.d(t,"iif",(function(){return oe})),n.d(t,"interval",(function(){return se})),n.d(t,"merge",(function(){return ue.a})),n.d(t,"never",(function(){return fe})),n.d(t,"of",(function(){return he.a})),n.d(t,"onErrorResumeNext",(function(){return de})),n.d(t,"pairs",(function(){return pe})),n.d(t,"partition",(function(){return be})),n.d(t,"race",(function(){return _e.a})),n.d(t,"range",(function(){return Ee})),n.d(t,"throwError",(function(){return xe.a})),n.d(t,"timer",(function(){return Te.a})),n.d(t,"using",(function(){return Se})),n.d(t,"zip",(function(){return ke.b})),n.d(t,"scheduled",(function(){return Oe.a})),n.d(t,"EMPTY",(function(){return q.a})),n.d(t,"NEVER",(function(){return ce})),n.d(t,"config",(function(){return Ae.a}));var r=n(14),i=n(159),o=n(150),a=n(53),s=n(18),l=n(160),u=n(108),c=n(66),f=n(93),h=n(20),d=n(134),p=n(3),m=n(67),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m.a),v=n(65),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(v.a))(g),b=y,_=function(e){function t(t,n){void 0===t&&(t=E),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(v.a),E=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return p.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.a),w=n(136),x=n(16),T=n(10),S=n(42),k=n(92),O=n(49),A=n(36);function C(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var P=n(57),M=n(62),R=n(55),I=n(96),D=n(162),N=n(23),L=n(117),F=n(21),j=n(24);function B(e,t,n){if(t){if(!Object(j.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return B(e,n).apply(void 0,r).pipe(Object(N.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,s={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var i={args:t,subscriber:r,params:s};return n.schedule(U,0,i)}if(!o){o=new c.a;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(l){Object(L.a)(o)?o.error(l):console.warn(l)}}return o.subscribe(r)}))}}function U(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,l=i.subject;if(!l){l=i.subject=new c.a;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(z,0,{value:r,subject:l}))}]))}catch(u){l.error(u)}}this.add(l.subscribe(r))}function z(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e,t,n){if(t){if(!Object(j.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return H(e,n).apply(void 0,r).pipe(Object(N.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var i=o.context,a=o.subject;if(n)return n.schedule(G,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new c.a;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(s){Object(L.a)(a)?a.error(s):console.warn(s)}}return a.subscribe(r)}))}}function G(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new c.a;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule($,0,{err:r,subject:l}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(V,0,{value:i,subject:l}))}}]))}catch(u){this.add(s.schedule($,0,{err:u,subject:l}))}}this.add(l.subscribe(r))}function V(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function $(e){var t=e.err;e.subject.error(t)}var X=n(110),W=n(73),Y=n(112),q=n(26),K=n(116),Z=n(28);function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(F.a)(n))return J(n,null);if(Object(K.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return J(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return J(e=1===e.length&&Object(F.a)(e[0])?e[0]:e,null).pipe(Object(N.a)((function(e){return i.apply(void 0,e)})))}return J(e,null)}function J(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var l=Object(Z.a)(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},l=0;l<r;l++)s(l);else n.complete()}))}var ee=n(58);function te(e,t,n,i){return Object(ee.a)(n)&&(i=n,n=void 0),i?te(e,t,n).pipe(Object(N.a)((function(e){return Object(F.a)(e)?i.apply(void 0,e):i(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var a,s;if((s=t)&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener){var l=t;t.addEventListener(n,r,o),a=function(){return l.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var f=0,h=t.length;f<h;f++)e(t[f],n,r,i,o)}i.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function ne(e,t,n){return n?ne(e,t).pipe(Object(N.a)((function(e){return Object(F.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void n.error(o)}if(Object(ee.a)(t))return function(){return t(i,r)}}))}function re(e,t,n,i,o){var a,s;if(1==arguments.length){var l=e;s=l.initialState,t=l.condition,n=l.iterate,a=l.resultSelector||A.a,o=l.scheduler}else void 0===i||Object(j.a)(i)?(s=e,a=A.a,o=i):(s=e,a=i);return new r.a((function(e){var r=s;if(o)return o.schedule(ie,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(u){return void e.error(u)}if(!i){e.complete();break}}var l=void 0;try{l=a(r)}catch(u){return void e.error(u)}if(e.next(l),e.closed)break;try{r=n(r)}catch(u){return void e.error(u)}}}))}function ie(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function oe(e,t,n){return void 0===t&&(t=q.a),void 0===n&&(n=q.a),Object(Y.a)((function(){return e()?t:n}))}var ae=n(69);function se(e,t){return void 0===e&&(e=0),void 0===t&&(t=h.a),(!Object(ae.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=h.a),new r.a((function(n){return n.add(t.schedule(le,e,{subscriber:n,counter:0,period:e})),n}))}function le(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ue=n(164),ce=new r.a(O.a);function fe(){return ce}var he=n(82);function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return q.a;var n=e[0],i=e.slice(1);return 1===e.length&&Object(F.a)(n)?de.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(de.apply(void 0,i).subscribe(e))};return Object(Z.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function pe(e,t){return t?new r.a((function(n){var r=Object.keys(e),i=new x.a;return i.add(t.schedule(me,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function me(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var ge=n(176),ve=n(74),ye=n(40);function be(e,t,n){return[Object(ye.a)(t,n)(new r.a(Object(ve.a)(e))),Object(ye.a)(Object(ge.a)(t,n))(new r.a(Object(ve.a)(e)))]}var _e=n(165);function Ee(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(we,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function we(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var xe=n(109),Te=n(166);function Se(e,t){return new r.a((function(n){var r,i;try{r=e()}catch(a){return void n.error(a)}try{i=t(r)}catch(a){return void n.error(a)}var o=(i?Object(Z.a)(i):q.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var ke=n(113),Oe=n(168),Ae=n(34)},function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Bezier=void 0;const{abs:i,cos:o,sin:a,acos:s,atan2:l,sqrt:u,pow:c}=Math;function f(e){return e<0?-c(-e,1/3):c(e,1/3)}const h=Math.PI,d=2*h,p=h/2,m=Number.MAX_SAFE_INTEGER||9007199254740991,g=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},y={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){const n=t(e);let r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),u(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];const r=t.length-1;if(1===e)return t[r].t=1,t[r];const i=1-e;let o=t;if(0===r)return t[0].t=e,t[0];if(1===r){const t={x:i*o[0].x+e*o[1].x,y:i*o[0].y+e*o[1].y,t:e};return n&&(t.z=i*o[0].z+e*o[1].z),t}if(r<4){let t,a,s,l=i*i,u=e*e,c=0;2===r?(o=[o[0],o[1],o[2],v],t=l,a=i*e*2,s=u):3===r&&(t=l*i,a=l*e*3,s=i*u*3,c=e*u);const f={x:t*o[0].x+a*o[1].x+s*o[2].x+c*o[3].x,y:t*o[0].y+a*o[1].y+s*o[2].y+c*o[3].y,t:e};return n&&(f.z=t*o[0].z+a*o[1].z+s*o[2].z+c*o[3].z),f}const a=JSON.parse(JSON.stringify(t));for(;a.length>1;){for(let t=0;t<a.length-1;t++)a[t]={x:a[t].x+(a[t+1].x-a[t].x)*e,y:a[t].y+(a[t+1].y-a[t].y)*e},void 0!==a[t].z&&(a[t]=a[t].z+(a[t+1].z-a[t].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,t,n,r){const i=1-e,o=n,a=t;let s,l=o[0],u=o[1],c=o[2],f=o[3];return l*=i,u*=e,2===a.length?(s=l+u,{x:(l*a[0].x+u*a[1].x)/s,y:(l*a[0].y+u*a[1].y)/s,z:!!r&&(l*a[0].z+u*a[1].z)/s,t:e}):(l*=i,u*=2*i,c*=e*e,3===a.length?(s=l+u+c,{x:(l*a[0].x+u*a[1].x+c*a[2].x)/s,y:(l*a[0].y+u*a[1].y+c*a[2].y)/s,z:!!r&&(l*a[0].z+u*a[1].z+c*a[2].z)/s,t:e}):(l*=i,u*=1.5*i,c*=3*i,f*=e*e*e,4===a.length?(s=l+u+c+f,{x:(l*a[0].x+u*a[1].x+c*a[2].x+f*a[3].x)/s,y:(l*a[0].y+u*a[1].y+c*a[2].y+f*a[3].y)/s,z:!!r&&(l*a[0].z+u*a[1].z+c*a[2].z+f*a[3].z)/s,t:e}):void 0))},derive:function(e,t){const n=[];for(let r=e,i=r.length,o=i-1;i>1;i--,o--){const e=[];for(let n,i=0;i<o;i++)n={x:o*(r[i+1].x-r[i].x),y:o*(r[i+1].y-r[i].y)},t&&(n.z=o*(r[i+1].z-r[i].z)),e.push(n);n.push(e),r=e}return n},between:function(e,t,n){return t<=e&&e<=n||y.approximately(e,t)||y.approximately(e,n)},approximately:function(e,t,n){return i(e-t)<=(n||1e-6)},length:function(e){const t=y.Tvalues.length;let n=0;for(let r,i=0;i<t;i++)r=.5*y.Tvalues[i]+.5,n+=y.Cvalues[i]*y.arcfn(r,e);return.5*n},map:function(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)},lerp:function(e,t,n){const r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){let t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(y.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,a=n.y-e.y;return l(r*a-i*o,r*o+i*a)},round:function(e,t){const n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){const n=e.x-t.x,r=e.y-t.y;return u(n*n+r*r)},closest:function(e,t){let n,r,i=c(2,63);return e.forEach((function(e,o){r=y.dist(t,e),r<i&&(i=r,n=o)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=c(e,t)+c(1-e,t);return i((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=c(1-e,t);return n/(c(e,t)+n)},lli8:function(e,t,n,r,i,o,a,s){const l=(e-n)*(o-s)-(t-r)*(i-a);return 0!=l&&{x:((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/l,y:((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/l}},lli4:function(e,t,n,r){const i=e.x,o=e.y,a=t.x,s=t.y,l=n.x,u=n.y,c=r.x,f=r.y;return y.lli8(i,o,a,s,l,u,c,f)},lli:function(e,t){return y.lli4(e,e.c,t,t.c)},makeline:function(e,t){const n=e.x,r=e.y,i=t.x,o=t.y,a=(i-n)/3,s=(o-r)/3;return new A(n,r,n+a,r+s,n+2*a,r+2*s,i,o)},findbbox:function(e){let t=m,n=m,r=g,i=g;return e.forEach((function(e){const o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!y.bboxoverlap(t,r))return[];const o=[],a=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return a.forEach((function(t){t.virtual||s.forEach((function(r){if(r.virtual)return;const a=t.intersects(r,i);a.length>0&&(a.c1=t,a.c2=r,a.s1=e,a.s2=n,o.push(a))}))})),o},makeshape:function(e,t,n){const r=t.points.length,i=e.points.length,o=y.makeline(t.points[r-1],e.points[0]),a=y.makeline(e.points[i-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:a,bbox:y.findbbox([o,e,t,a]),intersections:function(e){return y.shapeintersections(s,s.bbox,e,e.bbox,n)}};return s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};let r,i,o=m,a=g;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(let s=0,l=n.length;s<l;s++)r=n[s],i=e.get(r),i[t]<o&&(o=i[t]),i[t]>a&&(a=i[t]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(e,t){const n=t.p1.x,r=t.p1.y,i=-l(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*o(i)-(e.y-r)*a(i),y:(e.x-n)*a(i)+(e.y-r)*o(i)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,r=y.align(e,t),i=function(e){return 0<=e&&e<=1};if(2===n){const e=r[0].y,t=r[1].y,n=r[2].y,o=e-2*t+n;if(0!==o){const r=-u(t*t-e*n),a=-e+t;return[-(r+a)/o,-(-r+a)/o].filter(i)}return t!==n&&0===o?[(2*t-n)/(2*t-2*n)].filter(i):[]}const a=r[0].y,l=r[1].y,c=r[2].y;let h=3*l-a-3*c+r[3].y,p=3*a-6*l+3*c,m=-3*a+3*l,g=a;if(y.approximately(h,0)){if(y.approximately(p,0))return y.approximately(m,0)?[]:[-g/m].filter(i);const e=u(m*m-4*p*g),t=2*p;return[(e-m)/t,(-m-e)/t].filter(i)}p/=h,m/=h,g/=h;const v=(3*m-p*p)/3,b=v/3,_=(2*p*p*p-9*p*m+27*g)/27,E=_/2,w=E*E+b*b*b;let x,T,S,k,O;if(w<0){const e=-v/3,t=u(e*e*e),n=-_/(2*t),r=s(n<-1?-1:n>1?1:n),a=2*f(t);return S=a*o(r/3)-p/3,k=a*o((r+d)/3)-p/3,O=a*o((r+2*d)/3)-p/3,[S,k,O].filter(i)}if(0===w)return x=E<0?f(-E):-f(E),S=2*x-p/3,k=-x-p/3,[S,k].filter(i);{const e=u(w);return x=f(-E+e),T=f(E+e),[x-T-p/3].filter(i)}},droots:function(e){if(3===e.length){const t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){const e=-u(n*n-t*r),o=-t+n;return[-(e+o)/i,-(-e+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){const t=e[0],n=e[1];return t!==n?[t/(t-n)]:[]}return[]},curvature:function(e,t,n,r,o){let a,s,l,f,h=0,d=0;const p=y.compute(e,t),m=y.compute(e,n),g=p.x*p.x+p.y*p.y;if(r?(a=u(c(p.y*m.z-m.y*p.z,2)+c(p.z*m.x-m.z*p.x,2)+c(p.x*m.y-m.x*p.y,2)),s=c(g+p.z*p.z,1.5)):(a=p.x*m.y-p.y*m.x,s=c(g,1.5)),0===a||0===s)return{k:0,r:0};if(h=a/s,d=s/a,!o){const o=y.curvature(e-.001,t,n,r,!0).k,a=y.curvature(e+.001,t,n,r,!0).k;f=(a-h+(h-o))/2,l=(i(a-h)+i(h-o))/2}return{k:h,r:d,dk:f,adk:l}},inflections:function(e){if(e.length<4)return[];const t=y.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*n+2*r+3*i-t[3].x*t[2].y),a=18*(3*n-r-3*i),s=18*(i-n);if(y.approximately(o,0)){if(!y.approximately(a,0)){let e=-s/a;if(0<=e&&e<=1)return[e]}return[]}const l=a*a-4*o*s,u=Math.sqrt(l),c=2*o;return y.approximately(c,0)?[]:[(u-a)/c,-(a+u)/c].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){const n=["x","y"],r=n.length;for(let o,a,s,l,u=0;u<r;u++)if(o=n[u],a=e[o].mid,s=t[o].mid,l=(e[o].size+t[o].size)/2,i(a-s)>=l)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){const r=e.bbox(),i=t.bbox(),o=1e5,a=n||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];let s=e.split(.5),l=t.split(.5),u=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];u=u.filter((function(e){return y.bboxoverlap(e.left.bbox(),e.right.bbox())}));let c=[];return 0===u.length||(u.forEach((function(e){c=c.concat(y.pairiteration(e.left,e.right,a))})),c=c.filter((function(e,t){return c.indexOf(e)===t}))),c},getccenter:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,s=n.x-t.x,u=n.y-t.y,c=r*o(p)-i*a(p),f=r*a(p)+i*o(p),h=s*o(p)-u*a(p),m=s*a(p)+u*o(p),g=(e.x+t.x)/2,v=(e.y+t.y)/2,b=(t.x+n.x)/2,_=(t.y+n.y)/2,E=g+c,w=v+f,x=b+h,T=_+m,S=y.lli8(g,v,E,w,b,_,x,T),k=y.dist(S,e);let O,A=l(e.y-S.y,e.x-S.x),C=l(t.y-S.y,t.x-S.x),P=l(n.y-S.y,n.x-S.x);return A<P?((A>C||C>P)&&(A+=d),A>P&&(O=P,P=A,A=O)):P<C&&C<A?(O=P,P=A,A=O):P+=d,S.s=A,S.e=P,S.r=k,S},numberSort:function(e,t){return e-t}};class b{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map((function(e){return y.pointsToString(e.points)})).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var t=e[0].bbox(),n=1;n<e.length;n++)y.expandbox(t,e[n].bbox());return t}offset(e){const t=[];return this.curves.forEach((function(n){t.push(...n.offset(e))})),new b(t)}}const{abs:_,min:E,max:w,cos:x,sin:T,acos:S,sqrt:k}=Math,O=Math.PI;class A{constructor(e){let t=e&&e.forEach?e:Array.from(arguments).slice(),n=!1;if("object"==typeof t[0]){n=t.length;const e=[];t.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&e.push(t[n])}))})),t=e}let r=!1;const i=t.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(6!==i&&8!==i&&9!==i&&12!==i&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!r&&(9===i||12===i)||e&&e[0]&&void 0!==e[0].z,a=this.points=[];for(let f=0,h=o?3:2;f<i;f+=h){var s={x:t[f],y:t[f+1]};o&&(s.z=t[f+2]),a.push(s)}const l=this.order=a.length-1,u=this.dims=["x","y"];o&&u.push("z"),this.dimlen=u.length;const c=y.align(a,{p1:a[0],p2:a[l]});this._linear=!c.some((e=>_(e.y)>1e-4)),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new A(t,t,n);if(1===r)return new A(e,t,t);const i=A.getABC(2,e,t,n,r);return new A(e,i.A,n)}static cubicFromPoints(e,t,n,r,i){void 0===r&&(r=.5);const o=A.getABC(3,e,t,n,r);void 0===i&&(i=y.dist(t,o.C));const a=i*(1-r)/r,s=y.dist(e,n),l=(n.x-e.x)/s,u=(n.y-e.y)/s,c=i*l,f=i*u,h=a*l,d=a*u,p=t.x-c,m=t.y-f,g=t.x+h,v=t.y+d,b=o.A,_=b.x+(p-b.x)/(1-r),E=b.y+(m-b.y)/(1-r),w=b.x+(g-b.x)/r,x=b.y+(v-b.y)/r,T={x:e.x+(_-e.x)/r,y:e.y+(E-e.y)/r},S={x:n.x+(w-n.x)/(1-r),y:n.y+(x-n.y)/(1-r)};return new A(e,T,S,n)}static getUtils(){return y}getUtils(){return A.getUtils()}static get PolyBezier(){return b}valueOf(){return this.toString()}toString(){return y.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"];for(let n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}update(){this._lut=[],this.dpoints=y.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,t=y.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}length(){return y.length(this.derivative.bind(this))}static getABC(e=2,t,n,r,i=.5){const o=y.projectionratio(i,e),a=1-o,s={x:o*t.x+a*r.x,y:o*t.y+a*r.y},l=y.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/l,y:n.y+(n.y-s.y)/l},B:n,C:s,S:t,E:r}}getABC(e,t){t=t||this.get(e);let n=this.points[0],r=this.points[this.order];return A.getABC(this.order,n,t,r,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(let t,n,r=0;r<e;r++)n=r/(e-1),t=this.compute(n),t.t=n,this._lut.push(t);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),i=[];for(let t,o=0,a=0;o<r.length;o++)t=r[o],y.dist(t,e)<n&&(i.push(t),a+=o/r.length);return!!i.length&&(t/=i.length)}project(e){const t=this.getLUT(),n=t.length-1,r=y.closest(t,e),i=r.mpos,o=(i-1)/n,a=(i+1)/n,s=.1/n;let l,u,c=r.mdist,f=o,h=f;for(c+=1;f<a+s;f+=s)l=this.compute(f),u=y.dist(e,l),u<c&&(c=u,h=f);return h=h<0?0:h>1?1:h,l=this.compute(h),l.t=h,l.d=c,l}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?y.computeWithRatios(e,this.points,this.ratios,this._3d):y.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,t=[e[0]],n=e.length;for(let r,i,o=1;o<n;o++)r=e[o],i=e[o-1],t[o]={x:(n-o)/n*r.x+o/n*i.x,y:(n-o)/n*r.y+o/n*i.y};return t[n]=e[n-1],new A(t)}derivative(e){return y.compute(e,this.dpoints[0])}dderivative(e){return y.compute(e,this.dpoints[1])}align(){let e=this.points;return new A(y.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return y.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return y.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const t=this.derivative(e),n=k(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}}__normal3(e){const t=this.derivative(e),n=this.derivative(e+.01),r=k(t.x*t.x+t.y*t.y+t.z*t.z),i=k(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;const o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},a=k(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;const s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}}hull(e){let t=this.points,n=[],r=[],i=0;for(r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],3===this.order&&(r[i++]=t[3]);t.length>1;){n=[];for(let o,a=0,s=t.length-1;a<s;a++)o=y.lerp(e,t[a],t[a+1]),r[i++]=o,n.push(o);t=n}return r}split(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;const n=this.hull(e),r={left:2===this.order?new A([n[0],n[3],n[5]]):new A([n[0],n[4],n[7],n[9]]),right:2===this.order?new A([n[5],n[4],n[2]]):new A([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=y.map(0,0,1,this._t1,this._t2),r.left._t2=y.map(e,0,1,this._t1,this._t2),r.right._t1=y.map(e,0,1,this._t1,this._t2),r.right._t2=y.map(1,0,1,this._t1,this._t2),t?(t=y.map(t,e,1,0,1),r.right.split(t).left):r}extrema(){const e={};let t=[];return this.dims.forEach(function(n){let r=function(e){return e[n]},i=this.dpoints[0].map(r);e[n]=y.droots(i),3===this.order&&(i=this.dpoints[1].map(r),e[n]=e[n].concat(y.droots(i))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(y.numberSort))}.bind(this)),e.values=t.sort(y.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}bbox(){const e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=y.getminmax(this,n,e[n])}.bind(this)),t}overlaps(e){const t=this.bbox(),n=e.bbox();return y.bboxoverlap(t,n)}offset(e,t){if(void 0!==t){const n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){const t=this.normal(0),n=this.points.map((function(n){const r={x:n.x+e*t.x,y:n.y+e*t.y};return n.z&&t.z&&(r.z=n.z+e*t.z),r}));return[new A(n)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))}simple(){if(3===this.order){const e=y.angle(this.points[0],this.points[3],this.points[1]),t=y.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}const e=this.normal(0),t=this.normal(1);let n=e.x*t.x+e.y*t.y;return this._3d&&(n+=e.z*t.z),_(S(n))<O/3}reduce(){let e,t,n=0,r=0,i=[],o=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),n=a[0],e=1;e<a.length;e++)r=a[e],t=this.split(n,r),t._t1=n,t._t2=r,i.push(t),n=r;return i.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+.01;r<=1.01;r+=.01)if(t=e.split(n,r),!t.simple()){if(r-=.01,_(n-r)<.01)return[];t=e.split(n,r),t._t1=y.map(n,0,1,e._t1,e._t2),t._t2=y.map(r,0,1,e._t1,e._t2),o.push(t),n=r;break}n<1&&(t=e.split(n,1),t._t1=y.map(n,0,1,e._t1,e._t2),t._t2=e._t2,o.push(t))})),o}scale(e){const t=this.order;let n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);const r=this.clockwise,i=n?n(0):e,o=n?n(1):e,a=[this.offset(0,10),this.offset(1,10)],s=this.points,l=[],u=y.lli4(a[0],a[0].c,a[1],a[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){const n=l[e*t]=y.copy(s[e*t]);n.x+=(e?o:i)*a[e].n.x,n.y+=(e?o:i)*a[e].n.y})),n?([0,1].forEach((function(i){if(2!==t||!i){var o=s[i+1],a={x:o.x-u.x,y:o.y-u.y},c=n?n((i+1)/t):e;n&&!r&&(c=-c);var f=k(a.x*a.x+a.y*a.y);a.x/=f,a.y/=f,l[i+1]={x:o.x+c*a.x,y:o.y+c*a.y}}})),new A(l)):([0,1].forEach((e=>{if(2===t&&e)return;const n=l[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};l[e+1]=y.lli4(n,i,u,s[e+1])})),new A(l))}outline(e,t,n,r){t=void 0===t?e:t;const i=this.reduce(),o=i.length,a=[];let s,l=[],u=0,c=this.length();const f=void 0!==n&&void 0!==r;function h(e,t,n,r,i){return function(o){const a=r/n,s=(r+i)/n,l=t-e;return y.map(o,0,1,e+a*l,e+s*l)}}i.forEach((function(i){const o=i.length();f?(a.push(i.scale(h(e,n,c,u,o))),l.push(i.scale(h(-t,-r,c,u,o)))):(a.push(i.scale(e)),l.push(i.scale(-t))),u+=o})),l=l.map((function(e){return s=e.points,s[3]?e.points=[s[3],s[2],s[1],s[0]]:e.points=[s[2],s[1],s[0]],e})).reverse();const d=a[0].points[0],p=a[o-1].points[a[o-1].points.length-1],m=l[o-1].points[l[o-1].points.length-1],g=l[0].points[0],v=y.makeline(m,d),_=y.makeline(p,g),E=[v].concat(a).concat([_]).concat(l);return new b(E)}outlineshapes(e,t,n){t=t||e;const r=this.outline(e,t).curves,i=[];for(let o=1,a=r.length;o<a/2;o++){const e=y.makeshape(r[o],r[a-o],n);e.startcap.virtual=o>1,e.endcap.virtual=o<a/2-1,i.push(e)}return i}intersects(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof A&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)}lineIntersects(e){const t=E(e.p1.x,e.p2.x),n=E(e.p1.y,e.p2.y),r=w(e.p1.x,e.p2.x),i=w(e.p1.y,e.p2.y);return y.roots(this.points,e).filter((e=>{var o=this.get(e);return y.between(o.x,t,r)&&y.between(o.y,n,i)}))}selfintersects(e){const t=this.reduce(),n=t.length-2,r=[];for(let i,o,a,s=0;s<n;s++)o=t.slice(s,s+1),a=t.slice(s+2),i=this.curveintersects(o,a,e),r.push(...i);return r}curveintersects(e,t,n){const r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));let i=[];return r.forEach((function(e){const t=y.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,t,n,r){const i=(r-n)/4,o=this.get(n+i),a=this.get(r-i),s=y.dist(e,t),l=y.dist(e,o),u=y.dist(e,a);return _(l-s)+_(u-s)}_iterate(e,t){let n,r=0,i=1;do{n=0,i=1;let o,a,s,l,u,c=this.get(r),f=!1,h=!1,d=i,p=1;do{if(h=f,l=s,d=(r+i)/2,o=this.get(d),a=this.get(i),s=y.getccenter(c,o,a),s.interval={start:r,end:i},f=this._error(s,c,r,i)<=e,u=h&&!f,u||(p=i),f){if(i>=1){if(s.interval.end=p=1,l=s,i>1){let e={x:s.x+s.r*x(s.e),y:s.y+s.r*T(s.e)};s.e+=y.angle({x:s.x,y:s.y},e,this.get(1))}break}i+=(i-r)/2}else i=d}while(!u&&n++<100);if(n>=100)break;l=l||s,t.push(l),r=p}while(i<1);return t}}n.Bezier=A},function(e,t,n){e.exports=n(351)},function(e,t,n){e.exports=function(e,t,n){switch(arguments.length){case 1:return f(e);case 2:return"function"==typeof t?u(e,e,t,!0):h(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(187),o=n(252),a=n(358);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,h=i.mallocDouble(2*c*s),d=i.mallocInt32(s);if((s=l(e,c,h,d))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,h,d,0,s,h,d);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),f=1===c?o.sweepBipartite(c,n,0,s,h,d,0,u,p,m):a(c,n,r,s,h,d,u,p,m),i.free(p),i.free(m))}i.free(h),i.free(d)}return f}}}function c(e,t){r.push([e,t])}function f(e){return r=[],u(e,e,c,!0),r}function h(e,t){return r=[],u(e,t,c,!1),r}},function(e,t){var n,r=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);n=r,function(e){var t="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in n,a="ArrayBuffer"in n;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=c(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];E.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(T){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,o){var a=new b(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new E(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,n.fetch||(n.fetch=x,n.Headers=h,n.Request=b,n.Response=E),e.Headers=h,e.Request=b,e.Response=E,e.fetch=x}({}),delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BigWig",{enumerable:!0,get:function(){return r.BigWig}}),Object.defineProperty(t,"BigBed",{enumerable:!0,get:function(){return i.BigBed}}),Object.defineProperty(t,"Feature",{enumerable:!0,get:function(){return o.Feature}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return o.Header}}),Object.defineProperty(t,"RequestOptions",{enumerable:!0,get:function(){return o.RequestOptions}});var r=n(361),i=n(409),o=n(200)},function(e,t,n){var r=n(415),i=n(206),o=n(419),a=n(267),s=n(268),l=n(420),u=n(421),c=n(442),f=n(102);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return x(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n,r,i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||(n=this,r=n._opts.meta,n._opts.defaultMeta="object"==typeof r?n._getId(r)||r:n.getSchema(p)?p:void 0,n._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var o=this.validate(i,e);if(!o&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return o},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&r&&x(this,u);var c,f=!1!==this._opts.validateSchema&&!t;f&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),d=new a({id:u,schema:e,localRefs:h,cacheKey:s,meta:n});return"#"!=u[0]&&r&&(this._refs[u]=d),this._cache.put(s,d),f&&c&&this.validateSchema(e,!0),d},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(443);var h=n(444);v.prototype.addKeyword=h.add,v.prototype.getKeyword=h.get,v.prototype.removeKeyword=h.remove,v.prototype.validateKeyword=h.validate;var d=n(208);v.ValidationError=d.Validation,v.MissingRefError=d.MissingRef,v.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=f.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:T,warn:T,error:T};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return _;default:return E}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=f.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=n(447),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(274);e._opts.$data&&(r=c(r,g)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function E(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function T(){}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://higlass.io/#viewconf","title":"HiGlass viewconf","type":"object","additionalProperties":false,"required":[],"properties":{"editable":{"type":"boolean","default":true},"viewEditable":{"type":"boolean","default":true},"tracksEditable":{"type":"boolean","default":true},"zoomFixed":{"type":"boolean"},"compactLayout":{"type":"boolean"},"exportViewUrl":{"type":"string"},"trackSourceServers":{"type":"array","items":{"type":"string"},"minLength":1},"zoomLocks":{"$ref":"#/definitions/locks/genericLocks"},"locationLocks":{"$ref":"#/definitions/locks/genericLocks"},"valueScaleLocks":{"$ref":"#/definitions/locks/valueScaleLocks"},"views":{"type":"array","items":{"$ref":"#/definitions/view"},"minLength":1},"chromInfoPath":{"type":"string"}},"definitions":{"data":{"type":"object","properties":{"type":{"type":"string"},"tilesetInfo":{"type":"object"},"children":{"type":"array"},"tiles":{"type":"object"}}},"locks":{"slug":{"type":"string"},"locksByViewUid":{"type":"object","additionalProperties":false,"patternProperties":{".":{"$ref":"#/definitions/locks/slug"}}},"genericLocks":{"type":"object","additionalProperties":false,"required":[],"properties":{"locksByViewUid":{"$ref":"#/definitions/locks/locksByViewUid"},"locksDict":{"type":"object","additionalProperties":false,"patternProperties":{".":{"type":"object","additionalProperties":false,"properties":{"uid":{"$ref":"#/definitions/locks/slug"}},"patternProperties":{"^(?!uid).":{"type":"array","minLength":3,"maxLength":3,"items":{"type":"number"}}}}}}}},"valueScaleLocks":{"type":"object","additionalProperties":false,"required":["locksByViewUid","locksDict"],"properties":{"locksByViewUid":{"$ref":"#/definitions/locks/locksByViewUid"},"locksDict":{"type":"object","additionalProperties":false,"patternProperties":{".":{"type":"object","additionalProperties":false,"properties":{"uid":{"$ref":"#/definitions/locks/slug"},"ignoreOffScreenValues":{"type":"boolean"}},"patternProperties":{"^(?!(uid|ignoreOffScreenValues)).":{"type":"object","additionalProperties":false,"required":["view","track"],"properties":{"view":{"type":"string"},"track":{"$ref":"#/definitions/locks/slug"}}}}}}}}}},"view":{"type":"object","additionalProperties":false,"required":["tracks","layout"],"properties":{"autocompleteSource":{"type":"string"},"chromInfoPath":{"type":"string"},"genomePositionSearchBox":{"$ref":"#/definitions/viewProperties/genomePositionSearchBox"},"genomePositionSearchBoxVisible":{"type":"boolean"},"initialXDomain":{"$ref":"#/definitions/viewProperties/domain"},"initialYDomain":{"$ref":"#/definitions/viewProperties/domain"},"layout":{"$ref":"#/definitions/viewProperties/layout"},"overlays":{"type":"array","items":{"$ref":"#/definitions/viewProperties/overlay"}},"selectionView":{"type":"boolean"},"tracks":{"$ref":"#/definitions/viewProperties/tracks_object"},"uid":{"type":"string"},"zoomFixed":{"type":"boolean"},"zoomLimits":{"type":"array","minLength":2,"maxLength":2}}},"viewProperties":{"genomePositionSearchBox":{"type":"object","title":"The Genome Position Search Box Schema","required":["chromInfoServer","chromInfoId"],"properties":{"autocompleteServer":{"type":"string","title":"The Autocomplete Server URL","default":"","examples":["//higlass.io/api/v1"],"pattern":"^(.*)$"},"autocompleteId":{"type":"string","title":"The Autocomplete ID","default":"","examples":["OHJakQICQD6gTD7skx4EWA"],"pattern":"^(.*)$"},"chromInfoServer":{"type":"string","title":"The Chrominfo Server URL","default":"","examples":["//higlass.io/api/v1"],"pattern":"^(.*)$"},"chromInfoId":{"type":"string","title":"The Chromosome Info ID","default":"","examples":["hg19"],"pattern":"^(.*)$"},"visible":{"type":"boolean","title":"The Visible Schema","default":false}}},"overlay":{"type":"object","additionalProperties":false,"properties":{"chromInfoPath":{"type":"string"},"includes":{"type":"array"},"options":{"type":"object","properties":{"extent":{"type":"array"},"minWidth":{"type":"number"},"fill":{"type":"string"},"fillOpacity":{"type":"number"},"stroke":{"type":"string"},"strokeOpacity":{"type":"number"},"strokeWidth":{"type":"number"},"strokePos":{"type":["string","array"]},"outline":{"type":"string"},"outlineOpacity":{"type":"number"},"outlineWidth":{"type":"number"},"outlinePos":{"type":["string","array"]}}},"type":{"type":"string"},"uid":{"type":"string"}}},"layout":{"type":"object","additionalProperties":false,"required":["w","h","x","y"],"properties":{"x":{"type":"number","title":"The X Position","default":0},"y":{"type":"number","title":"The Y Position","default":0},"w":{"type":"number","title":"Width","default":12},"h":{"type":"number","title":"Height","default":12}}},"tracks_object":{"type":"object","additionalProperties":false,"properties":{"left":{"$ref":"#/definitions/viewProperties/tracks_array"},"right":{"$ref":"#/definitions/viewProperties/tracks_array"},"top":{"$ref":"#/definitions/viewProperties/tracks_array"},"bottom":{"$ref":"#/definitions/viewProperties/tracks_array"},"center":{"$ref":"#/definitions/viewProperties/tracks_array"},"whole":{"$ref":"#/definitions/viewProperties/tracks_array"},"gallery":{"$ref":"#/definitions/viewProperties/tracks_array"}}},"tracks_array":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/tracks/enum_track"},{"$ref":"#/definitions/tracks/combined_track"},{"$ref":"#/definitions/tracks/heatmap_track"},{"$ref":"#/definitions/tracks/independent_viewport_projection_track"}]}},"domain":{"type":"array","items":{"type":"number"},"maxItems":2,"minItems":2}},"tracks":{"heatmap_track":{"type":"object","additionalProperties":false,"required":[],"properties":{"uid":{"type":"string"},"type":{"const":"heatmap"},"data":{"$ref":"#/definitions/data"},"height":{"type":"number"},"options":{"type":"object"},"position":{"type":"string"},"server":{"type":"string"},"tilesetUid":{"type":"string"},"width":{"type":"number"}}},"combined_track":{"type":"object","additionalProperties":false,"required":["contents"],"properties":{"contents":{"$ref":"#/definitions/viewProperties/tracks_array"},"height":{"type":"number"},"options":{},"position":{"type":"string"},"type":{"const":"combined"},"uid":{"type":"string"},"width":{"type":"number"}}},"enum_track":{"type":"object","additionalProperties":false,"required":["type"],"properties":{"server":{"type":"string"},"tilesetUid":{"type":"string"},"data":{"$ref":"#/definitions/data"},"uid":{"type":"string"},"type":{"enum":["2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},"chromInfoPath":{"type":"string"},"fromViewUid":{"type":"string"},"height":{"type":"number"},"options":{"type":"object"},"width":{"type":"number"},"x":{"type":"number"},"y":{"type":"number"}}},"independent_viewport_projection_track":{"type":"object","additionalProperties":false,"properties":{"uid":{"type":"string"},"type":{"enum":["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},"fromViewUid":{"type":"null"},"projectionXDomain":{"$ref":"#/definitions/viewProperties/domain"},"projectionYDomain":{"$ref":"#/definitions/viewProperties/domain"},"options":{"type":"object"},"transforms":{"type":"array"},"width":{"type":"number"},"x":{"type":"number"},"y":{"type":"number"}}}}}}')},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(7);function i(e,t){var n,i,o,a,s,l,u;const c=[];if(Object(r.e)(e.data)){if("vector"===e.data.type||"bigwig"===e.data.type){if(!e.data.column||!e.data.value)return void console.warn("Proper data configuration is not provided. Please specify the name of data fields.");if(!t.dense)return;const r=null!==(n=e.data.binSize)&&void 0!==n?n:1,a=t.dense,s=t.tileSize,l=t.tileWidth/t.tileSize,u=e.data.value,f=e.data.column,h=null!==(i=e.data.start)&&void 0!==i?i:"start",d=null!==(o=e.data.end)&&void 0!==o?o:"end";let p=0,m=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER;Array.from(Array(s).keys()).forEach(((e,n)=>{if(1===r)c.push({[u]:a[n]/l,[f]:t.tileX+(n+.5)*l,[h]:t.tileX+n*l,[d]:t.tileX+(n+1)*l});else if(n%r==0)p=a[n],m=n,g=n+r;else if(n%r==r-1)c.push({[u]:p/r/l,[f]:t.tileX+(m+r/2)*l,[h]:t.tileX+m*l,[d]:t.tileX+g*l});else if(n===s-1){const e=s%r,n=m+e;c.push({[u]:p/e/l,[f]:t.tileX+(m+e/2)*l,[h]:t.tileX+m*l,[d]:t.tileX+n*l})}else p+=a[n]}))}else if("multivec"===e.data.type){if(!e.data.row||!e.data.column||!e.data.value)return void console.warn("Proper data configuration is not provided. Please specify the name of data fields.");if(!t.dense||void 0===t.shape)return;const n=null!==(a=e.data.binSize)&&void 0!==a?a:1,r=t.shape[0],i=t.dense,o=t.shape[1],f=t.tileWidth/t.tileSize,h=e.data.row,d=e.data.value,p=e.data.column,m=null!==(s=e.data.start)&&void 0!==s?s:"start",g=null!==(l=e.data.end)&&void 0!==l?l:"end";(null!==(u=e.data.categories)&&void 0!==u?u:[...Array(r).keys()]).forEach(((e,r)=>{let a=0,s=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER;Array.from(Array(o).keys()).forEach(((u,v)=>{if(1===n)c.push({[h]:e,[d]:i[o*r+v]/f,[p]:t.tileX+(v+.5)*f,[m]:t.tileX+v*f,[g]:t.tileX+(v+1)*f});else if(v%n==0)a=i[o*r+v],s=v,l=v+n;else if(v%n==n-1)c.push({[h]:e,[d]:a/n/f,[p]:t.tileX+(s+n/2)*f,[m]:t.tileX+s*f,[g]:t.tileX+l*f});else if(v===o-1){const r=o%n,i=s+r;c.push({[h]:e,[d]:a/r/f,[p]:t.tileX+(s+r/2)*f,[m]:t.tileX+s*f,[g]:t.tileX+i*f})}else a+=i[o*r+v]}))}))}else if("beddb"===e.data.type){if(!t.raw)return;const{genomicFields:n,exonIntervalFields:r,valueFields:i}=e.data;t.raw.forEach((e=>{const{chrOffset:t,fields:o}=e,a={};if(n.forEach((e=>{a[e.name]=+o[e.index]+t})),null==i||i.forEach((e=>{a[e.name]="quantitative"===e.type?+o[e.index]:o[e.index]})),c.push(Object.assign(Object.assign({},a),{type:"gene"})),r){const[e,n]=r,i=o[e.index].split(","),s=o[n.index].split(",");i.forEach(((r,o)=>{const l=s[o];if(c.push(Object.assign(Object.assign({},a),{[e.name]:+r+t,[n.name]:+l+t,type:"exon"})),o+1<i.length){const r=i[o+1];c.push(Object.assign(Object.assign({},a),{[e.name]:+l+t,[n.name]:+r+t,type:"intron"}))}}))}}))}else e.data.type;return c}console.warn("No data is specified")}},function(e,t,n){t.a='!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=221)}([function(t,e,r){"use strict";var n=r(2),i=r(35).f,o=r(133),a=r(1),s=r(37),u=r(14),f=r(11),c=function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,l,h,d,p,v,g,y,b=t.target,m=t.global,w=t.stat,_=t.proto,x=m?n:w?n[b]:(n[b]||{}).prototype,k=m?a:a[b]||(a[b]={}),E=k.prototype;for(h in e)r=!o(m?h:b+(w?".":"#")+h,t.forced)&&x&&f(x,h),p=k[h],r&&(v=t.noTargetGet?(y=i(x,h))&&y.value:x[h]),d=r&&v?v:e[h],r&&typeof p==typeof d||(g=t.bind&&r?s(d,n):t.wrap&&r?c(d):_&&"function"==typeof d?s(Function.call,d):d,(t.sham||d&&d.sham||p&&p.sham)&&u(g,"sham",!0),k[h]=g,_&&(f(a,l=b+"Prototype")||u(a,l,{}),a[l][h]=d,t.real&&E&&!E[h]&&u(E,h,d)))}},function(t,e){t.exports={}},function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r(18))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(2),i=r(83),o=r(11),a=r(64),s=r(84),u=r(142),f=i("wks"),c=n.Symbol,l=u?c:c&&c.withoutSetter||a;t.exports=function(t){return o(f,t)||(s&&o(c,t)?f[t]=c[t]:f[t]=l("Symbol."+t)),f[t]}},function(t,e,r){var n=r(1),i=r(11),o=r(71),a=r(15).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar n=r(222),i=r(223),o=r(128);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return f(this,t,e,r)}function f(t,e,r,n){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError(\'"encoding" must be a valid string encoding\');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(t<0)throw new RangeError(\'"size" argument must not be negative\')}function l(t,e){if(c(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=r;o<s;o++)if(f(t,o)===f(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(f(t,o+h)!==f(e,h)){l=!1;break}if(l)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return Z(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return Z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return _(t,e,r,n)}function k(t,e,r,n){return Z(D(e),t,r,n)}function E(t,e,r,n){return Z(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,f=t[i],c=null,l=f>239?4:f>223?3:f>191?2:1;if(i+l<=r)switch(l){case 1:f<128&&(c=f);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&f)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&f)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return f(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError(\'"list" argument must be an Array of Buffers\');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),f=this.slice(n,i),c=t.slice(e,r),l=0;l<s;++l)if(f[l]!==c[l]){o=f[l],a=c[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=F(t[o]);return i}function L(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<o)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function C(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return o||C(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,o){return o||C(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=u.isBuffer(t)?t:U(new u(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var z=/[^+\\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function D(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(18))},function(t,e,r){var n=r(3);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,r){t.exports=r(229)},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(8),i=r(15),o=r(36);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(8),i=r(132),o=r(9),a=r(62),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(49);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(1);t.exports=function(t){return n[t+"Prototype"]}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,f=[],c=!1,l=-1;function h(){c&&u&&(c=!1,u.length?f=u.concat(f):l=-1,f.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=f.length;e;){for(u=f,f=[];++l<e;)u&&u[l].run();l=-1,e=f.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new p(t,e)),1!==f.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){var n=r(61),i=r(49);t.exports=function(t){return n(i(t))}},function(t,e){t.exports=!0},function(t,e,r){var n=r(1),i=r(2),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},function(t,e,r){var n,i,o,a=r(136),s=r(2),u=r(6),f=r(14),c=r(11),l=r(63),h=r(50),d=s.WeakMap;if(a){var p=new d,v=p.get,g=p.has,y=p.set;n=function(t,e){return y.call(p,t,e),e},i=function(t){return v.call(p,t)||{}},o=function(t){return g.call(p,t)}}else{var b=l("state");h[b]=!0,n=function(t,e){return f(t,b,e),e},i=function(t){return c(t,b)?t[b]:{}},o=function(t){return c(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var n=r(85),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(99);t.exports=function(t,e,r){return e in t?n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(99);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(t,i.key,i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(87),i=r(15).f,o=r(14),a=r(11),s=r(236),u=r(4)("toStringTag");t.exports=function(t,e,r,f){if(t){var c=r?t:t.prototype;a(c,u)||i(c,u,{configurable:!0,value:e}),f&&!n&&o(c,"toString",s)}}},function(t,e,r){t.exports=r(270)},function(t,e,r){var n=r(9),i=r(160),o=r(24),a=r(37),s=r(68),u=r(159),f=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,r,c,l){var h,d,p,v,g,y,b,m=a(e,r,c?2:1);if(l)h=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,v=o(t.length);v>p;p++)if((g=c?m(n(b=t[p])[0],b[1]):m(t[p]))&&g instanceof f)return g;return new f(!1)}h=d.call(t)}for(y=h.next;!(b=y.call(h)).done;)if("object"==typeof(g=u(h,m,b.value,c))&&g&&g instanceof f)return g;return new f(!1)}).stop=function(t){return new f(!0,t)}},function(t,e,r){"use strict";var n=r(78),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=Object.create(r(60));o.inherits=r(48);var a=r(190),s=r(118);o.inherits(l,a);for(var u=i(s.prototype),f=0;f<u.length;f++){var c=u[f];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){var n=r(8),i=r(81),o=r(36),a=r(20),s=r(62),u=r(11),f=r(132),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=s(e,!0),f)try{return c(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(12);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){r(232);var n=r(238),i=r(2),o=r(67),a=r(14),s=r(39),u=r(4)("toStringTag");for(var f in n){var c=i[f],l=c&&c.prototype;l&&o(l)!==u&&a(l,u,f),s[f]=s.Array}},function(t,e){t.exports={}},function(t,e,r){var n=r(37),i=r(61),o=r(16),a=r(24),s=r(153),u=[].push,f=function(t){var e=1==t,r=2==t,f=3==t,c=4==t,l=6==t,h=5==t||l;return function(d,p,v,g){for(var y,b,m=o(d),w=i(m),_=n(p,v,3),x=a(w.length),k=0,E=g||s,S=e?E(d,x):r?E(d,0):void 0;x>k;k++)if((h||k in w)&&(b=_(y=w[k],k,m),t))if(e)S[k]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:u.call(S,y)}else if(c)return!1;return l?-1:f||c?c:S}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},function(t,e,r){var n=r(8),i=r(3),o=r(11),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var r=[][t],f=!!o(e,"ACCESSORS")&&e.ACCESSORS,c=o(e,0)?e[0]:u,l=o(e,1)?e[1]:void 0;return s[t]=!!r&&!i((function(){if(f&&!n)return!0;var t={length:-1};f?a(t,1,{enumerable:!0,get:u}):t[1]=1,r.call(t,c,l)}))}},function(t,e,r){t.exports=r(290)},function(t,e,r){t.exports=r(100)},function(t,e,r){var n=r(101);function i(t,e,r,i,o,a,s){try{var u=t[a](s),f=u.value}catch(t){return void r(t)}u.done?e(f):n.resolve(f).then(i,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new n((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){t.exports=r(332)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on "+t);return t}},function(t,e){t.exports={}},function(t,e,r){var n,i=r(9),o=r(143),a=r(86),s=r(50),u=r(147),f=r(82),c=r(63),l=c("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=n?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=f("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete p.prototype[a[r]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h.prototype=i(t),r=new h,h.prototype=null,r[l]=t):r=p(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(14);t.exports=function(t,e,r,i){i&&i.enumerable?t[e]=r:n(t,e,r)}},function(t,e,r){"use strict";var n=r(239).charAt,i=r(23),o=r(139),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){var n=r(30);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){t.exports=r(243)},function(t,e,r){t.exports=r(277)},function(t,e,r){t.exports=r(303)},function(t,e,r){"use strict";var n=r(12),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},function(t,e,r){t.exports=r(317)},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(7).Buffer)},function(t,e,r){var n=r(3),i=r(30),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,r){var n=r(6);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can\'t convert object to primitive value")}},function(t,e,r){var n=r(83),i=r(64),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e,r){var n=r(11),i=r(16),o=r(63),a=r(141),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){var n=r(144),i=r(86);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(87),i=r(30),o=r(4)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){var n=r(67),i=r(39),o=r(4)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},function(t,e,r){"use strict";var n=r(62),i=r(15),o=r(36);t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},function(t,e,r){var n=r(3),i=r(4),o=r(89),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){var n=r(4);e.f=n},function(t,e,r){"use strict";var n=r(3);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){t.exports=r(282)},function(t,e,r){var n=r(166),i=r(289),o=r(167),a=r(170);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,r){t.exports=r(100)},function(t,e){function r(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError(\'"callback" argument must be a function\');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,r(19))},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";(function(t){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.expose=e.isWorkerRuntime=e.Transfer=e.registerSerializer=void 0;const o=i(r(224)),a=r(129),s=r(130),u=r(227),f=i(r(228));var c=r(129);Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return c.registerSerializer}});var l=r(130);Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return l.Transfer}}),e.isWorkerRuntime=f.default.isWorkerRuntime;let h=!1;const d=new Map,p=t=>t&&t.type===u.MasterMessageType.run,v=t=>o.default(t)||function(t){return t&&"object"==typeof t&&"function"==typeof t.subscribe}(t);function g(t){return s.isTransferDescriptor(t)?{payload:t.send,transferables:t.transferables}:{payload:t,transferables:void 0}}function y(t,e){const{payload:r,transferables:n}=g(e),i={type:u.WorkerMessageType.error,uid:t,error:a.serialize(r)};f.default.postMessageToMaster(i,n)}function b(t,e,r){const{payload:n,transferables:i}=g(r),o={type:u.WorkerMessageType.result,uid:t,complete:!!e||void 0,payload:n};f.default.postMessageToMaster(o,i)}function m(t){try{const e={type:u.WorkerMessageType.uncaughtError,error:a.serialize(t)};f.default.postMessageToMaster(e)}catch(e){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\\nLatest error:",e,"\\nOriginal error:",t)}}function w(t,e,r){return n(this,void 0,void 0,(function*(){let n;try{n=e(...r)}catch(e){return y(t,e)}const i=v(n)?"observable":"promise";if(function(t,e){const r={type:u.WorkerMessageType.running,uid:t,resultType:e};f.default.postMessageToMaster(r)}(t,i),v(n)){const e=n.subscribe(e=>b(t,!1,a.serialize(e)),e=>{y(t,a.serialize(e)),d.delete(t)},()=>{b(t,!0),d.delete(t)});d.set(t,e)}else try{const e=yield n;b(t,!0,a.serialize(e))}catch(e){y(t,a.serialize(e))}}))}e.expose=function(t){if(!f.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(h)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(h=!0,"function"==typeof t)f.default.subscribeToMasterMessages(e=>{p(e)&&!e.method&&w(e.uid,t,e.args.map(a.deserialize))}),function(){const t={type:u.WorkerMessageType.init,exposed:{type:"function"}};f.default.postMessageToMaster(t)}();else{if("object"!=typeof t||!t)throw Error("Invalid argument passed to expose(). Expected a function or an object, got: "+t);f.default.subscribeToMasterMessages(e=>{p(e)&&e.method&&w(e.uid,t[e.method],e.args.map(a.deserialize))});!function(t){const e={type:u.WorkerMessageType.init,exposed:{type:"module",methods:t}};f.default.postMessageToMaster(e)}(Object.keys(t).filter(e=>"function"==typeof t[e]))}f.default.subscribeToMasterMessages(t=>{if((e=t)&&e.type===u.MasterMessageType.cancel){const e=t.uid,r=d.get(e);r&&(r.unsubscribe(),d.delete(e))}var e})},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&f.default.isWorkerRuntime()&&(self.addEventListener("error",t=>{setTimeout(()=>m(t.error||t),250)}),self.addEventListener("unhandledrejection",t=>{const e=t.reason;e&&"string"==typeof e.message&&setTimeout(()=>m(e),250)})),void 0!==t&&"function"==typeof t.on&&f.default.isWorkerRuntime()&&(t.on("uncaughtException",t=>{setTimeout(()=>m(t),250)}),t.on("unhandledRejection",t=>{t&&"string"==typeof t.message&&setTimeout(()=>m(t),250)}))}).call(this,r(19))},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(2),i=r(6),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,r){var n=r(21),i=r(138);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(3);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n={};n[r(4)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(9),i=r(237);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},function(t,e,r){var n,i,o=r(2),a=r(90),s=o.process,u=s&&s.versions,f=u&&u.v8;f?i=(n=f.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\\/(\\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\\/(\\d+)/))&&(i=n[1]),t.exports=i&&+i},function(t,e,r){var n=r(22);t.exports=n("navigator","userAgent")||""},function(t,e){},function(t,e,r){var n=r(144),i=r(86).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){t.exports=r(263)},function(t,e,r){t.exports=r(266)},function(t,e,r){t.exports=r(275)},function(t,e,r){t.exports=r(281)},function(t,e,r){t.exports=r(284)},function(t,e,r){t.exports=r(302)},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof l?e:l,o=Object.create(i.prototype),a=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return S()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function l(){}function h(){}function d(){}var p={};p[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(p=g);var y=d.prototype=l.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return c}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=y.constructor=d,d.constructor=h,h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new m(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){t.exports=r(307)},function(t,e,r){var n=r(52);t.exports=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:n(t,i,e[i],r);return t}},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(318),i=r(322);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=n(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(179).default,i=r(107);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){t.exports=r(326)},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(178),i=r(328);function o(e){return t.exports=o=n?i:function(t){return t.__proto__||i(t)},t.exports.default=t.exports,t.exports.__esModule=!0,o(e)}t.exports=o,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function i(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var o={},a={};function s(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=a[t])?n:(r=f(t,(0|t)<0?-1:0,!0),i&&(a[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(r=f(t,t<0?-1:0,!1),i&&(o[t]=r),r)}function u(t,e){if(isNaN(t))return e?b:y;if(e){if(t<0)return b;if(t>=p)return k}else{if(t<=-v)return E;if(t+1>=v)return x}return t<0?u(-t,e).neg():f(t%d|0,t/d|0,e)}function f(t,e,r){return new n(t,e,r)}n.fromInt=s,n.fromNumber=u,n.fromBits=f;var c=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return y;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).neg();for(var i=u(c(r,8)),o=y,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+s),r);if(s<8){var h=u(c(r,s));o=o.mul(h).add(u(f))}else o=(o=o.mul(i)).add(u(f))}return o.unsigned=e,o}function h(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?l(t,e):f(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=l,n.fromValue=h;var d=4294967296,p=d*d,v=p/2,g=s(1<<24),y=s(0);n.ZERO=y;var b=s(0,!0);n.UZERO=b;var m=s(1);n.ONE=m;var w=s(1,!0);n.UONE=w;var _=s(-1);n.NEG_ONE=_;var x=f(-1,2147483647,!1);n.MAX_VALUE=x;var k=f(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var E=f(0,-2147483648,!1);n.MIN_VALUE=E;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},S.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=u(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=u(c(t,6),this.unsigned),o=this,a="";;){var s=o.div(i),f=(o.sub(s.mul(i)).toInt()>>>0).toString(t);if((o=s).isZero())return f+a;for(;f.length<6;)f="0"+f;a=""+f+a}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(t){return i(t)||(t=h(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},S.eq=S.equals,S.notEquals=function(t){return!this.eq(t)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(t){return this.comp(t)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(t){return this.comp(t)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(t){return this.comp(t)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(t){return this.comp(t)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(t){if(i(t)||(t=h(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(m)},S.neg=S.negate,S.add=function(t){i(t)||(t=h(t));var e=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,c=0,l=0,d=0,p=0;return d+=(p+=o+(65535&t.low))>>>16,l+=(d+=n+u)>>>16,c+=(l+=r+s)>>>16,c+=e+a,f((d&=65535)<<16|(p&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},S.subtract=function(t){return i(t)||(t=h(t)),this.add(t.neg())},S.sub=S.subtract,S.multiply=function(t){if(this.isZero())return y;if(i(t)||(t=h(t)),r)return f(r.mul(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned);if(t.isZero())return y;if(this.eq(E))return t.isOdd()?E:y;if(t.eq(E))return this.isOdd()?E:y;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(g)&&t.lt(g))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,s=t.high>>>16,c=65535&t.high,l=t.low>>>16,d=65535&t.low,p=0,v=0,b=0,m=0;return b+=(m+=a*d)>>>16,v+=(b+=o*d)>>>16,b&=65535,v+=(b+=a*l)>>>16,p+=(v+=n*d)>>>16,v&=65535,p+=(v+=o*l)>>>16,v&=65535,p+=(v+=a*c)>>>16,p+=e*d+n*l+o*c+a*s,f((b&=65535)<<16|(m&=65535),(p&=65535)<<16|(v&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(t){if(i(t)||(t=h(t)),t.isZero())throw Error("division by zero");var e,n,o;if(r)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?f((this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:y;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return b;if(t.gt(this.shru(1)))return w;o=b}else{if(this.eq(E))return t.eq(m)||t.eq(_)?E:t.eq(E)?m:(e=this.shr(1).div(t).shl(1)).eq(y)?t.isNegative()?m:_:(n=this.sub(t.mul(e)),o=e.add(n.div(t)));if(t.eq(E))return this.unsigned?b:y;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=y}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(e)/Math.LN2),s=a<=48?1:c(2,a-48),l=u(e),d=l.mul(t);d.isNegative()||d.gt(n);)d=(l=u(e-=s,this.unsigned)).mul(t);l.isZero()&&(l=m),o=o.add(l),n=n.sub(d)}return o},S.div=S.divide,S.modulo=function(t){return i(t)||(t=h(t)),r?f((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return f(~this.low,~this.high,this.unsigned)},S.and=function(t){return i(t)||(t=h(t)),f(this.low&t.low,this.high&t.high,this.unsigned)},S.or=function(t){return i(t)||(t=h(t)),f(this.low|t.low,this.high|t.high,this.unsigned)},S.xor=function(t){return i(t)||(t=h(t)),f(this.low^t.low,this.high^t.high,this.unsigned)},S.shiftLeft=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):f(0,this.low<<t-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?f(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):f(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(t){if(i(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?f(this.low>>>t|e<<32-t,e>>>t,this.unsigned):f(32===t?e:e>>>t-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},S.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},S.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.timeout=function(t){return new l.default((function(e){return(0,c.default)(e,t)}))},e.longToNumber=function(t){if(t.greaterThan(f.default)||t.lessThan(u.default))throw new Error("integer overflow");return t.toNumber()},e.checkAbortSignal=h,e.abortBreakPoint=function(t){return d.apply(this,arguments)},e.canMergeBlocks=p,e.makeOpts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"aborted"in t?{signal:t}:t},e.optimizeChunks=function(t,e){var r=[],n=null;if(0===t.length)return t;return(0,a.default)(t).call(t,(function(t,e){var r=t.minv.blockPosition-e.minv.blockPosition;return 0!==r?r:t.minv.dataPosition-e.minv.dataPosition})),(0,o.default)(t).call(t,(function(t){(!e||t.maxv.compareTo(e)>0)&&(null===n?(r.push(t),n=t):p(n,t)?t.maxv.compareTo(n.maxv)>0&&(n.maxv=t.maxv):(r.push(t),n=t))})),r};var i=n(r(43)),o=n(r(32)),a=n(r(186)),s=n(r(44)),u=n(r(344)),f=n(r(348)),c=n(r(352)),l=n(r(112));function h(t){if(t&&t.aborted){if("undefined"!=typeof DOMException)throw new DOMException("aborted","AbortError");var e=new Error("aborted");throw e.code="ERR_ABORTED",e}}function d(){return(d=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.resolve();case 2:h(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}},function(t,e,r){t.exports=r(355)},function(t,e,r){var n=r(50),i=r(6),o=r(11),a=r(15).f,s=r(64),u=r(360),f=s("meta"),c=0,l=Object.isExtensible||function(){return!0},h=function(t){a(t,f,{value:{objectID:"O"+ ++c,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,f)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[f].objectID},getWeakData:function(t,e){if(!o(t,f)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[f].weakData},onFreeze:function(t){return u&&d.REQUIRED&&l(t)&&!o(t,f)&&h(t),t}};n[f]=!0},function(t,e,r){"use strict";var n=r(378),i=r(189),o=i.unzip,a=i.unzipChunk,s=i.unzipChunkSlice;t.exports={BgzfFilehandle:n,unzip:o,unzipChunk:a,unzipChunkSlice:s}},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(){void 0!==o&&t.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==e&&(o=function(r){t.removeListener(e,i),n(r)},t.once("error",o)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){if("function"!=typeof t)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,r,n){var i,o,a,s;if(f(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):g(i,i.length)}function v(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError(\'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received \'+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError(\'The value of "n" is out of range. It must be a non-negative number. Received \'+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var f=u.length,c=g(u,f);for(r=0;r<f;++r)o(c[r],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){return f(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return f(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,o,a;if(f(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){(e=t.exports=r(190)).Stream=e,e.Readable=e,e.Writable=r(118),e.Duplex=r(34),e.Transform=r(194),e.PassThrough=r(394)},function(t,e,r){var n=r(7),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e,n,i){var o=r(78);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;b.WritableState=y;var f=Object.create(r(60));f.inherits=r(48);var c={deprecate:r(392)},l=r(191),h=r(117).Buffer,d=i.Uint8Array||function(){};var p,v=r(192);function g(){}function y(t,e){s=s||r(34),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,f=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(f||0===f)?f:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),E(t,e))}(t,r,n,e,i);else{var a=x(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?u(w,t,r,a,i):w(t,r,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(t){if(s=s||r(34),!(p.call(b,this)||this instanceof s))return new b(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function m(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),E(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,l=r.callback;if(m(t,e,!1,e.objectMode?1:f.length,f,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var r=x(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}f.inherits(b,l),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===b&&(t&&t._writableState instanceof y)}})):p=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=t,h.isBuffer(n)||n instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,t,r))&&(i.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,s,n,i,o);return u}(this,i,s,t,e,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(19),r(390).setImmediate,r(18))},function(t,e,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){t.exports=r(100)},function(t,e){function r(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o}));var n=r(80);const i=n.expose,o=(n.registerSerializer,n.Transfer)},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.deserialize=e.registerSerializer=void 0;const n=r(225);let i=n.DefaultSerializer;e.registerSerializer=function(t){i=n.extendSerializer(i,t)},e.deserialize=function(t){return i.deserialize(t)},e.serialize=function(t){return i.serialize(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transfer=e.isTransferDescriptor=void 0;const n=r(226);e.isTransferDescriptor=function(t){return t&&"object"==typeof t&&t[n.$transferable]},e.Transfer=function(t,e){if(!e){if(!(r=t)||"object"!=typeof r)throw Error();e=[t]}var r;return{[n.$transferable]:!0,send:t,transferables:e}}},function(t,e,r){r(230);var n=r(1).Object,i=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(i.sham=!0)},function(t,e,r){var n=r(8),i=r(3),o=r(82);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(3),i=/#|\\.prototype\\./,o=function(t,e){var r=s[a(t)];return r==f||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",f=o.POLYFILL="P";t.exports=o},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(135)),o=n(r(148)),a=n(r(55)),s=n(r(150)),u=n(r(157)),f=n(r(10)),c=n(r(94)),l=n(r(95)),h=n(r(32)),d=n(r(96)),p=n(r(56)),v=n(r(97)),g=n(r(73)),y=n(r(98)),b=n(r(74)),m=n(r(25)),w=n(r(57)),_=n(r(43)),x=n(r(44)),k=n(r(59)),E=n(r(26)),S=n(r(27)),A=n(r(104)),O=n(r(105)),T=n(r(108)),R=n(r(109)),L=r(180),M=n(r(181)),P=n(r(182)),I=r(111);function j(t,e){var r;if(void 0===s.default||null==(0,a.default)(t)){if((0,o.default)(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return C(t,e);var n=(0,k.default)(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return(0,u.default)(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,f=function(){};return{s:f,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,h=!1;return{s:function(){r=(0,i.default)(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){h=!0,c=t},f:function(){try{l||null==r.return||r.return()}finally{if(h)throw c}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B(t,e){var r=(0,g.default)(t);if(v.default){var n=(0,v.default)(t);e&&(n=(0,p.default)(n).call(n,(function(e){return(0,d.default)(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r,n=null!=arguments[e]?arguments[e]:{};if(e%2)(0,h.default)(r=B(Object(n),!0)).call(r,(function(e){(0,m.default)(t,e,n[e])}));else if(l.default)(0,c.default)(t,(0,l.default)(n));else{var i;(0,h.default)(i=B(Object(n))).call(i,(function(e){(0,f.default)(t,e,(0,d.default)(n,e))}))}}return t}function z(t){var e=function(){if("undefined"==typeof Reflect||!y.default)return!1;if(y.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,y.default)(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,T.default)(t);if(e){var i=(0,T.default)(this).constructor;r=(0,y.default)(n,arguments,i)}else r=n.apply(this,arguments);return(0,O.default)(this,r)}}function F(t,e){return t-t%e}function U(t,e){return t-t%e+e}var D=function(t){(0,A.default)(a,t);var e,r,n,i,o=z(a);function a(){return(0,E.default)(this,a),o.apply(this,arguments)}return(0,S.default)(a,[{key:"parsePseudoBin",value:function(t,e){return{lineCount:(0,I.longToNumber)(R.default.fromBytesLE((0,k.default)(Array.prototype).call(t,e+16,e+24),!0))}}},{key:"lineCount",value:(i=(0,x.default)(_.default.mark((function t(e){var r,n,i,o,a=arguments;return _.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,this.parse(r);case 3:if(n=t.sent,i=n.indices[e]){t.next=7;break}return t.abrupt("return",-1);case 7:return o=i.stats||{},t.abrupt("return",void 0===o.lineCount?-1:o.lineCount);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"_parse",value:(n=(0,x.default)(_.default.mark((function t(){var e,r,n,i,o,a,s,u,f,c,l,h,d,p,v,g,y,b,m,w=arguments;return _.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=w.length>0&&void 0!==w[0]?w[0]:{},r={bai:!0,maxBlockSize:65536},t.next=4,this.filehandle.readFile(e);case 4:if(21578050===(n=t.sent).readUInt32LE(0)){t.next=7;break}throw new Error("Not a BAI file");case 7:r.refCount=n.readInt32LE(4),i=37449,r.indices=new Array(r.refCount),o=8,a=0;case 13:if(!(a<r.refCount)){t.next=50;break}return t.next=16,(0,I.abortBreakPoint)(e.signal);case 16:s=n.readInt32LE(o),u=void 0,o+=4,f={},c=0;case 21:if(!(c<s)){t.next=42;break}if(l=n.readUInt32LE(o),o+=4,l!==i+1){t.next=30;break}o+=4,u=this.parsePseudoBin(n,o),o+=32,t.next=39;break;case 30:if(!(l>i+1)){t.next=34;break}throw new Error("bai index contains too many bins, please use CSI");case 34:for(h=n.readInt32LE(o),o+=4,d=new Array(h),p=0;p<h;p+=1)v=(0,L.fromBytes)(n,o),g=(0,L.fromBytes)(n,o+8),o+=16,this._findFirstData(r,v),d[p]=new M.default(v,g,l);f[l]=d;case 39:c+=1,t.next=21;break;case 42:for(y=n.readInt32LE(o),o+=4,b=new Array(y),m=0;m<y;m+=1)b[m]=(0,L.fromBytes)(n,o),o+=8,this._findFirstData(r,b[m]);r.indices[a]={binIndex:f,linearIndex:b,stats:u};case 47:a+=1,t.next=13;break;case 50:return t.abrupt("return",r);case 51:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"indexCov",value:(r=(0,x.default)(_.default.mark((function t(e,r,n){var i,o,a,s,u,f,c,l,h,d,p,v,g,y,b,m=arguments;return _.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=m.length>3&&void 0!==m[3]?m[3]:{},o=16384,a=void 0!==r,t.next=5,this.parse(i);case 5:if(s=t.sent,u=s.indices[e]){t.next=9;break}return t.abrupt("return",[]);case 9:if(f=u.linearIndex,c=void 0===f?[]:f,l=u.stats,c.length){t.next=12;break}return t.abrupt("return",[]);case 12:if(h=void 0!==n?U(n,o):(c.length-1)*o,d=void 0!==r?F(r,o):0,p=new Array(a?(h-d)/o:c.length-1),v=c[c.length-1].blockPosition,!(h>(c.length-1)*o)){t.next=18;break}throw new Error("query outside of range of linear index");case 18:for(g=c[d/o].blockPosition,y=d/o,b=0;y<h/o;y++,b++)p[b]={score:c[y+1].blockPosition-g,start:y*o,end:y*o+o},g=c[y+1].blockPosition;return t.abrupt("return",(0,w.default)(p).call(p,(function(t){return N(N({},t),{},{score:t.score*l.lineCount/v})})));case 21:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"reg2bins",value:function(t,e){return[[0,0],[1+(t>>26),1+((e-=1)>>26)],[9+(t>>23),9+(e>>23)],[73+(t>>20),73+(e>>20)],[585+(t>>17),585+(e>>17)],[4681+(t>>14),4681+(e>>14)]]}},{key:"blocksForRange",value:(e=(0,x.default)(_.default.mark((function t(e,r,n){var i,o,a,s,u,f,c,l,h,d,p,v,g,y,m,w,x,k,E,S=arguments;return _.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=S.length>3&&void 0!==S[3]?S[3]:{},r<0&&(r=0),t.next=4,this.parse(i);case 4:if(o=t.sent){t.next=7;break}return t.abrupt("return",[]);case 7:if(a=o.indices[e]){t.next=10;break}return t.abrupt("return",[]);case 10:s=this.reg2bins(r,n),u=[],f=j(s);try{for(f.s();!(c=f.n()).done;)for(l=(0,b.default)(c.value,2),h=l[0],d=l[1],p=h;p<=d;p++)if(a.binIndex[p])for(v=a.binIndex[p],g=0;g<v.length;++g)u.push(new M.default(v[g].minv,v[g].maxv,p))}catch(t){f.e(t)}finally{f.f()}for(y=a.linearIndex.length,m=null,w=Math.min(r>>14,y-1),x=Math.min(n>>14,y-1),k=w;k<=x;++k)(E=a.linearIndex[k])&&(!m||E.compareTo(m)<0)&&(m=E);return t.abrupt("return",(0,I.optimizeChunks)(u,m));case 20:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})}]),a}(P.default);e.default=D},function(t,e,r){t.exports=r(231)},function(t,e,r){var n=r(2),i=r(137),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,r){var n=r(138),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n=r(2),i=r(234),o=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,r){"use strict";var n=r(0),i=r(235),o=r(65),a=r(88),s=r(31),u=r(14),f=r(52),c=r(4),l=r(21),h=r(39),d=r(140),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),y=function(){return this};t.exports=function(t,e,r,c,d,b,m){i(r,e,c);var w,_,x,k=function(t){if(t===d&&T)return T;if(!v&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},E=e+" Iterator",S=!1,A=t.prototype,O=A[g]||A["@@iterator"]||d&&A[d],T=!v&&O||k(d),R="Array"==e&&A.entries||O;if(R&&(w=o(R.call(new t)),p!==Object.prototype&&w.next&&(l||o(w)===p||(a?a(w,p):"function"!=typeof w[g]&&u(w,g,y)),s(w,E,!0,!0),l&&(h[E]=y))),"values"==d&&O&&"values"!==O.name&&(S=!0,T=function(){return O.call(this)}),l&&!m||A[g]===T||u(A,g,T),h[e]=T,d)if(_={values:k("values"),keys:b?T:k("keys"),entries:k("entries")},m)for(x in _)(v||S||!(x in A))&&f(A,x,_[x]);else n({target:e,proto:!0,forced:v||S},_);return _}},function(t,e,r){"use strict";var n,i,o,a=r(65),s=r(14),u=r(11),f=r(4),c=r(21),l=f("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):h=!0),null==n&&(n={}),c||u(n,l)||s(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(t,e,r){var n=r(3);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(84);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(8),i=r(15),o=r(9),a=r(66);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=n.length,u=0;s>u;)i.f(t,r=n[u++],e[r]);return t}},function(t,e,r){var n=r(11),i=r(20),o=r(145).indexOf,a=r(50);t.exports=function(t,e){var r,s=i(t),u=0,f=[];for(r in s)!n(a,r)&&n(s,r)&&f.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(f,r)||f.push(r));return f}},function(t,e,r){var n=r(20),i=r(24),o=r(146),a=function(t){return function(e,r,a){var s,u=n(e),f=i(u.length),c=o(a,f);if(t&&r!=r){for(;f>c;)if((s=u[c++])!=s)return!0}else for(;f>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(85),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},function(t,e,r){var n=r(22);t.exports=n("document","documentElement")},function(t,e,r){t.exports=r(241)},function(t,e,r){r(242);var n=r(1);t.exports=n.Array.isArray},function(t,e,r){t.exports=r(244)},function(t,e,r){r(152),r(91),r(154),r(155),r(246),r(247),r(248),r(156),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259);var n=r(1);t.exports=n.Symbol},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(54),a=r(6),s=r(16),u=r(24),f=r(69),c=r(153),l=r(70),h=r(4),d=r(89),p=h("isConcatSpreadable"),v=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=l("concat"),y=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!v||!g},{concat:function(t){var e,r,n,i,o,a=s(this),l=c(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(y(o=-1===e?a:arguments[e])){if(h+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,h++)r in o&&f(l,h,o[r])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");f(l,h++,o)}return l.length=h,l}})},function(t,e,r){var n=r(6),i=r(54),o=r(4)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(22),a=r(21),s=r(8),u=r(84),f=r(142),c=r(3),l=r(11),h=r(54),d=r(6),p=r(9),v=r(16),g=r(20),y=r(62),b=r(36),m=r(51),w=r(66),_=r(92),x=r(245),k=r(93),E=r(35),S=r(15),A=r(81),O=r(14),T=r(52),R=r(83),L=r(63),M=r(50),P=r(64),I=r(4),j=r(71),C=r(5),B=r(31),N=r(23),z=r(40).forEach,F=L("hidden"),U=I("toPrimitive"),D=N.set,Z=N.getterFor("Symbol"),q=Object.prototype,H=i.Symbol,W=o("JSON","stringify"),Y=E.f,G=S.f,$=x.f,V=A.f,K=R("symbols"),X=R("op-symbols"),J=R("string-to-symbol-registry"),Q=R("symbol-to-string-registry"),tt=R("wks"),et=i.QObject,rt=!et||!et.prototype||!et.prototype.findChild,nt=s&&c((function(){return 7!=m(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Y(q,e);n&&delete q[e],G(t,e,r),n&&t!==q&&G(q,e,n)}:G,it=function(t,e){var r=K[t]=m(H.prototype);return D(r,{type:"Symbol",tag:t,description:e}),s||(r.description=e),r},ot=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},at=function(t,e,r){t===q&&at(X,e,r),p(t);var n=y(e,!0);return p(r),l(K,n)?(r.enumerable?(l(t,F)&&t[F][n]&&(t[F][n]=!1),r=m(r,{enumerable:b(0,!1)})):(l(t,F)||G(t,F,b(1,{})),t[F][n]=!0),nt(t,n,r)):G(t,n,r)},st=function(t,e){p(t);var r=g(e),n=w(r).concat(lt(r));return z(n,(function(e){s&&!ut.call(r,e)||at(t,e,r[e])})),t},ut=function(t){var e=y(t,!0),r=V.call(this,e);return!(this===q&&l(K,e)&&!l(X,e))&&(!(r||!l(this,e)||!l(K,e)||l(this,F)&&this[F][e])||r)},ft=function(t,e){var r=g(t),n=y(e,!0);if(r!==q||!l(K,n)||l(X,n)){var i=Y(r,n);return!i||!l(K,n)||l(r,F)&&r[F][n]||(i.enumerable=!0),i}},ct=function(t){var e=$(g(t)),r=[];return z(e,(function(t){l(K,t)||l(M,t)||r.push(t)})),r},lt=function(t){var e=t===q,r=$(e?X:g(t)),n=[];return z(r,(function(t){!l(K,t)||e&&!l(q,t)||n.push(K[t])})),n};(u||(T((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),r=function(t){this===q&&r.call(X,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),nt(this,e,b(1,t))};return s&&rt&&nt(q,e,{configurable:!0,set:r}),it(e,t)}).prototype,"toString",(function(){return Z(this).tag})),T(H,"withoutSetter",(function(t){return it(P(t),t)})),A.f=ut,S.f=at,E.f=ft,_.f=x.f=ct,k.f=lt,j.f=function(t){return it(I(t),t)},s&&(G(H.prototype,"description",{configurable:!0,get:function(){return Z(this).description}}),a||T(q,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),z(w(tt),(function(t){C(t)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(J,e))return J[e];var r=H(e);return J[e]=r,Q[r]=e,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(Q,t))return Q[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?m(t):st(m(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct,getOwnPropertySymbols:lt}),n({target:"Object",stat:!0,forced:c((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(v(t))}}),W)&&n({target:"JSON",stat:!0,forced:!u||c((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),i[1]=e,W.apply(null,i)}});H.prototype[U]||O(H.prototype,U,H.prototype.valueOf),B(H,"Symbol"),M[F]=!0},function(t,e,r){r(5)("asyncIterator")},function(t,e,r){r(5)("iterator")},function(t,e,r){t.exports=r(260)},function(t,e,r){r(53),r(261);var n=r(1);t.exports=n.Array.from},function(t,e,r){var n=r(9);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(4),i=r(39),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,r){var n=r(4)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},function(t,e,r){r(276);var n=r(1).Object,i=t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)};n.getOwnPropertyDescriptor.sham&&(i.sham=!0)},function(t,e,r){r(154);var n=r(1);t.exports=n.Object.getOwnPropertySymbols},function(t,e,r){r(283);var n=r(1);t.exports=n.Object.keys},function(t,e,r){"use strict";var n=r(12),i=r(6),o=[].slice,a={},s=function(t,e,r){if(!(e in a)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(e,n.length,n):e.apply(t,n)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,r){var n=r(287);t.exports=function(t){if(n(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(296),i=r(169),o=r(301);t.exports=function(t,e){var r;if(t){if("string"==typeof t)return o(t,e);var a=n(r=Object.prototype.toString.call(t)).call(r,8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?i(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(298),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?n:e}},function(t,e,r){t.exports=r(300)},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){r(91),r(53),r(38),r(308),r(177),r(312);var n=r(1);t.exports=n.Promise},function(t,e,r){var n=r(2);t.exports=n.Promise},function(t,e,r){var n=r(9),i=r(12),o=r(4)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},function(t,e,r){var n,i,o,a=r(2),s=r(3),u=r(30),f=r(37),c=r(147),l=r(82),h=r(175),d=a.location,p=a.setImmediate,v=a.clearImmediate,g=a.process,y=a.MessageChannel,b=a.Dispatch,m=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){_(t)}},k=function(t){_(t.data)},E=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(m),m},v=function(t){delete w[t]},"process"==u(g)?n=function(t){g.nextTick(x(t))}:b&&b.now?n=function(t){b.now(x(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=k,n=f(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)||"file:"===d.protocol?n="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),_(t)}}:function(t){setTimeout(x(t),0)}:(n=E,a.addEventListener("message",k,!1))),t.exports={set:p,clear:v}},function(t,e,r){var n=r(90);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,r){var n=r(9),i=r(6),o=r(58);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";var n=r(0),i=r(12),o=r(58),a=r(75),s=r(33);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=o.f(e),n=r.resolve,u=r.reject,f=a((function(){var r=i(e.resolve),o=[],a=0,u=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),u++,r.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--u||n(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--u||n(o))}))})),--u||n(o)}));return f.error&&u(f.value),r.promise}})},function(t,e,r){t.exports=r(323)},function(t,e,r){var n=r(42),i=r(106);function o(e){return"function"==typeof n&&"symbol"==typeof i?(t.exports=o=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=o=function(t){return t&&"function"==typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),o(e)}t.exports=o,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.fromBytes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r)throw new Error("big-endian virtual file offsets not implemented");return new u(1099511627776*t[e+7]+4294967296*t[e+6]+16777216*t[e+5]+65536*t[e+4]+256*t[e+3]+t[e+2],t[e+1]<<8|t[e])},e.default=void 0;var i=n(r(45)),o=n(r(26)),a=n(r(27)),s=n(r(25)),u=function(){function t(e,r){(0,o.default)(this,t),(0,s.default)(this,"blockPosition",void 0),(0,s.default)(this,"dataPosition",void 0),this.blockPosition=e,this.dataPosition=r}return(0,a.default)(t,[{key:"toString",value:function(){var t;return(0,i.default)(t="".concat(this.blockPosition,":")).call(t,this.dataPosition)}},{key:"compareTo",value:function(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}}],[{key:"min",value:function(){for(var t,e=0,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(;!t;e+=1)t=n[e];for(;e<n.length;e+=1)t.compareTo(n[e])>0&&(t=n[e]);return t}}]),t}();e.default=u},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(45)),o=n(r(26)),a=n(r(27)),s=n(r(25)),u=function(){function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,o.default)(this,t),(0,s.default)(this,"minv",void 0),(0,s.default)(this,"maxv",void 0),(0,s.default)(this,"bin",void 0),(0,s.default)(this,"_fetchedSize",void 0),this.minv=e,this.maxv=r,this.bin=n,this._fetchedSize=i}return(0,a.default)(t,[{key:"toUniqueString",value:function(){var t,e,r;return(0,i.default)(t=(0,i.default)(e=(0,i.default)(r="".concat(this.minv,"..")).call(r,this.maxv," (bin ")).call(e,this.bin,", fetchedSize ")).call(t,this.fetchedSize(),")")}},{key:"toString",value:function(){return this.toUniqueString()}},{key:"compareTo",value:function(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}},{key:"fetchedSize",value:function(){return void 0!==this._fetchedSize?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}]),t}();e.default=u},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(10)),o=n(r(94)),a=n(r(95)),s=n(r(32)),u=n(r(96)),f=n(r(56)),c=n(r(97)),l=n(r(73)),h=n(r(43)),d=n(r(44)),p=n(r(26)),v=n(r(27)),g=n(r(25)),y=n(r(183)),b=n(r(185));function m(t,e){var r=(0,l.default)(t);if(c.default){var n=(0,c.default)(t);e&&(n=(0,f.default)(n).call(n,(function(e){return(0,u.default)(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r,n=null!=arguments[e]?arguments[e]:{};if(e%2)(0,s.default)(r=m(Object(n),!0)).call(r,(function(e){(0,g.default)(t,e,n[e])}));else if(a.default)(0,o.default)(t,(0,a.default)(n));else{var f;(0,s.default)(f=m(Object(n))).call(f,(function(e){(0,i.default)(t,e,(0,u.default)(n,e))}))}}return t}var _=function(){function t(e){var r=e.filehandle,n=e.renameRefSeq,i=void 0===n?function(t){return t}:n;(0,p.default)(this,t),(0,g.default)(this,"filehandle",void 0),(0,g.default)(this,"renameRefSeq",void 0),(0,g.default)(this,"_parseCache",void 0),this.filehandle=r,this.renameRefSeq=i}var e,r;return(0,v.default)(t,[{key:"_findFirstData",value:function(t,e){var r=t.firstDataLine;t.firstDataLine=r?r.compareTo(e)>0?e:r:e}},{key:"parse",value:(r=(0,d.default)(h.default.mark((function t(){var e,r=this,n=arguments;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},this._parseCache||(this._parseCache=new y.default({cache:new b.default({maxSize:1}),fill:function(t,e){return r._parse(w(w({},t),{},{signal:e}))}})),t.abrupt("return",this._parseCache.get("index",e,e.signal));case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"hasRefSeq",value:(e=(0,d.default)(h.default.mark((function t(e){var r,n=arguments;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.next=3,this.parse(r);case 3:if(t.t1=e,t.t0=t.sent.indices[t.t1],t.t0){t.next=7;break}t.t0={};case 7:return t.abrupt("return",!!t.t0.binIndex);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();e.default=_},function(t,e,r){"use strict";var n=r(28);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(335)).default;e.default=i},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.AbortSignal=e.AbortController=void 0;var n=r(337),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")},o=void 0===i().AbortController?n.AbortController:i().AbortController;e.AbortController=o;var a=void 0===i().AbortController?n.AbortSignal:i().AbortSignal;e.AbortSignal=a}).call(this,r(18))},function(t,e,r){"use strict";class n{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const e=this.oldCache.get(t);return this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){return this.cache.has(t)?this.cache.get(t):this.oldCache.has(t)?this.oldCache.get(t):void 0}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}}t.exports=n},function(t,e,r){t.exports=r(340)},function(t,e,r){"use strict";var n=r(188),i=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(135)),a=i(r(148)),s=i(r(55)),u=i(r(150)),f=i(r(157)),c=i(r(98)),l=i(r(45)),h=i(r(74)),d=i(r(59)),p=i(r(373)),v=i(r(43)),g=i(r(44)),y=i(r(26)),b=i(r(27)),m=i(r(107)),w=i(r(104)),_=i(r(105)),x=i(r(108)),k=i(r(25)),E=i(r(109)),S=r(114),A=n(r(180)),O=i(r(181)),T=r(111),R=i(r(182));function L(t,e){var r;if(void 0===u.default||null==(0,s.default)(t)){if((0,a.default)(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return M(t,e);var n=(0,d.default)(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return(0,f.default)(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,h=!1;return{s:function(){r=(0,o.default)(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){h=!0,c=t},f:function(){try{l||null==r.return||r.return()}finally{if(h)throw c}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P(t){var e=function(){if("undefined"==typeof Reflect||!c.default)return!1;if(c.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,c.default)(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,x.default)(t);if(e){var i=(0,x.default)(this).constructor;r=(0,c.default)(n,arguments,i)}else r=n.apply(this,arguments);return(0,_.default)(this,r)}}function I(t,e){return Math.floor(t/Math.pow(2,e))}var j=function(t){(0,w.default)(a,t);var e,r,n,i,o=P(a);function a(t){var e;return(0,y.default)(this,a),e=o.call(this,t),(0,k.default)((0,m.default)(e),"maxBinNumber",void 0),(0,k.default)((0,m.default)(e),"depth",void 0),(0,k.default)((0,m.default)(e),"minShift",void 0),e.maxBinNumber=0,e.depth=0,e.minShift=0,e}return(0,b.default)(a,[{key:"lineCount",value:(i=(0,g.default)(v.default.mark((function t(e){var r,n;return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.parse();case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",-1);case 5:if(r.indices[e]){t.next=8;break}return t.abrupt("return",-1);case 8:if(!(n=r.indices[e].stats)){t.next=11;break}return t.abrupt("return",n.lineCount);case 11:return t.abrupt("return",-1);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"indexCov",value:(n=(0,g.default)(v.default.mark((function t(){return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"parseAuxData",value:function(t,e,r){if(r<30)return{};var n={};if(n.formatFlags=t.readInt32LE(e),n.coordinateType=65536&n.formatFlags?"zero-based-half-open":"1-based-closed",n.format={0:"generic",1:"SAM",2:"VCF"}[15&n.formatFlags],!n.format)throw new Error("invalid Tabix preset format flags ".concat(n.formatFlags));n.columnNumbers={ref:t.readInt32LE(e+4),start:t.readInt32LE(e+8),end:t.readInt32LE(e+12)},n.metaValue=t.readInt32LE(e+16),n.metaChar=n.metaValue?String.fromCharCode(n.metaValue):"",n.skipLines=t.readInt32LE(e+20);var i=t.readInt32LE(e+24);return(0,p.default)(n,this._parseNameBytes((0,d.default)(t).call(t,e+28,e+28+i))),n}},{key:"_parseNameBytes",value:function(t){for(var e=0,r=0,n=[],i={},o=0;o<t.length;o+=1)if(!t[o]){if(r<o){var a=t.toString("utf8",r,o);a=this.renameRefSeq(a),n[e]=a,i[a]=e}r=o+1,e+=1}return{refNameToId:i,refIdToName:n}}},{key:"_parse",value:(r=(0,g.default)(v.default.mark((function t(e){var r,n,i,o,a,s,u,f,c,l,h,d,g,y,b,m,w;return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={csi:!0,maxBlockSize:65536},t.next=3,this.filehandle.readFile(e);case 3:return n=t.sent,t.next=6,(0,S.unzip)(n);case 6:if(21582659!==(i=t.sent).readUInt32LE(0)){t.next=11;break}r.csiVersion=1,t.next=16;break;case 11:if(38359875!==i.readUInt32LE(0)){t.next=15;break}r.csiVersion=2,t.next=16;break;case 15:throw new Error("Not a CSI file");case 16:this.minShift=i.readInt32LE(4),this.depth=i.readInt32LE(8),this.maxBinNumber=((1<<3*(this.depth+1))-1)/7,(o=i.readInt32LE(12))&&(0,p.default)(r,this.parseAuxData(i,16,o)),r.refCount=i.readInt32LE(16+o),r.indices=new Array(r.refCount),a=16+o+4,s=0;case 25:if(!(s<r.refCount)){t.next=37;break}return t.next=28,(0,T.abortBreakPoint)(e.signal);case 28:for(u=i.readInt32LE(a),a+=4,f={},c=void 0,l=0;l<u;l+=1)if((h=i.readUInt32LE(a))>this.maxBinNumber)c=this.parsePseudoBin(i,a+4),a+=48;else{for(d=(0,A.fromBytes)(i,a+4),this._findFirstData(r,d),g=i.readInt32LE(a+12),a+=16,y=new Array(g),b=0;b<g;b+=1)m=(0,A.fromBytes)(i,a),w=(0,A.fromBytes)(i,a+8),a+=16,y[b]=new O.default(m,w,h);f[h]=y}r.indices[s]={binIndex:f,stats:c};case 34:s+=1,t.next=25;break;case 37:return t.abrupt("return",r);case 38:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"parsePseudoBin",value:function(t,e){return{lineCount:(0,T.longToNumber)(E.default.fromBytesLE((0,d.default)(Array.prototype).call(t,e+28,e+36),!0))}}},{key:"blocksForRange",value:(e=(0,g.default)(v.default.mark((function t(e,r,n){var i,o,a,s,u,f,c,l,d,p,g,y,b,m=arguments;return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=m.length>3&&void 0!==m[3]?m[3]:{},r<0&&(r=0),t.next=4,this.parse(i);case 4:if(o=t.sent){t.next=7;break}return t.abrupt("return",[]);case 7:if(a=o.indices[e]){t.next=10;break}return t.abrupt("return",[]);case 10:s=this.reg2bins(r,n),u=[],f=L(s);try{for(f.s();!(c=f.n()).done;)for(l=(0,h.default)(c.value,2),d=l[0],p=l[1],g=d;g<=p;g++)if(a.binIndex[g])for(y=a.binIndex[g],b=0;b<y.length;++b)u.push(new O.default(y[b].minv,y[b].maxv,g))}catch(t){f.e(t)}finally{f.f()}return t.abrupt("return",(0,T.optimizeChunks)(u,new A.default(0,0)));case 15:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})},{key:"reg2bins",value:function(t,e){(t-=1)<1&&(t=1),e>Math.pow(2,50)&&(e=Math.pow(2,34)),e-=1;for(var r,n=0,i=0,o=this.minShift+3*this.depth,a=[];n<=this.depth;o-=3,i+=(r=3*n,1*Math.pow(2,r)),n+=1){var s,u,f,c=i+I(t,o),h=i+I(e,o);if(h-c+a.length>this.maxBinNumber)throw new Error((0,l.default)(s=(0,l.default)(u=(0,l.default)(f="query ".concat(t,"-")).call(f,e," is too large for current binning scheme (shift ")).call(u,this.minShift,", depth ")).call(s,this.depth,"), try a smaller query or a coarser index binning scheme"));a.push([c,h])}return a}}]),a}(R.default);e.default=j},function(t,e,r){var n=r(179).default,i=r(356),o=r(99),a=r(371);function s(t){if("function"!=typeof i)return null;var e=new i,r=new i;return(s=function(t){return t?r:e})(t)}t.exports=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var i={},u=o&&a;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var c=u?a(t,f):null;c&&(c.get||c.set)?o(i,f,c):i[f]=t[f]}return i.default=t,r&&r.set(t,i),i},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";(function(e){var n=r(28),i=n(r(76)),o=n(r(77)),a=r(385),s=(0,r(201).promisify)(a.gunzip),u=r(406),f=u.Z_SYNC_FLUSH,c=u.Inflate;function l(t){return h.apply(this,arguments)}function h(){return(h=(0,o.default)(i.default.mark((function t(r){var n,o,a,s,u,l,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=0,a=0,s=[];case 4:if(l=r.slice(o),u=new c,n=u.strm,u.push(l,f),!u.err){t.next=11;break}throw new Error(u.msg);case 11:o+=n.next_in,s[a]=e.from(u.result),a+=1;case 14:if(n.avail_in){t.next=4;break}case 15:return h=e.concat(s),t.abrupt("return",h);case 19:if(t.prev=19,t.t0=t.catch(0),!t.t0.message.match(/incorrect header check/)){t.next=23;break}throw new Error("problem decompressing block: incorrect gzip header check");case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}function d(){return(d=(0,o.default)(i.default.mark((function t(r){var n,o,a,s,u,l,h,d,p,v;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=0,a=0,s=[],u=[],l=[];case 6:if(h=r.slice(o),d=new c,n=d.strm,d.push(h,f),!d.err){t.next=12;break}throw new Error(d.msg);case 12:p=e.from(d.result),s.push(p),u.push(o),l.push(a),o+=n.next_in,a+=p.length;case 18:if(n.avail_in){t.next=6;break}case 19:return v=e.concat(s),t.abrupt("return",{buffer:v,cpositions:u,dpositions:l});case 23:if(t.prev=23,t.t0=t.catch(0),!t.t0.message.match(/incorrect header check/)){t.next=27;break}throw new Error("problem decompressing block: incorrect gzip header check");case 27:case"end":return t.stop()}}),t,null,[[0,23]])})))).apply(this,arguments)}function p(){return(p=(0,o.default)(i.default.mark((function t(r,n){var o,a,s,u,l,h,d,p,v,g,y,b;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=n.minv.blockPosition,s=n.minv.dataPosition,u=[],l=[],h=[];case 6:if(d=r.slice(a-n.minv.blockPosition),p=new c,o=p.strm,p.push(d,f),!p.err){t.next=12;break}throw new Error(p.msg);case 12:if(v=e.from(p.result),u.push(v),g=v.length,l.push(a),h.push(s),1===u.length&&n.minv.dataPosition&&(u[0]=u[0].slice(n.minv.dataPosition),g=u[0].length),y=a,a+=o.next_in,s+=g,!(y>=n.maxv.blockPosition)){t.next=26;break}return u[u.length-1]=u[u.length-1].slice(0,n.maxv.blockPosition===n.minv.blockPosition?n.maxv.dataPosition-n.minv.dataPosition+1:n.maxv.dataPosition+1),l.push(a),h.push(s),t.abrupt("break",27);case 26:if(o.avail_in){t.next=6;break}case 27:return b=e.concat(u),t.abrupt("return",{buffer:b,cpositions:l,dpositions:h});case 31:if(t.prev=31,t.t0=t.catch(0),!t.t0.message.match(/incorrect header check/)){t.next=35;break}throw new Error("problem decompressing block: incorrect gzip header check");case 35:case"end":return t.stop()}}),t,null,[[0,31]])})))).apply(this,arguments)}t.exports={unzip:l,unzipChunk:function(t){return d.apply(this,arguments)},unzipChunkSlice:function(t,e){return p.apply(this,arguments)},nodeUnzip:function(t){return s(t,{finishFlush:(a.constants||a).Z_SYNC_FLUSH})},pakoUnzip:l}}).call(this,r(7).Buffer)},function(t,e,r){"use strict";(function(e,n){var i=r(78);t.exports=m;var o,a=r(128);m.ReadableState=b;r(115).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=r(191),f=r(117).Buffer,c=e.Uint8Array||function(){};var l=Object.create(r(60));l.inherits=r(48);var h=r(387),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,v=r(388),g=r(192);l.inherits(m,u);var y=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var n=e instanceof(o=o||r(34));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(193).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(o=o||r(34),!(this instanceof m))return new m(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,k(t)}(t,a)):(i||(o=function(t,e){var r;n=e,f.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===f.prototype||(e=function(t){return f.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):S(t,a)):_(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&k(t)),S(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=f.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},m.prototype.unshift=function(t){return w(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=r(193).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){d("emit readable"),t.emit("readable"),R(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function O(t){d("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=f.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function M(t){var e=t._readableState;if(e.length>0)throw new Error(\'"endReadable()" called on non-empty stream\');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function I(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}m.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):k(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(r,e))),null===(n=t>0?L(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?c:m;function f(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",f),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",v),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",f);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(r);t.on("drain",l);var h=!1;var p=!1;function v(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==I(o.pipes,t))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){d("onerror",e),m(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",b),m()}function b(){d("onfinish"),t.removeListener("close",y),m()}function m(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",y),t.once("finish",b),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=I(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},m.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(O,this))}return r},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(T,t,e))}(this,t)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=L}).call(this,r(18),r(19))},function(t,e,r){t.exports=r(115).EventEmitter},function(t,e,r){"use strict";var n=r(78);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(393).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=f,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=l,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=a;var n=r(34),i=Object.create(r(60));function o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(48),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){"use strict";(function(e){var n=r(400);\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */function i(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=r(196),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,f="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=b,d=/\\s*function\\s+([^\\(\\s]*)\\s*/;function p(t){if(a.isFunction(t)){if(f)return t.name;var e=t.toString().match(d);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(f||!a.isFunction(t))return a.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,r,n,i){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function b(t,e){t||y(t,!0,e,"==",h.ok)}function m(t,e,r,n){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=w(t),o=w(e);if(i&&!o||!i&&o)return!1;if(i)return t=u.call(t),e=u.call(e),m(t,e,r);var s,f,c=k(t),l=k(e);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),f=c.length-1;f>=0;f--)if(c[f]!==l[f])return!1;for(f=c.length-1;f>=0;f--)if(s=c[f],!m(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError(\'"block" argument must be a function\');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&y(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&i&&!r;if((!t&&a.isError(i)&&o&&_(i,r)||s)&&y(i,r,"Got unwanted exception"+n),t&&i&&r&&!_(i,r)||!t&&i)throw i}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return v(g(t.actual),128)+" "+t.operator+" "+v(g(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\\n"+i);if(o>=0){var a=n.indexOf("\\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(h.AssertionError,Error),h.fail=y,h.ok=b,h.equal=function(t,e,r){t!=e&&y(t,e,r,"==",h.equal)},h.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",h.notEqual)},h.deepEqual=function(t,e,r){m(t,e,!1)||y(t,e,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,r){m(t,e,!0)||y(t,e,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){m(t,e,!1)&&y(t,e,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){m(e,r,!0)&&y(e,r,n,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",h.notStrictEqual)},h.throws=function(t,e,r){x(!0,t,e,r)},h.doesNotThrow=function(t,e,r){x(!1,t,e,r)},h.ifError=function(t){if(t)throw t},h.strict=n((function t(e,r){e||y(e,!0,r,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var k=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this,r(18))},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<o;u=n[++r])v(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,a={};function s(t,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,t,n.depth)}function u(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function f(t,e){return t}function c(t,r,n){if(t.customInspect&&r&&k(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return y(i)||(i=c(t,i,n)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var r="\'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),x(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if(k(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(m(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return t.stylize(Date.prototype.toString.call(r),"date");if(x(r))return l(r)}var f,w="",E=!1,S=["{","}"];(d(r)&&(E=!0,S=["[","]"]),k(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(w=" "+RegExp.prototype.toString.call(r)),_(r)&&(w=" "+Date.prototype.toUTCString.call(r)),x(r)&&(w=" "+l(r)),0!==a.length||E&&0!=r.length?n<0?m(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),f=E?function(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)T(e,String(a))?o.push(h(t,e,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\\d+$/)||o.push(h(t,e,r,n,i,!0))})),o}(t,r,n,s,a):a.map((function(e){return h(t,r,n,s,e,E)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\\n")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\\n ")+" "+t.join(",\\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(f,w,S)):S[0]+w+S[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),T(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=v(r)?c(t,u.value,null):c(t,u.value,r-1)).indexOf("\\n")>-1&&(s=o?s.split("\\n").map((function(t){return"  "+t})).join("\\n").substr(2):"\\n"+s.split("\\n").map((function(t){return"   "+t})).join("\\n")):s=t.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===E(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===E(t)}function x(t){return w(t)&&("[object Error]"===E(t)||t instanceof Error)}function k(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(b(o)&&(o=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\\\b"+r+"\\\\b","i").test(o)){var n=t.pid;a[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else a[r]=function(){};return a[r]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=m,e.isObject=w,e.isDate=_,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(401);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=r(402),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError(\'The "original" argument must be of type Function\');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError(\'The "util.promisify.custom" argument must be of type Function\');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=R,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError(\'The "original" argument must be of type Function\');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,r).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(L,e,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(19))},function(t,e,r){"use strict";var n,i=r(29),o=r(403),a=r(198),s=r(199),u=r(120);function f(t,e){return t.msg=u[e],e}function c(t){return(t<<1)-(t>4?9:0)}function l(t){for(var e=t.length;--e>=0;)t[e]=0}function h(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,h(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function v(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function g(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,f=t.window,c=t.w_mask,l=t.prev,h=t.strstart+258,d=f[o+a-1],p=f[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(f[(r=e)+a]===p&&f[r+a-1]===d&&f[r]===f[o]&&f[++r]===f[o+1]){o+=2,r++;do{}while(f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&o<h);if(n=258-(h-o),o=h-258,n>a){if(t.match_start=e,a=n,n>=s)break;d=f[o+a-1],p=f[o+a]}}}while((e=l[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function y(t){var e,r,n,o,u,f,c,l,h,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=p?n-p:0}while(--r);e=r=p;do{n=t.prev[--e],t.prev[e]=n>=p?n-p:0}while(--r);o+=p}if(0===t.strm.avail_in)break;if(f=t.strm,c=t.window,l=t.strstart+t.lookahead,h=o,d=void 0,(d=f.avail_in)>h&&(d=h),r=0===d?0:(f.avail_in-=d,i.arraySet(c,f.input,f.next_in,d,l),1===f.state.wrap?f.adler=a(f.adler,c,d,l):2===f.state.wrap&&(f.adler=s(f.adler,c,d,l)),f.next_in+=d,f.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function b(t,e){for(var r,n;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=g(t,r)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function m(t,e){for(var r,n,i;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=g(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),l(this.dyn_ltree),l(this.dyn_dtree),l(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),l(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),l(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):f(t,-2)}function k(t){var e,r=x(t);return 0===r&&((e=t.state).window_size=2*e.w_size,l(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function E(t,e,r,n,o,a){if(!t)return-2;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==r||n<8||n>15||e<0||e>9||a<0||a>4)return f(t,-2);8===n&&(n=9);var u=new _;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,k(t)}n=[new w(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(y(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,b),new w(4,5,16,8,b),new w(4,6,32,32,b),new w(4,4,16,16,m),new w(8,16,32,32,m),new w(8,16,128,128,m),new w(8,32,128,256,m),new w(32,128,258,1024,m),new w(32,258,258,4096,m)],e.deflateInit=function(t,e){return E(t,e,8,15,8,0)},e.deflateInit2=E,e.deflateReset=k,e.deflateResetKeep=x,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var r,i,a,u;if(!t||!t.state||e>5||e<0)return t?f(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return f(t,0===t.avail_out?-5:-2);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,v(i,g),0!==i.strstart&&(v(i,t.adler>>>16),v(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),h(t),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),h(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),h(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(r)&&4!==e)return f(t,-5);if(666===i.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var b=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(y(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=258){if(y(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==b&&4!==b||(i.status=666),1===b||3===b)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===b&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(l(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(v(i,t.adler>>>16),v(i,65535&t.adler)),h(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?f(t,-2):(t.state=null,113===e?f(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var r,n,o,s,u,f,c,h,d=e.length;if(!t||!t.state)return-2;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return-2;for(1===s&&(t.adler=a(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(l(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,e,d-r.w_size,r.w_size,0),e=h,d=r.w_size),u=t.avail_in,f=t.next_in,c=t.input,t.avail_in=d,t.next_in=0,t.input=e,y(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=2,y(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=f,t.input=c,t.avail_in=u,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,r){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,r){"use strict";var n=r(29),i=r(198),o=r(199),a=r(404),s=r(405);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):-2}function l(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):-2}function h(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,l(t))):-2}function d(t,e){var r,n;return t?(n=new f,t.state=n,n.window=null,0!==(r=h(t,e))&&(t.state=null),r):-2}var p,v,g=!0;function y(t){if(g){var e;for(p=new n.Buf32(512),v=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,v,0,t.work,{bits:5}),g=!1}t.lencode=p,t.lenbits=9,t.distcode=v,t.distbits=5}function b(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=l,e.inflateReset2=h,e.inflateResetKeep=c,e.inflateInit=function(t){return d(t,15)},e.inflateInit2=d,e.inflate=function(t,e){var r,f,c,l,h,d,p,v,g,m,w,_,x,k,E,S,A,O,T,R,L,M,P,I,j=0,C=new n.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(r=t.state).mode&&(r.mode=13),h=t.next_out,c=t.output,p=t.avail_out,l=t.next_in,f=t.input,d=t.avail_in,v=r.hold,g=r.bits,m=d,w=p,M=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;g<16;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(2&r.wrap&&35615===v){r.check=0,C[0]=255&v,C[1]=v>>>8&255,r.check=o(r.check,C,2,0),v=0,g=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=30;break}if(g-=4,L=8+(15&(v>>>=4)),0===r.wbits)r.wbits=L;else if(L>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<L,t.adler=r.check=1,r.mode=512&v?10:12,v=0,g=0;break;case 2:for(;g<16;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(C[0]=255&v,C[1]=v>>>8&255,r.check=o(r.check,C,2,0)),v=0,g=0,r.mode=3;case 3:for(;g<32;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.head&&(r.head.time=v),512&r.flags&&(C[0]=255&v,C[1]=v>>>8&255,C[2]=v>>>16&255,C[3]=v>>>24&255,r.check=o(r.check,C,4,0)),v=0,g=0,r.mode=4;case 4:for(;g<16;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(C[0]=255&v,C[1]=v>>>8&255,r.check=o(r.check,C,2,0)),v=0,g=0,r.mode=5;case 5:if(1024&r.flags){for(;g<16;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(C[0]=255&v,C[1]=v>>>8&255,r.check=o(r.check,C,2,0)),v=0,g=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((_=r.length)>d&&(_=d),_&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,l,_,L)),512&r.flags&&(r.check=o(r.check,f,_,l)),d-=_,l+=_,r.length-=_),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===d)break t;_=0;do{L=f[l+_++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L))}while(L&&_<d);if(512&r.flags&&(r.check=o(r.check,f,_,l)),d-=_,l+=_,L)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===d)break t;_=0;do{L=f[l+_++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L))}while(L&&_<d);if(512&r.flags&&(r.check=o(r.check,f,_,l)),d-=_,l+=_,L)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;g<16;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}v=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;g<32;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}t.adler=r.check=u(v),v=0,g=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=h,t.avail_out=p,t.next_in=l,t.avail_in=d,r.hold=v,r.bits=g,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&g,g-=7&g,r.mode=27;break}for(;g<3;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}switch(r.last=1&v,g-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(y(r),r.mode=20,6===e){v>>>=2,g-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}v>>>=2,g-=2;break;case 14:for(v>>>=7&g,g-=7&g;g<32;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&v,v=0,g=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(_=r.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break t;n.arraySet(c,f,l,_,h),d-=_,l+=_,p-=_,h+=_,r.length-=_;break}r.mode=12;break;case 17:for(;g<14;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(r.nlen=257+(31&v),v>>>=5,g-=5,r.ndist=1+(31&v),v>>>=5,g-=5,r.ncode=4+(15&v),v>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;g<3;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.lens[B[r.have++]]=7&v,v>>>=3,g-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},M=s(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,M){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;S=(j=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,A=65535&j,!((E=j>>>24)<=g);){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(A<16)v>>>=E,g-=E,r.lens[r.have++]=A;else{if(16===A){for(I=E+2;g<I;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(v>>>=E,g-=E,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}L=r.lens[r.have-1],_=3+(3&v),v>>>=2,g-=2}else if(17===A){for(I=E+3;g<I;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}g-=E,L=0,_=3+(7&(v>>>=E)),v>>>=3,g-=3}else{for(I=E+7;g<I;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}g-=E,L=0,_=11+(127&(v>>>=E)),v>>>=7,g-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;_--;)r.lens[r.have++]=L}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,P={bits:r.lenbits},M=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,M){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},M=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,M){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(d>=6&&p>=258){t.next_out=h,t.avail_out=p,t.next_in=l,t.avail_in=d,r.hold=v,r.bits=g,a(t,w),h=t.next_out,c=t.output,p=t.avail_out,l=t.next_in,f=t.input,d=t.avail_in,v=r.hold,g=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;S=(j=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,A=65535&j,!((E=j>>>24)<=g);){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(S&&0==(240&S)){for(O=E,T=S,R=A;S=(j=r.lencode[R+((v&(1<<O+T)-1)>>O)])>>>16&255,A=65535&j,!(O+(E=j>>>24)<=g);){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}v>>>=O,g-=O,r.back+=O}if(v>>>=E,g-=E,r.back+=E,r.length=A,0===S){r.mode=26;break}if(32&S){r.back=-1,r.mode=12;break}if(64&S){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&S,r.mode=22;case 22:if(r.extra){for(I=r.extra;g<I;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;S=(j=r.distcode[v&(1<<r.distbits)-1])>>>16&255,A=65535&j,!((E=j>>>24)<=g);){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(0==(240&S)){for(O=E,T=S,R=A;S=(j=r.distcode[R+((v&(1<<O+T)-1)>>O)])>>>16&255,A=65535&j,!(O+(E=j>>>24)<=g);){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}v>>>=O,g-=O,r.back+=O}if(v>>>=E,g-=E,r.back+=E,64&S){t.msg="invalid distance code",r.mode=30;break}r.offset=A,r.extra=15&S,r.mode=24;case 24:if(r.extra){for(I=r.extra;g<I;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===p)break t;if(_=w-p,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}_>r.wnext?(_-=r.wnext,x=r.wsize-_):x=r.wnext-_,_>r.length&&(_=r.length),k=r.window}else k=c,x=h-r.offset,_=r.length;_>p&&(_=p),p-=_,r.length-=_;do{c[h++]=k[x++]}while(--_);0===r.length&&(r.mode=21);break;case 26:if(0===p)break t;c[h++]=r.length,p--,r.mode=21;break;case 27:if(r.wrap){for(;g<32;){if(0===d)break t;d--,v|=f[l++]<<g,g+=8}if(w-=p,t.total_out+=w,r.total+=w,w&&(t.adler=r.check=r.flags?o(r.check,c,w,h-w):i(r.check,c,w,h-w)),w=p,(r.flags?v:u(v))!==r.check){t.msg="incorrect data check",r.mode=30;break}v=0,g=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;g<32;){if(0===d)break t;d--,v+=f[l++]<<g,g+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}v=0,g=0}r.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=h,t.avail_out=p,t.next_in=l,t.avail_in=d,r.hold=v,r.bits=g,(r.wsize||w!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&b(t,t.output,t.next_out,w-t.avail_out)?(r.mode=31,-4):(m-=t.avail_in,w-=t.avail_out,t.total_in+=m,t.total_out+=w,r.total+=w,r.wrap&&w&&(t.adler=r.check=r.flags?o(r.check,c,w,t.next_out-w):i(r.check,c,w,t.next_out-w)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===m&&0===w||4===e)&&0===M&&(M=-5),M)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?-2:(r.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?-2:11===r.mode&&i(1,e,n,0)!==r.check?-3:b(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promisify=n;function n(t){if("function"!=typeof t)throw new TypeError("Argument to promisify must be a function");var e=t["__ES6-PROMISIFY--CUSTOM-ARGUMENTS__"],r=n.Promise||Promise;if("function"!=typeof r)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var n=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return new r((function(r,i){o.push((function(t){if(t)return i(t);for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(1===o.length||!e)return r(o[0]);var s={};o.forEach((function(t,r){var n=e[r];n&&(s[n]=t)})),r(s)})),t.apply(n,o)}))}}n.argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",n.Promise=void 0},function(t,e,r){"use strict";var n=r(29),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,s=e||t.length,f=new Array(2*s);for(n=0,r=0;r<s;)if((i=t[r++])<128)f[n++]=i;else if((o=a[i])>4)f[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&t[r++],o--;o>1?f[n++]=65533:i<65536?f[n++]=i:(i-=65536,f[n++]=55296|i>>10&1023,f[n++]=56320|1023&i)}return u(f,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},function(t,e,r){"use strict";var n=r(28),i=n(r(76)),o=n(r(77)),a=n(r(46)),s=n(r(47)),u=void 0,f=function(){function t(e){(0,a.default)(this,t),this.fdPromise=u.open(e,"r"),this.path=e}var e,r;return(0,s.default)(t,[{key:"read",value:(r=(0,o.default)(i.default.mark((function t(e,r,n,o){var a,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fdPromise;case 2:return a=t.sent,t.next=5,u.read(a,e,r,n,o);case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,n,i){return r.apply(this,arguments)})},{key:"stat",value:(e=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fdPromise;case 2:return e=t.sent,t.abrupt("return",u.fstat(e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();t.exports=f},function(t,e,r){"use strict";(function(t){var n=r(13);r(10)(e,"__esModule",{value:!0}),e.default=e.BAM_MAGIC=void 0;var i=n(r(186)),o=n(r(56)),a=n(r(74)),s=n(r(32)),u=n(r(112)),f=n(r(57)),c=n(r(411)),l=n(r(45)),h=n(r(43)),d=n(r(59)),p=n(r(44)),v=n(r(417)),g=n(r(26)),y=n(r(27)),b=n(r(25)),m=n(r(205)),w=n(r(208)),_=n(r(209)),x=n(r(210)),k=n(r(183)),E=n(r(134)),S=n(r(187)),A=n(r(425)),O=r(114),T=n(r(426)),R=n(r(185)),L=r(211),M=n(r(212)),P=r(214),I=r(111);e.BAM_MAGIC=21840194;var j=function(){function e(t){var r,n=t.bamFilehandle,i=t.bamPath,o=t.bamUrl,a=t.baiPath,s=t.baiFilehandle,u=t.baiUrl,f=t.csiPath,c=t.csiFilehandle,l=t.csiUrl,h=t.cacheSize,d=t.fetchSizeLimit,p=t.chunkSizeLimit,y=t.renameRefSeqs,m=void 0===y?function(t){return t}:y;if((0,g.default)(this,e),(0,b.default)(this,"renameRefSeq",void 0),(0,b.default)(this,"bam",void 0),(0,b.default)(this,"index",void 0),(0,b.default)(this,"chunkSizeLimit",void 0),(0,b.default)(this,"fetchSizeLimit",void 0),(0,b.default)(this,"header",void 0),(0,b.default)(this,"featureCache",void 0),(0,b.default)(this,"chrToIndex",void 0),(0,b.default)(this,"indexToChr",void 0),this.renameRefSeq=m,n)this.bam=n;else if(i)this.bam=new L.LocalFile(i);else{if(!o)throw new Error("unable to initialize bam");this.bam=new L.RemoteFile(o)}if(c)this.index=new S.default({filehandle:c});else if(f)this.index=new S.default({filehandle:new L.LocalFile(f)});else if(l)this.index=new S.default({filehandle:new L.RemoteFile(l)});else if(s)this.index=new E.default({filehandle:s});else if(a)this.index=new E.default({filehandle:new L.LocalFile(a)});else if(u)this.index=new E.default({filehandle:new L.RemoteFile(u)});else if(i)this.index=new E.default({filehandle:new L.LocalFile("".concat(i,".bai"))});else{if(!o)throw new Error("unable to infer index format");this.index=new E.default({filehandle:new L.RemoteFile("".concat(o,".bai"))})}this.featureCache=new k.default({cache:new R.default({maxSize:void 0!==h?h:50}),fill:(0,v.default)(r=this._readChunk).call(r,this)}),this.fetchSizeLimit=d||5e8,this.chunkSizeLimit=p||3e8}var r,n,j,C,B,N,z,F,U,D;return(0,y.default)(e,[{key:"getHeader",value:(D=(0,p.default)(h.default.mark((function e(){var r,n,i,o,a,s,u,f,c,l,p,v,g=arguments;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>0&&void 0!==g[0]?g[0]:{},n=(0,I.makeOpts)(r),e.next=4,this.index.parse(n);case 4:if(i=e.sent,!(o=i.firstDataLine?i.firstDataLine.blockPosition+65535:void 0)){e.next=17;break}return e.next=9,this.bam.read(t.alloc(o+65536),0,o+65536,0,n);case 9:if(s=e.sent,u=s.bytesRead,a=s.buffer,u){e.next=14;break}throw new Error("Error reading header");case 14:a=u<o?(0,d.default)(a).call(a,0,u):(0,d.default)(a).call(a,0,o),e.next=20;break;case 17:return e.next=19,this.bam.readFile(n);case 19:a=e.sent;case 20:return e.next=22,(0,O.unzip)(a);case 22:if(21840194===(f=e.sent).readInt32LE(0)){e.next=25;break}throw new Error("Not a BAM file");case 25:return c=f.readInt32LE(4),this.header=f.toString("utf8",8,8+c),e.next=29,this._readRefSeqs(c+8,65535,n);case 29:return l=e.sent,p=l.chrToIndex,v=l.indexToChr,this.chrToIndex=p,this.indexToChr=v,e.abrupt("return",(0,P.parseHeaderText)(this.header));case 35:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{key:"getHeaderText",value:(U=(0,p.default)(h.default.mark((function t(){var e,r=arguments;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.next=3,this.getHeader(e);case 3:return t.abrupt("return",this.header);case 4:case"end":return t.stop()}}),t,this)}))),function(){return U.apply(this,arguments)})},{key:"_readRefSeqs",value:(F=(0,p.default)(h.default.mark((function e(r,n){var i,o,a,s,u,f,c,l,p,v,g,y,b,m=arguments;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:{},!(r>n)){e.next=3;break}return e.abrupt("return",this._readRefSeqs(r,2*n,i));case 3:return e.next=5,this.bam.read(t.alloc(n+65536),0,n,0,i);case 5:if(o=e.sent,a=o.bytesRead,s=o.buffer,a){e.next=10;break}throw new Error("Error reading refseqs from header");case 10:return s=a<n?(0,d.default)(s).call(s,0,a):(0,d.default)(s).call(s,0,n),e.next=13,(0,O.unzip)(s);case 13:u=e.sent,f=u.readInt32LE(r),c=r+4,l={},p=[],v=0;case 19:if(!(v<f)){e.next=35;break}return e.next=22,(0,I.abortBreakPoint)(i.signal);case 22:if(g=u.readInt32LE(c),y=u.toString("utf8",c+4,c+4+g-1),y=this.renameRefSeq(y),b=u.readInt32LE(c+g+4),l[y]=v,p.push({refName:y,length:b}),!((c=c+8+g)>u.length)){e.next=32;break}return console.warn("BAM header is very big.  Re-fetching ".concat(n," bytes.")),e.abrupt("return",this._readRefSeqs(r,2*n,i));case 32:v+=1,e.next=19;break;case 35:return e.abrupt("return",{chrToIndex:l,indexToChr:p});case 36:case"end":return e.stop()}}),e,this)}))),function(t,e){return F.apply(this,arguments)})},{key:"getRecordsForRange",value:(z=(0,p.default)(h.default.mark((function t(e,r,n){var i,o,a,s,u,f,c,d,p,v=arguments;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=v.length>3&&void 0!==v[3]?v[3]:{viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5},o=[],a=!0,s=!1,t.prev=4,f=(0,x.default)(this.streamRecordsForRange(e,r,n,i));case 6:return t.next=8,f.next();case 8:return c=t.sent,a=c.done,t.next=12,c.value;case 12:if(d=t.sent,a){t.next=19;break}p=d,o=(0,l.default)(o).call(o,p);case 16:a=!0,t.next=6;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(4),s=!0,u=t.t0;case 25:if(t.prev=25,t.prev=26,a||null==f.return){t.next=30;break}return t.next=30,f.return();case 30:if(t.prev=30,!s){t.next=33;break}throw u;case 33:return t.finish(30);case 34:return t.finish(25);case 35:return t.abrupt("return",o);case 36:case"end":return t.stop()}}),t,this,[[4,21,25,35],[26,,30,34]])}))),function(t,e,r){return z.apply(this,arguments)})},{key:"streamRecordsForRange",value:function(t,e,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5};return(0,m.default)(h.default.mark((function o(){var a,s,u,d,p,v,g,y;return h.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i.viewAsPairs=i.viewAsPairs||!1,i.pairAcrossChr=i.pairAcrossChr||!1,i.maxInsertSize=void 0!==i.maxInsertSize?i.maxInsertSize:2e5,(s=n.chrToIndex&&n.chrToIndex[t])>=0){o.next=8;break}u=[],o.next=13;break;case 8:return o.next=10,(0,w.default)(n.index.blocksForRange(s,e-1,r,i));case 10:if(u=o.sent){o.next=13;break}throw new Error("Error in index fetch");case 13:d=0;case 14:if(!(d<u.length)){o.next=23;break}return o.next=17,(0,w.default)((0,I.abortBreakPoint)(i.signal));case 17:if(!((p=u[d].fetchedSize())>n.chunkSizeLimit)){o.next=20;break}throw new Error((0,l.default)(v="Too many BAM features. BAM chunk size ".concat(p," bytes exceeds chunkSizeLimit of ")).call(v,n.chunkSizeLimit));case 20:d+=1,o.next=14;break;case 23:if(!((g=(0,c.default)(a=(0,f.default)(u).call(u,(function(t){return t.fetchedSize()}))).call(a,(function(t,e){return t+e}),0))>n.fetchSizeLimit)){o.next=26;break}throw new Error((0,l.default)(y="data size of ".concat(g.toLocaleString()," bytes exceeded fetch size limit of ")).call(y,n.fetchSizeLimit.toLocaleString()," bytes"));case 26:return o.delegateYield((0,_.default)((0,x.default)(n._fetchChunkFeatures(u,s,e,r,i)),w.default),"t0",27);case 27:case"end":return o.stop()}}),o)})))()}},{key:"_fetchChunkFeatures",value:function(t,e,r,n,i){var o=this;return(0,m.default)(h.default.mark((function a(){var s,u,f,c,l,d,p,v,g,y,b;return h.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=[],u=!1,f=0;case 3:if(!(f<t.length)){a.next=21;break}return c=t[f],a.next=7,(0,w.default)(o.featureCache.get(c.toString(),{chunk:c,opts:i},i.signal));case 7:return l=a.sent,d=l.data,p=l.cpositions,v=l.dpositions,g=l.chunk,y=o.readBamFeatures(d,p,v,g).then((function(t){for(var i=[],o=0;o<t.length;o+=1){var a=t[o];if(a.seq_id()===e){if(a.get("start")>=n){u=!0;break}a.get("end")>=r&&i.push(a)}}return i})),s.push(y),a.next=16,(0,w.default)(y);case 16:if(!u){a.next=18;break}return a.abrupt("break",21);case 18:f++,a.next=3;break;case 21:(0,I.checkAbortSignal)(i.signal),b=0;case 23:if(!(b<s.length)){a.next=29;break}return a.next=26,s[b];case 26:b++,a.next=23;break;case 29:if((0,I.checkAbortSignal)(i.signal),!i.viewAsPairs){a.next=33;break}return a.next=33,o.fetchPairs(e,s,i);case 33:case"end":return a.stop()}}),a)})))()}},{key:"fetchPairs",value:(N=(0,p.default)(h.default.mark((function t(e,r,n){var d,v,g,y,b,m,w,_,x,k,E,S,A,O,R=this;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g={},y={},t.next=4,u.default.all((0,f.default)(r).call(r,function(){var t=(0,p.default)(h.default.mark((function t(e){var r,n,i,o,u,f;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:for(n=t.sent,i={},o=0;o<n.length;o++)u=n[o].name(),f=n[o].id(),i[u]||(i[u]=0),i[u]++,y[f]=1;(0,s.default)(r=(0,T.default)(i)).call(r,(function(t){var e=(0,a.default)(t,2),r=e[0];1===e[1]&&(g[r]=!0)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:return b=[],t.next=7,u.default.all((0,f.default)(r).call(r,function(){var t=(0,p.default)(h.default.mark((function t(r){var i,o,a;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:for(i=t.sent,o=0;o<i.length;o++)a=i[o].name(),g[a]&&(n.pairAcrossChr||i[o]._next_refid()===e&&Math.abs(i[o].get("start")-i[o]._next_pos())<(n.maxInsertSize||2e5))&&b.push(R.index.blocksForRange(i[o]._next_refid(),i[o]._next_pos(),i[o]._next_pos()+1,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:return t.next=9,u.default.all(b);case 9:for(m=t.sent,w=[],_=0;_<m.length;_++)w=(0,l.default)(w).call(w,m[_]);if(w=(0,o.default)(d=(0,i.default)(w).call(w)).call(d,(function(t,e,r){return!e||t.toString()!==r[e-1].toString()})),!((x=(0,c.default)(v=(0,f.default)(w).call(w,(function(t){return t.fetchedSize()}))).call(v,(function(t,e){return t+e}),0))>this.fetchSizeLimit)){t.next=16;break}throw new Error((0,l.default)(k="data size of ".concat(x.toLocaleString()," bytes exceeded fetch size limit of ")).call(k,this.fetchSizeLimit.toLocaleString()," bytes"));case 16:return E=(0,f.default)(w).call(w,function(){var t=(0,p.default)(h.default.mark((function t(e){var r,i,o,a,s,u,f,c,l;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.featureCache.get(e.toString(),{chunk:e,opts:n},n.signal);case 2:return r=t.sent,i=r.data,o=r.cpositions,a=r.dpositions,s=r.chunk,t.next=9,R.readBamFeatures(i,o,a,s);case 9:for(u=t.sent,f=[],c=0;c<u.length;c+=1)l=u[c],g[l.get("name")]&&!y[l.id()]&&f.push(l);return t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=19,u.default.all(E);case 19:return S=t.sent,A=[],S.length&&(O=(0,c.default)(S).call(S,(function(t,e){return(0,l.default)(t).call(t,e)})),A=(0,l.default)(A).call(A,O)),t.abrupt("return",A);case 23:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return N.apply(this,arguments)})},{key:"_readChunk",value:(B=(0,p.default)(h.default.mark((function e(r,n){var i,o,a,s,u,f,c,l,p,v,g;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.chunk,o=r.opts,s=(a=i).fetchedSize(),e.next=5,this.bam.read(t.alloc(s),0,s,a.minv.blockPosition,o);case 5:if(u=e.sent,f=u.bytesRead,c=u.buffer,(0,I.checkAbortSignal)(n),f){e.next=11;break}return e.abrupt("return",[]);case 11:return c=f<s?(0,d.default)(c).call(c,0,f):(0,d.default)(c).call(c,0,s),e.next=14,(0,O.unzipChunkSlice)(c,i);case 14:return l=e.sent,p=l.buffer,v=l.cpositions,g=l.dpositions,(0,I.checkAbortSignal)(n),e.abrupt("return",{data:p,cpositions:v,dpositions:g,chunk:i});case 20:case"end":return e.stop()}}),e,this)}))),function(t,e){return B.apply(this,arguments)})},{key:"readBamFeatures",value:(C=(0,p.default)(h.default.mark((function t(e,r,n,i){var o,a,s,u,f,c,l;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0,a=[],s=0,u=0;case 4:if(!(o+4<e.length)){t.next=19;break}if(f=e.readInt32LE(o),c=o+4+f-1,n){for(;o+i.minv.dataPosition>=n[s++];);s--}if(!(c<e.length)){t.next=16;break}if(l=new M.default({bytes:{byteArray:e,start:o,end:c},fileOffset:r?256*r[s]+(o-n[s])+i.minv.dataPosition+1:A.default.signed((0,d.default)(e).call(e,o,c))}),a.push(l),!(++u>500)){t.next=16;break}return t.next=15,(0,I.timeout)(1);case 15:u=0;case 16:o=c+1,t.next=4;break;case 19:return t.abrupt("return",a);case 20:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return C.apply(this,arguments)})},{key:"hasRefSeq",value:(j=(0,p.default)(h.default.mark((function t(e){var r;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chrToIndex&&this.chrToIndex[e],t.abrupt("return",this.index.hasRefSeq(r));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)})},{key:"lineCount",value:(n=(0,p.default)(h.default.mark((function t(e){var r;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chrToIndex&&this.chrToIndex[e],t.abrupt("return",this.index.lineCount(r));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"indexCov",value:(r=(0,p.default)(h.default.mark((function t(e,r,n){var i;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.index.parse();case 2:return i=this.chrToIndex&&this.chrToIndex[e],t.abrupt("return",this.index.indexCov(i,r,n));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}]),e}();e.default=j}).call(this,r(7).Buffer)},function(t,e,r){var n=r(422);t.exports=function(t){return function(){return new n(t.apply(this,arguments))}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){t.exports=r(423)},function(t,e){t.exports=function(t){this.wrapped=t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(207);t.exports=function(t){return new n(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(101),i=r(42),o=r(106);t.exports=function(t,e){var r={},a=!1;function s(r,i){return a=!0,i=new n((function(e){e(t[r](i))})),{done:!1,value:e(i)}}return r[void 0!==i&&o||"@@iterator"]=function(){return this},r.next=function(t){return a?(a=!1,t):s("next",t)},"function"==typeof t.throw&&(r.throw=function(t){if(a)throw a=!1,t;return s("throw",t)}),"function"==typeof t.return&&(r.return=function(t){return a?(a=!1,t):s("return",t)}),r},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(42),i=r(206),o=r(106),a=r(55);t.exports=function(t){var e;if(void 0!==n&&(i&&(e=t[i]),null==e&&o&&(e=a(t))),null==e&&(e=t["@@asyncIterator"]),null==e&&(e=t["@@iterator"]),null==e)throw new TypeError("Object is not async iterable");return e.call(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";var n=r(79);Object.defineProperty(e,"__esModule",{value:!0});var i={open:!0,fromUrl:!0,LocalFile:!0,RemoteFile:!0,BlobFile:!0};e.open=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(void 0!==r)return r;if(void 0!==t)return f(t,n);if(void 0!==e)return new o.default(e,n);throw new Error("no url, path, or filehandle provided, cannot open")},e.fromUrl=f,Object.defineProperty(e,"LocalFile",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"RemoteFile",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BlobFile",{enumerable:!0,get:function(){return s.default}});var o=n(r(428)),a=n(r(429)),s=n(r(432)),u=r(433);function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a.default(t,e)}Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}))},function(t,e,r){"use strict";(function(t){var n=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var i,o=n(r(434)),a=n(r(440)),s=n(r(56)),u=n(r(73)),f=n(r(32)),c=n(r(45)),l=n(r(26)),h=n(r(27)),d=n(r(25)),p=n(r(57)),v=n(r(446)),g=(0,p.default)(i="=ACMGRSVTWYHKDBN".split("")).call(i,(function(t){return t.charCodeAt(0)})),y="MIDNSHP=X???????".split(""),b=function(){function e(t){(0,l.default)(this,e),(0,d.default)(this,"data",void 0),(0,d.default)(this,"bytes",void 0),(0,d.default)(this,"flags",void 0),(0,d.default)(this,"_id",void 0),(0,d.default)(this,"_refID",void 0),(0,d.default)(this,"_tagOffset",void 0),(0,d.default)(this,"_tagList",[]),(0,d.default)(this,"_allTagsParsed",!1),this.data={},this.bytes={start:t.bytes.start,end:t.bytes.end,byteArray:t.bytes.byteArray},this._id=t.fileOffset;var r=this.bytes,n=r.start,i=r.byteArray;this._refID=i.readInt32LE(n+4),this.data.start=i.readInt32LE(n+8),this.flags=(4294901760&i.readInt32LE(n+16))>>16}return(0,h.default)(e,[{key:"get",value:function(t){return this[t]?(this.data[t]||(this.data[t]=this[t]()),this.data[t]):this._get(t.toLowerCase())}},{key:"end",value:function(){return this.get("start")+(this.get("length_on_ref")||this.get("seq_length")||void 0)}},{key:"seq_id",value:function(){return this._refID}},{key:"_get",value:function(t){return t in this.data||(this.data[t]=this._parseTag(t)),this.data[t]}},{key:"_tags",value:function(){var t,e=this;this._parseAllTags();var r=["seq"];this.isSegmentUnmapped()||r.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&r.push("next_segment_position","pair_orientation"),r=(0,c.default)(r).call(r,this._tagList||[]),(0,f.default)(t=(0,u.default)(this.data)).call(t,(function(t){"_"!==t[0]&&"next_seq_id"!==t&&r.push(t)}));var n={};return r=(0,s.default)(r).call(r,(function(t){if(t in e.data&&void 0===e.data[t]||"CG"===t||"cg"===t)return!1;var r=t.toLowerCase(),i=n[r];return n[r]=!0,!i}))}},{key:"parent",value:function(){}},{key:"children",value:function(){return this.get("subfeatures")}},{key:"id",value:function(){return this._id}},{key:"mq",value:function(){var t=(65280&this.get("_bin_mq_nl"))>>8;return 255===t?void 0:t}},{key:"score",value:function(){return this.get("mq")}},{key:"qual",value:function(){var t;return null===(t=this.qualRaw())||void 0===t?void 0:t.join(" ")}},{key:"qualRaw",value:function(){if(!this.isSegmentUnmapped()){for(var e=this.bytes.byteArray,r=this.bytes.start+36+this.get("_l_read_name")+4*this.get("_n_cigar_op")+this.get("_seq_bytes"),n=this.get("seq_length"),i=t.allocUnsafe(n),o=0;o<n;++o)i[o]=e[r+o];return i}}},{key:"strand",value:function(){return this.isReverseComplemented()?-1:1}},{key:"multi_segment_next_segment_strand",value:function(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}},{key:"name",value:function(){return this.get("_read_name")}},{key:"_read_name",value:function(){var t=this.get("_l_read_name");return this.bytes.byteArray.toString("ascii",this.bytes.start+36,this.bytes.start+36+t-1)}},{key:"_parseTag",value:function(t){if(!this._allTagsParsed){for(var e,r=this.bytes.byteArray,n=this._tagOffset||this.bytes.start+36+this.get("_l_read_name")+4*this.get("_n_cigar_op")+this.get("_seq_bytes")+this.get("seq_length"),i=this.bytes.end;n<i&&e!==t;){var o=String.fromCharCode(r[n],r[n+1]);e=o.toLowerCase();var a=String.fromCharCode(r[n+2]);n+=3;var s=void 0;switch(a){case"A":s=String.fromCharCode(r[n]),n+=1;break;case"i":s=r.readInt32LE(n),n+=4;break;case"I":s=r.readUInt32LE(n),n+=4;break;case"c":s=r.readInt8(n),n+=1;break;case"C":s=r.readUInt8(n),n+=1;break;case"s":s=r.readInt16LE(n),n+=2;break;case"S":s=r.readUInt16LE(n),n+=2;break;case"f":s=r.readFloatLE(n),n+=4;break;case"Z":case"H":for(s="";n<=i;){var u=r[n++];if(0===u)break;s+=String.fromCharCode(u)}break;case"B":s="";var f=r[n++],c=String.fromCharCode(f),l=r.readInt32LE(n);if(n+=4,"i"===c)if("CG"===o)for(var h=0;h<l;h++){var d=r.readInt32LE(n);s+=(d>>4)+y[15&d],n+=4}else for(var p=0;p<l;p++)s+=r.readInt32LE(n),p+1<l&&(s+=","),n+=4;if("I"===c)if("CG"===o)for(var v=0;v<l;v++){var g=r.readUInt32LE(n);s+=(g>>4)+y[15&g],n+=4}else for(var b=0;b<l;b++)s+=r.readUInt32LE(n),b+1<l&&(s+=","),n+=4;if("s"===c)for(var m=0;m<l;m++)s+=r.readInt16LE(n),m+1<l&&(s+=","),n+=2;if("S"===c)for(var w=0;w<l;w++)s+=r.readUInt16LE(n),w+1<l&&(s+=","),n+=2;if("c"===c)for(var _=0;_<l;_++)s+=r.readInt8(n),_+1<l&&(s+=","),n+=1;if("C"===c)for(var x=0;x<l;x++)s+=r.readUInt8(n),x+1<l&&(s+=","),n+=1;if("f"===c)for(var k=0;k<l;k++)s+=r.readFloatLE(n),k+1<l&&(s+=","),n+=4;break;default:console.warn("Unknown BAM tag type \'".concat(a,"\', tags may be incomplete")),s=void 0,n=i}if(this._tagOffset=n,this._tagList.push(o),e===t)return s;this.data[e]=s}this._allTagsParsed=!0}}},{key:"_parseAllTags",value:function(){this._parseTag("")}},{key:"_parseCigar",value:function(t){var e;return(0,p.default)(e=t.match(/\\d+\\D/g)).call(e,(function(t){return[t.match(/\\D/)[0].toUpperCase(),(0,a.default)(t,10)]}))}},{key:"isPaired",value:function(){return!!((0,o.default)(this)&v.default.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!((0,o.default)(this)&v.default.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!((0,o.default)(this)&v.default.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!((0,o.default)(this)&v.default.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!((0,o.default)(this)&v.default.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!((0,o.default)(this)&v.default.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!((0,o.default)(this)&v.default.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!((0,o.default)(this)&v.default.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!((0,o.default)(this)&v.default.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!((0,o.default)(this)&v.default.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!((0,o.default)(this)&v.default.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!((0,o.default)(this)&v.default.BAM_FSUPPLEMENTARY)}},{key:"cigar",value:function(){if(!this.isSegmentUnmapped()){var t=this.bytes,e=t.byteArray,r=t.start,n=this.get("_n_cigar_op"),i=r+36+this.get("_l_read_name"),o=this.get("seq_length"),a="",s=0,u=e.readInt32LE(i),f=u>>4,c=y[15&u];if("S"===c&&f===o)return i+=4,f=(u=e.readInt32LE(i))>>4,"N"!==(c=y[15&u])&&console.warn("CG tag with no N tag"),this.data.length_on_ref=f,this.get("CG");for(var l=0;l<n;++l)a+=(f=(u=e.readInt32LE(i))>>4)+(c=y[15&u]),"H"!==c&&"S"!==c&&"I"!==c&&(s+=f),i+=4;return this.data.length_on_ref=s,a}}},{key:"_flags",value:function(){}},{key:"length_on_ref",value:function(){return this.get("cigar"),this.data.length_on_ref}},{key:"_n_cigar_op",value:function(){return 65535&this.get("_flag_nc")}},{key:"_l_read_name",value:function(){return 255&this.get("_bin_mq_nl")}},{key:"_seq_bytes",value:function(){return this.get("seq_length")+1>>1}},{key:"getReadBases",value:function(){return this.seq()}},{key:"seq",value:function(){for(var t=this.bytes.byteArray,e=this.bytes.start+36+this.get("_l_read_name")+4*this.get("_n_cigar_op"),r=this.get("_seq_bytes"),n=this.get("seq_length"),i="",o=0,a=0;a<r;++a){var s=t[e+a];i+=String.fromCharCode(g[(240&s)>>4]),++o<n&&(i+=String.fromCharCode(g[15&s]),o++)}return i}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){var t=this.isReverseComplemented()?"R":"F",e=this.isMateReverseComplemented()?"R":"F",r=" ",n=" ";this.isRead1()?(r="1",n="2"):this.isRead2()&&(r="2",n="1");var i=[];return this.template_length()>0?(i[0]=t,i[1]=r,i[2]=e,i[3]=n):(i[2]=t,i[3]=r,i[0]=e,i[1]=n),i.join("")}return null}},{key:"_bin_mq_nl",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}},{key:"_flag_nc",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}},{key:"seq_length",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}},{key:"_next_refid",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}},{key:"_next_pos",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}},{key:"template_length",value:function(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}},{key:"toJSON",value:function(){var t,e=this,r={};return(0,f.default)(t=(0,u.default)(this)).call(t,(function(t){"_"!==t.charAt(0)&&"bytes"!==t&&(r[t]=e[t])})),r}}]),e}();e.default=b}).call(this,r(7).Buffer)},function(t,e){t.exports="\\t\\n\\v\\f\\r \\u2028\\u2029\\ufeff"},function(t,e,r){"use strict";var n=r(13);r(10)(e,"__esModule",{value:!0}),e.parseHeaderText=function(t){var e=t.split(/\\r?\\n/),r=[];return(0,u.default)(e).call(e,(function(t){var e=t.split(/\\t/),n=(0,s.default)(e),u=n[0],f=(0,a.default)(n).call(n,1),c=(0,o.default)(f).call(f,(function(t){var e=t.split(":",2),r=(0,i.default)(e,2);return{tag:r[0],value:r[1]}}));u&&r.push({tag:u.substr(1),data:c})})),r};var i=n(r(74)),o=n(r(57)),a=n(r(59)),s=n(r(447)),u=n(r(32))},function(t,e,r){t.exports=r(453)},function(t,e,r){"use strict";var n=r(13),i=r(10);i(e,"__esModule",{value:!0}),i(e,"BAI",{enumerable:!0,get:function(){return o.default}}),i(e,"CSI",{enumerable:!0,get:function(){return a.default}}),i(e,"BamFile",{enumerable:!0,get:function(){return s.default}}),i(e,"HtsgetFile",{enumerable:!0,get:function(){return u.default}}),i(e,"BamRecord",{enumerable:!0,get:function(){return f.default}});var o=n(r(134)),a=n(r(187)),s=n(r(204)),u=n(r(449)),f=n(r(212))},function(t,e,r){"use strict";const n=r(469),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),f=Symbol("dispose"),c=Symbol("noDisposeOnSet"),l=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;const v=(t,e,r)=>{const n=t[h].get(e);if(n){const e=n.value;if(g(t,e)){if(b(t,n),!t[s])return}else r&&(t[d]&&(n.value.now=Date.now()),t[l].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[u])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[u]&&r>t[u]},y=t=>{if(t[o]>t[i])for(let e=t[l].tail;t[o]>t[i]&&null!==e;){const r=e.prev;b(t,e),e=r}},b=(t,e)=>{if(e){const r=e.value;t[f]&&t[f](r.key,r.value),t[o]-=r.length,t[h].delete(r.key),t[l].removeNode(e)}};class m{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const w=(t,e,r,n)=>{let i=r.value;g(t,i)&&(b(t,r),t[s]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||p;if(this[a]="function"!=typeof e?p:e,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[f]=t.dispose,this[c]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,y(this)}get max(){return this[i]}set allowStale(t){this[s]=!!t}get allowStale(){return this[s]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[u]=t,y(this)}get maxAge(){return this[u]}set lengthCalculator(t){"function"!=typeof t&&(t=p),t!==this[a]&&(this[a]=t,this[o]=0,this[l].forEach(t=>{t.length=this[a](t.value,t.key),this[o]+=t.length})),y(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[l].length}rforEach(t,e){e=e||this;for(let r=this[l].tail;null!==r;){const n=r.prev;w(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[l].head;null!==r;){const n=r.next;w(this,t,r,e),r=n}}keys(){return this[l].toArray().map(t=>t.key)}values(){return this[l].toArray().map(t=>t.value)}reset(){this[f]&&this[l]&&this[l].length&&this[l].forEach(t=>this[f](t.key,t.value)),this[h]=new Map,this[l]=new n,this[o]=0}dump(){return this[l].map(t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[l]}set(t,e,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](e,t);if(this[h].has(t)){if(s>this[i])return b(this,this[h].get(t)),!1;const a=this[h].get(t).value;return this[f]&&(this[c]||this[f](t,a.value)),a.now=n,a.maxAge=r,a.value=e,this[o]+=s-a.length,a.length=s,this.get(t),y(this),!0}const d=new m(t,e,s,n,r);return d.length>this[i]?(this[f]&&this[f](t,e),!1):(this[o]+=d.length,this[l].unshift(d),this[h].set(t,this[l].head),y(this),!0)}has(t){if(!this[h].has(t))return!1;const e=this[h].get(t).value;return!g(this,e)}get(t){return v(this,t,!0)}peek(t){return v(this,t,!1)}pop(){const t=this[l].tail;return t?(b(this,t),t.value):null}del(t){b(this,this[h].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[h].forEach((t,e)=>v(this,e,!1))}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));function n(){}function i(t,e){var r=new n;if(t instanceof n)t.each((function(t,e){r.set(e,t)}));else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(e(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}n.prototype=i.prototype={constructor:n,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var o=i;function a(){}var s=o.prototype;function u(t,e){var r=new a;if(t instanceof a)t.each((function(t){r.add(t)}));else if(t){var n=-1,i=t.length;if(null==e)for(;++n<i;)r.add(t[n]);else for(;++n<i;)r.add(e(t[n],n,t))}return r}a.prototype=u.prototype={constructor:a,has:s.has,add:function(t){return this["$"+(t+="")]=t,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};var f={value:function(){}};function c(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new l(n)}function l(t){this._=t}function h(t,e){return t.trim().split(/^|\\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function d(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function p(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=f,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}l.prototype=c.prototype={constructor:l,on:function(t,e){var r,n=this._,i=h(t+"",n),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(r=(t=i[o]).type)n[r]=p(n[r],t.name,e);else if(null==e)for(r in n)n[r]=p(n[r],t.name,null);return this}for(;++o<a;)if((r=(t=i[o]).type)&&(r=d(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new l(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(n=this._[t]).length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};var v=c,g=function(t,e){var r,n,i,a,s=v("beforesend","progress","load","error"),u=o(),f=new XMLHttpRequest,c=null,l=null,h=0;function d(t){var e,n=f.status;if(!n&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(f)||n>=200&&n<300||304===n){if(i)try{e=i.call(r,f)}catch(t){return void s.call("error",r,t)}else e=f;s.call("load",r,e)}else s.call("error",r,t)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in f)&&/^(http(s)?:)?\\/\\//.test(t)&&(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=d:f.onreadystatechange=function(t){f.readyState>3&&d(t)},f.onprogress=function(t){s.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),r)},mimeType:function(t){return arguments.length?(n=null==t?null:t+"",r):n},responseType:function(t){return arguments.length?(a=t,r):a},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return i=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,i,o){return f.open(e,t,!0,c,l),null==n||u.has("accept")||u.set("accept",n+",*/*"),f.setRequestHeader&&u.each((function(t,e){f.setRequestHeader(e,t)})),null!=n&&f.overrideMimeType&&f.overrideMimeType(n),null!=a&&(f.responseType=a),h>0&&(f.timeout=h),null==o&&"function"==typeof i&&(o=i,i=null),null!=o&&1===o.length&&(o=function(t){return function(e,r){t(null==e?r:null)}}(o)),null!=o&&r.on("error",o).on("load",(function(t){o(null,t)})),s.call("beforesend",r,f),f.send(null==i?null:i),r},abort:function(){return f.abort(),r},on:function(){var t=s.on.apply(s,arguments);return t===s?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r};var y=function(t,e){return function(r,n){var i=g(r).mimeType(t).response(e);if(null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return i.get(n)}return i}},b=(y("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),y("application/json",(function(t){return JSON.parse(t.responseText)})),y("text/plain",(function(t){return t.responseText}))),m=(y("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),{}),w={};function _(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+\'] || ""\'})).join(",")+"}")}function x(t){var e=Object.create(null),r=[];return t.forEach((function(t){for(var n in t)n in e||r.push(e[n]=n)})),r}function k(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function E(t){var e,r=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+k(-e,6):e>9999?"+"+k(e,6):k(e,4))+"-"+k(t.getUTCMonth()+1,2)+"-"+k(t.getUTCDate(),2)+(o?"T"+k(r,2)+":"+k(n,2)+":"+k(i,2)+"."+k(o,3)+"Z":i?"T"+k(r,2)+":"+k(n,2)+":"+k(i,2)+"Z":n||r?"T"+k(r,2)+":"+k(n,2)+"Z":"")}var S=function(t){var e=new RegExp(\'["\'+t+"\\n\\r]"),r=t.charCodeAt(0);function n(t,e){var n,i=[],o=t.length,a=0,s=0,u=o<=0,f=!1;function c(){if(u)return w;if(f)return f=!1,m;var e,n,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(n=t.charCodeAt(a++))?f=!0:13===n&&(f=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,\'"\')}for(;a<o;){if(10===(n=t.charCodeAt(e=a++)))f=!0;else if(13===n)f=!0,10===t.charCodeAt(a)&&++a;else if(n!==r)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(n=c())!==w;){for(var l=[];n!==m&&n!==w;)l.push(n),n=c();e&&null==(l=e(l,s++))||i.push(l)}return i}function i(e,r){return e.map((function(e){return r.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?E(t):e.test(t+="")?\'"\'+t.replace(/"/g,\'""\')+\'"\':t}return{parse:function(t,e){var r,i,o=n(t,(function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,e){var r=_(t);return function(n,i){return e(r(n),i,t)}}(t,e):_(t)}));return o.columns=i||[],o},parseRows:n,format:function(e,r){return null==r&&(r=x(e)),[r.map(a).join(t)].concat(i(e,r)).join("\\n")},formatBody:function(t,e){return null==e&&(e=x(t)),i(t,e).join("\\n")},formatRows:function(t){return t.map(o).join("\\n")},formatRow:o,formatValue:a}},A=S(","),O=A.parse,T=(A.parseRows,A.format,A.formatBody,A.formatRows,A.formatRow,A.formatValue,function(t,e){return function(r,n,i){arguments.length<3&&(i=n,n=null);var o=g(r).mimeType(t);return o.row=function(t){return arguments.length?o.response(R(e,n=t)):n},o.row(n),i?o.get(i):o}});function R(t,e){return function(r){return t(r.responseText,e)}}T("text/csv",O);var L=S("\\t"),M=L.parse;L.parseRows,L.format,L.formatBody,L.formatRows,L.formatRow,L.formatValue,T("text/tab-separated-values",M)},function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t};function i(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function o(){}var a="\\\\s*([+-]?\\\\d+)\\\\s*",s="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*",u="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*",f=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\\\("+[a,a,a]+"\\\\)$"),l=new RegExp("^rgb\\\\("+[u,u,u]+"\\\\)$"),h=new RegExp("^rgba\\\\("+[a,a,a,s]+"\\\\)$"),d=new RegExp("^rgba\\\\("+[u,u,u,s]+"\\\\)$"),p=new RegExp("^hsl\\\\("+[s,u,u]+"\\\\)$"),v=new RegExp("^hsla\\\\("+[s,u,u,s]+"\\\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function m(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=f.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?w(e):3===r?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?_(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new k(e[1],e[2],e[3],1):(e=l.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?O(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?O(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?w(g[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function w(t){return new k(t>>16&255,t>>8&255,255&t,1)}function _(t,e,r,n){return n<=0&&(t=e=r=NaN),new k(t,e,r,n)}function x(t){return t instanceof o||(t=m(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function k(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function E(){return"#"+A(this.r)+A(this.g)+A(this.b)}function S(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function A(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function O(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new R(t,e,r,n)}function T(t){if(t instanceof R)return new R(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=m(t)),!t)return new R;if(t instanceof R)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,f=(a+i)/2;return u?(s=e===a?(r-n)/u+6*(r<n):r===a?(n-e)/u+2:(e-r)/u+4,u/=f<.5?a+i:2-a-i,s*=60):u=f>0&&f<1?0:s,new R(s,u,f,t.opacity)}function R(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function L(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}n(o,m,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return T(this).formatHsl()},formatRgb:b,toString:b}),n(k,(function(t,e,r,n){return 1===arguments.length?x(t):new k(t,e,r,null==n?1:n)}),i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatRgb:S,toString:S})),n(R,(function(t,e,r,n){return 1===arguments.length?T(t):new R(t,e,r,null==n?1:n)}),i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new R(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new R(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new k(L(t>=240?t-240:t+120,i,n),L(t,i,n),L(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},,function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"colorToRGBA",(function(){return l})),r.d(e,"PILEUP_COLORS",(function(){return h})),r.d(e,"PILEUP_COLOR_IXS",(function(){return d})),r.d(e,"cigarTypeToText",(function(){return p})),r.d(e,"parseMD",(function(){return v})),r.d(e,"getSubstitutions",(function(){return g}));var n=r(218),i=r(471),o=r(472),a=r(219),s=r(127),u=r(216),f=r(217),c=r.n(f);function l(t,e=1){let r=Object(a.a)(t);return r||(r=Object(a.a)("gray")),[r.rgb().r/255,r.rgb().g/255,r.rgb().b/255,e]}const h={BG:[.89,.89,.89,1],BG2:[.85,.85,.85,1],BG_MUTED:[.92,.92,.92,1],A:[0,0,1,1],C:[1,0,0,1],G:[0,1,0,1],T:[1,1,0,1],S:[0,0,0,.5],H:[0,0,0,.5],X:[0,0,0,.7],I:[1,0,1,.5],D:[1,.5,.5,.5],N:[1,1,1,1],BLACK:[0,0,0,1],BLACK_05:[0,0,0,.5],PLUS_STRAND:[.75,.75,1,1],MINUS_STRAND:[1,.75,.75,1]},d={};Object.keys(h).map((t,e)=>(d[t]=e,null));const p=t=>"D"===t?"Deletion":"S"===t?"Soft clipping":"H"===t?"Hard clipping":"I"===t?"Insertion":"N"===t?"Skipped region":t,v=(t,e)=>{let r=0,n=0,i=!1,o=0;const a=[];for(let s=0;s<t.length;s++)t[s].match(/[0-9]/g)?(n=10*n+ +t[s],i=!1):"^"===t[s]?i=!0:(r+=n,e?a.push({length:n,type:t[s]}):i?o-=1:a.push({pos:r,base:t[s],length:1,bamSeqShift:o}),n=0,r+=1);return a},g=(t,e)=>{let r=[],n=null;if(t.cigar){const e=v(t.cigar,!0);let i=0;for(const t of e)"X"===t.type?(r.push({pos:i,length:t.length,type:"X"}),i+=t.length):"I"===t.type?r.push({pos:i,length:t.length,type:"I"}):"D"===t.type?(r.push({pos:i,length:t.length,type:"D"}),i+=t.length):"N"===t.type?(r.push({pos:i,length:t.length,type:"N"}),i+=t.length):"="!==t.type&&"M"!==t.type||(i+=t.length);const o=e[0],a=e[e.length-1];"S"===o.type&&(n=o,r.push({pos:-o.length,type:"S",length:o.length})),"S"===a.type&&r.push({pos:t.to-t.from,length:a.length,type:"S"}),"H"===o.type&&r.push({pos:-o.length,type:"H",length:o.length}),"H"===a.type&&r.push({pos:t.to-t.from,length:a.length,type:"H"})}if(t.md){const i=v(t.md,!1);i.forEach((function(t){let r=t.pos+t.bamSeqShift,i=r+t.length;null!==n&&(r+=n.length,i+=n.length),t.variant=e.substring(r,i),delete t.bamSeqShift})),r=i.concat(r)}return r},y=Object(i.a)(t=>t.pos).left;function b(t,e){const r=t[0],n=e[0];if(r.indexOf("_")>=0){const t=r.split("_");if(n.indexOf("_")>=0){const e=n.split("_");return b(t[1],e[1])}return 1}if(n.indexOf("_")>=0)return-1;const i=[],o=[];for(const t of r.match(/(\\d+|[^\\d]+)/g))i.push(Number.isNaN(t)?t.toLowerCase():+t);for(const t of n.match(/(\\d+|[^\\d]+)/g))i.push(Number.isNaN(t)?t.toLowerCase():+t);for(const t of["m","y","x"]){if(n.toLowerCase().includes(t))return-1;if(r.toLowerCase().includes(t))return 1}return i<o?-1:o>i?1:0}function m(t){const e=[],r={},n={};let i=0;for(let o=0;o<t.length;o++){const a=Number(t[o][1]);i+=a;const s={id:o,chr:t[o][0],pos:i-a};e.push(s),n[s.chr]=s,r[t[o][0]]=a}return{cumPositions:e,chrPositions:n,totalLength:i,chromLengths:r}}function w(t,e){const r={};return r.absToChr=t=>r.chrPositions?((t,e)=>{if(!e||!e.cumPositions||!e.cumPositions.length)return null;let r=y(e.cumPositions,t);const n=e.cumPositions[e.cumPositions.length-1].chr,i=e.chromLengths[n];r-=r>0&&1;let o=Math.floor(t-e.cumPositions[r].pos),a=0;return o<0&&(a=o-1,o=1),r===e.cumPositions.length-1&&o>i&&(a=o-i,o=i),[e.cumPositions[r].chr,o,a,r]})(t,r):null,r.chrToAbs=([t,e]=[])=>{return r.chrPositions?(n=t,i=e,r.chrPositions[n].pos+i):null;var n,i},Object(n.a)(t,(t,n)=>{if(t)e&&e(null);else{const t=m(Object(o.a)(n));Object.keys(t).forEach(e=>{r[e]=t[e]}),e&&e(r)}})}const _=(t,e,r)=>{const n=t.get("seq"),i={id:t._id,from:+t.data.start+1+r,to:+t.data.end+1+r,md:t.get("MD"),chrName:e,chrOffset:r,cigar:t.get("cigar"),mapq:t.get("mq"),strand:1===t.get("strand")?"+":"-",row:null,substitutions:[]};return i.substitutions=g(i,n),i},x={},k={},E={},S={},A=new c.a({max:20}),O={},T={},R=t=>{const{chromSizesUrl:e,bamUrl:r}=T[t],n=e?[k[r],E[e]]:[k[r]];return Promise.all(n).then(n=>{let i=null;if(n.length>1)i=n[1];else{const t=[];for(const{refName:e,length:n}of x[r].indexToChr)t.push([e,n]);t.sort(b),i=m(t)}S[e]=i;const o={tile_size:1024,bins_per_dimension:1024,max_zoom:Math.ceil(Math.log(i.totalLength/1024)/Math.log(2)),max_width:i.totalLength,min_pos:[0],max_pos:[i.totalLength]};return O[t]=o,o})},L=async(t,e,r)=>{const{bamUrl:n,chromSizesUrl:i}=T[t],o=x[n];return R(t).then(n=>{const a=+n.max_width/2**+e,s=[];if(a>2e5)return new Promise(t=>t([]));let u=n.min_pos[0]+r*a;const f=n.min_pos[0]+(r+1)*a,c=S[i],{chromLengths:l,cumPositions:h}=c;for(let n=0;n<h.length;n++){const i=h[n].chr,a=h[n].pos,c=h[n].pos+l[i];if(A.set(`${t}.${e}.${r}`,[]),a<=u&&u<c){if(!(f>c)){const c=Math.ceil(f-a),l=Math.floor(u-a);s.push(o.getRecordsForRange(i,l,c,{}).then(o=>{const a=o.map(t=>_(t,i,h[n].pos));return A.set(`${t}.${e}.${r}`,A.get(`${t}.${e}.${r}`).concat(a)),[]}));break}s.push(o.getRecordsForRange(i,u-a,c-a).then(o=>{const a=o.map(t=>_(t,i,h[n].pos));A.set(`${t}.${e}.${r}`,A.get(`${t}.${e}.${r}`).concat(a))})),u=c}}return Promise.all(s).then(t=>t.flat())})},M={init:(t,e,r,n)=>{n="https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.mod.chrom.sizes",x[e]||(x[e]=new u.BamFile({bamUrl:e,baiUrl:r}),k[e]=x[e].getHeader()),E[n]=E[n]||new Promise(t=>{w(n,t)}),T[t]={bamUrl:e,chromSizesUrl:n}},tilesetInfo:R,fetchTilesDebounced:async(t,e)=>{const r={},n=[],i=[];for(const r of e){const e=r.split("."),o=parseInt(e[0],10),a=parseInt(e[1],10);Number.isNaN(a)||Number.isNaN(o)?console.warn("Invalid tile zoom or position:",o,a):(n.push(r),i.push(L(t,o,a)))}return Promise.all(i).then(t=>(t.forEach((t,e)=>{const i=n[e];r[i]=t,r[i].tilePositionId=i}),r))},tile:L,getTabularData:(e,r)=>{const n={};for(const t of r){const r=A.get(`${e}.${t}`);if(r.error)throw new Error(r.error);for(const t of r)n[t.id]={...t,substitutions:JSON.stringify(t.substitutions)}}const i=Object.values(n),o=t.from(JSON.stringify(i)).buffer;return Object(s.a)(o,[o])}};Object(s.b)(M)}.call(this,r(7).Buffer)},function(t,e,r){"use strict";e.byteLength=function(t){var e=f(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=f(t),a=n[0],s=n[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),c=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[c++]=255&e);1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=r?i-1:0,h=r?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+l],l+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+t[e+l],l+=h,c-=8);if(0===o)o=1-f;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=f}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,f=8*o-i-1,c=(1<<f)-1,l=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=c?(s=0,a=c):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[r+d]=255&a,d+=p,a/=256,f-=8);t[r+d-p]|=128*v}},function(t,e,r){"use strict";t.exports=t=>!!t&&("symbol"==typeof Symbol.observable&&"function"==typeof t[Symbol.observable]?t===t[Symbol.observable]():"function"==typeof t["@@observable"]&&t===t["@@observable"]())},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultSerializer=e.extendSerializer=void 0,e.extendSerializer=function(t,e){const r=t.deserialize.bind(t),n=t.serialize.bind(t);return{deserialize:t=>e.deserialize(t,r),serialize:t=>e.serialize(t,n)}};const n={deserialize:t=>Object.assign(Error(t.message),{name:t.name,stack:t.stack}),serialize:t=>({__error_marker:"$$error",message:t.message,name:t.name,stack:t.stack})};e.DefaultSerializer={deserialize(t){return(e=t)&&"object"==typeof e&&"__error_marker"in e&&"$$error"===e.__error_marker?n.deserialize(t):t;var e},serialize:t=>t instanceof Error?n.serialize(t):t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$worker=e.$transferable=e.$terminate=e.$events=e.$errors=void 0,e.$errors=Symbol("thread.errors"),e.$events=Symbol("thread.events"),e.$terminate=Symbol("thread.terminate"),e.$transferable=Symbol("thread.transferable"),e.$worker=Symbol("thread.worker")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerMessageType=e.MasterMessageType=void 0,function(t){t.cancel="cancel",t.run="run"}(e.MasterMessageType||(e.MasterMessageType={})),function(t){t.error="error",t.init="init",t.result="result",t.running="running",t.uncaughtError="uncaughtError"}(e.WorkerMessageType||(e.WorkerMessageType={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={isWorkerRuntime:function(){const t="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return!("undefined"==typeof self||!self.postMessage||t)},postMessageToMaster:function(t,e){self.postMessage(t,e)},subscribeToMasterMessages:function(t){const e=e=>{t(e.data)};return self.addEventListener("message",e),()=>{self.removeEventListener("message",e)}}}},function(t,e,r){var n=r(131);t.exports=n},function(t,e,r){var n=r(0),i=r(8);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:r(15).f})},function(t,e,r){r(38),r(53);var n=r(240);t.exports=n},function(t,e,r){"use strict";var n=r(20),i=r(233),o=r(39),a=r(23),s=r(139),u=a.set,f=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(2),i=r(14);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){"use strict";var n=r(140).IteratorPrototype,i=r(51),o=r(36),a=r(31),s=r(39),u=function(){return this};t.exports=function(t,e,r){var f=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,f,!1,!0),s[f]=u,t}},function(t,e,r){"use strict";var n=r(87),i=r(67);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can\'t set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var n=r(85),i=r(49),o=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),f=s.length;return u<0||u>=f?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===f||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,r){var n=r(9),i=r(68);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},function(t,e,r){var n=r(149);t.exports=n},function(t,e,r){r(0)({target:"Array",stat:!0},{isArray:r(54)})},function(t,e,r){r(38),r(53);var n=r(68);t.exports=n},function(t,e,r){var n=r(151);t.exports=n},function(t,e,r){var n=r(20),i=r(92).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e){},function(t,e,r){r(5)("hasInstance")},function(t,e,r){r(5)("isConcatSpreadable")},function(t,e,r){r(5)("match")},function(t,e,r){r(5)("matchAll")},function(t,e,r){r(5)("replace")},function(t,e,r){r(5)("search")},function(t,e,r){r(5)("species")},function(t,e,r){r(5)("split")},function(t,e,r){r(5)("toPrimitive")},function(t,e,r){r(5)("toStringTag")},function(t,e,r){r(5)("unscopables")},function(t,e,r){r(31)(Math,"Math",!0)},function(t,e,r){var n=r(2);r(31)(n.JSON,"JSON",!0)},function(t,e,r){var n=r(158);t.exports=n},function(t,e,r){var n=r(0),i=r(262);n({target:"Array",stat:!0,forced:!r(161)((function(t){Array.from(t)}))},{from:i})},function(t,e,r){"use strict";var n=r(37),i=r(16),o=r(159),a=r(160),s=r(24),u=r(69),f=r(68);t.exports=function(t){var e,r,c,l,h,d,p=i(t),v="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,b=void 0!==y,m=f(p),w=0;if(b&&(y=n(y,g>2?arguments[2]:void 0,2)),null==m||v==Array&&a(m))for(r=new v(e=s(p.length));e>w;w++)d=b?y(p[w],w):p[w],u(r,w,d);else for(h=(l=m.call(p)).next,r=new v;!(c=h.call(l)).done;w++)d=b?o(l,y,[c.value,w],!0):c.value,u(r,w,d);return r.length=w,r}},function(t,e,r){var n=r(264);t.exports=n},function(t,e,r){r(265);var n=r(1).Object,i=t.exports=function(t,e){return n.defineProperties(t,e)};n.defineProperties.sham&&(i.sham=!0)},function(t,e,r){var n=r(0),i=r(8);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:r(143)})},function(t,e,r){var n=r(267);t.exports=n},function(t,e,r){r(268);var n=r(1);t.exports=n.Object.getOwnPropertyDescriptors},function(t,e,r){var n=r(0),i=r(8),o=r(269),a=r(20),s=r(35),u=r(69);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,f=o(n),c={},l=0;f.length>l;)void 0!==(r=i(n,e=f[l++]))&&u(c,e,r);return c}})},function(t,e,r){var n=r(22),i=r(92),o=r(93),a=r(9);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},function(t,e,r){r(38);var n=r(271),i=r(67),o=Array.prototype,a={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||a.hasOwnProperty(i(t))?n:e}},function(t,e,r){var n=r(272);t.exports=n},function(t,e,r){r(273);var n=r(17);t.exports=n("Array").forEach},function(t,e,r){"use strict";var n=r(0),i=r(274);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,r){"use strict";var n=r(40).forEach,i=r(72),o=r(41),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){var n=r(162);t.exports=n},function(t,e,r){var n=r(0),i=r(3),o=r(20),a=r(35).f,s=r(8),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,r){var n=r(278);t.exports=n},function(t,e,r){var n=r(279),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?n:e}},function(t,e,r){r(280);var n=r(17);t.exports=n("Array").filter},function(t,e,r){"use strict";var n=r(0),i=r(40).filter,o=r(70),a=r(41),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(163);t.exports=n},function(t,e,r){var n=r(164);t.exports=n},function(t,e,r){var n=r(0),i=r(16),o=r(66);n({target:"Object",stat:!0,forced:r(3)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,r){var n=r(285);t.exports=n},function(t,e,r){r(286);var n=r(1);t.exports=n.Reflect.construct},function(t,e,r){var n=r(0),i=r(22),o=r(12),a=r(9),s=r(6),u=r(51),f=r(165),c=r(3),l=i("Reflect","construct"),h=c((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),d=!c((function(){l((function(){}))})),p=h||d;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var r=arguments.length<3?t:o(arguments[2]);if(d&&!h)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(f.apply(t,n))}var i=r.prototype,c=u(s(i)?i:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,r){t.exports=r(288)},function(t,e,r){var n=r(149);t.exports=n},function(t,e,r){var n=r(42),i=r(55);t.exports=function(t,e){var r=t&&(void 0!==n&&i(t)||t["@@iterator"]);if(null!=r){var o,a,s=[],u=!0,f=!1;try{for(r=r.call(t);!(u=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);u=!0);}catch(t){f=!0,a=t}finally{try{u||null==r.return||r.return()}finally{if(f)throw a}}return s}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(151);r(291),r(292),r(293),r(294),r(295),t.exports=n},function(t,e,r){r(5)("asyncDispose")},function(t,e,r){r(5)("dispose")},function(t,e,r){r(5)("observable")},function(t,e,r){r(5)("patternMatch")},function(t,e,r){r(5)("replaceAll")},function(t,e,r){t.exports=r(297)},function(t,e,r){var n=r(168);t.exports=n},function(t,e,r){r(299);var n=r(17);t.exports=n("Array").slice},function(t,e,r){"use strict";var n=r(0),i=r(6),o=r(54),a=r(146),s=r(24),u=r(20),f=r(69),c=r(4),l=r(70),h=r(41),d=l("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),g=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var r,n,c,l=u(this),h=s(l.length),d=a(t,h),p=a(void 0===e?h:e,h);if(o(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[v])&&(r=void 0):r=void 0,r===Array||void 0===r))return g.call(l,d,p);for(n=new(void 0===r?Array:r)(y(p-d,0)),c=0;d<p;d++,c++)d in l&&f(n,c,l[d]);return n.length=c,n}})},function(t,e,r){var n=r(158);t.exports=n},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(131);t.exports=n},function(t,e,r){var n=r(304);t.exports=n},function(t,e,r){var n=r(305),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||t instanceof Array&&e===i.map?n:e}},function(t,e,r){r(306);var n=r(17);t.exports=n("Array").map},function(t,e,r){"use strict";var n=r(0),i=r(40).map,o=r(70),a=r(41),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(171);r(313),r(314),r(315),r(316),t.exports=n},function(t,e,r){"use strict";var n,i,o,a,s=r(0),u=r(21),f=r(2),c=r(22),l=r(172),h=r(52),d=r(102),p=r(31),v=r(309),g=r(6),y=r(12),b=r(103),m=r(30),w=r(137),_=r(33),x=r(161),k=r(173),E=r(174).set,S=r(310),A=r(176),O=r(311),T=r(58),R=r(75),L=r(23),M=r(133),P=r(4),I=r(89),j=P("species"),C="Promise",B=L.get,N=L.set,z=L.getterFor(C),F=l,U=f.TypeError,D=f.document,Z=f.process,q=c("fetch"),H=T.f,W=H,Y="process"==m(Z),G=!!(D&&D.createEvent&&f.dispatchEvent),$=M(C,(function(){if(!(w(F)!==String(F))){if(66===I)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(I>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[j]=e,!(t.then((function(){}))instanceof e)})),V=$||!x((function(t){F.all(t).catch((function(){}))})),K=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},X=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){for(var i=e.value,o=1==e.state,a=0;n.length>a;){var s,u,f,c=n[a++],l=o?c.ok:c.fail,h=c.resolve,d=c.reject,p=c.domain;try{l?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?s=i:(p&&p.enter(),s=l(i),p&&(p.exit(),f=!0)),s===c.promise?d(U("Promise-chain cycle")):(u=K(s))?u.call(s,h,d):h(s)):d(i)}catch(t){p&&!f&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&Q(t,e)}))}},J=function(t,e,r){var n,i;G?((n=D.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),f.dispatchEvent(n)):n={promise:e,reason:r},(i=f["on"+t])?i(n):"unhandledrejection"===t&&O("Unhandled promise rejection",r)},Q=function(t,e){E.call(f,(function(){var r,n=e.value;if(tt(e)&&(r=R((function(){Y?Z.emit("unhandledRejection",n,t):J("unhandledrejection",t,n)})),e.rejection=Y||tt(e)?2:1,r.error))throw r.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){E.call(f,(function(){Y?Z.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},rt=function(t,e,r,n){return function(i){t(e,r,i,n)}},nt=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,X(t,e,!0))},it=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw U("Promise can\'t be resolved itself");var i=K(r);i?S((function(){var n={done:!1};try{i.call(r,rt(it,t,n,e),rt(nt,t,n,e))}catch(r){nt(t,n,r,e)}})):(e.value=r,e.state=1,X(t,e,!1))}catch(r){nt(t,{done:!1},r,e)}}};$&&(F=function(t){b(this,F,C),y(t),n.call(this);var e=B(this);try{t(rt(it,this,e),rt(nt,this,e))}catch(t){nt(this,e,t)}},(n=function(t){N(this,{type:C,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(t,e){var r=z(this),n=H(k(this,F));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Y?Z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&X(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=B(t);this.promise=t,this.resolve=rt(it,t,e),this.reject=rt(nt,t,e)},T.f=H=function(t){return t===F||t===o?new i(t):W(t)},u||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var r=this;return new F((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof q&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(F,q.apply(f,arguments))}}))),s({global:!0,wrap:!0,forced:$},{Promise:F}),p(F,C,!1,!0),v(C),o=c(C),s({target:C,stat:!0,forced:$},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:C,stat:!0,forced:u||$},{resolve:function(t){return A(u&&this===o?F:this,t)}}),s({target:C,stat:!0,forced:V},{all:function(t){var e=this,r=H(e),n=r.resolve,i=r.reject,o=R((function(){var r=y(e.resolve),o=[],a=0,s=1;_(t,(function(t){var u=a++,f=!1;o.push(void 0),s++,r.call(e,t).then((function(t){f||(f=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=H(e),n=r.reject,i=R((function(){var i=y(e.resolve);_(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},function(t,e,r){"use strict";var n=r(22),i=r(15),o=r(4),a=r(8),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n,i,o,a,s,u,f,c,l=r(2),h=r(35).f,d=r(30),p=r(174).set,v=r(175),g=l.MutationObserver||l.WebKitMutationObserver,y=l.process,b=l.Promise,m="process"==d(y),w=h(l,"queueMicrotask"),_=w&&w.value;_||(n=function(){var t,e;for(m&&(t=y.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},m?a=function(){y.nextTick(n)}:g&&!v?(s=!0,u=document.createTextNode(""),new g(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):b&&b.resolve?(f=b.resolve(void 0),c=f.then,a=function(){c.call(f,n)}):a=function(){p.call(l,n)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,r){var n=r(2);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},function(t,e,r){"use strict";var n=r(0),i=r(21),o=r(172),a=r(3),s=r(22),u=r(173),f=r(176),c=r(52);n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return f(e,t()).then((function(){return r}))}:t,r?function(r){return f(e,t()).then((function(){throw r}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(t,e,r){"use strict";var n=r(0),i=r(8),o=r(65),a=r(88),s=r(51),u=r(15),f=r(36),c=r(33),l=r(14),h=r(23),d=h.set,p=h.getterFor("AggregateError"),v=function(t,e){var r=this;if(!(r instanceof v))return new v(t,e);a&&(r=a(new Error(e),o(r)));var n=[];return c(t,n.push,n),i?d(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==e&&l(r,"message",String(e)),r};v.prototype=s(Error.prototype,{constructor:f(5,v),message:f(5,""),name:f(5,"AggregateError")}),i&&u.f(v.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),n({global:!0},{AggregateError:v})},function(t,e,r){r(177)},function(t,e,r){"use strict";var n=r(0),i=r(58),o=r(75);n({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),r=o(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}})},function(t,e,r){"use strict";var n=r(0),i=r(12),o=r(22),a=r(58),s=r(75),u=r(33);n({target:"Promise",stat:!0},{any:function(t){var e=this,r=a.f(e),n=r.resolve,f=r.reject,c=s((function(){var r=i(e.resolve),a=[],s=0,c=1,l=!1;u(t,(function(t){var i=s++,u=!1;a.push(void 0),c++,r.call(e,t).then((function(t){u||l||(l=!0,n(t))}),(function(t){u||l||(u=!0,a[i]=t,--c||f(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--c||f(new(o("AggregateError"))(a,"No one promise resolved"))}));return c.error&&f(c.value),r.promise}})},function(t,e,r){var n=r(168);t.exports=n},function(t,e,r){t.exports=r(319)},function(t,e,r){var n=r(320);t.exports=n},function(t,e,r){r(321);var n=r(1).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){r(0)({target:"Object",stat:!0,sham:!r(8)},{create:r(51)})},function(t,e,r){var n=r(178);function i(e,r){return t.exports=i=n||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,i(e,r)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(324);t.exports=n},function(t,e,r){r(325);var n=r(1);t.exports=n.Object.setPrototypeOf},function(t,e,r){r(0)({target:"Object",stat:!0},{setPrototypeOf:r(88)})},function(t,e,r){var n=r(327);t.exports=n},function(t,e,r){r(156),r(53),r(38);var n=r(71);t.exports=n.f("iterator")},function(t,e,r){t.exports=r(329)},function(t,e,r){var n=r(330);t.exports=n},function(t,e,r){r(331);var n=r(1);t.exports=n.Object.getPrototypeOf},function(t,e,r){var n=r(0),i=r(3),o=r(16),a=r(65),s=r(141);n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,r){var n=r(333);t.exports=n},function(t,e,r){var n=r(334),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?n:e}},function(t,e,r){r(152);var n=r(17);t.exports=n("Array").concat},function(t,e,r){"use strict";var n=r(28);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(336)),o=n(r(46)),a=n(r(47)),s=n(r(110)),u=r(184),f=n(r(338)),c=n(r(339)),l=function(){function t(e){var r=e.fill,n=e.cache;if((0,o.default)(this,t),(0,s.default)(this,"cache",void 0),(0,s.default)(this,"fillCallback",void 0),"function"!=typeof r)throw new TypeError("must pass a fill function");if("object"!==(0,i.default)(n))throw new TypeError("must pass a cache object");if("function"!=typeof n.get||"function"!=typeof n.set||"function"!=typeof n.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=r}return(0,a.default)(t,[{key:"evict",value:function(t,e){this.cache.get(t)===e&&this.cache.delete(t)}},{key:"fill",value:function(t,e,r,n){var i=this,o=new f.default,a=new c.default;a.addCallback(n);var s={aborter:o,promise:this.fillCallback(e,o.signal,(function(t){a.callback(t)})),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(r),s.aborter.signal.addEventListener("abort",(function(){s.settled||i.evict(t,s)})),s.promise.then((function(){s.settled=!0}),(function(e){s.settled=!0,i.evict(t,s)})).catch((function(t){throw console.error(t),t})),this.cache.set(t,s)}},{key:"has",value:function(t){return this.cache.has(t)}},{key:"get",value:function(e,r,n,i){if(!n&&r instanceof u.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var o=this.cache.get(e);return o?o.aborted&&!o.settled?(this.evict(e,o),this.get(e,r,n,i)):o.settled?o.promise:(o.aborter.addSignal(n),o.statusReporter.addCallback(i),t.checkSinglePromise(o.promise,n)):(this.fill(e,r,n,i),t.checkSinglePromise(this.cache.get(e).promise,n))}},{key:"delete",value:function(t){var e=this.cache.get(t);e&&(e.settled||e.aborter.abort(),this.cache.delete(t))}},{key:"clear",value:function(){for(var t=this.cache.keys(),e=0,r=t.next();!r.done;r=t.next())this.delete(r.value),e+=1;return e}}],[{key:"isAbortException",value:function(t){return"AbortError"===t.name||"ERR_ABORTED"===t.code||"AbortError: aborted"===t.message||"Error: aborted"===t.message}},{key:"checkSinglePromise",value:function(t,e){function r(){if(e&&e.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then((function(t){return r(),t}),(function(t){throw r(),t}))}}]),t}();e.default=l},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function l(t,e,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(){n(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return o(t,[{key:"addEventListener",value:function(t,e,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:r})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var r=this.listeners[t],n=0,i=r.length;n<i;n++)if(r[n].callback===e)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),r=0,n=e.length;r<n;r++){var i=e[r];try{i.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),t}(),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e=c(r);function r(){var t;return n(this,r),(t=e.call(this)).listeners||h.call(u(t)),Object.defineProperty(u(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return o(r,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(a(r.prototype),"dispatchEvent",this).call(this,t)}}]),r}(h),p=function(){function t(){n(this,t),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return o(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),e.AbortController=p,e.AbortSignal=d,e.abortableFetch=function(t){"function"==typeof t&&(t={fetch:t});var e=t,r=e.fetch,n=e.Request,i=void 0===n?r.Request:n,o=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}({fetch:r,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:r,Request:u};var u=i;(u&&!u.prototype.hasOwnProperty("signal")||s)&&((u=function(t,e){var r;e&&e.signal&&(r=e.signal,delete e.signal);var n=new i(t,e);return r&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),n}).prototype=i.prototype);var f=r;return{fetch:function(t,e){var r=u&&u.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(r){var n;try{n=new DOMException("Aborted","AbortError")}catch(t){(n=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(n);var i=new Promise((function(t,e){r.addEventListener("abort",(function(){return e(n)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([i,f(t,e)])}return f(t,e)},Request:u}}},function(t,e,r){"use strict";var n=r(28);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(47)),o=n(r(110)),a=n(r(46)),s=r(184),u=function t(){(0,a.default)(this,t)},f=function(){function t(){(0,a.default)(this,t),(0,o.default)(this,"signals",new Set),(0,o.default)(this,"abortController",new s.AbortController)}return(0,i.default)(t,[{key:"addSignal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new u;if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",(function(){t.handleAborted(e)}))}},{key:"handleAborted",value:function(t){this.signals.delete(t),0===this.signals.size&&this.abortController.abort()}},{key:"abort",value:function(){this.abortController.abort()}},{key:"signal",get:function(){return this.abortController.signal}}]),t}();e.default=f},function(t,e,r){"use strict";var n=r(28);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(46)),o=n(r(47)),a=n(r(110)),s=function(){function t(){(0,i.default)(this,t),(0,a.default)(this,"callbacks",new Set),(0,a.default)(this,"currentMessage",void 0)}return(0,o.default)(t,[{key:"addCallback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.callbacks.add(t),t(this.currentMessage)}},{key:"callback",value:function(t){this.currentMessage=t,this.callbacks.forEach((function(e){e(t)}))}}]),t}();e.default=s},function(t,e,r){var n=r(341);t.exports=n},function(t,e,r){var n=r(342),i=Array.prototype;t.exports=function(t){var e=t.sort;return t===i||t instanceof Array&&e===i.sort?n:e}},function(t,e,r){r(343);var n=r(17);t.exports=n("Array").sort},function(t,e,r){"use strict";var n=r(0),i=r(12),o=r(16),a=r(3),s=r(72),u=[],f=u.sort,c=a((function(){u.sort(void 0)})),l=a((function(){u.sort(null)})),h=s("sort");n({target:"Array",proto:!0,forced:c||!l||!h},{sort:function(t){return void 0===t?f.call(o(this)):f.call(o(this),i(t))}})},function(t,e,r){t.exports=r(345)},function(t,e,r){var n=r(346);t.exports=n},function(t,e,r){r(347),t.exports=-9007199254740991},function(t,e,r){r(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,r){t.exports=r(349)},function(t,e,r){var n=r(350);t.exports=n},function(t,e,r){r(351),t.exports=9007199254740991},function(t,e,r){r(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){t.exports=r(353)},function(t,e,r){r(354);var n=r(1);t.exports=n.setTimeout},function(t,e,r){var n=r(0),i=r(2),o=r(90),a=[].slice,s=function(t){return function(e,r){var n=arguments.length>2,i=n?a.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};n({global:!0,bind:!0,forced:/MSIE .\\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(t,e,r){var n=r(171);t.exports=n},function(t,e,r){t.exports=r(357)},function(t,e,r){var n=r(358);r(363),r(365),r(367),r(369),t.exports=n},function(t,e,r){r(91),r(359),r(38);var n=r(1);t.exports=n.WeakMap},function(t,e,r){"use strict";var n,i=r(2),o=r(102),a=r(113),s=r(361),u=r(362),f=r(6),c=r(23).enforce,l=r(136),h=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},v=t.exports=s("WeakMap",p,u);if(l&&h){n=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var g=v.prototype,y=g.delete,b=g.has,m=g.get,w=g.set;o(g,{delete:function(t){if(f(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),y.call(this,t)||e.frozen.delete(t)}return y.call(this,t)},has:function(t){if(f(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),b.call(this,t)||e.frozen.has(t)}return b.call(this,t)},get:function(t){if(f(t)&&!d(t)){var e=c(this);return e.frozen||(e.frozen=new n),b.call(this,t)?m.call(this,t):e.frozen.get(t)}return m.call(this,t)},set:function(t,e){if(f(t)&&!d(t)){var r=c(this);r.frozen||(r.frozen=new n),b.call(this,t)?w.call(this,t,e):r.frozen.set(t,e)}else w.call(this,t,e);return this}})}},function(t,e,r){var n=r(3);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,r){"use strict";var n=r(0),i=r(2),o=r(113),a=r(3),s=r(14),u=r(33),f=r(103),c=r(6),l=r(31),h=r(15).f,d=r(40).forEach,p=r(8),v=r(23),g=v.set,y=v.getterFor;t.exports=function(t,e,r){var v,b=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),w=b?"set":"add",_=i[t],x=_&&_.prototype,k={};if(p&&"function"==typeof _&&(m||x.forEach&&!a((function(){(new _).entries().next()})))){v=e((function(e,r){g(f(e,v,t),{type:t,collection:new _}),null!=r&&u(r,e[w],e,b)}));var E=y(t);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(v.prototype,t,(function(r,n){var i=E(this).collection;if(!e&&m&&!c(r))return"get"==t&&void 0;var o=i[t](0===r?0:r,n);return e?this:o}))})),m||h(v.prototype,"size",{configurable:!0,get:function(){return E(this).collection.size}})}else v=r.getConstructor(e,t,b,w),o.REQUIRED=!0;return l(v,t,!1,!0),k[t]=v,n({global:!0,forced:!0},k),m||r.setStrong(v,t,b),v}},function(t,e,r){"use strict";var n=r(102),i=r(113).getWeakData,o=r(9),a=r(6),s=r(103),u=r(33),f=r(40),c=r(11),l=r(23),h=l.set,d=l.getterFor,p=f.find,v=f.findIndex,g=0,y=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},m=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var r=m(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,f){var l=t((function(t,n){s(t,l,e),h(t,{type:e,id:g++,frozen:void 0}),null!=n&&u(n,t[f],t,r)})),p=d(e),v=function(t,e,r){var n=p(t),a=i(o(e),!0);return!0===a?y(n).set(e,r):a[n.id]=r,t};return n(l.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var r=i(t);return!0===r?y(e).delete(t):r&&c(r,e.id)&&delete r[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var r=i(t);return!0===r?y(e).has(t):r&&c(r,e.id)}}),n(l.prototype,r?{get:function(t){var e=p(this);if(a(t)){var r=i(t);return!0===r?y(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),l}}},function(t,e,r){r(0)({target:"WeakMap",stat:!0},{from:r(364)})},function(t,e,r){"use strict";var n=r(12),i=r(37),o=r(33);t.exports=function(t){var e,r,a,s,u=arguments.length,f=u>1?arguments[1]:void 0;return n(this),(e=void 0!==f)&&n(f),null==t?new this:(r=[],e?(a=0,s=i(f,u>2?arguments[2]:void 0,2),o(t,(function(t){r.push(s(t,a++))}))):o(t,r.push,r),new this(r))}},function(t,e,r){r(0)({target:"WeakMap",stat:!0},{of:r(366)})},function(t,e,r){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,r){"use strict";var n=r(0),i=r(21),o=r(368);n({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,r){"use strict";var n=r(9),i=r(12);t.exports=function(){for(var t,e=n(this),r=i(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=r.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,r){"use strict";r(0)({target:"WeakMap",proto:!0,real:!0,forced:r(21)},{upsert:r(370)})},function(t,e,r){"use strict";var n=r(9);t.exports=function(t,e){var r,i=n(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof o&&(r=o(),i.set(t,r)),r}},function(t,e,r){t.exports=r(372)},function(t,e,r){var n=r(162);t.exports=n},function(t,e,r){t.exports=r(374)},function(t,e,r){var n=r(375);t.exports=n},function(t,e,r){r(376);var n=r(1);t.exports=n.Object.assign},function(t,e,r){var n=r(0),i=r(377);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,r){"use strict";var n=r(8),i=r(3),o=r(66),a=r(93),s=r(81),u=r(16),f=r(61),c=Object.assign,l=Object.defineProperty;t.exports=!c||i((function(){if(n&&1!==c({b:1},c(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[r]||"abcdefghijklmnopqrst"!=o(c({},e)).join("")}))?function(t,e){for(var r=u(t),i=arguments.length,c=1,l=a.f,h=s.f;i>c;)for(var d,p=f(arguments[c++]),v=l?o(p).concat(l(p)):o(p),g=v.length,y=0;g>y;)d=v[y++],n&&!h.call(p,d)||(r[d]=p[d]);return r}:c},function(t,e,r){"use strict";(function(e){var n=r(28),i=n(r(379)),o=n(r(76)),a=n(r(77)),s=n(r(46)),u=n(r(47)),f=r(189).unzip,c=r(203),l=r(410),h=function(){function t(e){var r=e.filehandle,n=e.path,i=e.gziFilehandle,o=e.gziPath;if((0,s.default)(this,t),r)this.filehandle=r;else{if(!n)throw new TypeError("either filehandle or path must be defined");this.filehandle=new c(n)}if(!i&&!o&&!n)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new l({filehandle:i,path:i||o||!n?"".concat(n,".gzi"):o})}var r,n,h,d;return(0,u.default)(t,[{key:"stat",value:(d=(0,a.default)(o.default.mark((function t(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filehandle.stat();case 2:return e=t.sent,t.t0=Object,t.t1=e,t.next=7,this.getUncompressedFileSize();case 7:return t.t2=t.sent,t.t3=void 0,t.t4=void 0,t.t5={size:t.t2,blocks:t.t3,blksize:t.t4},t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t5));case 12:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"getUncompressedFileSize",value:(h=(0,a.default)(o.default.mark((function t(){var r,n,a,s,u,f,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gzi.getLastBlock();case 2:return r=t.sent,n=(0,i.default)(r,2),a=n[1],t.next=7,this.filehandle.stat();case 7:return s=t.sent,u=s.size,f=e.allocUnsafe(4),t.next=12,this.filehandle.read(f,0,4,u-28-4);case 12:if(4===t.sent.bytesRead){t.next=16;break}throw new Error("read error");case 16:return c=f.readUInt32LE(0),t.abrupt("return",a+c);case 18:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"_readAndUncompressBlock",value:(n=(0,a.default)(o.default.mark((function t(e,r,n){var a,s,u,c,l,h,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(0,i.default)(r,1),s=a[0],u=(0,i.default)(n,1),c=u[0],l=c){t.next=7;break}return t.next=6,this.filehandle.stat();case 6:l=t.sent.size;case 7:return h=l-s,t.next=10,this.filehandle.read(e,0,h,s);case 10:return t.next=12,f(e.slice(0,h));case 12:return d=t.sent,t.abrupt("return",d);case 14:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"read",value:(r=(0,a.default)(o.default.mark((function t(r,n,a,s){var u,f,c,l,h,d,p,v,g,y;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gzi.getRelevantBlocksForRead(a,s);case 2:u=t.sent,f=e.allocUnsafe(65536),c=n,l=0,h=0;case 7:if(!(h<u.length-1)){t.next=18;break}return t.next=10,this._readAndUncompressBlock(f,u[h],u[h+1]);case 10:d=t.sent,p=(0,i.default)(u[h],2),v=p[1],g=v>=s?0:s-v,y=Math.min(s+a,v+d.length)-v,g>=0&&g<d.length&&(d.copy(r,c,g,y),c+=y-g,l+=y-g);case 15:h+=1,t.next=7;break;case 18:return t.abrupt("return",{bytesRead:l,buffer:r});case 19:case"end":return t.stop()}}),t,this)}))),function(t,e,n,i){return r.apply(this,arguments)})}]),t}();t.exports=h}).call(this,r(7).Buffer)},function(t,e,r){var n=r(380),i=r(381),o=r(382),a=r(384);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}},function(t,e,r){var n=r(383);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){"use strict";(function(t){var n=r(7).Buffer,i=r(386).Transform,o=r(399),a=r(196),s=r(195).ok,u=r(7).kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),l=0;l<c.length;l++){var h=c[l];h.match(/^Z/)&&Object.defineProperty(e,h,{enumerable:!0,value:o[h],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),v=0;v<p.length;v++){var g=p[v];d[d[g]]=g}function y(t,e,r){var i=[],o=0;function a(){for(var e;null!==(e=t.read());)i.push(e),o+=e.length;t.once("readable",a)}function s(){var e,a=null;o>=u?a=new RangeError(f):e=n.concat(i,o),i=[],t.close(),r(a,e)}t.on("error",(function(e){t.removeListener("end",s),t.removeListener("readable",a),r(e)})),t.on("end",s),t.end(e),a()}function b(t,e){if("string"==typeof e&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return t._processChunk(e,r)}function m(t){if(!(this instanceof m))return new m(t);O.call(this,t,o.DEFLATE)}function w(t){if(!(this instanceof w))return new w(t);O.call(this,t,o.INFLATE)}function _(t){if(!(this instanceof _))return new _(t);O.call(this,t,o.GZIP)}function x(t){if(!(this instanceof x))return new x(t);O.call(this,t,o.GUNZIP)}function k(t){if(!(this instanceof k))return new k(t);O.call(this,t,o.DEFLATERAW)}function E(t){if(!(this instanceof E))return new E(t);O.call(this,t,o.INFLATERAW)}function S(t){if(!(this instanceof S))return new S(t);O.call(this,t,o.UNZIP)}function A(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function O(t,r){var a=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,i.call(this,t),t.flush&&!A(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!A(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!n.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(t,r){T(s),s._hadError=!0;var n=new Error(t);n.errno=r,n.code=e.codes[r],s.emit("error",n)};var u=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(u=t.level);var f=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(f=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,u,t.memLevel||e.Z_DEFAULT_MEMLEVEL,f,t.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=f,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function T(e,r){r&&t.nextTick(r),e._handle&&(e._handle.close(),e._handle=null)}function R(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=m,e.Inflate=w,e.Gzip=_,e.Gunzip=x,e.DeflateRaw=k,e.InflateRaw=E,e.Unzip=S,e.createDeflate=function(t){return new m(t)},e.createInflate=function(t){return new w(t)},e.createDeflateRaw=function(t){return new k(t)},e.createInflateRaw=function(t){return new E(t)},e.createGzip=function(t){return new _(t)},e.createGunzip=function(t){return new x(t)},e.createUnzip=function(t){return new S(t)},e.deflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new m(e),t,r)},e.deflateSync=function(t,e){return b(new m(e),t)},e.gzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new _(e),t,r)},e.gzipSync=function(t,e){return b(new _(e),t)},e.deflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new k(e),t,r)},e.deflateRawSync=function(t,e){return b(new k(e),t)},e.unzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new S(e),t,r)},e.unzipSync=function(t,e){return b(new S(e),t)},e.inflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new w(e),t,r)},e.inflateSync=function(t,e){return b(new w(e),t)},e.gunzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new x(e),t,r)},e.gunzipSync=function(t,e){return b(new x(e),t)},e.inflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),y(new E(e),t,r)},e.inflateRawSync=function(t,e){return b(new E(e),t)},a.inherits(O,i),O.prototype.params=function(r,n,i){if(r<e.Z_MIN_LEVEL||r>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=e.Z_FILTERED&&n!=e.Z_HUFFMAN_ONLY&&n!=e.Z_RLE&&n!=e.Z_FIXED&&n!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(r,n),a._hadError||(a._level=r,a._strategy=n,i&&i())}))}else t.nextTick(i)},O.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(t){this._transform(n.alloc(0),"",t)},O.prototype.flush=function(e,r){var i=this,a=this._writableState;("function"==typeof e||void 0===e&&!r)&&(r=e,e=o.Z_FULL_FLUSH),a.ended?r&&t.nextTick(r):a.ending?r&&this.once("end",r):a.needDrain?r&&this.once("drain",(function(){return i.flush(e,r)})):(this._flushFlag=e,this.write(n.alloc(0),"",r))},O.prototype.close=function(e){T(this,e),t.nextTick(R,this)},O.prototype._transform=function(t,e,r){var i,a=this._writableState,s=(a.ending||a.ended)&&(!t||a.length===t.length);return null===t||n.isBuffer(t)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,t.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},O.prototype._processChunk=function(t,e,r){var i=t&&t.length,o=this._chunkSize-this._offset,a=0,c=this,l="function"==typeof r;if(!l){var h,d=[],p=0;this.on("error",(function(t){h=t})),s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(e,t,a,i,this._buffer,this._offset,o)}while(!this._hadError&&b(v[0],v[1]));if(this._hadError)throw h;if(p>=u)throw T(this),new RangeError(f);var g=n.concat(d,p);return T(this),g}s(this._handle,"zlib binding closed");var y=this._handle.write(e,t,a,i,this._buffer,this._offset,o);function b(u,f){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=o-f;if(s(h>=0,"have should not go down"),h>0){var v=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,l?c.push(v):(d.push(v),p+=v.length)}if((0===f||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=n.allocUnsafe(c._chunkSize)),0===f){if(a+=i-u,i=u,!l)return!0;var g=c._handle.write(e,t,a,i,c._buffer,c._offset,c._chunkSize);return g.callback=b,void(g.buffer=t)}if(!l)return!1;r()}}y.buffer=t,y.callback=b},a.inherits(m,O),a.inherits(w,O),a.inherits(_,O),a.inherits(x,O),a.inherits(k,O),a.inherits(E,O),a.inherits(S,O)}).call(this,r(19))},function(t,e,r){t.exports=i;var n=r(115).EventEmitter;function i(){n.call(this)}r(48)(i,n),i.Readable=r(116),i.Writable=r(395),i.Duplex=r(396),i.Transform=r(397),i.PassThrough=r(398),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function f(t){if(c(),0===n.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("error",f),t.on("error",f),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}},function(t,e){},function(t,e,r){"use strict";var n=r(117).Buffer,i=r(389);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,o=n.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,r=o,i=s,e.copy(r,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(391),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(18))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,u=1,f={},c=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return f[u]=i,n(u),u++},h.clearImmediate=d}function d(t){delete f[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=f[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(18),r(19))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(18))},function(t,e,r){\n/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nvar n=r(7),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";t.exports=o;var n=r(194),i=Object.create(r(60));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(48),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(118)},function(t,e,r){t.exports=r(34)},function(t,e,r){t.exports=r(116).Transform},function(t,e,r){t.exports=r(116).PassThrough},function(t,e,r){"use strict";(function(t,n){var i=r(195),o=r(119),a=r(197),s=r(200),u=r(121);for(var f in u)e[f]=u[f];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function c(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||s.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},c.prototype.write=function(t,e,r,n,i,o,a){return this._write(!0,t,e,r,n,i,o,a)},c.prototype.writeSync=function(t,e,r,n,i,o,a){return this._write(!1,t,e,r,n,i,o,a)},c.prototype._write=function(r,o,a,s,u,f,c,l){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==e.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==e.Z_NO_FLUSH&&o!==e.Z_PARTIAL_FLUSH&&o!==e.Z_SYNC_FLUSH&&o!==e.Z_FULL_FLUSH&&o!==e.Z_FINISH&&o!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=t.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=l,this.strm.output=f,this.strm.next_out=c,this.flush=o,!r)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return n.nextTick((function(){h._process(),h._after()})),this},c.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},c.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},c.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(t,r,n,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(t>=8&&t<=15,"invalid windowBits"),i(r>=-1&&r<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(o===e.Z_FILTERED||o===e.Z_HUFFMAN_ONLY||o===e.Z_RLE||o===e.Z_FIXED||o===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,t,n,o,a),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(t,r,n,i,u){switch(this.level=t,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=a.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=c}).call(this,r(7).Buffer,r(19))},function(t,e,r){"use strict";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,u=a(t),f=1;f<arguments.length;f++){for(var c in r=Object(arguments[f]))i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";var n=r(29);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var c=new Array(60);i(c);var l=new Array(512);i(l);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,v,g,y=new Array(30);function b(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?l[t]:l[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function k(t,e,r){x(t,r[2*e],r[2*e+1])}function E(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function S(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=E(o[s]++,s))}}function A(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){t.bi_valid>8?_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function T(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function R(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&T(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!T(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function L(t,e,r){var n,i,s,u,f=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*f]<<8|t.pending_buf[t.d_buf+2*f+1],i=t.pending_buf[t.l_buf+f],f++,0===n?k(t,i,e):(k(t,(s=h[i])+256+1,e),0!==(u=o[s])&&x(t,i-=d[s],u),k(t,s=w(--n),r),0!==(u=a[s])&&x(t,n-=y[s],u))}while(f<t.last_lit);k(t,256,e)}function M(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,f=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=f=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=f<2?++f:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=f,r=t.heap_len>>1;r>=1;r--)R(t,o,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,R(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,u=e.dyn_tree,f=e.max_code,c=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=u[2*u[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,v++),u[2*n+1]=o,n>f||(t.bl_count[o]++,a=0,n>=d&&(a=h[n-d]),s=u[2*n],t.opt_len+=s*(o+a),l&&(t.static_len+=s*(c[2*n+1]+a)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>f||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(t,e),S(o,f,t.bl_count)}function P(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,f=4;for(0===a&&(u=138,f=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<f?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(u=138,f=3):i===a?(u=6,f=3):(u=7,f=4))}function I(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,f=4;for(0===a&&(u=138,f=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<u&&i===a)){if(s<f)do{k(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),x(t,s-3,3)):(k(t,18,t.bl_tree),x(t,s-11,7));s=0,o=i,0===a?(u=138,f=3):i===a?(u=6,f=3):(u=7,f=4)}}i(y);var j=!1;function C(t,e,r,i){x(t,0+(i?1:0),3),function(t,e,r,i){O(t),i&&(_(t,r),_(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}e._tr_init=function(t){j||(!function(){var t,e,r,n,i,u=new Array(16);for(r=0,n=0;n<28;n++)for(d[n]=r,t=0;t<1<<o[n];t++)h[r++]=n;for(h[r-1]=n,i=0,n=0;n<16;n++)for(y[n]=i,t=0;t<1<<a[n];t++)l[i++]=n;for(i>>=7;n<30;n++)for(y[n]=i<<7,t=0;t<1<<a[n]-7;t++)l[256+i++]=n;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,u[8]++;for(;t<=255;)f[2*t+1]=9,t++,u[9]++;for(;t<=279;)f[2*t+1]=7,t++,u[7]++;for(;t<=287;)f[2*t+1]=8,t++,u[8]++;for(S(f,287,u),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=E(t,5);p=new b(f,o,257,286,15),v=new b(c,a,0,30,15),g=new b(new Array(0),s,0,19,7)}(),j=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,v),t.bl_desc=new m(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,A(t)},e._tr_stored_block=C,e._tr_flush_block=function(t,e,r,n){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),a=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?C(t,e,r,n):4===t.strategy||o===i?(x(t,2+(n?1:0),3),L(t,f,c)):(x(t,4+(n?1:0),3),function(t,e,r,n){var i;for(x(t,e-257,5),x(t,r-1,5),x(t,n-4,4),i=0;i<n;i++)x(t,t.bl_tree[2*u[i]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),L(t,t.dyn_ltree,t.dyn_dtree)),A(t),n&&O(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(h[r]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),k(t,256,f),function(t){16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,r){"use strict";t.exports=function(t,e){var r,n,i,o,a,s,u,f,c,l,h,d,p,v,g,y,b,m,w,_,x,k,E,S,A;r=t.state,n=t.next_in,S=t.input,i=n+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=r.dmax,f=r.wsize,c=r.whave,l=r.wnext,h=r.window,d=r.hold,p=r.bits,v=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),m=v[d&y];e:for(;;){if(d>>>=w=m>>>24,p-=w,0===(w=m>>>16&255))A[o++]=65535&m;else{if(!(16&w)){if(0==(64&w)){m=v[(65535&m)+(d&(1<<w)-1)];continue e}if(32&w){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}_=65535&m,(w&=15)&&(p<w&&(d+=S[n++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),m=g[d&b];r:for(;;){if(d>>>=w=m>>>24,p-=w,!(16&(w=m>>>16&255))){if(0==(64&w)){m=g[(65535&m)+(d&(1<<w)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&m,p<(w&=15)&&(d+=S[n++]<<p,(p+=8)<w&&(d+=S[n++]<<p,p+=8)),(x+=d&(1<<w)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=w,p-=w,x>(w=o-a)){if((w=x-w)>c&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(k=0,E=h,0===l){if(k+=f-w,w<_){_-=w;do{A[o++]=h[k++]}while(--w);k=o-x,E=A}}else if(l<w){if(k+=f+l-w,(w-=l)<_){_-=w;do{A[o++]=h[k++]}while(--w);if(k=0,l<_){_-=w=l;do{A[o++]=h[k++]}while(--w);k=o-x,E=A}}}else if(k+=l-w,w<_){_-=w;do{A[o++]=h[k++]}while(--w);k=o-x,E=A}for(;_>2;)A[o++]=E[k++],A[o++]=E[k++],A[o++]=E[k++],_-=3;_&&(A[o++]=E[k++],_>1&&(A[o++]=E[k++]))}else{k=o-x;do{A[o++]=A[k++],A[o++]=A[k++],A[o++]=A[k++],_-=3}while(_>2);_&&(A[o++]=A[k++],_>1&&(A[o++]=A[k++]))}break}}break}}while(n<i&&o<s);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=p}},function(t,e,r){"use strict";var n=r(29),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,u,f,c,l,h){var d,p,v,g,y,b,m,w,_,x=h.bits,k=0,E=0,S=0,A=0,O=0,T=0,R=0,L=0,M=0,P=0,I=null,j=0,C=new n.Buf16(16),B=new n.Buf16(16),N=null,z=0;for(k=0;k<=15;k++)C[k]=0;for(E=0;E<u;E++)C[e[r+E]]++;for(O=x,A=15;A>=1&&0===C[A];A--);if(O>A&&(O=A),0===A)return f[c++]=20971520,f[c++]=20971520,h.bits=1,0;for(S=1;S<A&&0===C[S];S++);for(O<S&&(O=S),L=1,k=1;k<=15;k++)if(L<<=1,(L-=C[k])<0)return-1;if(L>0&&(0===t||1!==A))return-1;for(B[1]=0,k=1;k<15;k++)B[k+1]=B[k]+C[k];for(E=0;E<u;E++)0!==e[r+E]&&(l[B[e[r+E]]++]=E);if(0===t?(I=N=l,b=19):1===t?(I=i,j-=257,N=o,z-=257,b=256):(I=a,N=s,b=-1),P=0,E=0,k=S,y=c,T=O,R=0,v=-1,g=(M=1<<O)-1,1===t&&M>852||2===t&&M>592)return 1;for(;;){m=k-R,l[E]<b?(w=0,_=l[E]):l[E]>b?(w=N[z+l[E]],_=I[j+l[E]]):(w=96,_=0),d=1<<k-R,S=p=1<<T;do{f[y+(P>>R)+(p-=d)]=m<<24|w<<16|_|0}while(0!==p);for(d=1<<k-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,E++,0==--C[k]){if(k===A)break;k=e[r+l[E]]}if(k>O&&(P&g)!==v){for(0===R&&(R=O),y+=S,L=1<<(T=k-R);T+R<A&&!((L-=C[T+R])<=0);)T++,L<<=1;if(M+=1<<T,1===t&&M>852||2===t&&M>592)return 1;f[v=P&g]=O<<24|T<<16|y-c|0}}return 0!==P&&(f[y+P]=k-R<<24|64<<16|0),h.bits=O,0}},function(t,e,r){"use strict";var n={};(0,r(29).assign)(n,r(407),r(408),r(121)),t.exports=n},function(t,e,r){"use strict";var n=r(197),i=r(29),o=r(202),a=r(120),s=r(119),u=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,c)))throw new Error(a[r]);this._dict_set=!0}}function c(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}f.prototype.push=function(t,e){var r,a,s=this.strm,f=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(f),s.next_out=0,s.avail_out=f),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},function(t,e,r){"use strict";var n=r(200),i=r(29),o=r(202),a=r(121),s=r(120),u=r(119),f=r(409),c=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new f,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[r])}function h(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(t,e){var r,s,u,f,l,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,v=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(r=n.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===v&&(r=a.Z_OK,v=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&r!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),f=h.next_out-u,l=o.buf2string(h.output,u),h.next_out=f,h.avail_out=d-f,f&&i.arraySet(h.output,h.output,u,f,0),this.onData(l)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((h.avail_in>0||0===h.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},function(t,e,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,r){"use strict";(function(e){var n=r(28),i=n(r(76)),o=n(r(77)),a=n(r(46)),s=n(r(47)),u=r(109),f=r(203),c=function(){function t(e){var r=e.filehandle,n=e.path;if((0,a.default)(this,t),r)this.filehandle=r;else{if(!n)throw new TypeError("either filehandle or path must be defined");this.filehandle=new f(n)}}var r,n,c;return(0,s.default)(t,[{key:"_readLongWithOverflow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=u.fromBytesLE(t.slice(e,e+8),r);if(n.greaterThan(Number.MAX_SAFE_INTEGER)||n.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return n.toNumber()}},{key:"_getIndex",value:function(){return this.index||(this.index=this._readIndex()),this.index}},{key:"_readIndex",value:(c=(0,o.default)(i.default.mark((function t(){var r,n,o,a,s,u,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.allocUnsafe(8),t.next=3,this.filehandle.read(r,0,8,0);case 3:if(n=this._readLongWithOverflow(r,0,!0)){t.next=6;break}return t.abrupt("return",[[0,0]]);case 6:if((o=new Array(n+1))[0]=[0,0],!((a=16*n)>Number.MAX_SAFE_INTEGER)){t.next=11;break}throw new TypeError("integer overflow");case 11:return r=e.allocUnsafe(a),t.next=14,this.filehandle.read(r,0,a,8);case 14:for(s=0;s<n;s+=1)u=this._readLongWithOverflow(r,16*s),f=this._readLongWithOverflow(r,16*s+8),o[s+1]=[u,f];return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getLastBlock",value:(n=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getIndex();case 2:if((e=t.sent).length){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",e[e.length-1]);case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getRelevantBlocksForRead",value:(r=(0,o.default)(i.default.mark((function t(e,r){var n,o,a,s,u,f,c,l,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r+e,0!==e){t.next=3;break}return t.abrupt("return",[]);case 3:return t.next=5,this._getIndex();case 5:for(o=t.sent,a=[],s=function(t,e){var n=t[1],i=e?e[1]:1/0;return n<=r&&i>r?0:n<r?-1:1},u=0,f=o.length-1,c=Math.floor(o.length/2),l=s(o[c],o[c+1]);0!==l;)l>0?f=c-1:l<0&&(u=c+1),c=Math.ceil((f-u)/2)+u,l=s(o[c],o[c+1]);a.push(o[c]),h=c+1;case 15:if(!(h<o.length)){t.next=22;break}if(a.push(o[h]),!(o[h][1]>=n)){t.next=19;break}return t.abrupt("break",22);case 19:h+=1,t.next=15;break;case 22:return a[a.length-1][1]<n&&a.push([]),t.abrupt("return",a);case 24:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})}]),t}();t.exports=c}).call(this,r(7).Buffer)},function(t,e,r){t.exports=r(412)},function(t,e,r){var n=r(413);t.exports=n},function(t,e,r){var n=r(414),i=Array.prototype;t.exports=function(t){var e=t.reduce;return t===i||t instanceof Array&&e===i.reduce?n:e}},function(t,e,r){r(415);var n=r(17);t.exports=n("Array").reduce},function(t,e,r){"use strict";var n=r(0),i=r(416).left,o=r(72),a=r(41),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(12),i=r(16),o=r(61),a=r(24),s=function(t){return function(e,r,s,u){n(r);var f=i(e),c=o(f),l=a(f.length),h=t?l-1:0,d=t?-1:1;if(s<2)for(;;){if(h in c){u=c[h],h+=d;break}if(h+=d,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=d)h in c&&(u=r(u,c[h],h,f));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,r){t.exports=r(418)},function(t,e,r){var n=r(419);t.exports=n},function(t,e,r){var n=r(420),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?n:e}},function(t,e,r){r(421);var n=r(17);t.exports=n("Function").bind},function(t,e,r){r(0)({target:"Function",proto:!0},{bind:r(165)})},function(t,e,r){var n=r(101),i=r(42),o=r(206),a=r(207);function s(t){var e,r;function i(e,r){try{var s=t[e](r),u=s.value,f=u instanceof a;n.resolve(f?u.wrapped:u).then((function(t){f?i("return"===e?"return":"next",t):o(s.done?"return":"normal",t)}),(function(t){i("throw",t)}))}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":e.resolve({value:n,done:!0});break;case"throw":e.reject(n);break;default:e.resolve({value:n,done:!1})}(e=e.next)?i(e.key,e.arg):r=null}this._invoke=function(t,o){return new n((function(n,a){var s={key:t,arg:o,resolve:n,reject:a,next:null};r?r=r.next=s:(e=r=s,i(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}s.prototype["function"==typeof i&&o||"@@asyncIterator"]=function(){return this},s.prototype.next=function(t){return this._invoke("next",t)},s.prototype.throw=function(t){return this._invoke("throw",t)},s.prototype.return=function(t){return this._invoke("return",t)},t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(424);t.exports=n},function(t,e,r){r(155);var n=r(71);t.exports=n.f("asyncIterator")},function(t,e,r){var n=r(7).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(t){if(n.isBuffer(t))return t;var e="function"==typeof n.alloc&&"function"==typeof n.from;if("number"==typeof t)return e?n.alloc(t):new n(t);if("string"==typeof t)return e?n.from(t):new n(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function a(t){var e=o(4);return e.writeInt32BE(t,0),e}function s(t,e){t=o(t),n.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=-1^~~e,a=0;a<t.length;a++)r=i[255&(r^t[a])]^r>>>8;return-1^r}function u(){return a(s.apply(null,arguments))}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),u.signed=function(){return s.apply(null,arguments)},u.unsigned=function(){return s.apply(null,arguments)>>>0},t.exports=u},function(t,e,r){t.exports="function"==typeof Object.entries?Object.entries:r(427)},function(t,e,r){"use strict";var n=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i=function(t,e){return Object.prototype.propertyIsEnumerable.call(t,e)};t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");var e=[];for(var r in t)n(t,r)&&i(t,r)&&e.push([r,t[r]]);return e}},function(t,e,r){"use strict";var n=r(79);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(122)),o=n(r(123)),a=n(r(124)),s=n(r(125)),u=n(r(126)),f=(r(201),null),c=f,l=f,h=function(){function t(e){(0,a.default)(this,t),(0,u.default)(this,"fd",void 0),(0,u.default)(this,"filename",void 0),this.filename=e}var e,r,n;return(0,s.default)(t,[{key:"getFd",value:function(){return this.fd||(this.fd=c(this.filename,"r")),this.fd}},{key:"read",value:(n=(0,o.default)(i.default.mark((function t(e){var r,n,o,a,s,u=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:0,n=u.length>2?u[2]:void 0,o=u.length>3&&void 0!==u[3]?u[3]:0,a=Math.min(e.length-r,n),t.t0=null,t.next=7,this.getFd();case 7:return t.t1=t.sent,t.t2=e,t.t3=r,t.t4=a,t.t5=o,t.next=14,(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5);case 14:return s=t.sent,t.abrupt("return",{bytesRead:s,buffer:e});case 16:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"readFile",value:(r=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l(this.filename,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"stat",value:(e=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=null,t.next=3,this.getFd();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();e.default=h},function(t,e,r){"use strict";(function(t){var n=r(79);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(122)),o=n(r(123)),a=n(r(124)),s=n(r(125)),u=n(r(126)),f=n(r(430)),c=r(211);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,u.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d="undefined"!=typeof window?window:"undefined"!=typeof self?self:{fetch:void 0},p=function(){var e,r,n,l;function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.default)(this,p),(0,u.default)(this,"url",void 0),(0,u.default)(this,"_stat",void 0),(0,u.default)(this,"fetch",void 0),(0,u.default)(this,"baseOverrides",{}),this.url=t,t.startsWith("file://")){var r=(0,f.default)(t);if(!r)throw new TypeError("invalid file url");var n=new c.LocalFile(r);return this.read=n.read.bind(n),this.readFile=n.readFile.bind(n),this.stat=n.stat.bind(n),void(this.fetch=function(){})}var i=e.fetch||d.fetch&&d.fetch.bind(d);if(!i)throw new TypeError("no fetch function supplied, and none found in global environment");e.overrides&&(this.baseOverrides=e.overrides),this.fetch=i}return(0,s.default)(p,[{key:"getBufferFromResponse",value:(e=(0,o.default)(i.default.mark((function e(r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r.buffer){e.next=4;break}return e.abrupt("return",r.buffer());case 4:if("function"!=typeof r.arrayBuffer){e.next=11;break}return e.next=7,r.arrayBuffer();case 7:return n=e.sent,e.abrupt("return",t.from(n));case 11:throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method");case 12:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]),(0,s.default)(p,[{key:"read",value:(l=(0,o.default)(i.default.mark((function t(e){var r,n,o,a,s,u,f,c,l,d,p,v,g,y,b=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.length>1&&void 0!==b[1]?b[1]:0,n=b.length>2?b[2]:void 0,o=b.length>3&&void 0!==b[3]?b[3]:0,a=b.length>4&&void 0!==b[4]?b[4]:{},s=a.headers,u=void 0===s?{}:s,f=a.signal,c=a.overrides,l=void 0===c?{}:c,n<1/0?u.range="bytes=".concat(o,"-").concat(o+n):n===1/0&&0!==o&&(u.range="bytes=".concat(o,"-")),t.next=8,this.fetch(this.url,h(h(h({},this.baseOverrides),l),{},{headers:h(h(h({},u),l.headers),this.baseOverrides.headers),method:"GET",redirect:"follow",mode:"cors",signal:f}));case 8:if((200!==(d=t.sent).status||0!==o)&&206!==d.status){t.next=18;break}return t.next=12,this.getBufferFromResponse(d);case 12:return p=t.sent,v=p.copy(e,r,0,Math.min(n,p.length)),g=d.headers.get("content-range"),(y=/\\/(\\d+)$/.exec(g||""))&&y[1]&&(this._stat={size:parseInt(y[1],10)}),t.abrupt("return",{bytesRead:v,buffer:e});case 18:throw new Error("HTTP ".concat(d.status," fetching ").concat(this.url));case 19:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"readFile",value:(n=(0,o.default)(i.default.mark((function t(){var e,r,n,o,a,s,u,f,c,l,d=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof(e=d.length>0&&void 0!==d[0]?d[0]:{})?(r=e,n={}):(r=e.encoding,delete(n=e).encoding),a=(o=n).headers,s=void 0===a?{}:a,u=o.signal,f=o.overrides,c=void 0===f?{}:f,t.next=5,this.fetch(this.url,h(h({headers:s,method:"GET",redirect:"follow",mode:"cors",signal:u},this.baseOverrides),c));case 5:if(200===(l=t.sent).status){t.next=8;break}throw Object.assign(new Error("HTTP ".concat(l.status," fetching ").concat(this.url)),{status:l.status});case 8:if("utf8"!==r){t.next=10;break}return t.abrupt("return",l.text());case 10:if(!r){t.next=12;break}throw new Error("unsupported encoding: ".concat(r));case 12:return t.abrupt("return",this.getBufferFromResponse(l));case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(r=(0,o.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return r=t.allocUnsafe(10),e.next=4,this.read(r,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]),p}();e.default=p}).call(this,r(7).Buffer)},function(t,e,r){"use strict";const n=r(431);t.exports=function(t){if("string"!=typeof t||t.length<=7||"file://"!==t.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");const e=decodeURI(t.substring(7)),r=e.indexOf("/");let i=e.substring(0,r),o=e.substring(r+1);return"localhost"===i&&(i=""),i&&(i=n.sep+n.sep+i),o=o.replace(/^(.+)\\|/,"$1:"),"\\\\"===n.sep&&(o=o.replace(/\\//g,"\\\\")),/^.+:/.test(o)||(o=n.sep+o),i+o}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var f=[];for(u=s;u<i.length;u++)f.push("..");return(f=f.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(19))},function(t,e,r){"use strict";(function(t){var n=r(79);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(122)),o=n(r(123)),a=n(r(124)),s=n(r(125)),u=n(r(126));function f(t){var e=new FileReader;return new Promise((function(r,n){e.onerror=function(){e.abort(),n(new Error("problem reading blob"))},e.onabort=function(){n(new Error("blob reading was aborted"))},e.onload=function(){e.result&&"string"!=typeof e.result?r(e.result):n(new Error("unknown error reading blob"))},e.readAsArrayBuffer(t)}))}function c(t){var e=new FileReader;return new Promise((function(r,n){e.onerror=function(){e.abort(),n(new Error("problem reading blob"))},e.onabort=function(){n(new Error("blob reading was aborted"))},e.onload=function(){e.result&&"string"==typeof e.result?r(e.result):n(new Error("unknown error reading blob"))},e.readAsText(t)}))}var l=function(){function e(t){(0,a.default)(this,e),(0,u.default)(this,"blob",void 0),(0,u.default)(this,"size",void 0),this.blob=t,this.size=t.size}var r,n,l;return(0,s.default)(e,[{key:"read",value:(l=(0,o.default)(i.default.mark((function e(r){var n,o,a,s,u,c,l,h,d=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:0,o=d.length>2?d[2]:void 0,a=d.length>3&&void 0!==d[3]?d[3]:0,o){e.next=5;break}return e.abrupt("return",{bytesRead:0,buffer:r});case 5:return u=(s=a)+o,e.next=9,f(this.blob.slice(s,u));case 9:return c=e.sent,l=t.from(c),h=l.copy(r,n),e.abrupt("return",{bytesRead:h,buffer:l});case 13:case"end":return e.stop()}}),e,this)}))),function(t){return l.apply(this,arguments)})},{key:"readFile",value:(n=(0,o.default)(i.default.mark((function e(r){var n,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("utf8"!==(n="string"==typeof r?r:r&&r.encoding)){e.next=3;break}return e.abrupt("return",c(this.blob));case 3:if(!n){e.next=5;break}throw new Error("unsupported encoding: ".concat(n));case 5:return e.next=7,f(this.blob);case 7:return o=e.sent,e.abrupt("return",t.from(o));case 9:case"end":return e.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})},{key:"stat",value:(r=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{size:this.size});case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),e}();e.default=l}).call(this,r(7).Buffer)},function(t,e,r){},function(t,e,r){t.exports=r(435)},function(t,e,r){var n=r(436);t.exports=n},function(t,e,r){var n=r(437),i=RegExp.prototype;t.exports=function(t){return(t===i||t instanceof RegExp)&&!("flags"in t)?n(t):t.flags}},function(t,e,r){r(438);var n=r(439);t.exports=function(t){return n.call(t)}},function(t,e){},function(t,e,r){"use strict";var n=r(9);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){t.exports=r(441)},function(t,e,r){var n=r(442);t.exports=n},function(t,e,r){r(443);var n=r(1);t.exports=n.parseInt},function(t,e,r){var n=r(0),i=r(444);n({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,r){var n=r(2),i=r(445).trim,o=r(213),a=n.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var r=i(String(t));return a(r,e>>>0||(s.test(r)?16:10))}:a},function(t,e,r){var n=r(49),i="["+r(213)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,r){"use strict";r(10)(e,"__esModule",{value:!0}),e.default=void 0;e.default={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048}},function(t,e,r){var n=r(166),i=r(448),o=r(167),a=r(170);t.exports=function(t){return n(t)||i(t)||o(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(42),i=r(55),o=r(169);t.exports=function(t){if(void 0!==n&&null!=i(t)||null!=t["@@iterator"])return o(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";(function(t){var n=r(188),i=r(13);r(10)(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(450)),a=i(r(460)),s=i(r(57)),u=i(r(112)),f=i(r(10)),c=i(r(94)),l=i(r(95)),h=i(r(96)),d=i(r(97)),p=i(r(73)),v=i(r(98)),g=i(r(32)),y=i(r(56)),b=i(r(43)),m=i(r(59)),w=i(r(45)),_=i(r(26)),x=i(r(27)),k=i(r(107)),E=i(r(104)),S=i(r(105)),A=i(r(108)),O=i(r(25)),T=i(r(44)),R=i(r(205)),L=i(r(208)),M=i(r(210)),P=i(r(209)),I=n(r(204));r(468);var j=r(114),C=r(214);function B(t,e){var r=(0,p.default)(t);if(d.default){var n=(0,d.default)(t);e&&(n=(0,y.default)(n).call(n,(function(e){return(0,h.default)(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r,n=null!=arguments[e]?arguments[e]:{};if(e%2)(0,g.default)(r=B(Object(n),!0)).call(r,(function(e){(0,O.default)(t,e,n[e])}));else if(l.default)(0,c.default)(t,(0,l.default)(n));else{var i;(0,g.default)(i=B(Object(n))).call(i,(function(e){(0,f.default)(t,e,(0,h.default)(n,e))}))}}return t}function z(t){var e=function(){if("undefined"==typeof Reflect||!v.default)return!1;if(v.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,v.default)(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,A.default)(t);if(e){var i=(0,A.default)(this).constructor;r=(0,v.default)(n,arguments,i)}else r=n.apply(this,arguments);return(0,S.default)(this,r)}}function F(t,e){return U.apply(this,arguments)}function U(){return(U=(0,T.default)(b.default.mark((function e(r,n){var i;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.all((0,s.default)(r).call(r,function(){var e=(0,T.default)(b.default.mark((function e(r){var i,s,u,f;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.url,s=r.headers,!(0,a.default)(i).call(i,"data:")){e.next=5;break}return e.abrupt("return",t.from(i.split(",")[1],"base64"));case 5:return s.referer,u=(0,o.default)(s,["referer"]),e.next=8,fetch(i,N(N({},n),{},{headers:N(N({},n.headers),u)}));case 8:if((f=e.sent).ok){e.next=11;break}throw new Error("Failed to fetch ".concat(f.statusText));case 11:return e.t0=t,e.next=14,f.arrayBuffer();case 14:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return i=e.sent,e.t0=(0,w.default)(t),e.t1=t,e.next=7,u.default.all((0,s.default)(i).call(i,(function(t){return(0,j.unzip)(t)})));case 7:return e.t2=e.sent,e.abrupt("return",e.t0.call.call(e.t0,e.t1,e.t2));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(t){(0,E.default)(i,t);var e,r,n=z(i);function i(t){var e;return(0,_.default)(this,i),e=n.call(this,{bamFilehandle:"?",baiFilehandle:"?"}),(0,O.default)((0,k.default)(e),"baseUrl",void 0),(0,O.default)((0,k.default)(e),"trackId",void 0),e.baseUrl=t.baseUrl,e.trackId=t.trackId,e}return(0,x.default)(i,[{key:"streamRecordsForRange",value:function(t,e,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5};return(0,R.default)(b.default.mark((function o(){var a,s,u,f,c,l,h,d,p,v,g,y;return b.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=(0,w.default)(a="".concat(n.baseUrl,"/")).call(a,n.trackId),h=(0,w.default)(s=(0,w.default)(u=(0,w.default)(f="".concat(l,"?referenceName=")).call(f,t,"&start=")).call(u,e,"&end=")).call(s,r,"&format=BAM"),d=n.chrToIndex&&n.chrToIndex[t],o.next=5,(0,L.default)(fetch(h,N({},i)));case 5:if((p=o.sent).ok){o.next=8;break}throw new Error(p.statusText);case 8:return o.next=10,(0,L.default)(p.json());case 10:return v=o.sent,o.next=13,(0,L.default)(F((0,m.default)(c=v.htsget.urls).call(c,1),i));case 13:return g=o.sent,y={buffer:g,chunk:{minv:{dataPosition:0}},toString:function(){var n,i;return(0,w.default)(n=(0,w.default)(i="".concat(t,"_")).call(i,e,"_")).call(n,r)}},o.delegateYield((0,P.default)((0,M.default)(n._fetchChunkFeatures([y],d,e,r,i)),L.default),"t0",16);case 16:case"end":return o.stop()}}),o)})))()}},{key:"_readChunk",value:(r=(0,T.default)(b.default.mark((function t(e){var r,n,i;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.chunk,n=r.buffer,i=r.chunk,t.abrupt("return",{data:n,cpositions:null,dpositions:null,chunk:i});case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"getHeader",value:(e=(0,T.default)(b.default.mark((function t(){var e,r,n,i,o,a,s,u,f,c,l,h,d=arguments;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:{},n=(0,w.default)(e="".concat(this.baseUrl,"/")).call(e,this.trackId,"?referenceName=na&class=header"),t.next=4,fetch(n,r);case 4:if((i=t.sent).ok){t.next=7;break}throw new Error("Failed to fetch ".concat(i.statusText));case 7:return t.next=9,i.json();case 9:return o=t.sent,t.next=12,F(o.htsget.urls,r);case 12:if((a=t.sent).readInt32LE(0)===I.BAM_MAGIC){t.next=15;break}throw new Error("Not a BAM file");case 15:return s=a.readInt32LE(4),u=a.toString("utf8",8,8+s),f=(0,C.parseHeaderText)(u),c=[],l={},h=(0,y.default)(f).call(f,(function(t){return"SQ"===t.tag})),(0,g.default)(h).call(h,(function(t,e){var r;(0,g.default)(r=t.data).call(r,(function(t){if("SN"===t.tag){var r=t.value;l[r]=e,c[e]=r}}))})),this.chrToIndex=l,this.indexToChr=c,t.abrupt("return",f);case 25:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),i}(I.default);e.default=D}).call(this,r(7).Buffer)},function(t,e,r){var n=r(451),i=r(215),o=r(457);t.exports=function(t,e){if(null==t)return{};var r,a,s=o(t,e);if(n){var u=n(t);for(a=0;a<u.length;a++)r=u[a],i(e).call(e,r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){t.exports=r(452)},function(t,e,r){var n=r(163);t.exports=n},function(t,e,r){var n=r(454);t.exports=n},function(t,e,r){var n=r(455),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?n:e}},function(t,e,r){r(456);var n=r(17);t.exports=n("Array").indexOf},function(t,e,r){"use strict";var n=r(0),i=r(145).indexOf,o=r(72),a=r(41),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,f=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!f||!c},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(458),i=r(215);t.exports=function(t,e){if(null==t)return{};var r,o,a={},s=n(t);for(o=0;o<s.length;o++)r=s[o],i(e).call(e,r)>=0||(a[r]=t[r]);return a},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){t.exports=r(459)},function(t,e,r){var n=r(164);t.exports=n},function(t,e,r){t.exports=r(461)},function(t,e,r){var n=r(462);t.exports=n},function(t,e,r){var n=r(463),i=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===i||t instanceof String&&e===i.startsWith?n:e}},function(t,e,r){r(464);var n=r(17);t.exports=n("String").startsWith},function(t,e,r){"use strict";var n,i=r(0),o=r(35).f,a=r(24),s=r(465),u=r(49),f=r(467),c=r(21),l="".startsWith,h=Math.min,d=f("startsWith");i({target:"String",proto:!0,forced:!!(c||d||(n=o(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(t){var e=String(u(this));s(t);var r=a(h(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return l?l.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e,r){var n=r(466);t.exports=function(t){if(n(t))throw TypeError("The method doesn\'t accept regular expressions");return t}},function(t,e,r){var n=r(6),i=r(30),o=r(4)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,r){var n=r(4)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e){!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\\-#$%&\'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function v(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,e,r,n=d(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=f(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[f(t)]},h.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},h.prototype.set=function(t,e){this.map[f(t)]=c(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),l(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),l(t)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var r,n,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\\+/g," "),i=r.join("=").replace(/\\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];_.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(t,r){return new Promise((function(n,o){var a=new m(t,r);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\\r?\\n[\\t ]+/g," ").split(/\\r?\\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new _(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=h,t.Request=m,t.Response=_),e.Headers=h,e.Request=m,e.Response=_,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},function(t,e,r){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new s(r,null,e,t):new s(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function a(t,e){t.head=new s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,e,r,n){if(!(this instanceof s))return new s(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)a(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,n=this.head;null!==n&&r<t;r++)n=n.next;var o=[];for(r=0;n&&r<e;r++)o.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return o},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(470)(n)}catch(t){}},function(t,e,r){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},function(t,e,r){"use strict";e.a=function(t){var e;return 1===t.length&&(e=t,t=function(t,r){return(n=e(t))<(i=r)?-1:n>i?1:n>=i?0:NaN;var n,i}),{left:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)<0?n=o+1:i=o}return n},right:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)>0?i=o:n=o+1}return n}}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n={},i={};function o(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+\'] || ""\'})).join(",")+"}")}function a(t){var e=Object.create(null),r=[];return t.forEach((function(t){for(var n in t)n in e||r.push(e[n]=n)})),r}function s(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function u(t){var e,r=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+s(-e,6):e>9999?"+"+s(e,6):s(e,4))+"-"+s(t.getUTCMonth()+1,2)+"-"+s(t.getUTCDate(),2)+(o?"T"+s(r,2)+":"+s(n,2)+":"+s(i,2)+"."+s(o,3)+"Z":i?"T"+s(r,2)+":"+s(n,2)+":"+s(i,2)+"Z":n||r?"T"+s(r,2)+":"+s(n,2)+"Z":"")}var f=function(t){var e=new RegExp(\'["\'+t+"\\n\\r]"),r=t.charCodeAt(0);function s(t,e){var o,a=[],s=t.length,u=0,f=0,c=s<=0,l=!1;function h(){if(c)return i;if(l)return l=!1,n;var e,o,a=u;if(34===t.charCodeAt(a)){for(;u++<s&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(e=u)>=s?c=!0:10===(o=t.charCodeAt(u++))?l=!0:13===o&&(l=!0,10===t.charCodeAt(u)&&++u),t.slice(a+1,e-1).replace(/""/g,\'"\')}for(;u<s;){if(10===(o=t.charCodeAt(e=u++)))l=!0;else if(13===o)l=!0,10===t.charCodeAt(u)&&++u;else if(o!==r)continue;return t.slice(a,e)}return c=!0,t.slice(a,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(o=h())!==i;){for(var d=[];o!==n&&o!==i;)d.push(o),o=h();e&&null==(d=e(d,f++))||a.push(d)}return a}function f(e,r){return e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))}function c(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?u(t):e.test(t+="")?\'"\'+t.replace(/"/g,\'""\')+\'"\':t}return{parse:function(t,e){var r,n,i=s(t,(function(t,i){if(r)return r(t,i-1);n=t,r=e?function(t,e){var r=o(t);return function(n,i){return e(r(n),i,t)}}(t,e):o(t)}));return i.columns=n||[],i},parseRows:s,format:function(e,r){return null==r&&(r=a(e)),[r.map(l).join(t)].concat(f(e,r)).join("\\n")},formatBody:function(t,e){return null==e&&(e=a(t)),f(t,e).join("\\n")},formatRows:function(t){return t.map(c).join("\\n")},formatRow:c,formatValue:l}}("\\t"),c=(f.parse,f.parseRows);f.format,f.formatBody,f.formatRows,f.formatRow,f.formatValue}]);'},function(e,t,n){n.d(t,"a",(function(){return i}));const r=()=>{};function i(){let e,t=!1,n=r;return[new Promise((r=>{t?r(e):n=r})),r=>{t=!0,e=r,n(e)}]}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(76);function i(e){return e&&"object"==typeof e&&e[r.d]}},function(e,t,n){var r;r=function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=314)}([function(e,t,n){n.r(t);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var l=function(e){var t=o(e);return(t.local?s:a)(t)};function u(){}var c=function(e){return null==e?u:function(){return this.querySelector(e)}};function f(){return[]}var h=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},d=function(e){return function(){return this.matches(e)}},p=function(e){return new Array(e.length)};function m(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function g(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new m(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function v(e,t,n,r,i,o,a){var s,l,u,c={},f=t.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=u="$"+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u="$"+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new m(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c[d[s]]===l&&(i[s]=l)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return function(){this.removeAttribute(e)}}function _(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E(e,t){return function(){this.setAttribute(e,t)}}function w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function T(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}m.prototype={constructor:m,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var S=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function k(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function A(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function C(e,t){return e.style.getPropertyValue(t)||S(e).getComputedStyle(e,null).getPropertyValue(t)}function P(e){return function(){delete this[e]}}function M(e,t){return function(){this[e]=t}}function R(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function I(e){return e.trim().split(/^|\s+/)}function D(e){return e.classList||new N(e)}function N(e){this._node=e,this._names=I(e.getAttribute("class")||"")}function L(e,t){for(var n=D(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function F(e,t){for(var n=D(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function j(e){return function(){L(this,e)}}function B(e){return function(){F(this,e)}}function U(e,t){return function(){(t.apply(this,arguments)?L:F)(this,e)}}function z(){this.textContent=""}function H(e){return function(){this.textContent=e}}function G(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function V(){this.innerHTML=""}function $(e){return function(){this.innerHTML=e}}function X(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q(){return null}function K(){var e=this.parentNode;e&&e.removeChild(this)}function Z(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}N.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var J={},ee=null;function te(e,t,n){return e=ne(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ne(e,t,n){return function(r){var i=ee;ee=r;try{e.call(this,this.__data__,t,n)}finally{ee=i}}}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ie(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function oe(e,t,n){var r=J.hasOwnProperty(e.type)?te:ne;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function ae(e,t,n,r){var i=ee;e.sourceEvent=ee,ee=e;try{return t.apply(n,r)}finally{ee=i}}function se(e,t,n){var r=S(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function le(e,t){return function(){return se(this,e,t)}}function ue(e,t){return function(){return se(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"}));var ce=[null];function fe(e,t){this._groups=e,this._parents=t}function he(){return new fe([[document.documentElement]],ce)}fe.prototype=he.prototype={constructor:fe,select:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),f=0;f<l;++f)(o=s[f])&&(a=e.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new fe(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=h(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new fe(r,i)},filter:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new fe(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?v:g,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=e.call(f,f&&f.__data__,c,i),m=p.length,y=l[c]=new Array(m),b=s[c]=new Array(m);r(f,h,y,b,u[c]=new Array(d),p,t);for(var _,E,w=0,x=0;w<m;++w)if(_=y[w]){for(w>=x&&(x=w+1);!(E=b[x])&&++x<m;);_._next=E||null}}return(s=new fe(s,i))._enter=l,s._exit=u,s},enter:function(){return new fe(this._enter||this._groups.map(p),this._parents)},exit:function(){return new fe(this._exit||this._groups.map(p),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new fe(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new fe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?_:b:"function"==typeof t?n.local?T:x:n.local?w:E)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?k:"function"==typeof t?A:O)(e,t,null==n?"":n)):C(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?P:"function"==typeof t?R:M)(e,t)):this.node()[e]},classed:function(e,t){var n=I(e+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?U:t?j:B)(n,t))},text:function(e){return arguments.length?this.each(null==e?z:("function"==typeof e?G:H)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?V:("function"==typeof e?X:$)(e)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(Y)},append:function(e){var t="function"==typeof e?e:l(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:l(e),r=null==t?q:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(e){return this.select(e?Q:Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=re(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?oe:ie,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ue:le)(e,t))}};var de=he,pe=function(e){return"string"==typeof e?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],ce)},me=function(e){return pe(l(e).call(document.documentElement))},ge=0;function ve(){return new ye}function ye(){this._="@"+(++ge).toString(36)}ye.prototype=ve.prototype={constructor:ye,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var be=function(){for(var e,t=ee;e=t.sourceEvent;)t=e;return t},_e=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},Ee=function(e){var t=be();return t.changedTouches&&(t=t.changedTouches[0]),_e(e,t)},we=function(e){return"string"==typeof e?new fe([document.querySelectorAll(e)],[document.documentElement]):new fe([null==e?[]:e],ce)},xe=function(e,t,n){arguments.length<3&&(n=t,t=be().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return _e(e,r);return null},Te=function(e,t){null==t&&(t=be().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=_e(e,t[n]);return i};n.d(t,"create",(function(){return me})),n.d(t,"creator",(function(){return l})),n.d(t,"local",(function(){return ve})),n.d(t,"matcher",(function(){return d})),n.d(t,"mouse",(function(){return Ee})),n.d(t,"namespace",(function(){return o})),n.d(t,"namespaces",(function(){return i})),n.d(t,"clientPoint",(function(){return _e})),n.d(t,"select",(function(){return pe})),n.d(t,"selectAll",(function(){return we})),n.d(t,"selection",(function(){return de})),n.d(t,"selector",(function(){return c})),n.d(t,"selectorAll",(function(){return h})),n.d(t,"style",(function(){return C})),n.d(t,"touch",(function(){return xe})),n.d(t,"touches",(function(){return Te})),n.d(t,"window",(function(){return S})),n.d(t,"event",(function(){return ee})),n.d(t,"customEvent",(function(){return ae}))},function(t,n){t.exports=e},function(e,t,n){e.exports=n(555)()},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(130))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(545),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(112))&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0;var r=a(n(328)),i=a(n(552)),o=a(n(112));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},o=i(r),a=o.right,s=o.left,l=a,u=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,l=t.length,u=new Array(s*l);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<l;++i,++o)u[o]=n(a,t[i]);return u},h=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=d(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=d(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},g=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,b=v.map,_=function(e){return function(){return e}},E=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},x=Math.sqrt(50),T=Math.sqrt(10),S=Math.sqrt(2),k=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=O(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function O(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=x?10:o>=T?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=x?10:o>=T?5:o>=S?2:1)}function A(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=x?i*=10:o>=T?i*=5:o>=S&&(i*=2),t<e?-i:i}var C=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},P=function(){var e=E,t=g,n=C;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var u=t(s),c=u[0],f=u[1],h=n(s,c,f);Array.isArray(h)||(h=A(c,f,h),h=w(Math.ceil(c/h)*h,f,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?h[i-1]:c,p.x1=i<d?h[i]:f;for(i=0;i<a;++i)c<=(o=s[i])&&o<=f&&m[l(h,o,0,d)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:_(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:_([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?_(y.call(e)):_(e),r):n},r},M=function(e,t,n){if(null==n&&(n=d),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},R=function(e,t,n){return e=b.call(e,d).sort(r),Math.ceil((n-t)/(2*(M(e,.75)-M(e,.25))*Math.pow(e.length,-1/3)))},I=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},D=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},N=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=d(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},L=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=d(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=d(t(e[o],o,e)))||a.push(n);return M(a.sort(r),.5)},F=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},j=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},U=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},z=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},G=function(e){if(!(i=e.length))return[];for(var t=-1,n=j(e,V),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function V(e){return e.length}var $=function(){return G(arguments)};n.d(t,"bisect",(function(){return l})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return f})),n.d(t,"descending",(function(){return h})),n.d(t,"deviation",(function(){return m})),n.d(t,"extent",(function(){return g})),n.d(t,"histogram",(function(){return P})),n.d(t,"thresholdFreedmanDiaconis",(function(){return R})),n.d(t,"thresholdScott",(function(){return I})),n.d(t,"thresholdSturges",(function(){return C})),n.d(t,"max",(function(){return D})),n.d(t,"mean",(function(){return N})),n.d(t,"median",(function(){return L})),n.d(t,"merge",(function(){return F})),n.d(t,"min",(function(){return j})),n.d(t,"pairs",(function(){return u})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return M})),n.d(t,"range",(function(){return w})),n.d(t,"scan",(function(){return U})),n.d(t,"shuffle",(function(){return z})),n.d(t,"sum",(function(){return H})),n.d(t,"ticks",(function(){return k})),n.d(t,"tickIncrement",(function(){return O})),n.d(t,"tickStep",(function(){return A})),n.d(t,"transpose",(function(){return G})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return $}))},function(e,t,n){n.r(t);var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,c=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),m=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(e){var t;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?new x((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=c.exec(e))?b(parseInt(t[1],16)):(t=f.exec(e))?new x(t[1],t[2],t[3],1):(t=h.exec(e))?new x(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?_(t[1],t[2],t[3],t[4]):(t=p.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?S(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?S(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?b(v[e]):"transparent"===e?new x(NaN,NaN,NaN,0):null}function b(e){return new x(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,r){return r<=0&&(e=t=n=NaN),new x(e,t,n,r)}function E(e){return e instanceof o||(e=y(e)),e?new x((e=e.rgb()).r,e.g,e.b,e.opacity):new x}function w(e,t,n,r){return 1===arguments.length?E(e):new x(e,t,n,null==r?1:r)}function x(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function T(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function S(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new A(e,t,n,r)}function k(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=y(e)),!e)return new A;if(e instanceof A)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new A(s,l,u,e.opacity)}function O(e,t,n,r){return 1===arguments.length?k(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function C(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,y,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(x,w,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new x(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(A,O,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new A(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new x(C(e>=240?e-240:e+120,i,r),C(e,i,r),C(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var P=Math.PI/180,M=180/Math.PI,R=6/29,I=3*R*R;function D(e){if(e instanceof F)return new F(e.l,e.a,e.b,e.opacity);if(e instanceof $){if(isNaN(e.h))return new F(e.l,0,0,e.opacity);var t=e.h*P;return new F(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof x||(e=E(e));var n,r,i=z(e.r),o=z(e.g),a=z(e.b),s=j((.2225045*i+.7168786*o+.0606169*a)/1);return i===o&&o===a?n=r=s:(n=j((.4360747*i+.3850649*o+.1430804*a)/.96422),r=j((.0139322*i+.0971045*o+.7141733*a)/.82521)),new F(116*s-16,500*(n-s),200*(s-r),e.opacity)}function N(e,t){return new F(e,0,0,null==t?1:t)}function L(e,t,n,r){return 1===arguments.length?D(e):new F(e,t,n,null==r?1:r)}function F(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function j(e){return e>.008856451679035631?Math.pow(e,1/3):e/I+4/29}function B(e){return e>R?e*e*e:I*(e-4/29)}function U(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function z(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function H(e){if(e instanceof $)return new $(e.h,e.c,e.l,e.opacity);if(e instanceof F||(e=D(e)),0===e.a&&0===e.b)return new $(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*M;return new $(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function G(e,t,n,r){return 1===arguments.length?H(e):new $(n,t,e,null==r?1:r)}function V(e,t,n,r){return 1===arguments.length?H(e):new $(e,t,n,null==r?1:r)}function $(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(F,L,i(o,{brighter:function(e){return new F(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new F(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new x(U(3.1338561*(t=.96422*B(t))-1.6168667*(e=1*B(e))-.4906146*(n=.82521*B(n))),U(-.9787684*t+1.9161415*e+.033454*n),U(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r($,V,i(o,{brighter:function(e){return new $(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new $(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return D(this).rgb()}}));var X=-.14861,W=1.78277,Y=-.29227,q=-.90649,K=1.97294,Z=K*q,Q=K*W,J=W*Y-q*X;function ee(e){if(e instanceof ne)return new ne(e.h,e.s,e.l,e.opacity);e instanceof x||(e=E(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(J*r+Z*t-Q*n)/(J+Z-Q),o=r-i,a=(K*(n-i)-Y*o)/q,s=Math.sqrt(a*a+o*o)/(K*i*(1-i)),l=s?Math.atan2(a,o)*M-120:NaN;return new ne(l<0?l+360:l,s,i,e.opacity)}function te(e,t,n,r){return 1===arguments.length?ee(e):new ne(e,t,n,null==r?1:r)}function ne(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(ne,te,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*P,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new x(255*(t+n*(X*r+W*i)),255*(t+n*(Y*r+q*i)),255*(t+n*(K*r)),this.opacity)}})),n.d(t,"color",(function(){return y})),n.d(t,"rgb",(function(){return w})),n.d(t,"hsl",(function(){return O})),n.d(t,"lab",(function(){return L})),n.d(t,"hcl",(function(){return V})),n.d(t,"lch",(function(){return G})),n.d(t,"gray",(function(){return N})),n.d(t,"cubehelix",(function(){return te}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(514);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){return De(r).default}});var i=n(515);Object.defineProperty(t,"accessorTransposition",{enumerable:!0,get:function(){return De(i).default}});var o=n(516);Object.defineProperty(t,"addArrays",{enumerable:!0,get:function(){return De(o).default}});var a=n(517);Object.defineProperty(t,"addClass",{enumerable:!0,get:function(){return De(a).default}});var s=n(518);Object.defineProperty(t,"base64ToCanvas",{enumerable:!0,get:function(){return De(s).default}});var l=n(519);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){return De(l).default}});var u=n(520);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){return De(u).default}});var c=n(320);Object.defineProperty(t,"cloneEvent",{enumerable:!0,get:function(){return De(c).default}});var f=n(521);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){return De(f).default}});var h=n(522);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){return De(h).default}});var d=n(523);Object.defineProperty(t,"colorToRgba",{enumerable:!0,get:function(){return De(d).default}});var p=n(323);Object.defineProperty(t,"dataToGenomicLoci",{enumerable:!0,get:function(){return De(p).default}});var m=n(524);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return De(m).default}});var g=n(525);Object.defineProperty(t,"decToHexStr",{enumerable:!0,get:function(){return De(g).default}});var v=n(526);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){return De(v).default}});var y=n(527);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){return De(y).default}});var b=n(528);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){return De(b).default}});var _=n(529);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){return De(_).default}});var E=n(530);Object.defineProperty(t,"download",{enumerable:!0,get:function(){return De(E).default}});var w=n(531);Object.defineProperty(t,"fillInMinWidths",{enumerable:!0,get:function(){return De(w).default}});var x=n(892);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return De(x).default}});var T=n(893);Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return De(T).default}});var S=n(894);Object.defineProperty(t,"forwardEvent",{enumerable:!0,get:function(){return De(S).default}});var k=n(895);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){return De(k).default}});var O=n(896);Object.defineProperty(t,"genomicRangeToChromosomeChunks",{enumerable:!0,get:function(){return De(O).default}});var A=n(897);Object.defineProperty(t,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){return De(A).default}});var C=n(898);Object.defineProperty(t,"getElementDim",{enumerable:!0,get:function(){return De(C).default}});var P=n(899);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){return De(P).default}});var M=n(900);Object.defineProperty(t,"getTrackConfFromHGC",{enumerable:!0,get:function(){return De(M).default}});var R=n(901);Object.defineProperty(t,"getTrackObjById",{enumerable:!0,get:function(){return De(R).default}});var I=n(902);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){return De(I).default}});var D=n(426);Object.defineProperty(t,"getXylofon",{enumerable:!0,get:function(){return De(D).default}});var N=n(903);Object.defineProperty(t,"gradient",{enumerable:!0,get:function(){return De(N).default}});var L=n(220);Object.defineProperty(t,"hasClass",{enumerable:!0,get:function(){return De(L).default}});var F=n(904);Object.defineProperty(t,"hasParent",{enumerable:!0,get:function(){return De(F).default}});var j=n(905);Object.defineProperty(t,"hexStrToInt",{enumerable:!0,get:function(){return De(j).default}});var B=n(906);Object.defineProperty(t,"intoTheVoid",{enumerable:!0,get:function(){return De(B).default}});var U=n(907);Object.defineProperty(t,"isTrackOrChildTrack",{enumerable:!0,get:function(){return De(U).default}});var z=n(908);Object.defineProperty(t,"isWithin",{enumerable:!0,get:function(){return De(z).default}});var H=n(909);Object.defineProperty(t,"latToY",{enumerable:!0,get:function(){return De(H).default}});var G=n(910);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){return De(G).default}});var V=n(911);Object.defineProperty(t,"lngToX",{enumerable:!0,get:function(){return De(V).default}});var $=n(427);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return De($).default}});var X=n(912);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return De(X).default}});var W=n(913);Object.defineProperty(t,"maxNonZero",{enumerable:!0,get:function(){return De(W).default}});var Y=n(914);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return De(Y).default}});var q=n(915);Object.defineProperty(t,"minNonZero",{enumerable:!0,get:function(){return De(q).default}});var K=n(916);Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return De(K).default}});var Z=n(917);Object.defineProperty(t,"ndarrayAssign",{enumerable:!0,get:function(){return De(Z).default}});var Q=n(923);Object.defineProperty(t,"ndarrayFlatten",{enumerable:!0,get:function(){return De(Q).default}});var J=n(432);Object.defineProperty(t,"ndarrayToList",{enumerable:!0,get:function(){return De(J).default}});var ee=n(924);Object.defineProperty(t,"numericifyVersion",{enumerable:!0,get:function(){return De(ee).default}});var te=n(925);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){return De(te).default}});var ne=n(926);Object.defineProperty(t,"or",{enumerable:!0,get:function(){return De(ne).default}});var re=n(927);Object.defineProperty(t,"parseChromsizesRows",{enumerable:!0,get:function(){return De(re).default}});var ie=n(928);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){return De(ie).default}});var oe=n(929);Object.defineProperty(t,"q",{enumerable:!0,get:function(){return De(oe).default}});var ae=n(424);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return De(ae).default}});var se=n(930);Object.defineProperty(t,"rangeQuery2d",{enumerable:!0,get:function(){return De(se).default}});var le=n(931);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){return De(le).default}});var ue=n(932);Object.defineProperty(t,"removeClass",{enumerable:!0,get:function(){return De(ue).default}});var ce=n(933);Object.defineProperty(t,"resetD3BrushStyle",{enumerable:!0,get:function(){return De(ce).default}});var fe=n(934);Object.defineProperty(t,"rgbToHex",{enumerable:!0,get:function(){return De(fe).default}});var he=n(935);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){return De(he).default}});var de=n(936);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){return De(de).default}});var pe=n(937);Object.defineProperty(t,"showMousePosition",{enumerable:!0,get:function(){return De(pe).default}});var me=n(938);Object.defineProperty(t,"some",{enumerable:!0,get:function(){return De(me).default}});var ge=n(939);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){return De(ge).default}});var ve=n(940);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){return De(ve).default}});var ye=n(941);Object.defineProperty(t,"throttleAndDebounce",{enumerable:!0,get:function(){return De(ye).default}});var be=n(942);Object.defineProperty(t,"tileToCanvas",{enumerable:!0,get:function(){return De(be).default}});var _e=n(943);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return De(_e).default}});var Ee=n(944);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){return De(Ee).default}});var we=n(172);Object.defineProperty(t,"toVoid",{enumerable:!0,get:function(){return De(we).default}});var xe=n(945);Object.defineProperty(t,"trimTrailingSlash",{enumerable:!0,get:function(){return De(xe).default}});var Te=n(946);Object.defineProperty(t,"valueToColor",{enumerable:!0,get:function(){return De(Te).default}});var Se=n(947);Object.defineProperty(t,"expandCombinedTracks",{enumerable:!0,get:function(){return De(Se).default}});var ke=n(948);Object.defineProperty(t,"segmentsToRows",{enumerable:!0,get:function(){return De(ke).default}});var Oe=n(428);Object.defineProperty(t,"visitPositionedTracks",{enumerable:!0,get:function(){return De(Oe).default}});var Ae=n(429);Object.defineProperty(t,"visitTracks",{enumerable:!0,get:function(){return De(Ae).default}});var Ce=n(950);Object.defineProperty(t,"trackUtils",{enumerable:!0,get:function(){return De(Ce).default}});var Pe=n(135);Object.defineProperty(t,"DenseDataExtrema1D",{enumerable:!0,get:function(){return De(Pe).default}});var Me=n(136);Object.defineProperty(t,"DenseDataExtrema2D",{enumerable:!0,get:function(){return De(Me).default}});var Re=n(433);Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return Re.getTrackObjectFromHGC}}),Object.defineProperty(t,"getTrackRenderer",{enumerable:!0,get:function(){return Re.getTrackRenderer}}),Object.defineProperty(t,"getTiledPlot",{enumerable:!0,get:function(){return Re.getTiledPlot}});var Ie=n(951);function De(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"changeOptions",{enumerable:!0,get:function(){return Ie.changeOptions}}),Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return Ie.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return Ie.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return Ie.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return Ie.mountHGComponent}}),Object.defineProperty(t,"removeHGComponent",{enumerable:!0,get:function(){return Ie.removeHGComponent}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(324);Object.defineProperty(t,"THEME_LIGHT",{enumerable:!0,get:function(){return r.THEME_LIGHT}}),Object.defineProperty(t,"THEME_DARK",{enumerable:!0,get:function(){return r.THEME_DARK}}),Object.defineProperty(t,"THEME_DEFAULT",{enumerable:!0,get:function(){return r.THEME_DEFAULT}});var i=n(321);Object.defineProperty(t,"GLOBALS",{enumerable:!0,get:function(){return m(i).default}});var o=n(538);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){return m(o).default}});var a=n(539);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){return m(a).default}});var s=n(540);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){return m(s).default}});var l=n(541);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){return m(l).default}});var u=n(883);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){return m(u).default}});var c=n(885);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){return m(c).default}});var f=n(886);Object.defineProperty(t,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){return m(f).default}});var h=n(887);Object.defineProperty(t,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){return m(h).default}});var d=n(888);Object.defineProperty(t,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){return m(d).default}});var p=n(891);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){return m(p).default}}),t.DEFAULT_VIEW_MARGIN=0,t.DEFAULT_VIEW_PADDING=5,t.DEFAULT_CONTAINER_PADDING_X=10,t.DEFAULT_CONTAINER_PADDING_Y=10,t.MAX_CLICK_DELAY=300,t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=10,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,t.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],t.MIN_HORIZONTAL_HEIGHT=20,t.MIN_VERTICAL_WIDTH=20},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(734)),i=u(n(800)),o=u(n(819)),a=u(n(820)),s=u(n(821)),l=u(n(822));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=c},function(e,t,n){t.__esModule=!0;var r=o(n(5)),i=o(n(594));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,o){null===t&&(t=Function.prototype);var a=(0,i.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(o):void 0}},function(e,t,n){var r=n(9),i=function(e){return function(){return e}};function o(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?o(e,n):i(isNaN(e)?t:e)}var s,l,u,c,f=function e(t){var n=function(e){return 1==(e=+e)?a:function(t,n){return n-t?(r=t,o=n,a=e,r=Math.pow(r,a),o=Math.pow(o,a)-r,a=1/a,function(e){return Math.pow(r+e*o,a)}):i(isNaN(t)?n:t);var r,o,a}}(t);function o(e,t){var i=n((e=Object(r.rgb)(e)).r,(t=Object(r.rgb)(t)).r),o=n(e.g,t.g),s=n(e.b,t.b),l=a(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=s(t),e.opacity=l(t),e+""}}return o.gamma=e,o}(1),h=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=b(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},d=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},p=function(e,t){return t-=e=+e,function(n){return e+t*n}},m=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=b(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(g.source,"g"),y=function(e,t){var n,r,i,o,a=g.lastIndex=v.lastIndex=0,s=-1,l=[],u=[];for(e+="",t+="";(n=g.exec(e))&&(r=v.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,u.push({i:s,x:p(n,r)})),a=v.lastIndex;return a<t.length&&(i=t.slice(a),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?(o=u[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)l[(n=u[r]).i]=n.x(e);return l.join("")})},b=function(e,t){var n,o=typeof t;return null==t||"boolean"===o?i(t):("number"===o?p:"string"===o?(n=Object(r.color)(t))?(t=n,f):y:t instanceof r.color?f:t instanceof Date?d:Array.isArray(t)?h:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?m:p)(e,t)},_=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},E=180/Math.PI,w={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},x=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*E,skewX:Math.atan(l)*E,scaleX:a,scaleY:s}};function T(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s,l,u,c,f=[],h=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:p(e,i)},{i:l-2,x:p(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,f,h),s=o.rotate,l=a.rotate,u=f,c=h,s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),c.push({i:u.push(i(u)+"rotate(",null,r)-2,x:p(s,l)})):l&&u.push(i(u)+"rotate("+l+r),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:p(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,f,h),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:p(e,n)},{i:s-2,x:p(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,f,h),o=a=null,function(e){for(var t,n=-1,r=h.length;++n<r;)f[(t=h[n]).i]=t.x(e);return f.join("")}}}var S=T((function(e){return"none"===e?w:(s||(s=document.createElement("DIV"),l=document.documentElement,u=document.defaultView),s.style.transform=e,e=u.getComputedStyle(l.appendChild(s),null).getPropertyValue("transform"),l.removeChild(s),e=e.slice(7,-1).split(","),x(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),k=T((function(e){return null==e?w:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",e),(e=c.transform.baseVal.consolidate())?(e=e.matrix,x(e.a,e.b,e.c,e.d,e.e,e.f)):w)}),", ",")",")"),O=Math.SQRT2;function A(e){return((e=Math.exp(e))+1/e)/2}var C=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,h=c*c+f*f;if(h<1e-12)r=Math.log(u/a)/O,n=function(e){return[i+e*c,o+e*f,a*Math.exp(O*e*r)]};else{var d=Math.sqrt(h),p=(u*u-a*a+4*h)/(2*a*2*d),m=(u*u-a*a-4*h)/(2*u*2*d),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/O,n=function(e){var t,n,s=e*r,l=A(g),u=a/(2*d)*(l*(t=O*s+g,((t=Math.exp(2*t))-1)/(t+1))-(n=g,((n=Math.exp(n))-1/n)/2));return[i+u*c,o+u*f,a*l/A(O*s+g)]}}return n.duration=1e3*r,n};function P(e){return function t(n){function i(t,i){var o=e((t=Object(r.cubehelix)(t)).h,(i=Object(r.cubehelix)(i)).h),s=a(t.s,i.s),l=a(t.l,i.l),u=a(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=s(e),t.l=l(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,i.gamma=t,i}(1)}P((function(e,t){var n=t-e;return n?o(e,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(e)?t:e)}));var M=P(a);n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return M}))},function(e,t,n){var r=n(23),i=n(12),o=n(49),a=n(42),s=n(47),l=function(e,t,n){var u,c,f,h=e&l.F,d=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=d?i:i[t]||(i[t]={}),b=y.prototype,_=d?r:p?r[t]:(r[t]||{}).prototype;for(u in d&&(n=t),n)(c=!h&&_&&void 0!==_[u])&&s(y,u)||(f=c?_[u]:n[u],y[u]=d&&"function"!=typeof _[u]?n[u]:g&&c?o(f,r):v&&_[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,e&l.R&&b&&!b[u]&&a(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){e.exports={default:n(215),__esModule:!0}},function(e,t,n){e.exports={default:n(207),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r=o(n(503)),i=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){n.r(t);var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},i=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){return new s(e)}function s(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}a.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l,u,c,f,h=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},d={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return h(100*e,t)},r:h,s:function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(l=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},m=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],g=function(e){var t,n,r,o=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):p,s=e.currency,u=e.decimal,c=e.numerals?(r=e.numerals,function(e){return e.replace(/[0-9]/g,(function(e){return r[+e]}))}):p,f=e.percent||"%";function h(e){var t=(e=a(e)).fill,n=e.align,r=e.sign,i=e.symbol,h=e.zero,p=e.width,g=e.comma,v=e.precision,y=e.trim,b=e.type;"n"===b?(g=!0,b="g"):d[b]||(null==v&&(v=12),y=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var _="$"===i?s[0]:"#"===i&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",E="$"===i?s[1]:/[%p]/.test(b)?f:"",w=d[b],x=/[defgprs%]/.test(b);function T(e){var i,a,s,f=_,d=E;if("c"===b)d=w(e)+d,e="";else{var T=(e=+e)<0;if(e=w(Math.abs(e),v),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0==+e&&(T=!1),f=(T?"("===r?r:"-":"-"===r||"("===r?"":r)+f,d=("s"===b?m[8+l/3]:"")+d+(T&&"("===r?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){d=(46===s?u+e.slice(i+1):e.slice(i))+d,e=e.slice(0,i);break}}g&&!h&&(e=o(e,1/0));var S=f.length+e.length+d.length,k=S<p?new Array(p-S+1).join(t):"";switch(g&&h&&(e=o(k+e,k.length?p-d.length:1/0),k=""),n){case"<":e=f+e+d+k;break;case"=":e=f+k+e+d;break;case"^":e=k.slice(0,S=k.length>>1)+f+e+d+k.slice(S);break;default:e=k+f+e+d}return c(e)}return v=null==v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),T.toString=function(){return e+""},T}return{format:h,formatPrefix:function(e,t){var n=h(((e=a(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),o=Math.pow(10,-r),s=m[8+r/3];return function(e){return n(o*e)+s}}}};function v(e){return u=g(e),c=u.format,f=u.formatPrefix,u}v({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-i(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};n.d(t,"formatDefaultLocale",(function(){return v})),n.d(t,"format",(function(){return c})),n.d(t,"formatPrefix",(function(){return f})),n.d(t,"formatLocale",(function(){return g})),n.d(t,"formatSpecifier",(function(){return a})),n.d(t,"precisionFixed",(function(){return y})),n.d(t,"precisionPrefix",(function(){return b})),n.d(t,"precisionRound",(function(){return _}))},function(e,t,n){var r=n(105)("wks"),i=n(91),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(825);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var i=n(286);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(i).default}});var o=n(828);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(o).default}});var a=n(829);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(a).default}});var s=n(831);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(s).default}});var l=n(838);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(l).default}});var u=n(422);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(u).default}});var c=n(844);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(c).default}})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(506);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){return s(r).default}});var i=n(1084);Object.defineProperty(t,"createDomEvent",{enumerable:!0,get:function(){return s(i).default}});var o=n(425);Object.defineProperty(t,"ElementResizeListener",{enumerable:!0,get:function(){return s(o).default}});var a=n(1085);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){return s(a).default}}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){return a.requestsInFlight}}),Object.defineProperty(t,"setTileProxyAuthHeader",{enumerable:!0,get:function(){return a.setTileProxyAuthHeader}}),Object.defineProperty(t,"getTileProxyAuthHeader",{enumerable:!0,get:function(){return a.getTileProxyAuthHeader}}),Object.defineProperty(t,"authHeader",{enumerable:!0,get:function(){return a.authHeader}})},function(e,t,n){t.__esModule=!0;var r,i=(r=n(94))&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(569)},function(e,t,n){n.r(t);var r=n(8),i=n(72),o=Array.prototype,a=o.map,s=o.slice,l={name:"implicit"};function u(e){var t=Object(i.a)(),n=[],r=l;function o(i){var o=i+"",a=t.get(o);if(!a){if(r!==l)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:s.call(e),o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Object(i.a)();for(var r,a,s=-1,l=e.length;++s<l;)t.has(a=(r=e[s])+"")||t.set(a,n.push(r));return o},o.range=function(t){return arguments.length?(e=s.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return u().domain(n).range(e).unknown(r)},o}function c(){var e,t,n=u().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,l=0,f=0,h=.5;function d(){var n=i().length,u=a[1]<a[0],c=a[u-0],d=a[1-u];e=(d-c)/Math.max(1,n-l+2*f),s&&(e=Math.floor(e)),c+=(d-c-e*(n-l))*h,t=e*(1-l),s&&(c=Math.round(c),t=Math.round(t));var p=Object(r.range)(n).map((function(t){return c+e*t}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],d()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=f=Math.max(0,Math.min(1,e)),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),d()):l},n.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),d()):f},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),d()):h},n.copy=function(){return c().domain(i()).range(a).round(s).paddingInner(l).paddingOuter(f).align(h)},d()}function f(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(c().paddingInner(1))}var h=n(15),d=function(e){return function(){return e}},p=function(e){return+e},m=[0,1];function g(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:d(t)}function v(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function y(e,t,n,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)a[l]=n(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var n=Object(r.bisect)(e,t,1,o)-1;return s[n](a[n](t))}}function b(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function _(e,t){var n,r,i,o=m,l=m,u=h.a,c=!1;function f(){return n=Math.min(o.length,l.length)>2?y:v,r=i=null,d}function d(t){return(r||(r=n(o,l,c?(i=e,function(e,t){var n=i(e=+e,t=+t);return function(r){return r<=e?0:r>=t?1:n(r)}}):e,u)))(+t);var i}return d.invert=function(e){return(i||(i=n(l,o,g,c?(r=t,function(e,t){var n=r(e=+e,t=+t);return function(r){return r<=0?e:r>=1?t:n(r)}}):t)))(+e);var r},d.domain=function(e){return arguments.length?(o=a.call(e,p),f()):o.slice()},d.range=function(e){return arguments.length?(l=s.call(e),f()):l.slice()},d.rangeRound=function(e){return l=s.call(e),u=h.e,f()},d.clamp=function(e){return arguments.length?(c=!!e,f()):c},d.interpolate=function(e){return arguments.length?(u=e,f()):u},f()}var E=n(20);function w(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var i,o=e[0],a=e[e.length-1],s=Object(r.tickStep)(o,a,null==t?10:t);switch((n=Object(E.formatSpecifier)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=Object(E.precisionPrefix)(s,l))||(n.precision=i),Object(E.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Object(E.precisionRound)(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Object(E.precisionFixed)(s))||(n.precision=i-2*("%"===n.type))}return Object(E.format)(n)}(t(),e,n)},e.nice=function(n){null==n&&(n=10);var i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.tickIncrement)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.tickIncrement)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,t(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,t(o)),e},e}function x(){var e=_(g,h.c);return e.copy=function(){return b(e,x())},w(e)}function T(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=a.call(n,p),t):e.slice()},t.copy=function(){return T().domain(e)},w(t)}var S=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function k(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:d(t)}function O(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function A(e){return isFinite(e)?+("1e"+e):e<0?0:e}function C(e){return 10===e?A:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function P(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function M(e){return function(t){return-e(-t)}}function R(){var e=_(k,O).domain([1,10]),t=e.domain,n=10,i=P(10),o=C(10);function a(){return i=P(n),o=C(n),t()[0]<0&&(i=M(i),o=M(o)),e}return e.base=function(e){return arguments.length?(n=+e,a()):n},e.domain=function(e){return arguments.length?(t(e),a()):t()},e.ticks=function(e){var a,s=t(),l=s[0],u=s[s.length-1];(a=u<l)&&(d=l,l=u,u=d);var c,f,h,d=i(l),p=i(u),m=null==e?10:+e,g=[];if(!(n%1)&&p-d<m){if(d=Math.round(d)-1,p=Math.round(p)+1,l>0){for(;d<p;++d)for(f=1,c=o(d);f<n;++f)if(!((h=c*f)<l)){if(h>u)break;g.push(h)}}else for(;d<p;++d)for(f=n-1,c=o(d);f>=1;--f)if(!((h=c*f)<l)){if(h>u)break;g.push(h)}}else g=Object(r.ticks)(d,p,Math.min(p-d,m)).map(o);return a?g.reverse():g},e.tickFormat=function(t,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=Object(E.format)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*n<n-.5&&(t*=n),t<=a?r(e):""}},e.nice=function(){return t(S(t(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},e.copy=function(){return b(e,R().base(n))},e}function I(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function D(){var e=1,t=_((function(t,n){return(n=I(n,e)-(t=I(t,e)))?function(r){return(I(r,e)-t)/n}:d(n)}),(function(t,n){return n=I(n,e)-(t=I(t,e)),function(r){return I(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return b(t,D().exponent(e))},w(t)}function N(){return D().exponent(.5)}function L(){var e=[],t=[],n=[];function i(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(e,i/a);return o}function o(e){if(!isNaN(e=+e))return t[Object(r.bisect)(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r.ascending),i()},o.range=function(e){return arguments.length?(t=s.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return L().domain(e).range(t)},o}function F(){var e=0,t=1,n=1,i=[.5],o=[0,1];function a(e){if(e<=e)return o[Object(r.bisect)(i,e,0,n)]}function l(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*t-(r-n)*e)/(n+1);return a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],l()):[e,t]},a.range=function(e){return arguments.length?(n=(o=s.call(e)).length-1,l()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=n?[i[n-1],t]:[i[a-1],i[a]]},a.copy=function(){return F().domain([e,t]).range(o)},w(a)}function j(){var e=[.5],t=[0,1],n=1;function i(i){if(i<=i)return t[Object(r.bisect)(e,i,0,n)]}return i.domain=function(r){return arguments.length?(e=s.call(r),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(r){return arguments.length?(t=s.call(r),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.copy=function(){return j().domain(e).range(t)},i}var B=new Date,U=new Date;function z(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return z((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return B.setTime(+t),U.setTime(+r),e(B),e(U),Math.floor(n(B,U))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var H=z((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));H.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?z((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):H:null};var G=H,V=z((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),$=z((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),X=z((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),W=z((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}));function Y(e){return z((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var q=Y(0),K=Y(1);Y(2),Y(3);var Z=Y(4);Y(5),Y(6);var Q=z((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),J=z((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));J.every=function(e){return isFinite(e=Math.floor(e))&&e>0?z((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ee=J,te=z((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})),ne=z((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),re=z((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}));function ie(e){return z((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var oe=ie(0),ae=ie(1);ie(2),ie(3);var se=ie(4);ie(5),ie(6);var le=z((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),ue=z((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ue.every=function(e){return isFinite(e=Math.floor(e))&&e>0?z((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ce=ue;function fe(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function he(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function de(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var pe,me,ge,ve,ye={"-":"",_:" ",0:"0"},be=/^\s*\d+/,_e=/^%/,Ee=/[\\^$*+?|[\]().{}]/g;function we(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function xe(e){return e.replace(Ee,"\\$&")}function Te(e){return new RegExp("^(?:"+e.map(xe).join("|")+")","i")}function Se(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function ke(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Oe(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ae(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ce(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pe(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Me(e,t,n){var r=be.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Re(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ie(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function De(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ne(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Le(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Fe(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function je(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Be(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ue(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ze(e,t,n){var r=be.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function He(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ge(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ve(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function $e(e,t){return we(e.getDate(),t,2)}function Xe(e,t){return we(e.getHours(),t,2)}function We(e,t){return we(e.getHours()%12||12,t,2)}function Ye(e,t){return we(1+W.count(ee(e),e),t,3)}function qe(e,t){return we(e.getMilliseconds(),t,3)}function Ke(e,t){return qe(e,t)+"000"}function Ze(e,t){return we(e.getMonth()+1,t,2)}function Qe(e,t){return we(e.getMinutes(),t,2)}function Je(e,t){return we(e.getSeconds(),t,2)}function et(e){var t=e.getDay();return 0===t?7:t}function tt(e,t){return we(q.count(ee(e),e),t,2)}function nt(e,t){var n=e.getDay();return e=n>=4||0===n?Z(e):Z.ceil(e),we(Z.count(ee(e),e)+(4===ee(e).getDay()),t,2)}function rt(e){return e.getDay()}function it(e,t){return we(K.count(ee(e),e),t,2)}function ot(e,t){return we(e.getFullYear()%100,t,2)}function at(e,t){return we(e.getFullYear()%1e4,t,4)}function st(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function lt(e,t){return we(e.getUTCDate(),t,2)}function ut(e,t){return we(e.getUTCHours(),t,2)}function ct(e,t){return we(e.getUTCHours()%12||12,t,2)}function ft(e,t){return we(1+re.count(ce(e),e),t,3)}function ht(e,t){return we(e.getUTCMilliseconds(),t,3)}function dt(e,t){return ht(e,t)+"000"}function pt(e,t){return we(e.getUTCMonth()+1,t,2)}function mt(e,t){return we(e.getUTCMinutes(),t,2)}function gt(e,t){return we(e.getUTCSeconds(),t,2)}function vt(e){var t=e.getUTCDay();return 0===t?7:t}function yt(e,t){return we(oe.count(ce(e),e),t,2)}function bt(e,t){var n=e.getUTCDay();return e=n>=4||0===n?se(e):se.ceil(e),we(se.count(ce(e),e)+(4===ce(e).getUTCDay()),t,2)}function _t(e){return e.getUTCDay()}function Et(e,t){return we(ae.count(ce(e),e),t,2)}function wt(e,t){return we(e.getUTCFullYear()%100,t,2)}function xt(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function Tt(){return"+0000"}function St(){return"%"}function kt(e){return+e}function Ot(e){return Math.floor(+e/1e3)}function At(e){return new Date(e)}function Ct(e){return e instanceof Date?+e:+new Date(+e)}function Pt(e,t,n,i,o,s,l,u,c){var f=_(g,h.c),d=f.invert,p=f.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),E=c("%I %p"),w=c("%a %d"),x=c("%b %d"),T=c("%B"),k=c("%Y"),O=[[l,1,1e3],[l,5,5e3],[l,15,15e3],[l,30,3e4],[s,1,6e4],[s,5,3e5],[s,15,9e5],[s,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function A(r){return(l(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?E:t(r)<r?n(r)<r?w:x:e(r)<r?T:k)(r)}function C(t,n,i,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(i-n)/t,s=Object(r.bisector)((function(e){return e[2]})).right(O,a);s===O.length?(o=Object(r.tickStep)(n/31536e6,i/31536e6,t),t=e):s?(o=(s=O[a/O[s-1][2]<O[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(Object(r.tickStep)(n,i,t),1),t=u)}return null==o?t:t.every(o)}return f.invert=function(e){return new Date(d(e))},f.domain=function(e){return arguments.length?p(a.call(e,Ct)):p().map(At)},f.ticks=function(e,t){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=C(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?A:c(t)},f.nice=function(e,t){var n=p();return(e=C(e,n[0],n[n.length-1],t))?p(S(n,e)):f},f.copy=function(){return b(f,Pt(e,t,n,i,o,s,l,u,c))},f}pe=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Te(i),c=Se(i),f=Te(o),h=Se(o),d=Te(a),p=Se(a),m=Te(s),g=Se(s),v=Te(l),y=Se(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:$e,e:$e,f:Ke,H:Xe,I:We,j:Ye,L:qe,m:Ze,M:Qe,p:function(e){return i[+(e.getHours()>=12)]},Q:kt,s:Ot,S:Je,u:et,U:tt,V:nt,w:rt,W:it,x:null,X:null,y:ot,Y:at,Z:st,"%":St},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:lt,e:lt,f:dt,H:ut,I:ct,j:ft,L:ht,m:pt,M:mt,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:kt,s:Ot,S:gt,u:vt,U:yt,V:bt,w:_t,W:Et,x:null,X:null,y:wt,Y:xt,Z:Tt,"%":St},E={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Ne,e:Ne,f:ze,H:Fe,I:Fe,j:Le,L:Ue,m:De,M:je,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:Ge,s:Ve,S:Be,u:Oe,U:Ae,V:Ce,w:ke,W:Pe,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:Re,Y:Me,Z:Ie,"%":He};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=ye[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=de(1900);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=he(de(o.y))).getUTCDay(),r=i>4||0===i?ae.ceil(r):ae(r),r=re.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(de(o.y))).getDay(),r=i>4||0===i?K.ceil(r):K(r),r=W.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?he(de(o.y)).getUTCDay():t(de(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,he(o)):t(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=E[i in ye?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",fe);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,he);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),me=pe.format,pe.parse,ge=pe.utcFormat,ve=pe.utcParse,Date.prototype.toISOString||ge("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||ve("%Y-%m-%dT%H:%M:%S.%LZ");var Mt=function(){return Pt(ee,Q,q,W,X,$,V,G,me).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Rt=function(){return Pt(ce,le,oe,re,ne,te,V,G,ge).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},It=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},Dt=It("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Nt=It("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Lt=It("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ft=It("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),jt=n(9),Bt=Object(h.b)(Object(jt.cubehelix)(300,.5,0),Object(jt.cubehelix)(-240,.5,1)),Ut=Object(h.b)(Object(jt.cubehelix)(-100,.75,.35),Object(jt.cubehelix)(80,1.5,.8)),zt=Object(h.b)(Object(jt.cubehelix)(260,.75,.35),Object(jt.cubehelix)(80,1.5,.8)),Ht=Object(jt.cubehelix)(),Gt=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ht.h=360*e-100,Ht.s=1.5-1.5*t,Ht.l=.8-.9*t,Ht+""};function Vt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var $t=Vt(It("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Xt=Vt(It("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Wt=Vt(It("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Yt=Vt(It("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function qt(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return qt(e).domain([t,n]).clamp(r)},w(i)}n.d(t,"scaleBand",(function(){return c})),n.d(t,"scalePoint",(function(){return f})),n.d(t,"scaleIdentity",(function(){return T})),n.d(t,"scaleLinear",(function(){return x})),n.d(t,"scaleLog",(function(){return R})),n.d(t,"scaleOrdinal",(function(){return u})),n.d(t,"scaleImplicit",(function(){return l})),n.d(t,"scalePow",(function(){return D})),n.d(t,"scaleSqrt",(function(){return N})),n.d(t,"scaleQuantile",(function(){return L})),n.d(t,"scaleQuantize",(function(){return F})),n.d(t,"scaleThreshold",(function(){return j})),n.d(t,"scaleTime",(function(){return Mt})),n.d(t,"scaleUtc",(function(){return Rt})),n.d(t,"schemeCategory10",(function(){return Dt})),n.d(t,"schemeCategory20b",(function(){return Nt})),n.d(t,"schemeCategory20c",(function(){return Lt})),n.d(t,"schemeCategory20",(function(){return Ft})),n.d(t,"interpolateCubehelixDefault",(function(){return Bt})),n.d(t,"interpolateRainbow",(function(){return Gt})),n.d(t,"interpolateWarm",(function(){return Ut})),n.d(t,"interpolateCool",(function(){return zt})),n.d(t,"interpolateViridis",(function(){return $t})),n.d(t,"interpolateMagma",(function(){return Xt})),n.d(t,"interpolateInferno",(function(){return Wt})),n.d(t,"interpolatePlasma",(function(){return Yt})),n.d(t,"scaleSequential",(function(){return qt}))},function(e,t,n){e.exports={default:n(232),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=Object.keys(t),i=n&&n.handleMissingStyleName||"throw";return e.split(" ").filter((function(e){return e})).map((function(e){if(-1!==e.indexOf("."))return function(e,t,n){var r=e.split("."),i=r[0],o=r[1],a=n||"throw";if(!o){if("throw"===a)throw new Error("Invalid style name: "+e);if("warn"!==a)return null;console.warn("Invalid style name: "+e)}if(!t[i]){if("throw"===a)throw new Error("CSS module import does not exist: "+i);if("warn"!==a)return null;console.warn("CSS module import does not exist: "+i)}if(!t[i][o]){if("throw"===a)throw new Error("CSS module does not exist: "+o);if("warn"!==a)return null;console.warn("CSS module does not exist: "+o)}return t[i][o]}(e,t,i);if(0===r.length)throw new Error("Cannot use styleName attribute for style name '"+e+"' without importing at least one stylesheet.");if(r.length>1)throw new Error("Cannot use anonymous style name '"+e+"' with more than one stylesheet import.");var n=t[r[0]];if(!n[e]){if("throw"===i)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===i&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]})).filter((function(e){return e})).join(" ")}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(39),i=n(159),o=n(126),a=Object.defineProperty;t.f=n(36)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(43))&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(228),__esModule:!0}},function(e,t,n){e.exports=!n(50)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports={default:n(542),__esModule:!0}},function(e,t,n){e.exports={default:n(560),__esModule:!0}},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(391),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,n){e.exports=t},function(e,t,n){var r=n(32),i=n(66);e.exports=n(36)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(221),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(43)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),f=v(n(29)),h=n(20),d=v(n(27)),p=v(n(175)),m=n(10),g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),s=e.scene;r.scene=s,r.delayDrawing=!1,r.pBase=new g.GLOBALS.PIXI.Graphics,r.pMasked=new g.GLOBALS.PIXI.Graphics,r.pMask=new g.GLOBALS.PIXI.Graphics,r.pMain=new g.GLOBALS.PIXI.Graphics,r.pBorder=new g.GLOBALS.PIXI.Graphics,r.pBackground=new g.GLOBALS.PIXI.Graphics,r.pForeground=new g.GLOBALS.PIXI.Graphics,r.pLabel=new g.GLOBALS.PIXI.Graphics,r.pMobile=new g.GLOBALS.PIXI.Graphics,r.pAxis=new g.GLOBALS.PIXI.Graphics,r.pMouseOver=new g.GLOBALS.PIXI.Graphics,r.scene.addChild(r.pBase),r.pBase.addChild(r.pMasked),r.pMasked.addChild(r.pBackground),r.pMasked.addChild(r.pMain),r.pMasked.addChild(r.pMask),r.pMasked.addChild(r.pMobile),r.pMasked.addChild(r.pBorder),r.pMasked.addChild(r.pLabel),r.pMasked.addChild(r.pForeground),r.pMasked.addChild(r.pMouseOver),r.pBase.addChild(r.pAxis),r.pMasked.mask=r.pMask,r.prevOptions="",r.options=(0,i.default)(r.options,n);var u=r.getName();return r.labelTextFontFamily="Arial",r.labelTextFontSize=12,r.labelXOffset=0,r.labelText=new g.GLOBALS.PIXI.Text(u,{fontSize:String(r.labelTextFontSize)+"px",fontFamily:r.labelTextFontFamily,fill:"black"}),r.pLabel.addChild(r.labelText),r.errorText=new g.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),r.errorText.anchor.x=.5,r.errorText.anchor.y=.5,r.pLabel.addChild(r.errorText),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(e){this.position=e,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var e=this.pBorder;e.clear(),e.lineStyle(1,(0,m.colorToHex)("red")),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){var e=this.pBackground;if(e.clear(),this.options&&this.options.backgroundColor){var t=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(t=0,n="white");var r=(0,m.colorToHex)(n);e.beginFill(r,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"getLabelColor",value:function(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(this.labelText){var e=this.pLabel;if(e.clear(),this.options&&this.options.labelPosition&&"hidden"!==this.options.labelPosition){e.beginFill((0,m.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var t=(0,m.colorToHex)(this.getLabelColor());if(!(this.dimensions[0]<0)){var n=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(n+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var i=function(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(!(0,f.default)(i)){var o=t/(Math.pow(2,r)*n),a=(0,h.precisionPrefix)(o,i);return(0,h.formatPrefix)("."+String(a),i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);n+="\n[Current data resolution: "+String(i)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var o=function(e,t){var n,r,i,o=e.map((function(e){return+e})).sort((function(e,t){return t-e}));return n=o[t],r=o[o.length-1],i=(0,h.precisionPrefix)(r,n),(0,h.formatPrefix)("."+String(i),n)(n)}(this.tilesetInfo.resolutions,this.calculateZoomLevel());n+="\n[Current data resolution: "+String(o)+"]"}if(this.options&&this.options.dataTransform){var a=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var s=!0,l=!1,u=void 0;try{for(var c,d=(0,r.default)(this.tilesetInfo.transforms);!(s=(c=d.next()).done);s=!0){var p=c.value;p.value===this.options.dataTransform&&(a=p)}}catch(_){l=!0,u=_}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}}a?n+="\n[Transform: "+String(a.name)+"]":"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha=void 0!==this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var g=+this.options.labelLeftMargin||0,v=+this.options.labelRightMargin||0,y=+this.options.labelTopMargin||0,b=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+g+this.labelXOffset,this.labelText.y=this.position[1]+y,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0]+g+this.labelXOffset,this.position[1]+y,this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(g||y),this.labelText.y=this.position[1]+this.dimensions[1]-(b||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+(g||y)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-(b||v),this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(v||b),this.labelText.y=this.position[1]+(y||g),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-(v||b)-this.labelXOffset,this.position[1]+(y||g),this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-v,this.labelText.y=this.position[1]+this.dimensions[1]-b,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-v-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-b,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}else this.labelText.alpha=0}}},{key:"rerender",value:function(e){this.options=e,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=document.createElement("rect");t.setAttribute("x",""+String(this.position[0])),t.setAttribute("y",""+String(this.position[1])),t.setAttribute("width",""+String(this.dimensions[0])),t.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?t.setAttribute("fill",this.options.backgroundColor):t.setAttribute("fill-opacity","0");var n=document.createElement("g");n.setAttribute("class","g-clipped"),e.appendChild(n),n.appendChild(t);var r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);var i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" "+String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" ");var s=d.default.nice();o.setAttribute("id",s),n.setAttribute("style","clip-path:url(#"+String(s)+");");var l=this.labelText.text.split("\n"),u=0,c=(this.labelTextFontSize+2)*l.length+3;.5===this.labelText.anchor.y?u=c/2:1===this.labelText.anchor.y&&(u=-c);for(var f=0;f<l.length;f++){var h=document.createElement("text");if(h.setAttribute("font-family",this.labelTextFontFamily),h.setAttribute("font-size",String(this.labelTextFontSize)+"px"),h.innerText=l[f],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var p=u+(f+1)*(this.labelTextFontSize+2);h.setAttribute("dy",p)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||h.setAttribute("dy",u+f*(this.labelTextFontSize+2));h.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?h.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&h.setAttribute("text-anchor","end"),i.appendChild(h)}return i.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[e,r]}}]),t}(p.default);t.default=y},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(832),i=n(287)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(104),i=n(87);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(92);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports={}},function(e,t,n){var r=n(292),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!l,e.exports=c},function(e,t,n){var r=n(954);e.exports=Function.prototype.bind||r},function(e,t,n){var r=n(87);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(240),__esModule:!0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(842)),i=o(n(843));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)&&/^\d+%$/.test(e[r])&&(n+=1)})),t===n&&e},toState:function(e,t){var n=e.hex?(0,i.default)(e.hex):(0,i.default)(e),r=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(53);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){var r=n(158),i=n(106);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(214)(!0);n(108)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){e.exports={default:n(507),__esModule:!0}},function(e,t,n){e.exports={default:n(238),__esModule:!0}},function(e,t,n){var r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=t.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},function(e,t,n){var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=i[o]).type)r[n]=l(r[n],e.name,t);else if(null==t)for(n in r)r[n]=l(r[n],e.name,null);return this}for(;++o<u;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var u=i;n.d(t,"a",(function(){return u}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(68);var a=function(e){return i.default.createElement("div",{"data-menu-item-for":"string"==typeof e.children?e.children:null,onClick:function(t){return e.onClick(t)},onMouseEnter:function(t){return e.onMouseEnter(t)},onMouseLeave:function(t){return e.onMouseLeave(t)},role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},i.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.children))};a.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},a.propTypes={children:r.default.node.isRequired,onClick:r.default.func.isRequired,onMouseEnter:r.default.func,onMouseLeave:r.default.func},t.default=a},function(e,t,n){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.fake=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(172));function a(e){return e&&e.__esModule?e:{default:e}}var s={__fake__:!0,publish:o.default,subscribe:o.default,unsubscribe:o.default},l=i.default.createContext(s),u=l.Provider,c=l.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(c,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{pubSub:o}))}))}))},t.fake=s,t.Provider=u},function(e,t,n){var r=n(398),i=n(144),o=n(798),a=n(31);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a,s=Object.keys(n),l=(a={},s.forEach((function(e,t){a[e]=!0})),a);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(x(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var _,T="",S=!1,k=["{","}"];return d(n)&&(S=!0,k=["[","]"]),x(n)&&(T=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(T=" "+RegExp.prototype.toString.call(n)),E(n)&&(T=" "+Date.prototype.toUTCString.call(n)),w(n)&&(T=" "+f(n)),0!==s.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),_=S?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,l,s):s.map((function(t){return h(e,n,r,l,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(_,T,k)):k[0]+T+k[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function E(e){return _(e)&&"[object Date]"===T(e)}function w(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function x(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=E,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(978);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(58),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(150))},function(e,t,n){function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}r.prototype=i.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=i;function a(){}var s=o.prototype;a.prototype={constructor:a,has:s.has,add:function(e){return this["$"+(e+="")]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each},n.d(t,"a",(function(){return o}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(19)),o=n(103),a=n(24),s=n(10),l=n(69);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.fake,u={absToChr:function(e){return u.chrPositions?(0,s.absToChr)(e,u):null},chrToAbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.default)(e,2),n=t[0],r=t[1];return u.chrPositions?(0,s.chrToAbs)(n,r,u):null}};return a.tileProxy.text(e,(function(e,n){if(e)t&&t(null);else{var i=(0,o.tsvParseRows)(n),a=(0,s.parseChromsizesRows)(i);(0,r.default)(a).forEach((function(e){u[e]=a[e]})),t&&t(u)}}),n).then((function(){return u}))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){n(211);for(var r=n(23),i=n(42),o=n(51),a=n(21)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){var r=n(32).f,i=n(47),o=n(21)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(172));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{theme:o}))}))}))},t.Provider=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(63)),i=C(n(55)),o=C(n(94)),a=C(n(37)),s=C(n(19)),l=C(n(34)),u=C(n(35)),c=C(n(17)),f=C(n(25)),h=C(n(18)),d=C(n(29)),p=C(n(38)),m=C(n(5)),g=C(n(3)),v=C(n(4)),y=C(n(6)),b=C(n(14)),_=C(n(7));t.getValueScale=function(e,t,n,r,i){return"log"===(e||i)&&t>0?["log",(0,E.scaleLog)().range([254,0]).domain([t+0,r+0])]:["linear",(0,E.scaleLinear)().range([254,0]).domain([t,r])]};var E=n(28),w=n(8),x=C(n(27)),T=C(n(244)),S=C(n(44)),k=n(10),O=C(n(599)),A=n(11);function C(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(e,n){(0,g.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e,n)),i=e.pubSub,o=e.dataConfig,a=e.handleTilesetInfoReceived,s=e.animate,l=e.onValueScaleChanged;return r.renderVersion=1,r.visibleTiles=new p.default,r.visibleTileIds=new p.default,r.renderingTiles=new p.default,r.fetching=new p.default,r.scale={},r.fetchedTiles={},r.tileGraphics={},r.maxZoom=0,r.medianVisibleValue=null,r.backgroundTaskScheduler=O.default,r.continuousScaling="requestIdleCallback"in window,r.valueScaleMin=null,r.fixedValueScaleMin=null,r.valueScaleMax=null,r.fixedValueScaleMax=null,r.listeners={},r.pubSub=i,r.animate=s,r.onValueScaleChanged=l,r.prevValueScale=null,e.dataFetcher?r.dataFetcher=e.dataFetcher:r.dataFetcher=new T.default(o,r.pubSub),r.tilesetInfo=null,r.uuid=x.default.nice(),r.trackNotFoundText=new A.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),r.pLabel.addChild(r.trackNotFoundText),r.refreshTilesDebounced=(0,k.throttleAndDebounce)(r.refreshTiles.bind(r),A.ZOOM_DEBOUNCE,A.ZOOM_DEBOUNCE),r.dataFetcher.tilesetInfo((function(e,t){if(r.tilesetInfo=e,r.dataFetcher.dataConfig.tilesetUid||(r.dataFetcher.dataConfig.tilesetUid=t),r.tilesetUid=r.dataFetcher.dataConfig.tilesetUid,r.server=r.dataFetcher.dataConfig.server||"unknown",r.tilesetInfo.chromsizes&&(r.chromInfo=(0,k.parseChromsizesRows)(r.tilesetInfo.chromsizes)),"error"in r.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",o,r.tilesetInfo.error),r.tilesetInfo=null,void r.setError(r.tilesetInfo.error);r.tilesetInfo.resolutions?r.maxZoom=r.tilesetInfo.resolutions.length:r.maxZoom=+r.tilesetInfo.max_zoom,r.options&&r.options.maxZoom&&(r.options.maxZoom>=0?r.maxZoom=Math.min(r.options.maxZoom,r.maxZoom):console.error("Invalid maxZoom on track:",r)),r.refreshTiles(),a&&a(e),r.options||(r.options={}),r.options.name=r.options.name||e.name,r.checkValueScaleLimits(),r.draw(),r.drawLabel(),r.animate()})),r}return(0,_.default)(t,e),(0,v.default)(t,[{key:"setError",value:function(e){this.errorTextText=e,this.draw(),this.animate()}},{key:"setFixedValueScaleMin",value:function(e){(0,d.default)(+e)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+e}},{key:"setFixedValueScaleMax",value:function(e){(0,d.default)(+e)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+e}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=void 0!==this.options.valueScaleMin?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=void 0!==this.options.valueScaleMax?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e].indexOf(t);-1===n||n>=this.listeners[e].length||this.listeners[e].splice(n,1)}},{key:"rerender",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"rerender",this).call(this,e),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,h.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new p.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeOldTiles",value:function(){var e=this;this.calculateVisibleTiles();var t=new p.default((0,h.default)(this.fetchedTiles)),n=[].concat((0,f.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(n)}},{key:"refreshTiles",value:function(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new p.default((0,h.default)(this.fetchedTiles)),n=[].concat((0,f.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}}},{key:"parentInFetched",value:function(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;)if(n-=1,r=r.map((function(e){return Math.floor(e/2)})),String(t)+"."+String(n)+"."+String(r.join("."))in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map((function(e){return Math.floor(e/2)})),r=e.tileData.tilesetUid;return String(r)+"."+t+"."+String(n.join("."))}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&!this.renderingTiles.size&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"setPosition",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new p.default((0,h.default)(this.fetchedTiles)),t=[].concat((0,f.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e?(this.scale.minValue=e,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(e){return e?(this.scale.maxValue=e,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){var e=(0,h.default)(this.fetchedTiles);this.renderVersion+=1;for(var t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new A.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,h.default)(this.fetchedTiles),t=0;t<e.length;t++){var n=this.fetchedTiles[e[t]];this.updateTile(n)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,c.default)(this.listeners.dataChanged);!(e=(r=i.next()).done);e=!0)(0,r.value)(this.visibleAndFetchedTiles().map((function(e){return e.tileData})))}catch(o){t=!0,n=o}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"fetchNewTiles",value:function(e){if(e.length>0){var t=[].concat((0,f.default)(new p.default(e.map((function(e){return e.remoteId})))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}},{key:"receivedTiles",value:function(e){for(var t=this,n=function(n){var r=t.visibleTiles[n].tileId;if(!e[t.visibleTiles[n].remoteId])return"continue";if(t.visibleTiles[n].remoteId in e){if(r in t.fetchedTiles||(t.fetchedTiles[r]=t.visibleTiles[n]),Array.isArray(e[t.visibleTiles[n].remoteId])){var i=e[t.visibleTiles[n].remoteId];t.fetchedTiles[r].tileData=[].concat((0,f.default)(i)),(0,h.default)(i).filter((function(e){return(0,d.default)(+e)})).forEach((function(e){t.fetchedTiles[r].tileData[e]=i[e]}))}else t.fetchedTiles[r].tileData=(0,l.default)({},e[t.visibleTiles[n].remoteId]);t.fetchedTiles[r].tileData.error&&console.warn("Error in loaded tile",r,t.fetchedTiles[r].tileData)}},r=0;r<this.visibleTiles.length;r++)n(r);for(var i in e)if(e[i]){var o=e[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(this.prevValueScale&&(0,u.default)(this.valueScale.domain())===(0,u.default)(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){var e=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var n=(0,s.default)(this.position,2);this.trackNotFoundText.x=n[0],this.trackNotFoundText.y=n[1],this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});var r=(0,a.default)(this.fetchedTiles).map((function(e){return e.tileData&&e.tileData.error&&String(e.tileId)+": "+String(e.tileData.error)})).filter((function(e){return e}));r.length?this.errorTextText=r.join("\n"):this.errorTextText="",(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"draw",this).call(this),(0,h.default)(this.fetchedTiles).forEach((function(t){e.drawTile(e.fetchedTiles[t])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){var e,t=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var n=this.visibleAndFetchedIds();0===n.length&&(n=(0,h.default)(this.fetchedTiles));var r=(e=[]).concat.apply(e,(0,f.default)(n.filter((function(e){return t.fetchedTiles[e].tileData.dense})).map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)})))).filter((function(e){return e>0}));return this.medianVisibleValue=(0,w.median)(r),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){var e,t=this;return(e=[]).concat.apply(e,(0,f.default)(this.visibleAndFetchedIds().map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)}))))}},{key:"minVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.minVisibleValueInTiles(e)}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,h.default)(this.fetchedTiles));var r=Math.min.apply(Math,(0,f.default)(n.map((function(t){return e.fetchedTiles[t].tileData.minNonZero}))));return r===i.default&&(r=null),t?r:null!==this.valueScaleMin?this.valueScaleMin:r}},{key:"maxVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxVisibleValueInTiles(e)}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,h.default)(this.fetchedTiles));var i=Math.max.apply(Math,(0,f.default)(n.map((function(t){return e.fetchedTiles[t].tileData.maxNonZero}))));return i===r.default&&(i=null),t?i:null!==this.valueScaleMax?this.valueScaleMax:i}},{key:"makeValueScale",value:function(e,t,n,r){var i=null,o=0,a=r;null==a&&(a=6);var s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)(o=t)||(o=e),i=(0,E.scaleLog)().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){var u=this.dimensions[1]-a,c=a,h=(0,E.scaleQuantile)().domain(this.allVisibleValues()).range((0,w.range)(u,c,(c-u)/256));return h.ticks=function(e){return(0,w.ticks)(u,c,e)},[h,0]}if("setquantile"===this.options.valueScaling){var d=this.dimensions[1]-a,m=a,g=new p.default(this.allVisibleValues()),v=(0,E.scaleQuantile)().domain([].concat((0,f.default)(g))).range((0,w.range)(d,m,(m-d)/256));return v.ticks=function(e){return(0,w.ticks)(d,m,e)},[v,0]}i=(0,E.scaleLinear)().domain([e,n]).range([l,s])}return[i,o]}}]),t}(S.default);t.default=P},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=n(0),u=c(n(27));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.svgElement;return o.gMain=(0,l.select)(s).append("g"),o.clipUid=u.default.nice(),o.clipRect=o.gMain.append("clipPath").attr("id","track-bounds-"+String(o.clipUid)).append("rect"),o.gMain.attr("clip-path","url(#track-bounds-"+String(o.clipUid)+")"),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){this.position=e,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),t}(c(n(175)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Mixin=t.BareMixin=t.HasInstance=t.DeDupe=t.Cached=t.wrap=t.hasMixin=t.isApplicationOf=t.apply=t.unwrap=void 0;var r=f(n(3)),i=f(n(4)),o=f(n(130)),a=f(n(626)),s=f(n(224)),l=f(n(629)),u=f(n(328)),c=f(n(5));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.unwrap=function(e){return e.__mixwith_wrappedMixin||e},d=t.apply=function(e,t){var n=t(e);return n.prototype.__mixwith_appliedMixin=h(t),n},p=t.isApplicationOf=function(e,t){return e.hasOwnProperty("__mixwith_appliedMixin")&&e.__mixwith_appliedMixin===h(t)},m=t.hasMixin=function(e,t){for(;null!==e;){if(p(e,t))return!0;e=(0,c.default)(e)}return!1},g=t.wrap=function(e,t){return(0,u.default)(t,e),e.__mixwith_wrappedMixin||(e.__mixwith_wrappedMixin=e),t},v=t.Cached=function(e){return g(e,(function(t){var n=t.__mixwith_cachedApplications;n||(t.__mixwith_cachedApplications=new l.default,n=t.__mixwith_cachedApplications);var r=n.get(e);return r||(r=e(t),n.set(e,r)),r}))},y=t.DeDupe=function(e){return g(e,(function(t){return m(t.prototype,e)?t:e(t)}))},b=(t.HasInstance=function(e){return s.default&&a.default&&!e[a.default]&&(0,o.default)(e,a.default,{value:function(t){return m(t,e)}}),e},t.BareMixin=function(e){return g(e,(function(t){return d(t,e)}))}),_=(t.Mixin=function(e){return y(v(b(e)))},function(){function e(t){(0,r.default)(this,e),this.superclass=t||function e(){(0,r.default)(this,e)}}return(0,i.default)(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this.superclass)}}]),e}());t.mix=function(e){return new _(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}},u=function(e,t,n){this.target=e,this.type=t,this.selection=n};function c(){a.event.stopImmediatePropagation()}var f=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},h={name:"drag"},d={name:"space"},p={name:"handle"},m={name:"center"},g={name:"x",handles:["e","w"].map(T),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},v={name:"y",handles:["n","s"].map(T),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},y={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(T),input:function(e){return e},output:function(e){return e}},b={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},E={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},w={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},x={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function T(e){return{type:e}}function S(){return!a.event.button}function k(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function O(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function A(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function C(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function P(e,t,n){return I(g,e,t,n)}function M(e,t,n){return I(v,e,t,n)}var R=function(e,t,n){return I(y,e,t,n)};function I(e,t,n,y){var C,P=k,M=S,R=Object(r.a)(D,"start","brush","end"),I=6;function D(t){var r=t.property("__brush",B).selectAll(".overlay").data([T("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events",y?"auto":"all").attr("cursor",n?"default":b.overlay).merge(r).each((function(){var e=O(this).extent;Object(a.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([T("selection")]).enter().append("rect").attr("class","selection").attr("cursor",b.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return b[e.type]})),t.each(N).attr("fill","none").attr("pointer-events",y?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n?t.on("mousedown.brush touchstart.brush",(function(){"overlay"!==a.event.target.__data__.type&&j.apply(this,arguments)})):t.on("mousedown.brush touchstart.brush",j)}function N(){var e=Object(a.select)(this),t=O(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-I/2:t[0][0]-I/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-I/2:t[0][1]-I/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+I:I})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+I:I}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function L(e,t){return e.__brush.emitter||new F(e,t)}function F(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function j(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return f()}else if(C)return;if(M.apply(this,arguments)){var n,r,o,l,u,y,T,S,k,P,R,I,D,F=this,j=a.event.target.__data__.type,B="selection"===(a.event.metaKey&&!t?j="overlay":j)?h:a.event.altKey&&!t?m:p,U=e===v?null:w[j],z=e===g?null:x[j],H=O(F),G=H.extent,V=H.selection,$=G[0][0],X=G[0][1],W=G[1][0],Y=G[1][1],q=U&&z&&a.event.shiftKey,K=Object(a.mouse)(F),Z=K,Q=L(F,arguments).beforestart();"overlay"===j?H.selection=V=[[n=e===v?$:K[0],o=e===g?X:K[1]],[u=e===v?W:n,T=e===g?Y:o]]:(n=V[0][0],o=V[0][1],u=V[1][0],T=V[1][1]),r=n,l=o,y=u,S=T;var J=Object(a.select)(F).attr("pointer-events","none"),ee=J.selectAll(".overlay").attr("cursor",b[j]);if(a.event.touches)J.on("touchmove.brush",ne,!0).on("touchend.brush touchcancel.brush",ie,!0);else{var te=Object(a.select)(a.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",ie,!0);t||te.on("keydown.brush",oe,!0).on("keyup.brush",ae,!0),Object(i.dragDisable)(a.event.view)}c(),Object(s.interrupt)(F),N.call(F),Q.start()}function ne(){var e=Object(a.mouse)(F);!q||I||D||(Math.abs(e[0]-Z[0])>Math.abs(e[1]-Z[1])?D=!0:I=!0),Z=e,R=!0,f(),re()}function re(){var e;switch(k=Z[0]-K[0],P=Z[1]-K[1],B){case d:case h:U&&(k=Math.max($-n,Math.min(W-u,k)),r=n+k,y=u+k),z&&(P=Math.max(X-o,Math.min(Y-T,P)),l=o+P,S=T+P);break;case p:U<0?(k=Math.max($-n,Math.min(W-n,k)),r=n+k,y=u):U>0&&(k=Math.max($-u,Math.min(W-u,k)),r=n,y=u+k),z<0?(P=Math.max(X-o,Math.min(Y-o,P)),l=o+P,S=T):z>0&&(P=Math.max(X-T,Math.min(Y-T,P)),l=o,S=T+P);break;case m:U&&(r=Math.max($,Math.min(W,n-k*U)),y=Math.max($,Math.min(W,u+k*U))),z&&(l=Math.max(X,Math.min(Y,o-P*z)),S=Math.max(X,Math.min(Y,T+P*z)))}y<r&&(U*=-1,e=n,n=u,u=e,e=r,r=y,y=e,j in _&&ee.attr("cursor",b[j=_[j]])),S<l&&(z*=-1,e=o,o=T,T=e,e=l,l=S,S=e,j in E&&ee.attr("cursor",b[j=E[j]])),H.selection&&(V=H.selection),I&&(r=V[0][0],y=V[1][0]),D&&(l=V[0][1],S=V[1][1]),V[0][0]===r&&V[0][1]===l&&V[1][0]===y&&V[1][1]===S||(H.selection=[[r,l],[y,S]],N.call(F),Q.brush())}function ie(){if(c(),a.event.touches){if(a.event.touches.length)return;C&&clearTimeout(C),C=setTimeout((function(){C=null}),500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(a.event.view,R),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ee.attr("cursor",b.overlay),H.selection&&(V=H.selection),A(V)&&(H.selection=null,N.call(F)),Q.end()}function oe(){switch(a.event.keyCode){case 16:q=U&&z;break;case 18:B===p&&(U&&(u=y-k*U,n=r+k*U),z&&(T=S-P*z,o=l+P*z),B=m,re());break;case 32:B!==p&&B!==m||(U<0?u=y-k:U>0&&(n=r-k),z<0?T=S-P:z>0&&(o=l-P),B=d,ee.attr("cursor",b.selection),re());break;default:return}f()}function ae(){switch(a.event.keyCode){case 16:q&&(I=D=q=!1,re());break;case 18:B===m&&(U<0?u=y:U>0&&(n=r),z<0?T=S:z>0&&(o=l),B=p,re());break;case 32:B===d&&(a.event.altKey?(U&&(u=y-k*U,n=r+k*U),z&&(T=S-P*z,o=l+P*z),B=m):(U<0?u=y:U>0&&(n=r),z<0?T=S:z>0&&(o=l),B=p),ee.attr("cursor",b[j]),re());break;default:return}f()}}function B(){var t=this.__brush||{selection:null};return t.extent=P.apply(this,arguments),t.dim=e,t}return D.move=function(t,n){t.selection?t.on("start.brush",(function(){L(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){L(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,i=L(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Object(o.a)(a,s);function u(e){r.selection=1===e&&A(s)?null:l(e),N.call(t),i.brush()}return a&&s?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,r):n,i.extent),a=L(t,r).beforestart();Object(s.interrupt)(t),i.selection=null==o||A(o)?null:o,N.call(t),a.start().brush().end()}))},F.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new u(D,t,e.output(this.state.selection)),R.apply,R,[t,this.that,this.args])}},D.extent=function(e){return arguments.length?(P="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),D):P},D.filter=function(e){return arguments.length?(M="function"==typeof e?e:l(!!e),D):M},D.handleSize=function(e){return arguments.length?(I=+e,D):I},D.on=function(){var e=R.on.apply(R,arguments);return e===R?D:e},D}n.d(t,"brush",(function(){return R})),n.d(t,"brushX",(function(){return P})),n.d(t,"brushY",(function(){return M})),n.d(t,"brushSelection",(function(){return C}))},function(e,t,n){n.r(t);var r=n(65),i=n(0);function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(e){var t=e.document.documentElement,n=Object(i.select)(e).on("dragstart.drag",a,!0);"onselectstart"in t?n.on("selectstart.drag",a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function l(e,t){var n=e.document.documentElement,r=Object(i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var u=function(e){return function(){return e}};function c(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function f(){return!i.event.button}function h(){return this.parentNode}function d(e){return null==e?{x:i.event.x,y:i.event.y}:e}function p(){return"ontouchstart"in this}c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var m=function(){var e,t,n,m,g=f,v=h,y=d,b=p,_={},E=Object(r.a)("start","drag","end"),w=0,x=0;function T(e){e.on("mousedown.drag",S).filter(b).on("touchstart.drag",A).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(){if(!m&&g.apply(this,arguments)){var r=M("mouse",v.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",k,!0).on("mouseup.drag",O,!0),s(i.event.view),o(),n=!1,e=i.event.clientX,t=i.event.clientY,r("start"))}}function k(){if(a(),!n){var r=i.event.clientX-e,o=i.event.clientY-t;n=r*r+o*o>x}_.mouse("drag")}function O(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),l(i.event.view,n),a(),_.mouse("end")}function A(){if(g.apply(this,arguments)){var e,t,n=i.event.changedTouches,r=v.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=M(n[e].identifier,r,i.touch,this,arguments))&&(o(),t("start"))}}function C(){var e,t,n=i.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=_[n[e].identifier])&&(a(),t("drag"))}function P(){var e,t,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),e=0;e<r;++e)(t=_[n[e].identifier])&&(o(),t("end"))}function M(e,t,n,r,o){var a,s,l,u=n(t,e),f=E.copy();if(Object(i.customEvent)(new c(T,"beforestart",a,e,w,u[0],u[1],0,0,f),(function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)})))return function h(d){var p,m=u;switch(d){case"start":_[e]=h,p=w++;break;case"end":delete _[e],--w;case"drag":u=n(t,e),p=w}Object(i.customEvent)(new c(T,d,a,e,p,u[0]+s,u[1]+l,u[0]-m[0],u[1]-m[1],f),f.apply,f,[d,r,o])}}return T.filter=function(e){return arguments.length?(g="function"==typeof e?e:u(!!e),T):g},T.container=function(e){return arguments.length?(v="function"==typeof e?e:u(e),T):v},T.subject=function(e){return arguments.length?(y="function"==typeof e?e:u(e),T):y},T.touchable=function(e){return arguments.length?(b="function"==typeof e?e:u(!!e),T):b},T.on=function(){var e=E.on.apply(E,arguments);return e===E?T:e},T.clickDistance=function(e){return arguments.length?(x=(e=+e)*e,T):Math.sqrt(x)},T};n.d(t,"drag",(function(){return m})),n.d(t,"dragDisable",(function(){return s})),n.d(t,"dragEnable",(function(){return l}))},function(e,t,n){n.r(t);var r,i,o=n(0),a=n(65),s=0,l=0,u=0,c=0,f=0,h=0,d="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function m(){return f||(p(g),f=d.now()+h)}function g(){f=0}function v(){this._call=this._time=this._next=null}function y(e,t,n){var r=new v;return r.restart(e,t,n),r}function b(){f=(c=d.now())+h,s=l=0;try{!function(){m(),++s;for(var e,t=r;t;)(e=f-t._time)>=0&&t._call.call(null,e),t=t._next;--s}()}finally{s=0,function(){for(var e,t,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,E(o)}(),f=0}}function _(){var e=d.now(),t=e-c;t>1e3&&(h-=t,c=e)}function E(e){s||(l&&(l=clearTimeout(l)),e-f>24?(e<1/0&&(l=setTimeout(b,e-d.now()-h)),u&&(u=clearInterval(u))):(u||(c=d.now(),u=setInterval(_,1e3)),s=1,p(b)))}v.prototype=y.prototype={constructor:v,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?m():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,E()},stop:function(){this._call&&(this._call=null,this._time=1/0,E())}};var w=function(e,t,n){var r=new v;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},x=Object(a.a)("start","end","cancel","interrupt"),T=[],S=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var u,c,f,h;if(1!==n.state)return s();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return w(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(w((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=y((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:x,tween:T,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function k(e,t){var n=A(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function O(e,t){var n=A(e,t);if(n.state>3)throw new Error("too late; already running");return n}function A(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var C=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},P=n(15);function M(e,t){var n,r;return function(){var i=O(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function R(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=O(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function I(e,t,n){var r=e._id;return e.each((function(){var e=O(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return A(e,r).value[t]}}var D=n(9),N=function(e,t){var n;return("number"==typeof t?P.c:t instanceof D.color?P.d:(n=Object(D.color)(t))?(t=n,P.d):P.f)(e,t)};function L(e){return function(){this.removeAttribute(e)}}function F(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function B(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function U(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function z(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function H(e,t){return function(n){this.setAttribute(e,t(n))}}function G(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}function V(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&G(e,i)),n}return i._value=t,i}function $(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&H(e,i)),n}return i._value=t,i}function X(e,t){return function(){k(this,e).delay=+t.apply(this,arguments)}}function W(e,t){return t=+t,function(){k(this,e).delay=t}}function Y(e,t){return function(){O(this,e).duration=+t.apply(this,arguments)}}function q(e,t){return t=+t,function(){O(this,e).duration=t}}function K(e,t){if("function"!=typeof t)throw new Error;return function(){O(this,e).ease=t}}function Z(e,t,n){var r,i,o=(t+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))?k:O;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var Q=o.selection.prototype.constructor;function J(e){return function(){this.style.removeProperty(e)}}function ee(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}function te(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&ee(e,o,n)),r}return o._value=t,o}var ne=0;function re(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ie(e){return Object(o.selection)().transition(e)}function oe(){return++ne}var ae=o.selection.prototype;re.prototype=ie.prototype={constructor:re,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selector)(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l,u,c=r[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d])&&(u=e.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),h[d]=u,S(h[d],t,n,d,h,A(l,n)));return new re(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selectorAll)(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var u,c=r[l],f=c.length,h=0;h<f;++h)if(u=c[h]){for(var d,p=e.call(u,u.__data__,h,c),m=A(u,n),g=0,v=p.length;g<v;++g)(d=p[g])&&S(d,t,n,g,p,m);a.push(p),s.push(u)}return new re(a,s,t,n)},filter:function(e){"function"!=typeof e&&(e=Object(o.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],l=s.length,u=r[i]=[],c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&u.push(a);return new re(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new re(a,this._parents,this._name,this._id)},selection:function(){return new Q(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=oe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=A(a,t);S(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new re(r,this._parents,e,n)},call:ae.call,nodes:ae.nodes,node:ae.node,size:ae.size,empty:ae.empty,each:ae.each,on:function(e,t){var n=this._id;return arguments.length<2?A(this.node(),n).on.on(e):this.each(Z(n,e,t))},attr:function(e,t){var n=Object(o.namespace)(e),r="transform"===n?P.h:N;return this.attrTween(e,"function"==typeof t?(n.local?z:U)(n,r,I(this,"attr."+e,t)):null==t?(n.local?F:L)(n):(n.local?B:j)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Object(o.namespace)(e);return this.tween(n,(r.local?V:$)(r,t))},style:function(e,t,n){var r,i,a,s,l,u="transform"==(e+="")?P.g:N;return null==t?this.styleTween(e,(r=e,i=u,function(){var e=Object(o.style)(this,r),t=(this.style.removeProperty(r),Object(o.style)(this,r));return e===t?null:e===a&&t===s?l:l=i(a=e,s=t)})).on("end.style."+e,J(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=Object(o.style)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=Object(o.style)(this,e)),s===u?null:s===r&&u===i?a:(i=u,a=t(r=s,l))}}(e,u,I(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=O(this,e),u=l.on,c=null==l.value[a]?o||(o=J(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=Object(o.style)(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,u,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,te(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?(t=I(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):function(e){return function(){this.textContent=e}}(null==e?"":e+""));var t},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=A(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?M:R)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?X:W)(t,e)):A(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Y:q)(t,e)):A(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(K(t,e)):A(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=O(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var se={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function le(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return se.time=m(),se;return n}o.selection.prototype.interrupt=function(e){return this.each((function(){C(this,e)}))},o.selection.prototype.transition=function(e){var t,n;e instanceof re?(t=e._id,e=e._name):(t=oe(),(n=se).time=m(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&S(a,e,t,u,s,n||le(a,t));return new re(r,this._parents,e,t)};var ue=[null],ce=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new re([[e]],ue,t,+r);return null};n.d(t,"transition",(function(){return ie})),n.d(t,"active",(function(){return ce})),n.d(t,"interrupt",(function(){return C}))},function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(89),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(105)("keys"),i=n(91);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(234),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(43)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(30)),c=p(n(2)),f=p(n(1)),h=p(n(41)),d=n(11);function p(e){return e&&e.__esModule?e:{default:e}}n(68);var m={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}},{key:"handleItemMouseEnter",value:function(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(!this.adjusted){this.adjusted=!0,this.divDom=h.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&(t.top-e.height>0?r=t.top-e.height+20:(r=t.top-e.height+20,r-=r+e.height-window.innerHeight)),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}},{key:"render",value:function(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=(0,r.default)(t,n),o="context-menu";return this.props.theme===d.THEME_DARK&&(o+=" context-menu-dark"),f.default.createElement("div",{ref:function(t){e.div=t},style:i,className:"context-menu-item "+(0,u.default)(o,m)},this.props.children)}}]),t}(f.default.Component);g.propTypes={children:c.default.node,orientation:c.default.string,parentBbox:c.default.object,position:c.default.object,theme:c.default.symbol.isRequired},t.default=g},function(e,t,n){var r=n(117),i=n(736),o=n(737),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(274),i=n(271);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(757),i=n(760);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(194),i=n(284);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=e.exports;[n(959),n(963),n(964),n(965),n(966),n(967)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t,n){var r=n(202),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(151);o.inherits=n(58);var a=n(453),s=n(302);o.inherits(f,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.adapter)return(0,i.default)(e.adapter),e.adapter;var t=(0,o.get)(),n=t.adapter;return(0,i.default)(n),n};var r,i=(r=n(496))&&r.__esModule?r:{default:r},o=n(312)},function(e,t,n){n.r(t);var r={},i={};function o(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function a(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var l=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function l(e,t){var o,a=[],s=e.length,l=0,u=0,c=s<=0,f=!1;function h(){if(c)return i;if(f)return f=!1,r;var t,o,a=l;if(34===e.charCodeAt(a)){for(;l++<s&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=s?c=!0:10===(o=e.charCodeAt(l++))?f=!0:13===o&&(f=!0,10===e.charCodeAt(l)&&++l),e.slice(a+1,t-1).replace(/""/g,'"')}for(;l<s;){if(10===(o=e.charCodeAt(t=l++)))f=!0;else if(13===o)f=!0,10===e.charCodeAt(l)&&++l;else if(o!==n)continue;return e.slice(a,t)}return c=!0,e.slice(a,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(o=h())!==i;){for(var d=[];o!==r&&o!==i;)d.push(o),o=h();t&&null==(d=t(d,u++))||a.push(d)}return a}function u(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function c(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?function(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+s(-t,6):t>9999?"+"+s(t,6):s(t,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(o?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"."+s(o,3)+"Z":i?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"Z":r||n?"T"+s(n,2)+":"+s(r,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=l(e,(function(e,i){if(n)return n(e,i-1);var a,s,l;r=e,n=t?(s=t,l=o(a=e),function(e,t){return s(l(e),t,a)}):o(e)}));return i.columns=r||[],i},parseRows:l,format:function(t,n){return null==n&&(n=a(t)),[n.map(f).join(e)].concat(u(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=a(e)),u(e,t).join("\n")},formatRows:function(e){return e.map(c).join("\n")}}},u=l(","),c=u.parse,f=u.parseRows,h=u.format,d=u.formatBody,p=u.formatRows,m=l("\t"),g=m.parse,v=m.parseRows,y=m.format,b=m.formatBody,_=m.formatRows;function E(e){for(var t in e){var n,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.d(t,"dsvFormat",(function(){return l})),n.d(t,"csvParse",(function(){return c})),n.d(t,"csvParseRows",(function(){return f})),n.d(t,"csvFormat",(function(){return h})),n.d(t,"csvFormatBody",(function(){return d})),n.d(t,"csvFormatRows",(function(){return p})),n.d(t,"tsvParse",(function(){return g})),n.d(t,"tsvParseRows",(function(){return v})),n.d(t,"tsvFormat",(function(){return y})),n.d(t,"tsvFormatBody",(function(){return b})),n.d(t,"tsvFormatRows",(function(){return _})),n.d(t,"autoType",(function(){return E}))},function(e,t,n){var r=n(74);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(12),i=n(23),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(33),i=n(23).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(75),i=n(16),o=n(161),a=n(42),s=n(51),l=n(213),u=n(77),c=n(127),f=n(21)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,m,g,v){l(n,t,p);var y,b,_,E=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",x="values"==m,T=!1,S=e.prototype,k=S[f]||S["@@iterator"]||m&&S[m],O=k||E(m),A=m?x?E("entries"):O:void 0,C="Array"==t&&S.entries||k;if(C&&(_=c(C.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[f]||a(_,f,d)),x&&k&&"values"!==k.name&&(T=!0,O=function(){return k.call(this)}),r&&!v||!h&&!T&&S[f]||a(S,f,O),s[t]=O,s[w]=d,m)if(y={values:x?O:E("values"),keys:g?O:E("keys"),entries:A},v)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(h||T),t,y);return y}},function(e,t,n){var r=n(39),i=n(162),o=n(106),a=n(90)("IE_PROTO"),s=function(){},l=function(){var e,t=n(107)("iframe"),r=o.length;for(t.style.display="none",n(163).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(74),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(110),i=n(21)("iterator"),o=n(51);e.exports=n(12).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){t.__esModule=!0;var r=a(n(547)),i=a(n(224)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){(function(e){
/*!
             * The buffer module from node.js, for the browser.
             *
             * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
             * @license  MIT
             */
var r=n(570),i=n(571),o=n(335);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function E(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return E(e,t,n,r)}function x(e,t,n,r){return z(U(t),e,n,r)}function T(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return r=null,o=t,a=n,c(i=e),i<=0?s(r,i):void 0!==o?"string"==typeof a?s(r,i).fill(o,a):s(r,i).fill(o):s(r,i);var r,i,o,a},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(j,"")).length<2)return"";for(var t;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(26))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,t.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(29)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),f=g(n(7)),h=n(20),d=n(28),p=g(n(137)),m=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,l.default)(t,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(e){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var t=this.getDataAtPos(e),n="";t&&(n=(0,h.format)(".3f")(t));var r=this.pMouseOver,i=this.valueScale(t);return r.clear(),r.beginFill(0,.5),r.lineStyle(1,0,1),r.drawRect(e-2,i-2,4,4),this.animate(),""+String(n)}},{key:"initTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e),e.tileData&&e.tileData.dense){if(e.xValues=new Array(e.tileData.dense.length),e.yValues=new Array(e.tileData.dense.length),this.isValueScaleLocked()){var n=this.getLockGroupExtrema();null!==n&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(e)}else console.warn("emptyTile:",e)}},{key:"rerender",value:function(e,n){var r=this;(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n),this.options=e,(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)}))}},{key:"renderTile",value:function(e){this.drawTile(e),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"drawTile",this).call(this,e),e.graphics&&e.tileData&&e.tileData.dense){var n=e.graphics,s=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),l=s.tileX,u=s.tileWidth,f=e.tileData.dense;if(0!==f.length){var h=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),p=(0,o.default)(h,2),g=p[0],v=p[1];if(this.valueScale=g,n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var y=(0,m.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension||console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var b=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,_=(0,d.scaleLinear)().domain([0,b]).range([l,l+u]),E=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(E,y,1),e.segments=[];for(var w=[],x=0;x<f.length;x++){var T=this._xScale(_(x)),S=this.valueScale(f[x]+v);if("log"===this.options.valueScaling&&0===f[x]||(0,i.default)(S))w.length>1&&e.segments.push(w),w=[];else{if(_(x)>this.tilesetInfo.max_pos[0])break;w.push([T,S])}}w.length>1&&e.segments.push(w);var k=!0,O=!1,A=void 0;try{for(var C,P=(0,r.default)(e.segments);!(k=(C=P.next()).done);k=!0){var M=C.value,R=M[0],I=M.slice(1);n.moveTo(R[0],R[1]);var D=!0,N=!1,L=void 0;try{for(var F,j=(0,r.default)(I);!(D=(F=j.next()).done);D=!0){var B=F.value;n.lineTo(B[0],B[1])}}catch(U){N=!0,L=U}finally{try{!D&&j.return&&j.return()}finally{if(N)throw L}}}}catch(U){O=!0,A=U}finally{try{!k&&P.return&&P.return()}finally{if(O)throw A}}}}}}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw();var n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){var r=this.minVisibleValue(),i=this.maxVisibleValue();null!==r&&null!==i&&(Math.abs(this.minValue()-r)>1e-6||Math.abs(this.maxValue()-i)>1e-6)&&(this.minValue(r),this.maxValue(i),this.scheduleRerender())}n&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);n=s[0],e=s[1]}else e=n=document.createElement("g");n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((function(e){var t=document.createElement("path");t.setAttribute("fill","transparent"),t.setAttribute("stroke",u);var n="",i=!0,o=!1,a=void 0;try{for(var s,c=(0,r.default)(e.segments);!(i=(s=c.next()).done);i=!0){var f=s.value,h=f[0],d=f.slice(1);n+="M"+String(h[0])+" "+String(h[1]);var p=!0,m=!1,g=void 0;try{for(var v,y=(0,r.default)(d);!(p=(v=y.next()).done);p=!0){var b=v.value;n+="L"+String(b[0])+" "+String(b[1])}}catch(_){m=!0,g=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}}}catch(_){o=!0,a=_}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}t.setAttribute("d",n),l.appendChild(t)}));var f=document.createElement("g");if(f.setAttribute("id","axis"),n.appendChild(f),f.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var h=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);f.appendChild(h)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var d=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);f.appendChild(d)}return[n,e]}},{key:"tileToLocalId",value:function(e){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?String(e.join("."))+"."+String(this.options.aggregationMode):""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return this.tileToLocalId(e)}}]),t}(p.default);t.default=v},function(e,t,n){function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var n="",i=o(e);for(var a in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(a,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:u,equal:n(266),ucs2length:n(695),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(f,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(d);return n&&2==n.length&&(e=t?e.replace(m,"").replace(g,"return data;"):e.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;")),(n=e.match(v))&&3===n.length?e.replace(y,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:b,getPathExpr:function(e,t,n,r){return w(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return w(e,b(n?"/"+x(t):l(t)))},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(E)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(s+=" && "+(o+=l(T(f))))}return s},unescapeFragment:function(e){return T(decodeURIComponent(e))},unescapeJsonPointer:T,escapeFragment:function(e){return encodeURIComponent(x(e))},escapeJsonPointer:x};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,f=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,d=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,g=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,v=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,y=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+u(e)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,E=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function w(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function x(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var r=n(40).Symbol;e.exports=r},function(e,t,n){var r=n(394),i=n(743),o=n(97);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(394),i=n(805),o=n(97);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(52),i=n(436),o=n(438),a=n(955),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(973),i=n(149),o=n(974),a=i.CODE_POINTS,s=i.CODE_POINT_SEQUENCES,l={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u="DATA_STATE";function c(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function f(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function h(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function d(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}function p(e){return d(e)||h(e)}function m(e,t){return f(e)||t&&(e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F||e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F)}function g(e){return e+32}function v(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function y(e){return String.fromCharCode(g(e))}function b(e,t){for(var n=o[++e],r=++e,i=r+n-1;r<=i;){var a=r+i>>>1,s=o[a];if(s<t)r=a+1;else{if(!(s>t))return o[a+n];i=a-1}}return-1}var _=e.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=u,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};_.CHARACTER_TOKEN="CHARACTER_TOKEN",_.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",_.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",_.START_TAG_TOKEN="START_TAG_TOKEN",_.END_TAG_TOKEN="END_TAG_TOKEN",_.COMMENT_TOKEN="COMMENT_TOKEN",_.DOCTYPE_TOKEN="DOCTYPE_TOKEN",_.EOF_TOKEN="EOF_TOKEN",_.HIBERNATION_TOKEN="HIBERNATION_TOKEN",_.MODE={DATA:u,RCDATA:"RCDATA_STATE",RAWTEXT:"RAWTEXT_STATE",SCRIPT_DATA:"SCRIPT_DATA_STATE",PLAINTEXT:"PLAINTEXT_STATE"},_.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},_.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},_.prototype.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},_.prototype.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},_.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},_.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:_.HIBERNATION_TOKEN}),!0}return!1},_.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},_.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},_.prototype._unconsumeSeveral=function(e){for(;e--;)this._unconsume()},_.prototype._reconsumeInState=function(e){this.state=e,this._unconsume()},_.prototype._consumeSubsequentIfMatch=function(e,t,n){for(var r=0,i=!0,o=e.length,s=0,l=t,u=void 0;s<o;s++){if(s>0&&(l=this._consume(),r++),l===a.EOF){i=!1;break}if(l!==(u=e[s])&&(n||l!==g(u))){i=!1;break}}return i||this._unconsumeSeveral(r),i},_.prototype._lookahead=function(){var e=this._consume();return this._unconsume(),e},_.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==s.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==s.SCRIPT_STRING[e])return!1;return!0},_.prototype._createStartTagToken=function(){this.currentToken={type:_.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},_.prototype._createEndTagToken=function(){this.currentToken={type:_.END_TAG_TOKEN,tagName:"",attrs:[]}},_.prototype._createCommentToken=function(){this.currentToken={type:_.COMMENT_TOKEN,data:""}},_.prototype._createDoctypeToken=function(e){this.currentToken={type:_.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},_.prototype._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},_.prototype._createAttr=function(e){this.currentAttr={name:e,value:""}},_.prototype._isDuplicateAttr=function(){return null!==_.getTokenAttr(this.currentToken,this.currentAttr.name)},_.prototype._leaveAttrName=function(e){this.state=e,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},_.prototype._leaveAttrValue=function(e){this.state=e},_.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},_.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===_.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},_.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},_.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:_.EOF_TOKEN})},_.prototype._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},_.prototype._emitCodePoint=function(e){var t=_.CHARACTER_TOKEN;c(e)?t=_.WHITESPACE_CHARACTER_TOKEN:e===a.NULL&&(t=_.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,v(e))},_.prototype._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},_.prototype._emitChar=function(e){this._appendCharToCurrentCharacterToken(_.CHARACTER_TOKEN,e)},_.prototype._consumeNumericEntity=function(e){var t="",n=void 0;do{t+=v(this._consume()),n=this._lookahead()}while(n!==a.EOF&&m(n,e));this._lookahead()===a.SEMICOLON&&this._consume();var r,i=parseInt(t,e?16:10);return l[i]||((r=i)>=55296&&r<=57343||r>1114111?a.REPLACEMENT_CHARACTER:i)},_.prototype._consumeNamedEntity=function(e){for(var t=null,n=0,r=null,i=0,s=!1,l=0;l>-1;){var u=o[l],c=u<7;if(c&&1&u&&(t=2&u?[o[++l],o[++l]]:[o[++l]],n=i,r===a.SEMICOLON)){s=!0;break}if(i++,(r=this._consume())===a.EOF)break;l=c?4&u?b(l,r):-1:r===u?++l:-1}if(t){if(!s&&(this._unconsumeSeveral(i-n),e)){var h=this._lookahead();if(h===a.EQUALS_SIGN||p(d=h)||f(d))return this._unconsumeSeveral(n),null}return t}var d;return this._unconsumeSeveral(i),null},_.prototype._consumeCharacterReference=function(e,t){if(c(e)||e===a.GREATER_THAN_SIGN||e===a.AMPERSAND||e===this.additionalAllowedCp||e===a.EOF)return this._unconsume(),null;if(e===a.NUMBER_SIGN){var n=!1,r=this._lookahead();return r!==a.LATIN_SMALL_X&&r!==a.LATIN_CAPITAL_X||(this._consume(),n=!0),(r=this._lookahead())!==a.EOF&&m(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)}return this._unconsume(),this._consumeNamedEntity(t)};var E=_.prototype;E[u]=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_DATA_STATE":e===a.LESS_THAN_SIGN?this.state="TAG_OPEN_STATE":e===a.NULL?this._emitCodePoint(e):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},E.CHARACTER_REFERENCE_IN_DATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=u)},E.RCDATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_RCDATA_STATE":e===a.LESS_THAN_SIGN?this.state="RCDATA_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},E.CHARACTER_REFERENCE_IN_RCDATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state="RCDATA_STATE")},E.RAWTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state="RAWTEXT_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},E.SCRIPT_DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},E.PLAINTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},E.TAG_OPEN_STATE=function(e){e===a.EXCLAMATION_MARK?this.state="MARKUP_DECLARATION_OPEN_STATE":e===a.SOLIDUS?this.state="END_TAG_OPEN_STATE":p(e)?(this._createStartTagToken(),this._reconsumeInState("TAG_NAME_STATE")):e===a.QUESTION_MARK?this._reconsumeInState("BOGUS_COMMENT_STATE"):(this._emitChar("<"),this._reconsumeInState(u))},E.END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("TAG_NAME_STATE")):e===a.GREATER_THAN_SIGN?this.state=u:e===a.EOF?(this._reconsumeInState(u),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState("BOGUS_COMMENT_STATE")},E.TAG_NAME_STATE=function(e){c(e)?this.state="BEFORE_ATTRIBUTE_NAME_STATE":e===a.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):h(e)?this.currentToken.tagName+=y(e):e===a.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentToken.tagName+=v(e)},E.RCDATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="RCDATA_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RCDATA_STATE"))},E.RCDATA_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("RCDATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RCDATA_STATE"))},E.RCDATA_END_TAG_NAME_STATE=function(e){if(h(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(d(e))this.currentToken.tagName+=v(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this.state=u,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RCDATA_STATE")}},E.RAWTEXT_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="RAWTEXT_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RAWTEXT_STATE"))},E.RAWTEXT_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("RAWTEXT_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RAWTEXT_STATE"))},E.RAWTEXT_END_TAG_NAME_STATE=function(e){if(h(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(d(e))this.currentToken.tagName+=v(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RAWTEXT_STATE")}},E.SCRIPT_DATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_END_TAG_OPEN_STATE"):e===a.EXCLAMATION_MARK?(this.state="SCRIPT_DATA_ESCAPE_START_STATE",this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_STATE"))},E.SCRIPT_DATA_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_STATE"))},E.SCRIPT_DATA_END_TAG_NAME_STATE=function(e){if(h(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(d(e))this.currentToken.tagName+=v(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_STATE")}},E.SCRIPT_DATA_ESCAPE_START_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPE_START_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},E.SCRIPT_DATA_ESCAPE_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},E.SCRIPT_DATA_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},E.SCRIPT_DATA_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e))},E.SCRIPT_DATA_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):e===a.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e))},E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE"):p(e)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},E.SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE=function(e){if(h(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(d(e))this.currentToken.tagName+=v(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")}},E.SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_DOUBLE_ESCAPED_STATE":"SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e)):h(e)?(this.tempBuff.push(g(e)),this._emitCodePoint(e)):d(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")},E.SCRIPT_DATA_DOUBLE_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e))},E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):e===a.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e))},E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",this._emitChar("/")):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},E.SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_ESCAPED_STATE":"SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e)):h(e)?(this.tempBuff.push(g(e)),this._emitCodePoint(e)):d(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},E.BEFORE_ATTRIBUTE_NAME_STATE=function(e){c(e)||(e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState("AFTER_ATTRIBUTE_NAME_STATE"):e===a.EQUALS_SIGN?(this._createAttr("="),this.state="ATTRIBUTE_NAME_STATE"):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},E.ATTRIBUTE_NAME_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?(this._leaveAttrName("AFTER_ATTRIBUTE_NAME_STATE"),this._unconsume()):e===a.EQUALS_SIGN?this._leaveAttrName("BEFORE_ATTRIBUTE_VALUE_STATE"):h(e)?this.currentAttr.name+=y(e):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN?this.currentAttr.name+=v(e):e===a.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=v(e)},E.AFTER_ATTRIBUTE_NAME_STATE=function(e){c(e)||(e===a.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":e===a.EQUALS_SIGN?this.state="BEFORE_ATTRIBUTE_VALUE_STATE":e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},E.BEFORE_ATTRIBUTE_VALUE_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?this.state="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE":e===a.APOSTROPHE?this.state="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE":this._reconsumeInState("ATTRIBUTE_VALUE_UNQUOTED_STATE"))},E.ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":e===a.AMPERSAND?(this.additionalAllowedCp=a.QUOTATION_MARK,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=v(e)},E.ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":e===a.AMPERSAND?(this.additionalAllowedCp=a.APOSTROPHE,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=v(e)},E.ATTRIBUTE_VALUE_UNQUOTED_STATE=function(e){c(e)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):e===a.AMPERSAND?(this.additionalAllowedCp=a.GREATER_THAN_SIGN,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN||e===a.EQUALS_SIGN||e===a.GRAVE_ACCENT?this.currentAttr.value+=v(e):e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=v(e)},E.CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE=function(e){var t=this._consumeCharacterReference(e,!0);if(!this._ensureHibernation()){if(t)for(var n=0;n<t.length;n++)this.currentAttr.value+=v(t[n]);else this.currentAttr.value+="&";this.state=this.returnState}},E.AFTER_ATTRIBUTE_VALUE_QUOTED_STATE=function(e){c(e)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):e===a.SOLIDUS?this._leaveAttrValue("SELF_CLOSING_START_TAG_STATE"):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},E.SELF_CLOSING_START_TAG_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},E.BOGUS_COMMENT_STATE=function(){this._createCommentToken(),this._reconsumeInState("BOGUS_COMMENT_STATE_CONTINUATION")},E.BOGUS_COMMENT_STATE_CONTINUATION=function(e){for(;;){if(e===a.GREATER_THAN_SIGN){this.state=u;break}if(e===a.EOF){this._reconsumeInState(u);break}if(this.currentToken.data+=e===a.NULL?i.REPLACEMENT_CHARACTER:v(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},E.MARKUP_DECLARATION_OPEN_STATE=function(e){var t=this._consumeSubsequentIfMatch(s.DASH_DASH_STRING,e,!0),n=!t&&this._consumeSubsequentIfMatch(s.DOCTYPE_STRING,e,!1),r=!t&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(s.CDATA_START_STRING,e,!0);this._ensureHibernation()||(t?(this._createCommentToken(),this.state="COMMENT_START_STATE"):n?this.state="DOCTYPE_STATE":r?this.state="CDATA_SECTION_STATE":this._reconsumeInState("BOGUS_COMMENT_STATE"))},E.COMMENT_START_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_START_DASH_STATE":e===a.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+=v(e),this.state="COMMENT_STATE")},E.COMMENT_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_STATE":e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=v(e),this.state="COMMENT_STATE")},E.COMMENT_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_DASH_STATE":e===a.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.data+=v(e)},E.COMMENT_END_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_STATE":e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=v(e),this.state="COMMENT_STATE")},E.COMMENT_END_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EXCLAMATION_MARK?this.state="COMMENT_END_BANG_STATE":e===a.HYPHEN_MINUS?this.currentToken.data+="-":e===a.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._reconsumeInState(u),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=v(e),this.state="COMMENT_STATE")},E.COMMENT_END_BANG_STATE=function(e){e===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state="COMMENT_END_DASH_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="--!",this.currentToken.data+=v(e),this.state="COMMENT_STATE")},E.DOCTYPE_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):(this._createDoctypeToken(""),this._reconsumeInState("DOCTYPE_NAME_STATE")))},E.DOCTYPE_NAME_STATE=function(e){c(e)||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState("AFTER_DOCTYPE_NAME_STATE"):h(e)?this.currentToken.name+=y(e):e===a.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=v(e)},E.AFTER_DOCTYPE_NAME_STATE=function(e){if(!c(e))if(e===a.GREATER_THAN_SIGN)this.state=u,this._emitCurrentToken();else{var t=this._consumeSubsequentIfMatch(s.PUBLIC_STRING,e,!1),n=!t&&this._consumeSubsequentIfMatch(s.SYSTEM_STRING,e,!1);this._ensureHibernation()||(t?this.state="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE":n?this.state="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE":(this.currentToken.forceQuirks=!0,this.state="BOGUS_DOCTYPE_STATE"))}},E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=v(e)},E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=v(e)},E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=v(e)},E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=v(e)},E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.state="BOGUS_DOCTYPE_STATE")},E.BOGUS_DOCTYPE_STATE=function(e){e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF&&(this._emitCurrentToken(),this._reconsumeInState(u))},E.CDATA_SECTION_STATE=function(e){for(;;){if(e===a.EOF){this._reconsumeInState(u);break}var t=this._consumeSubsequentIfMatch(s.CDATA_END_STRING,e,!0);if(this._ensureHibernation())break;if(t){this.state=u;break}if(this._emitCodePoint(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())break}}},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}n.r(t);var v=n(1),y=n(2),b=n.n(y),_=n(41),E=n(86),w=n.n(E);n.d(t,"SortableContainer",(function(){return ae})),n.d(t,"sortableContainer",(function(){return ae})),n.d(t,"SortableElement",(function(){return ue})),n.d(t,"sortableElement",(function(){return ue})),n.d(t,"SortableHandle",(function(){return Z})),n.d(t,"sortableHandle",(function(){return Z})),n.d(t,"arrayMove",(function(){return S}));var x=function(){function e(){s(this,e),o(this,"refs",{})}return u(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(T)}}]),e}();function T(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function S(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function k(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var O={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},A=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function C(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function P(e,t){e.style["".concat(A,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function M(e,t){e.style["".concat(A,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function R(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function I(e,t,n){return Math.max(e,Math.min(n,t))}function D(e){return"px"===e.substr(-2)?parseFloat(e):0}function N(e){var t=window.getComputedStyle(e);return{bottom:D(t.marginBottom),left:D(t.marginLeft),right:D(t.marginRight),top:D(t.marginTop)}}function L(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function F(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function j(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function B(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:U(e.parentNode,t,r)}}function z(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function H(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);w()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return w()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function G(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];w()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=i(o,2),s=a[0],l=a[1];return[H({height:t,lockOffset:s,width:n}),H({height:t,lockOffset:l,width:n})]}function V(e){return e instanceof HTMLElement?(t=e,n=window.getComputedStyle(t),r=/(auto|scroll)/,["overflow","overflowX","overflowY"].find((function(e){return r.test(n[e])}))?e:V(e.parentNode)):null;var t,n,r}var $="BUTTON",X="INPUT",W="OPTION",Y="TEXTAREA",q="SELECT";function K(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r.querySelectorAll(t)).forEach((function(e,t){"file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),"CANVAS"===e.tagName&&n[t].width>0&&n[t].height>0&&e.getContext("2d").drawImage(n[t],0,0)})),r}function Z(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),d(this,p(n).apply(this,arguments))}return g(n,t),u(n,[{key:"componentDidMount",value:function(){Object(_.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return w()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(v.createElement)(e,r({ref:t},this.props))}}]),n}(v.Component),o(t,"displayName",L("sortableHandle",e)),n}function Q(e){return null!=e.sortableHandle}var J=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return u(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},u=this.container,c=u.scrollTop,f=u.scrollLeft,h=u.scrollHeight,d=u.scrollWidth,p=0===c,m=h-c-u.clientHeight==0,g=0===f,v=d-f-u.clientWidth==0;n.y>=i.y-a/2&&!m?(s.y=1,l.y=10*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!v?(s.x=1,l.x=10*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!p?(s.y=-1,l.y=10*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!g&&(s.x=-1,l.x=10*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),ee={axis:b.a.oneOf(["x","y","xy"]),contentWindow:b.a.any,disableAutoscroll:b.a.bool,distance:b.a.number,getContainer:b.a.func,getHelperDimensions:b.a.func,helperClass:b.a.string,helperContainer:b.a.oneOfType([b.a.func,"undefined"==typeof HTMLElement?b.a.any:b.a.instanceOf(HTMLElement)]),hideSortableGhost:b.a.bool,keyboardSortingTransitionDuration:b.a.number,lockAxis:b.a.string,lockOffset:b.a.oneOfType([b.a.number,b.a.string,b.a.arrayOf(b.a.oneOfType([b.a.number,b.a.string]))]),lockToContainerEdges:b.a.bool,onSortEnd:b.a.func,onSortMove:b.a.func,onSortOver:b.a.func,onSortStart:b.a.func,pressDelay:b.a.number,pressThreshold:b.a.number,keyCodes:b.a.shape({lift:b.a.arrayOf(b.a.number),drop:b.a.arrayOf(b.a.number),cancel:b.a.arrayOf(b.a.number),up:b.a.arrayOf(b.a.number),down:b.a.arrayOf(b.a.number)}),shouldCancelStart:b.a.func,transitionDuration:b.a.number,updateBeforeSortStart:b.a.func,useDragHandle:b.a.bool,useWindowAsScrollContainer:b.a.bool},te={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},ne={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:te,shouldCancelStart:function(e){return-1!==[X,Y,q,W,$].indexOf(e.target.tagName)||!!R(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},re=Object.keys(ee);function ie(e){w()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function oe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function ae(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),o(h(h(t=d(this,p(n).call(this,e)))),"state",{}),o(h(h(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=j(e);var o=R(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(s.disabled)return;if(a&&!R(e.target,Q))return;t.manager.active={collection:u,index:l},B(e)||"A"!==e.target.tagName||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),o(h(h(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),o(h(h(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=j(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),o(h(h(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),o(h(h(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),o(h(h(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=d.sortableInfo.index,r=N(d),i=t.scrollContainer.getBoundingClientRect(),c=s({collection:p,index:n,node:d});if(t.node=d,t.margin=r,t.width=c.width,t.height=c.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=i,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=U(d,t.container),t.initialOffset=j(m?a({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(K(d)),C(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),u&&(t.sortableGhost=d,C(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var g=h?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,v=g.top,y=g.left,b=g.width,_=v+g.height,E=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=E-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=v-t.boundingClientRect.top,t.maxTranslate.y=_-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(h?0:i.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(h?t.contentWindow.innerWidth:i.left+i.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(h?0:i.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(h?t.contentWindow.innerHeight:i.top+i.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?d:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(O.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),O.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),f&&f({node:d,index:n,collection:p,isKeySorting:m},e),m&&t.keyMove(0)},i=t.props,o=i.axis,s=i.getHelperDimensions,l=i.helperClass,u=i.hideSortableGhost,c=i.updateBeforeSortStart,f=i.onSortStart,h=i.useWindowAsScrollContainer,d=n.node,p=n.collection,m=t.manager.isKeySorting,g=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=oe((function(){var t=d.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:d,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return g&&g.then?g.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}})),o(h(h(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),o(h(h(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.refs[a];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(O.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),O.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&C(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,c=l.length;u<c;u++){var f=l[u],h=f.node;f.edgeOffset=null,f.boundingClientRect=null,P(h,null),M(h,null),f.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),o(h(h(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var r=a({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),o(h(h(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),o(h(h(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,s=a({},te,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||s.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),s.lift.includes(n)&&!t.manager.active?t.keyLift(e):s.drop.includes(n)&&t.manager.active?t.keyDrop(e):s.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):s.up.includes(n)?t.keyMove(-1):s.down.includes(n)&&t.keyMove(1))})),o(h(h(t)),"keyLift",(function(e){var n=e.target,r=R(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),o(h(h(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=z(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,u=t.containerScrollDelta,c=s.boundingClientRect||F(l,u),f=s.translate||{x:0,y:0},h=c.top+f.y-u.top,d=c.left+f.x-u.left,p=o<i,m=p&&t.axis.x?l.offsetWidth-t.width:0,g=p&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:d+m,pageY:h+g,ignoreTransition:0===e})}})),o(h(h(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),o(h(h(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),o(h(h(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=R(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?Q(r):r.sortableInfo)})),ie(e),t.manager=new x,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return g(n,t),u(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:V(e.container)||e.container,e.autoScroller=new J(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return O[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return O[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,a=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?a:s,u=this.manager.isKeySorting,c=e.ignoreTransition,f=j(e),h={x:f.x-this.initialOffset.x,y:f.y-this.initialOffset.y};if(h.y-=window.pageYOffset-this.initialWindowScroll.top,h.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=h,o){var d=i(G({height:this.height,lockOffset:r,width:this.width}),2),p=d[0],m=d[1],g={x:this.width/2-p.x,y:this.height/2-p.y},v={x:this.width/2-m.x,y:this.height/2-m.y};h.x=I(this.minTranslate.x+g.x,this.maxTranslate.x-v.x,h.x),h.y=I(this.minTranslate.y+g.y,this.maxTranslate.y-v.y,h.y)}"x"===n?h.y=0:"y"===n&&(h.x=0),u&&l&&!c&&M(this.helper,l),P(this.helper,h)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,u=this.manager.isKeySorting,c=this.newIndex;this.newIndex=null;for(var f=0,h=a.length;f<h;f++){var d=a[f].node,p=d.sortableInfo.index,m=d.offsetWidth,g=d.offsetHeight,v={height:this.height>g?g/2:this.height/2,width:this.width>m?m/2:this.width/2},y=u&&p>this.index&&p<=c,b=u&&p<this.index&&p>=c,_={x:0,y:0},E=a[f].edgeOffset;E||(E=U(d,this.container),a[f].edgeOffset=E,u&&(a[f].boundingClientRect=F(d,i)));var w=f<a.length-1&&a[f+1],x=f>0&&a[f-1];w&&!w.edgeOffset&&(w.edgeOffset=U(w.node,this.container),u&&(w.boundingClientRect=F(w.node,i))),p!==this.index?(t&&M(d,t),this.axis.x?this.axis.y?b||p<this.index&&(s+o.left-v.width<=E.left&&l+o.top<=E.top+v.height||l+o.top+v.height<=E.top)?(_.x=this.width+this.marginOffset.x,E.left+_.x>this.containerBoundingRect.width-v.width&&w&&(_.x=w.edgeOffset.left-E.left,_.y=w.edgeOffset.top-E.top),null===this.newIndex&&(this.newIndex=p)):(y||p>this.index&&(s+o.left+v.width>=E.left&&l+o.top+v.height>=E.top||l+o.top+v.height>=E.top+g))&&(_.x=-(this.width+this.marginOffset.x),E.left+_.x<this.containerBoundingRect.left+v.width&&x&&(_.x=x.edgeOffset.left-E.left,_.y=x.edgeOffset.top-E.top),this.newIndex=p):y||p>this.index&&s+o.left+v.width>=E.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=p):(b||p<this.index&&s+o.left<=E.left+v.width)&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this.axis.y&&(y||p>this.index&&l+o.top+v.height>=E.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=p):(b||p<this.index&&l+o.top<=E.top+v.height)&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),P(d,_),a[f].translate=_):n&&(this.sortableGhost=d,C(d,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),u&&(this.newIndex=c);var T=u?this.prevIndex:c;r&&this.newIndex!==T&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:T,isKeySorting:u})}},{key:"getWrappedInstance",value:function(){return w()(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(_.findDOMNode)(this):e(l.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=l.withRef?"wrappedInstance":null;return Object(v.createElement)(e,r({ref:t},k(this.props,re)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(v.Component),o(t,"displayName",L("sortableList",e)),o(t,"defaultProps",ne),o(t,"propTypes",ee),o(t,"childContextTypes",{manager:b.a.object.isRequired}),n}var se={index:b.a.number.isRequired,collection:b.a.oneOfType([b.a.number,b.a.string]),disabled:b.a.bool},le=Object.keys(se);function ue(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),d(this,p(n).apply(this,arguments))}return g(n,t),u(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=Object(_.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return w()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(v.createElement)(e,r({ref:t},k(this.props,le)))}}]),n}(v.Component),o(t,"displayName",L("sortableElement",e)),o(t,"contextTypes",{manager:b.a.object.isRequired}),o(t,"propTypes",se),o(t,"defaultProps",{collection:0}),n}},function(e,t,n){var r=n(16),i=n(12),o=n(50);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(47),i=n(54),o=n(90)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(49),i=n(165),o=n(166),a=n(39),s=n(88),l=n(111),u={},c={};(t=e.exports=function(e,t,n,f,h){var d,p,m,g,v=h?function(){return e}:l(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(d=s(e.length);d>b;b++)if((g=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||g===c)return g}else for(m=v.call(e);!(p=m.next()).done;)if((g=i(m,y,p.value,t))===u||g===c)return g}).BREAK=u,t.RETURN=c},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(229),__esModule:!0}},function(e,t,n){t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=l(e[n]);return t},t.cloneLayoutItem=l,t.childrenEqual=function(e,t){return(0,i.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.collides=u,t.compact=c,t.compactItem=d,t.correctBounds=p,t.getLayoutItem=m,t.getFirstCollision=g,t.getAllCollisions=v,t.getStatics=y,t.moveElement=b,t.moveElementAwayFromCollision=_,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n="translate("+e.left+"px,"+t+"px)";return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:e.width+"px",height:e.height+"px",position:"absolute"}},t.setTopLeft=function(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}},t.sortLayoutItems=E,t.sortLayoutItemsByRowCol=w,t.sortLayoutItemsByColRow=x,t.synchronizeLayoutWithChildren=function(e,t,n,i){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var i=m(e,String(t.key));if(i)a[n]=l(i);else{var o=t.props["data-grid"]||t.props._grid;a[n]=l(o?r({},o,{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),a=c(a=p(a,{cols:n}),i,n)},t.validateLayout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))};var i=a(n(169)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function l(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function u(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function c(e,t,n){for(var r=y(e),i=E(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var u=l(i[a]);u.static||(u=d(r,u,t,n,i),r.push(u)),o[e.indexOf(i[a])]=u,u.moved=!1}return o}var f={x:"w",y:"h"};function h(e,t,n,r){var i=f[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;u(t,a)&&h(e,a,n+t[i],r)}}t[r]=n}function d(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!g(e,t);)t.y--;else if(o)for(t.y=Math.min(s(e),t.y);t.x>0&&!g(e,t);)t.x--;for(var a=void 0;a=g(e,t);)o?h(i,t,a.x+a.w,"x"):h(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function p(e,t){for(var n=y(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;g(n,o);)o.y++;else n.push(o)}return e}function m(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function g(e,t){for(var n=0,r=e.length;n<r;n++)if(u(e[n],t))return e[n]}function v(e,t){return e.filter((function(e){return u(e,t)}))}function y(e){return e.filter((function(e){return e.static}))}function b(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;t.i,t.x,t.y;var l=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=E(e,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var f=v(c,t);if(o&&f.length)return t.i,t.x=l,t.y=u,t.moved=!1,e;for(var h=0,d=f.length;h<d;h++){var p=f[h];t.i,t.x,t.y,p.i,p.x,p.y,p.moved||(e=p.static?_(e,p,t,i,a):_(e,t,p,i,a))}return e}function _(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){r=!1;var l={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!g(e,l))return n.i,b(e,n,a?l.x:void 0,s?l.y:void 0,r,!1,i)}return b(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,!1,i)}function E(e,t){return"horizontal"===t?x(e):w(e)}function w(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function x(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}t.noop=function(){}},function(e,t,n){n.r(t),n.d(t,"globalPubSub",(function(){return c})),n.d(t,"createPubSub",(function(){return l}));const r=(()=>{const e=window.BroadcastChannel;return e?new e("pub-sub-es"):(console.warn("The Broadcast Channel API is not available in your browser."),{postMessage:()=>{}})})(),i=e=>(t,n,r=1/0)=>(e[t]||(e[t]=[],e.__times__[t]=[]),e[t].push(n),e.__times__[t].push(+r||1/0),{event:t,handler:n}),o=e=>(t,n)=>{if("object"==typeof t&&(n=t.handler,t=t.event),!e[t])return;const r=e[t].indexOf(n);-1===r||r>=e[t].length||(e[t].splice(r,1),e.__times__[t].splice(r,1))},a=(e,t)=>(n,i,a)=>{if(!e[n])return;const s=o(e);if(e[n].forEach(((t,r)=>{t(i),e.__times__[n][r]--,e.__times__[n][r]<1&&s(n,t)})),t&&!a)try{r.postMessage({event:n,news:i})}catch(l){if(!(l instanceof DOMException))throw l;console.warn(`Could not broadcast "${n}" globally. Payload is not clonable.`)}},s=e=>()=>{Object.keys(e).filter((e=>"_"!==e[0])).forEach((t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]}))},l=(e={__times__:{}})=>(e.__times__||(e.__times__={}),{publish:a(e),subscribe:i(e),unsubscribe:o(e),clear:s(e),stack:e}),u={__times__:{}},c={publish:a(u,!0),subscribe:i(u),unsubscribe:o(u),stack:u};r.onmessage=({data:{event:e,news:t}})=>c.publish(e,t,!0),t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=P(n(63)),i=P(n(55)),o=P(n(17)),a=P(n(94)),s=P(n(29)),l=P(n(19)),u=P(n(35)),c=P(n(5)),f=P(n(34)),h=P(n(3)),d=P(n(4)),p=P(n(6)),m=P(n(14)),g=P(n(7)),v=P(n(134)),y=n(83),b=n(20),_=n(28),E=n(0),w=P(n(27)),x=n(10),T=n(79),S=P(T),k=P(n(177)),O=n(24),A=n(11),C=n(114);function P(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(e,n){(0,h.default)(this,t);var r=(0,f.default)({},e);r.onValueScaleChanged=function(){e.onValueScaleChanged(),i.drawColorbar()};var i=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,r,n)),o=e.pubSub,a=e.animate,s=e.svgElement,l=e.onTrackOptionsChanged,d=e.onMouseMoveZoom,m=e.isShowGlobalMousePosition,g=e.isValueScaleLocked;return i.pubSub=o,i.is2d=!0,i.animate=a,i.uid=w.default.nice(),i.scaleBrush=(0,y.brushY)(),i.onTrackOptionsChanged=l,i.isShowGlobalMousePosition=m,i.isValueScaleLocked=g,i.pColorbarArea=new A.GLOBALS.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new A.GLOBALS.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new k.default(i),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=A.HEATED_OBJECT_MAP,n&&n.colorRange&&(i.colorScale=(0,x.colorDomainToRgbaArray)(n.colorRange)),i.gBase=(0,E.select)(s).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=d,i.setDataLensSize(11),i.dataLens=new Float32Array(Math.pow(i.dataLensSize,2)),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(i),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=(0,x.showMousePosition)(i,i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=(0,u.default)(n),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"mouseMoveHandler",value:function(e){this.isWithin(e.x,e.y)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(void 0!==t&&void 0!==n&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var r=t-this.position[0],i=n-this.position[1],o=void 0,a=void 0;try{o=(a=this.getVisibleRectangleData(r-this.dataLensPadding,i-this.dataLensPadding,this.dataLensSize,this.dataLensSize)).get(this.dataLensPadding,this.dataLensPadding)}catch(p){return}var s=this.dataLensSize,l=void 0;try{l=(0,x.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch(p){return}if(l){var u=Math.round(this._xScale.invert(r)),c=Math.round(this._yScale.invert(i)),f=[u,c],h=[Math.round(this._xScale.invert(r-this.dataLensPadding)),Math.round(this._xScale.invert(r+this.dataLensPadding))],d=[Math.round(this._yScale.invert(i-this.dataLensPadding)),Math.round(this._yScale.invert(i+this.dataLensPadding))];this.chromInfo&&(f=f.map((function(t){return(0,x.absToChr)(t,e.chromInfo).slice(0,2)})),h=h.map((function(t){return(0,x.absToChr)(t,e.chromInfo).slice(0,2)})),d=d.map((function(t){return(0,x.absToChr)(t,e.chromInfo).slice(0,2)}))),this.onMouseMoveZoom({trackId:this.id,data:o,absX:t,absY:n,relX:r,relY:i,dataX:u,dataY:c,orientation:"2d",dataLens:a,dim:s,toRgb:l,center:f,xRange:h,yRange:d,isGenomicCoords:!!this.chromInfo})}}}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(e,t,n){var r=this.getTilePosAndDimensions(e,t),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight,l={};return l.width=this._refXScale(i+a)-this._refXScale(i),l.height=this._refYScale(o+s)-this._refYScale(o),n?(l.x=this._refXScale(o),l.y=this._refYScale(i)):(l.x=this._refXScale(i),l.y=this._refYScale(o)),l}},{key:"updateValueScale",value:function(){var e=this.minValue(),t=this.maxValue();null!=e&&null!=t&&Math.abs(e-t)<1e-6&&(e=Math.max(1e-6,e-.001),t+=.001);var n=(0,T.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",e,this.medianVisibleValue,t,"log"),r=(0,l.default)(n,2),i=r[0],o=r[1];return this.valueScale=o,this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[i,o]}},{key:"rerender",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.updateValueScale();var i=(0,u.default)(e);this.drawColorbar(),(n||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,x.colorDomainToRgbaArray)(e.colorRange)),this.visibleAndFetchedTiles().forEach((function(e){return r.renderTile(e)})),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,x.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=75:this.labelXOffset=0,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=this.binsPerTile(),t.height=this.binsPerTile();var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"exportData",value:function(){if(this.tilesetInfo){var e=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),t={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:e.shape,data:(0,x.ndarrayFlatten)(e)};(0,x.download)("data.json",(0,u.default)(t))}}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getAbsTileDim(t,n,r);e.width=i.width,e.height=i.height,e.x=i.x,e.y=i.y,r&&n[0]!==n[1]&&(e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x))}},{key:"refXScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refXScale",this).call(this,e),this.draw()}},{key:"refYScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refYScale",this).call(this,e),this.draw()}},{key:"draw",value:function(){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(e){var t=JSON.parse((0,u.default)(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=(n.invert(e[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=i.toFixed(5),t.scaleEndPercent=o.toFixed(5),t}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(){if(E.event.selection){var e=this.newBrushOptions(E.event.selection),t=(0,u.default)(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(function(e){return"n"===e.type?E.event.selection[0]:E.event.selection[1]-2})),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.isValueScaleLocked()&&this.onValueScaleChanged())}}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setPosition",this).call(this,e),this.drawColorbar()}},{key:"setDimensions",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setDimensions",this).call(this,e),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),this.options&&this.options.colorbarPosition&&"hidden"!==this.options.colorbarPosition){if(this.pColorbarArea.visible=!0,this.valueScale&&!(0,s.default)(+this.valueScale.domain()[0])&&!(0,s.default)(+this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,200);if(this.colorbarHeight=e-20,this.colorbarHeight<0)this.removeColorbar();else if(this.valueScale.domain()[1]!==this.valueScale.domain()[0]){var t=this.valueScale.copy().range([this.colorbarHeight,0]);if("topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[4,0],[10,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[6,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition){var n=(0,l.default)(this.position,2);this.pColorbarArea.x=n[0],this.pColorbarArea.y=n[1],this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+4)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1],this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+10+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+10+1)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,x.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,75,e),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var r=t.domain()[1]-t.domain()[0],i=t(this.options.scaleStartPercent*r+t.domain()[0]),o=t(this.options.scaleEndPercent*r+t.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",10).attr("height",4).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),u=0;u<this.colorbarHeight;u++){var c=this.limitedValueScale(t.invert(u)),f=Math.max(0,Math.min(254,Math.floor(c)));this.pColorbar.beginFill((0,x.colorToHex)("rgb("+String(this.colorScale[f][0])+","+String(this.colorScale[f][1])+","+String(this.colorScale[f][2])+")")),this.pColorbar.drawRect(0,u,10,1)}this.pAxis.position.x=10,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(t,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(t,this.colorbarHeight)}else this.removeColorbar()}}else this.removeColorbar()}},{key:"exportColorBarSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var r=Math.min(this.dimensions[1]/2,200);this.colorbarHeight=r-20,t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",75),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var i=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),o=this.colorbarHeight/256,a=0;a<256;a++){var s=document.createElement("rect");n.appendChild(s),s.setAttribute("x",0),s.setAttribute("y",i(a)),s.setAttribute("width",10),s.setAttribute("height",o),s.setAttribute("class","color-rect");var l=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(a))))),u=this.colorScale[l];u?s.setAttribute("style","fill: rgb("+String(u[0])+", "+String(u[1])+", "+String(u[2])+")"):s.setAttribute("style","fill: rgb(255,255,255,0)")}var c=document.createElement("g");e.appendChild(c),c.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var f=null,h=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(h,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(f=this.axis.exportAxisLeftSVG(h,this.colorbarHeight)),c.appendChild(f),e}},{key:"setDataLensSize",value:function(e){this.dataLensPadding=Math.max(0,Math.floor((e-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||256}},{key:"getVisibleRectangleData",value:function(e,t,n,r){var i=this,o=this.calculateZoomLevel();o=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,o):o;var a=O.tileProxy.calculateTileWidth(this.tilesetInfo,o,this.binsPerTile())/this.binsPerTile(),s=[this._xScale.invert(e),this._xScale.invert(e+n)],l=[this._yScale.invert(t),this._yScale.invert(t+r)],u=[Math.max(s[0],this.tilesetInfo.min_pos[0]),Math.min(s[1],this.tilesetInfo.max_pos[0])],c=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],f=Math.floor(u[0]/a),h=Math.floor(c[0]/a),d=Math.max(0,Math.ceil((u[1]-u[0])/a)),p=Math.max(0,Math.ceil((c[1]-c[0])/a)),m=(0,v.default)(new Array(p*d).fill(NaN),[p,d]);return this.visibleAndFetchedTiles().forEach((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,n=i.getTilePosAndDimensions(e.tileData.zoomLevel,t,i.binsPerTile()),r=n.tileX,o=n.tileY,s=n.tileWidth,l=n.tileHeight,u=Math.floor(r/a),c=Math.floor((r+s)/a),g=Math.floor(o/a),v=Math.floor((o+l)/a),y=Math.max(f,u)-u,b=Math.max(h,g)-g,_=Math.min(f+d,c)-u,E=Math.min(h+p,v)-g,w=Math.max(u-f,0),T=Math.max(g-h,0),S=_-y,k=E-b;if(!(S<0||k<0)){if(e.mirrored&&y>b){var O=y;y=b,b=O}(0,x.ndarrayAssign)(m.hi(T+k,w+S).lo(T,w),e.dataArray.hi(b+k,y+S).lo(b,y))}})),m}},{key:"initTile",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e),e.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(e.dataArray=(0,v.default)((0,a.default)(e.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&e.tileData.tilePos[0]===e.tileData.tilePos[1]&&e.mirrored&&(e.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(e)}},{key:"updateTile",value:function(e){e.scale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||(this.renderTile(e),this.drawColorbar())}},{key:"destroyTile",value:function(e){e.sprite.destroy(!0),e.canvas=null,e.sprite=null,e.texture=null}},{key:"pixDataFunction",value:function(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData);e.sprite&&e.sprite.destroy(!0);var i="4"===A.GLOBALS.PIXI.VERSION[0]?A.GLOBALS.PIXI.Texture.fromCanvas(r,A.GLOBALS.PIXI.SCALE_MODES.NEAREST):A.GLOBALS.PIXI.Texture.from(r,{scaleMode:A.GLOBALS.PIXI.SCALE_MODES.NEAREST}),o=new A.GLOBALS.PIXI.Sprite(i);e.sprite=o,e.texture=i,e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"renderTile",value:function(e){var t=this,n=this.updateValueScale(),r=(0,l.default)(n,1)[0];if(this.renderingTiles.add(e.tileId),this.tilesetInfo.tile_size&&e.tileData.dense.length<this.tilesetInfo.tile_size){var i=new Float32Array(this.tilesetInfo.tile_size);i.fill(NaN),i.set(e.tileData.dense),e.tileData.dense=i}O.tileProxy.tileDataToPixData(e,r,this.limitedValueScale.domain(),0,this.colorScale,(function(n){return t.pixDataFunction(e,n)}),this.mirrorTiles()&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1],"upper-right"===this.options.extent&&e.tileData.tilePos[0]===e.tileData.tilePos[1],this.options.zeroValueColor?(0,x.colorToRgba)(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refScalesChanged",this).call(this,e,n),(0,x.objVals)(this.fetchedTiles).filter((function(e){return e.sprite})).forEach((function(e){return r.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored)}))}},{key:"superSVG",value:function(){return(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this)){var r=(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this),i=(0,l.default)(r,2);n=i[0],e=i[1]}else e=n=document.createElement("g");var a=document.createElement("g");e.appendChild(a),a.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var s=!0,u=!1,f=void 0;try{for(var h,d=(0,o.default)(this.visibleAndFetchedTiles());!(s=(h=d.next()).done);s=!0){var p=h.value,g=180*p.sprite.rotation/Math.PI,v=document.createElement("g");v.setAttribute("transform","translate("+String(p.sprite.x)+","+String(p.sprite.y)+") rotate("+g+") scale("+String(p.sprite.scale.x)+","+String(p.sprite.scale.y)+")");var y=document.createElement("image");y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),y.setAttribute("width",p.canvas.width),y.setAttribute("height",p.canvas.height),y.setAttribute("style","image-rendering: pixelated"),v.appendChild(y),a.appendChild(v)}}catch(_){u=!0,f=_}finally{try{!s&&d.return&&d.return()}finally{if(u)throw f}}var b=this.exportColorBarSVG();return e.appendChild(b),[n,n]}},{key:"getVisiblePartOfUppLeftTile",value:function(){var e=this.visibleAndFetchedTiles().map((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos;return[t[0],t[1],e.tileId]}));if(0===e.length)return null;for(var t=e[0],n=0;n<e.length;n++){var r=e[n];(r[0]<t[0]||r[1]<t[1])&&(t=r)}var i=Math.min(C.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter((function(e){return e.tileId===t[2]}))[0],s=this.getIndicesOfVisibleDataInTile(a),l=s[0],u=s[1],c=l-l%o,f=u-u%o;return[a.tileId,c,f]}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range(),n=this._yScale.range(),r=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,r,this.binsPerTile()),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([o,o+s]),c=Math.max(0,Math.round(u.invert(this._xScale.invert(t[0])))-1),f=Math.min(this.binsPerTile(),Math.round(u.invert(this._xScale.invert(t[1])))),h=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([a,a+l]),d=Math.max(0,Math.round(h.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(h.invert(this._yScale.invert(n[1]))));return e.mirrored&&r[0]!==r[1]?[d,c,p,f]:[c,d,f,p]}},{key:"minVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)}));if(0===r.length&&null===this.valueScaleMax)return null;var o=Math.min.apply(null,r);return o===i.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"minVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMin?this.valueScaleMin:o}},{key:"maxVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)}));if(0===i.length&&null===this.valueScaleMax)return null;var o=Math.max.apply(null,i);return o===r.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"maxVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMax?this.valueScaleMax:o}},{key:"zoomed",value:function(e,n,r,i,o){if(!this.brushing){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r;var a=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){var s=(0,u.default)(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!a&&s!==this.prevIndUpperLeftTile){var l=this.minVisibleValue(),f=this.maxVisibleValue();null!==l&&null!==f&&(Math.abs(this.minValue()-l)>1e-6||Math.abs(this.maxValue()-f)>1e-6)&&(this.minValue(l),this.maxValue(f),this.scheduleRerender()),this.prevIndUpperLeftTile=s}a&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}},{key:"addTileId",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=[t,n,r];a.mirrored=o,a.dataTransform=i,e.push(a)}},{key:"tilesToId",value:function(e,t,n){for(var r=e,i=t,o=this.options&&this.options.dataTransform||"default",a=[],s=0;s<r.length;s++)for(var l=0;l<i.length;l++)this.mirrorTiles()?(r[s]>=i[l]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[l],r[s],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[s],i[l],o),r[s]===i[l]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[s],i[l],o)):this.addTileId(a,n,r[s],i[l],o);return a}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=O.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=O.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}},{key:"getMouseOverHtml",value:function(e,t){if(!this.options||!this.options.showTooltip)return"";if(!this.tilesetInfo)return"";var n=O.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);var o=this._xScale.invert(e),a=this._yScale.invert(t),s="<b>Position:</b> ";if(this.chromInfo){var l=(0,x.absToChr)(o,this.chromInfo),u=(0,x.absToChr)(a,this.chromInfo),c=function(e){return(0,b.format)("."+String(i)+"s")(e)};s+=String(l[0])+":"+String(c(l[1]))+" & "+String(u[0])+":"+String(c(u[1])),s+="<br/>"}var f=null;try{f=this.getVisibleRectangleData(e,t,1,1).get(0,0)}catch(h){return""}return this.options&&"log"===this.options.heatmapValueScaling?f>0?s+"<b>Value:</b> 1e"+String((0,b.format)(".3f")(Math.log(f)/Math.log(10))):0===f?s+"<b>Value:</b> 0":s+"<b>Value:</b> N/A":s+"<b>Value:</b> "+String((0,b.format)(".3f")(f))}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){var i=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],o=i*r,a=o;return{tileX:i*r*t[0],tileY:i*r*t[1],tileWidth:o,tileHeight:a}}var s=t[0],l=t[1],u=this.tilesetInfo.min_pos[0],c=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],f=this.tilesetInfo.max_width/Math.pow(2,e),h=this.tilesetInfo.max_width/Math.pow(2,e);return{tileX:u+s*f,tileY:c+l*h,tileWidth:f,tileHeight:h}}},{key:"calculateZoomLevel",value:function(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1],i=null;if(this.tilesetInfo.resolutions){var o=O.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),a=O.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{var s=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),l=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(s,l),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}},{key:"tileToLocalId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.mirrored)+"."+String(e.dataTransform):String(e.join("."))+"."+String(e.mirrored)}},{key:"tileToRemoteId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.dataTransform):""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}}]),t}(S.default);t.default=M},function(e,t,n){var r=n(242),i=n(243),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t)return o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(u[e][0]);o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),f=a.map((function(e){return"b"+e})).join(","),h=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var d=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");for(o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var g=new Array(t),v=new Array(t);for(m=0;m<t;++m)g[m]="a[i"+m+"]",v[m]="b[i"+m+"]";for(o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,u.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r)for(r=0,s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s]);for(var f=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),h=u[f];h.length<=a+1;)h.push(l(f,h.length-1));return(0,h[a+1])(e,t,n,r)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(25)),i=c(n(63)),o=c(n(55)),a=c(n(247)),s=c(n(3)),l=c(n(4)),u=n(114);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,a.default)(this.tileSize))),this.numSubsets=Math.min(u.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=o.default;if(0===t&&n===this.tileSize)return this.minNonZeroInTile;var i=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return i>=a?this.minNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,t,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,a)),n>a*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=i.default;if(0===t&&n===this.tileSize)return this.maxNonZeroInTile;var o=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,t,n):(t<o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,t,o*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"computeSubsetNonZeroMinimums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=o.default,r=0;r<this.subsetSize;r++){var i=this.data[t*this.subsetSize+r];void 0!==i&&(i<this.epsilon&&i>-this.epsilon||i<n&&(n=i))}e.push(n)}return e}},{key:"computeSubsetNonZeroMaximums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=i.default,r=0;r<this.subsetSize;r++){var o=this.data[t*this.subsetSize+r];void 0!==o&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}e.push(n)}return e}},{key:"getMinNonZeroInTile",value:function(){return Math.min.apply(Math,(0,r.default)(this.subsetMinimums))}},{key:"getMaxNonZeroInTile",value:function(){return Math.max.apply(Math,(0,r.default)(this.subsetMaximums))}},{key:"minNonZero",value:function(e,t,n){for(var r=o.default,i=t;i<n;i++){var a=e[i];a<this.epsilon&&a>-this.epsilon||a<r&&(r=a)}return r}},{key:"maxNonZero",value:function(e,t,n){for(var r=i.default,o=t;o<n;o++){var a=e[o];a<this.epsilon&&a>-this.epsilon||a>r&&(r=a)}return r}}]),e}();t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(63)),i=f(n(55)),o=f(n(94)),a=f(n(250)),s=f(n(3)),l=f(n(4)),u=f(n(134)),c=n(114);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),(0,a.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(c.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var n=(0,u.default)((0,o.default)(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}},{key:"computeSubsetNonZeroMinimums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMinNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"computeSubsetNonZeroMaximums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMaxNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"getMinNonZeroInNdarraySubset",value:function(e,t,n,r,o){for(var a=i.default,s=0;s<r;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u<a&&(a=u)}return a}},{key:"getMaxNonZeroInNdarraySubset",value:function(e,t,n,i,o){for(var a=r.default,s=0;s<i;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u>a&&(a=u)}return a}},{key:"mirrorPrecomputedExtrema",value:function(){for(var e=1;e<this.numSubsets;e++)for(var t=0;t<e;t++)this.subsetMinimums.set(t,e,this.subsetMinimums.get(e,t)),this.subsetMaximums.set(t,e,this.subsetMaximums.get(e,t))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(19)),i=g(n(35)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(14)),c=g(n(7)),f=g(n(254)),h=g(n(177)),d=n(24),p=n(10),m=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate,s=e.isShowGlobalMousePosition;return r.constIndicator=new m.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.constIndicator),r.axis=new h.default(r),r.pBase.addChild(r.axis.pAxis),r.animate=i,r.options=n,r.isShowGlobalMousePosition=s,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,p.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition())),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){var r=(0,i.default)(e);(n||r!==this.prevOptions)&&((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.prevOptions=r,this.options=e,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,p.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return d.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),t=Math.min(e,this.maxZoom);return Math.max(t,0)}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(e){if(this.options.axisPositionVertical||this.options.axisPositionHorizontal)if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)this.axis.clearAxis();else if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)this.axis.clearAxis();else{var t=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))}else this.axis.clearAxis()}},{key:"mouseMoveZoomHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if(void 0!==e&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=t-this.position[1],r=e-this.position[0],i="1d-vertical"):(n=e-this.position[0],r=t-this.position[1]);var o=e-this.position[0],a=t-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),u=this.getDataAtPos(n);u&&this.onMouseMoveZoom({trackId:this.id,data:u,absX:e,absY:t,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}}},{key:"drawConstIndicator",value:function(){var e=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);this.options.constIndicators&&this.valueScale&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,l=t.labelColor,u=void 0===l?"black":l,c=t.labelOpacity,f=void 0===c?1:c,h=t.labelPosition,d=void 0===h?"leftTop":h,g=t.labelSize,v=void 0===g?12:g,y=t.value,b=void 0===y?0:y,_=(0,p.colorToHex)(r),E=(0,p.colorToHex)(u);e.constIndicator.beginFill(_,o);var w=e.valueScale(b),x=0,T=0;if(s){var S=new m.GLOBALS.PIXI.Text(s,{fontFamily:"Arial",fontSize:v,fill:E});switch(S.alpha=f,d){case"right":S.anchor.x=1,S.anchor.y=.5,S.x=e.position[0]+e.dimensions[0]-6,S.y=w,T=S.width+8;break;case"rightBottom":S.anchor.x=1,S.anchor.y=0,S.x=e.position[0]+e.dimensions[0]-6,S.y=w;break;case"rightTop":S.anchor.x=1,S.anchor.y=1,S.x=e.position[0]+e.dimensions[0]-6,S.y=w;break;case"left":S.anchor.x=0,S.anchor.y=.5,S.x=e.position[0]+2,S.y=w,x=S.width+4;break;case"leftBottom":S.anchor.x=0,S.anchor.y=0,S.x=e.position[0]+2,S.y=w;break;case"leftTop":default:S.anchor.x=0,S.anchor.y=1,S.x=e.position[0]+2,S.y=w}e.constIndicator.addChild(S)}e.constIndicator.drawRect(e.position[0]+x,w,e.dimensions[0]-T,1)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);i=s[0],n=s[1]}else n=i=document.createElement("g");i.setAttribute("class","horizontal-tiled-1d-track");var l=document.createElement("g");return n.appendChild(l),this.options.constIndicators&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,u=t.labelColor,c=void 0===u?"black":u,f=t.labelOpacity,h=void 0===f?1:f,d=t.labelPosition,p=void 0===d?"leftTop":d,m=t.labelSize,g=void 0===m?12:m,v=t.value,y=void 0===v?0:v,b=e.valueScale(y);if(s){var _=document.createElement("text");switch(_.textContent=s,_.setAttribute("x",e.position[0]),_.setAttribute("y",b),_.setAttribute("style","font-family: 'Arial'; font-size: "+String(g)+"px; fill: "+String(c)+"; fill-opacity: "+String(h)+";"),p){case"rightBottom":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b+g+2),_.setAttribute("text-anchor","end");break;case"right":case"rightTop":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b-2),_.setAttribute("text-anchor","end");break;case"leftBottom":_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b+g+2);break;case"left":case"leftTop":default:_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b-2)}l.appendChild(_)}var E=document.createElement("line");E.setAttribute("x1",e.position[0]),E.setAttribute("y1",b),E.setAttribute("x2",e.dimensions[0]),E.setAttribute("y2",b),E.setAttribute("stroke",r),E.setAttribute("stroke-opacity",o),l.appendChild(E)})),[i,n]}}]),t}(f.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce((function(e,n){return e+(Array.isArray(n)&&t?n.length:1)}),0)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(19)),i=c(n(29)),o=c(n(3)),a=c(n(4)),s=n(8),l=n(20),u=n(10);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.chromInfo=t,this.chromInfoBisector=(0,s.bisector)((function(e){return e.pos})).left}return(0,a.default)(e,[{key:"scalesToPositionText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===this.chromInfo)return"";if(!e||!t)return"";var r=(0,u.absToChr)(e.domain()[0],this.chromInfo),i=(0,u.absToChr)(e.domain()[1],this.chromInfo),o=(0,u.absToChr)(t.domain()[0],this.chromInfo),a=(0,u.absToChr)(t.domain()[1],this.chromInfo),s=null,c=(0,l.format)(",d");return s=r[0]!==i[0]?String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(i[0])+":"+String(c(Math.ceil(i[1]))):String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(c(Math.ceil(i[1]))),n&&(o[0]!==a[0]?s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(a[0])+":"+String(c(Math.ceil(a[1]))):s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(c(Math.ceil(a[1])))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=" [offset "+String(r[2])+","+String(i[2]),n&&(s+=":"+String(o[2])+","+String(a[2])),s+="]"),s}},{key:"convertNumberNotation",value:function(e){var t=e;if(!t.includes("M",t.length-1)&&!t.includes("K",t.length-1))return t;var n=0,r=0;if(t.includes("M",t.length-1)?(n=6,t=t.replace("M","")):(n=3,t=t.replace("K","")),(0,i.default)(+t))return e;(t=(+t).toString()).includes(".")&&(r=t.length-1-t.indexOf("."),t=(+t.replace(".","")).toString());var o=n-r;return o<0?e:t+="0".repeat(o)}},{key:"parsePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==t&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,t&&(r=t));var o=null;return null===r?(r=t,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}},{key:"matchRangesToLarger",value:function(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}},{key:"getSearchRange",value:function(e){if(0===e.length)return null;var t=e.split("-"),n=null;if(0===(t=t.filter((function(e){return e.length>0})))[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var i=this.parsePosition(t[0]),o=(0,r.default)(i,3),a=o[0],s=(o[1],o[2]),l=this.parsePosition(t[1],a),u=(0,r.default)(l,3),c=u[0],f=(u[1],u[2]),h=[s,f],d=this.parsePosition(t[1]),p=(0,r.default)(d,3);a=p[0],p[1],s=p[2];var m=this.parsePosition(t[0],a),g=(0,r.default)(m,3);if(c=g[0],g[1],f=g[2],null===a&&null!==c){var v=this.parsePosition(t[1],c),y=(0,r.default)(v,3);a=y[0],y[1],s=y[2]}var b=[s,f];return b[1]-b[0]>h[1]-h[0]?b:h}if(t[0]in this.chromInfo.chrPositions){var _=+this.chromInfo.chrPositions[t[0]].pos;n=[_,_+ +this.chromInfo.chromLengths[t[0]]]}else{var E=this.parsePosition(t[0]),w=(0,r.default)(E,3),x=(w[0],w[1],w[2]);n=[x-8e6,x+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(e){var t=e.split(":");if(0===t.length)return[[0,0],[0,0]];if(1===t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}},{key:"searchPosition",value:function(e){var t=null,n=null;e=e.trim();var i=/\[offset (.+?)\]/.exec(e),o=[[0,0],[0,0]];i&&(e=e.replace(i[0],""),o=this.parseOffset(i[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!==t&&null!==n){var s=this.matchRangesToLarger(t,n),l=(0,r.default)(s,2);t=l[0],n=l[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}}]),e}();t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(17)),i=b(n(25)),o=b(n(18)),a=b(n(29)),s=b(n(38)),l=b(n(5)),u=b(n(3)),c=b(n(4)),f=b(n(6)),h=b(n(14)),d=b(n(7)),p=b(n(27)),m=b(n(44)),g=n(24),v=n(10),y=n(11);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.animate;return r.visibleTiles=new s.default,r.visibleTileIds=new s.default,r.fetching=new s.default,r.fetchedTiles={},r.tileGraphics={},r.minX=void 0===r.options.minPos||(0,a.default)(+r.options.minPos)?-180:+r.options.minPos,r.maxX=+r.options.maxPos||180,r.maxX=void 0===r.options.maxPos||(0,a.default)(+r.options.maxPos)?180:+r.options.maxPos,r.minY=r.options.minY||r.minX,r.maxY=r.options.maxY||r.maxX,r.maxZoom=19,r.maxWidth=r.maxX-r.minX,r.animate=i,r.uuid=p.default.nice(),r.refreshTilesDebounced=(0,v.debounce)(r.refreshTiles.bind(r),y.ZOOM_DEBOUNCE),r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,o.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new s.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeAllTiles",value:function(){var e=new s.default((0,o.default)(this.fetchedTiles));this.removeTiles([].concat((0,i.default)(e)))}},{key:"refreshTiles",value:function(){var e=this;this.calculateVisibleTiles();for(var t=new s.default((0,o.default)(this.fetchedTiles)),n=[].concat((0,i.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var a=[].concat((0,i.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(a),this.fetchNewTiles(n)}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=g.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=g.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),n=Math.min(Math.max(e,t),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}},{key:"zoomed",value:function(e,n,r,i,o){(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(e){(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new s.default((0,o.default)(this.fetchedTiles)),t=[].concat((0,i.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e&&(this.scale.minValue=e),this.scale.minValue}},{key:"maxValue",value:function(e){return e&&(this.scale.maxValue=e),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(e,t){var n=this.maxWidth/Math.pow(2,e),r=n;return{tileX:this.minX+t[0]*n,tileY:this.minY+t[1]*r,tileWidth:n,tileHeight:r}}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var l=i+a,u=o+s;e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(u)-this._refYScale(o)}},{key:"initTile",value:function(e){var t=new y.GLOBALS.PIXI.Texture(new y.GLOBALS.PIXI.BaseTexture(e.tileData.img)),n=new y.GLOBALS.PIXI.Sprite(t),r=e.graphics;e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){}},{key:"addMissingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new y.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"getTileUrl",value:function(e){var t=["a","b","c"],n=Math.floor(Math.random()*t.length);return"https://"+String(t[n])+".tile.openstreetmap.org/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+".png"}},{key:"fetchNewTiles",value:function(e){var t=this;if(e.length>0){var n=[].concat((0,i.default)(new s.default(e.map((function(e){return e.remoteId}))))),o=function(e){var n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}},a=!0,l=!1,u=void 0;try{for(var c,f=(0,r.default)(n);!(a=(c=f.next()).done);a=!0)o(c.value)}catch(h){l=!0,u=h}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}}}},{key:"receivedTiles",value:function(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}}]),t}(m.default);t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(172));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{modal:o}))}))}))},t.Provider=l},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(745),i=n(786),o=n(143),a=n(31),s=n(795);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(193);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(392),i=n(799)(r);e.exports=i},function(e,t,n){var r=n(283),i=n(146),o=n(396),a=n(31);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},function(e,t,n){var r=n(440),i=n(444);function o(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(441),ElementType:n(122),DomHandler:i,get FeedHandler(){return o("FeedHandler",n(958))},get Stream(){return o("Stream",n(968))},get WritableStream(){return o("WritableStream",n(446))},get ProxyHandler(){return o("ProxyHandler",n(970))},get DomUtils(){return o("DomUtils",n(100))},get CollectingHandler(){return o("CollectingHandler",n(971))},DefaultHandler:i,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){t.REPLACEMENT_CHARACTER="",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(113).Buffer)},function(e,t,n){var r=n(197),i=n(296),o=n(457),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return t=o({},t,{_useHtmlParser2:!0}),r(i(e,t),t,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;t.isHtml=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)return!0;var t=s.exec(e);return!(!t||!t[1])}},function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(e,t,n){var r=n(52),i=n(53),o=n(475),a=n(485),s=a(),l=n(1058),u=i.call(Function.call,s);r(u,{getPolyfill:a,implementation:o,shim:l}),e.exports=u},function(e,t,n){var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.propsOfNode=h,t.childrenOfNode=d,t.hasClassName=function(e,t){var n=h(e).className||"";return n=String(n).replace(/\s/g," "),(0,l.default)(t)?t.test(n):(" "+String(n)+" ").indexOf(" "+String(t)+" ")>-1},t.treeForEach=p,t.treeFilter=m,t.findParentNode=function(e,t){return m(e,(function(e){return!!e.rendered&&-1!==d(e).indexOf(t)}))[0]||null},t.pathToNode=v,t.parentsOfNode=function(e,t){return(v(e,t)||[]).reverse()},t.nodeHasId=function(e,t){return h(e).id===t},t.nodeMatchesObjectProps=function(e,t){return(0,a.default)(h(e),(n=t,(0,o.default)(n).reduce((function(e,t){var n,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(n){o=!0,a=n}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t,2),o=i[0],a=i[1];return(0,r.default)({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,void 0!==(n=a)?n:y))}),{})));var n},t.getTextFromNode=function e(t){return null==t?"":"string"==typeof t||"number"==typeof t?String(t):t.type&&"function"==typeof t.type?"<"+String(t.type.displayName||(0,s.default)(t.type))+" />":d(t).map(e).join("")};var r=c(n(121)),i=c(n(154)),o=c(n(487)),a=c(n(1063)),s=c(n(311)),l=c(n(484)),u=c(n(102));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e){return e&&e.props||{}}function d(e){if(!e)return[];var t=(0,u.default)(),n=t.isFragment&&"function"==typeof t.isFragment,r=Array.isArray(e.rendered)?(0,i.default)(e.rendered,1):[e.rendered];return n?(0,i.default)(r.map((function(e){return t.isFragment(e)?d(e):e})),1):r}function p(e,t){e&&t(e),d(e).forEach((function(e){return p(e,t)}))}function m(e,t){var n=[];return p(e,(function(e){t(e)&&n.push(e)})),n}function g(e,t){return e.filter((function(e){return 0!==m(e,t).length}))}function v(e,t){for(var n=[t],r=[],i=function(t){return e===t};n.length;){var o=n.pop(),a=d(o);if(o===e)return g(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,f(a))}return null}var y={}},function(e,t,n){n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}};function u(e,t,n){this.target=e,this.type=t,this.transform=n}function c(e,t,n){this.k=e,this.x=t,this.y=n}c.prototype={constructor:c,scale:function(e){return 1===e?this:new c(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new c(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f=new c(1,0,0);function h(e){return e.__zoom||f}function d(){a.event.stopImmediatePropagation()}h.prototype=c.prototype;var p=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()};function m(){return!a.event.button}function g(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function v(){return this.__zoom||f}function y(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function b(){return"ontouchstart"in this}function _(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var E=function(){var e,t,n=m,h=g,E=_,w=y,x=b,T=[0,1/0],S=[[-1/0,-1/0],[1/0,1/0]],k=250,O=o.i,A=[],C=Object(r.a)("start","zoom","end"),P=0;function M(e){e.property("__zoom",v).on("wheel.zoom",j).on("mousedown.zoom",B).on("dblclick.zoom",U).filter(x).on("touchstart.zoom",z).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",G).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(e,t){return(t=Math.max(T[0],Math.min(T[1],t)))===e.k?e:new c(t,e.x,e.y)}function I(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new c(e.k,r,i)}function D(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function N(e,t,n){e.on("start.zoom",(function(){L(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){L(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,i=L(e,r),o=h.apply(e,r),a=n||D(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,r):t,f=O(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=f(e),n=s/t[2];e=new c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}}))}function L(e,t){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===e)return n;return new F(e,t)}function F(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=h.apply(e,t)}function j(){if(n.apply(this,arguments)){var e=L(this,arguments),t=this.__zoom,r=Math.max(T[0],Math.min(T[1],t.k*Math.pow(2,w.apply(this,arguments)))),i=Object(a.mouse)(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[i,t.invert(i)],Object(s.interrupt)(this),e.start()}p(),e.wheel=setTimeout(o,150),e.zoom("mouse",E(I(R(t,r),e.mouse[0],e.mouse[1]),e.extent,S))}function o(){e.wheel=null,e.end()}}function B(){if(!t&&n.apply(this,arguments)){var e=L(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",f,!0),o=Object(a.mouse)(this),l=a.event.clientX,u=a.event.clientY;Object(i.dragDisable)(a.event.view),d(),e.mouse=[o,this.__zoom.invert(o)],Object(s.interrupt)(this),e.start()}function c(){if(p(),!e.moved){var t=a.event.clientX-l,n=a.event.clientY-u;e.moved=t*t+n*n>P}e.zoom("mouse",E(I(e.that.__zoom,e.mouse[0]=Object(a.mouse)(e.that),e.mouse[1]),e.extent,S))}function f(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(a.event.view,e.moved),p(),e.end()}}function U(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(a.mouse)(this),r=e.invert(t),i=e.k*(a.event.shiftKey?.5:2),o=E(I(R(e,i),t,r),h.apply(this,arguments),S);p(),k>0?Object(a.select)(this).transition().duration(k).call(N,o,t):Object(a.select)(this).call(M.transform,o)}}function z(){if(n.apply(this,arguments)){var t,r,i,o,l=L(this,arguments),u=a.event.changedTouches,c=u.length;for(d(),r=0;r<c;++r)i=u[r],o=[o=Object(a.touch)(this,u,i.identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||(l.touch1=o):(l.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!l.touch1))return l.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),500),Object(s.interrupt)(this),l.start())}}function H(){var t,n,r,i,o=L(this,arguments),s=a.event.changedTouches,l=s.length;for(p(),e&&(e=clearTimeout(e)),t=0;t<l;++t)n=s[t],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],c=o.touch0[1],f=o.touch1[0],h=o.touch1[1],d=(d=f[0]-u[0])*d+(d=f[1]-u[1])*d,m=(m=h[0]-c[0])*m+(m=h[1]-c[1])*m;n=R(n,Math.sqrt(d/m)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],i=[(c[0]+h[0])/2,(c[1]+h[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",E(I(n,r,i),o.extent,S))}function G(){var e,n,r=L(this,arguments),i=a.event.changedTouches,o=i.length;for(d(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return M.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",v),e!==n?N(e,t):n.interrupt().each((function(){L(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},M.scaleBy=function(e,t){M.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}))},M.scaleTo=function(e,t){M.transform(e,(function(){var e=h.apply(this,arguments),n=this.__zoom,r=D(e),i=n.invert(r),o="function"==typeof t?t.apply(this,arguments):t;return E(I(R(n,o),r,i),e,S)}))},M.translateBy=function(e,t,n){M.transform(e,(function(){return E(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),h.apply(this,arguments),S)}))},M.translateTo=function(e,t,n){M.transform(e,(function(){var e=h.apply(this,arguments),r=this.__zoom,i=D(e);return E(f.translate(i[0],i[1]).scale(r.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,S)}))},F.prototype={start:function(){return 1==++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new u(M,e,this.that.__zoom),C.apply,C,[e,this.that,this.args])}},M.wheelDelta=function(e){return arguments.length?(w="function"==typeof e?e:l(+e),M):w},M.filter=function(e){return arguments.length?(n="function"==typeof e?e:l(!!e),M):n},M.touchable=function(e){return arguments.length?(x="function"==typeof e?e:l(!!e),M):x},M.extent=function(e){return arguments.length?(h="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),M):h},M.scaleExtent=function(e){return arguments.length?(T[0]=+e[0],T[1]=+e[1],M):[T[0],T[1]]},M.translateExtent=function(e){return arguments.length?(S[0][0]=+e[0][0],S[1][0]=+e[1][0],S[0][1]=+e[0][1],S[1][1]=+e[1][1],M):[[S[0][0],S[0][1]],[S[1][0],S[1][1]]]},M.constrain=function(e){return arguments.length?(E=e,M):E},M.duration=function(e){return arguments.length?(k=+e,M):k},M.interpolate=function(e){return arguments.length?(O=e,M):O},M.on=function(){var e=C.on.apply(C,arguments);return e===C?M:e},M.clickDistance=function(e){return arguments.length?(P=(e=+e)*e,M):Math.sqrt(P)},M};n.d(t,"zoom",(function(){return E})),n.d(t,"zoomTransform",(function(){return h})),n.d(t,"zoomIdentity",(function(){return f}))},function(e,t,n){var r=n(47),i=n(48),o=n(209)(!1),a=n(90)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){e.exports=!n(36)&&!n(50)((function(){return 7!=Object.defineProperty(n(107)("div"),"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(42)},function(e,t,n){var r=n(32),i=n(39),o=n(60);e.exports=n(36)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(23).document;e.exports=r&&r.documentElement},function(e,t){},function(e,t,n){var r=n(39);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(51),i=n(21)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t,n){t.f=n(21)},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[i]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,h=c||f||Function("return this")(),d=t&&!t.nodeType&&t,p=d&&"object"==typeof n&&n&&!n.nodeType&&n,m=p&&p.exports===d,g=m&&c.process,v=function(){try{return g&&g.binding&&g.binding("util")}catch(Oe){}}(),y=v&&v.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var w,x,T,S=Array.prototype,k=Function.prototype,O=Object.prototype,A=h["__core-js_shared__"],C=k.toString,P=O.hasOwnProperty,M=(w=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",R=O.toString,I=RegExp("^"+C.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=m?h.Buffer:void 0,N=h.Symbol,L=h.Uint8Array,F=O.propertyIsEnumerable,j=S.splice,B=N?N.toStringTag:void 0,U=Object.getOwnPropertySymbols,z=D?D.isBuffer:void 0,H=(x=Object.keys,T=Object,function(e){return x(T(e))}),G=pe(h,"DataView"),V=pe(h,"Map"),$=pe(h,"Promise"),X=pe(h,"Set"),W=pe(h,"WeakMap"),Y=pe(Object,"create"),q=ye(G),K=ye(V),Z=ye($),Q=ye(X),J=ye(W),ee=N?N.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function le(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=P.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(o){}var i=R.call(e);return r&&(t?e[B]=n:delete e[B]),i}(e):(t=e,R.call(t));var t}function ue(e){return ke(e)&&le(e)==r}function ce(e,t,n,s,l){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,s,l,u){var c=Ee(e),f=Ee(t),h=c?"[object Array]":ge(e),d=f?"[object Array]":ge(t),p=(h=h==r?o:h)==o,m=(d=d==r?o:d)==o,g=h==d;if(g&&we(e)){if(!we(t))return!1;c=!0,p=!1}if(g&&!p)return u||(u=new ae),c||Ae(e)?fe(e,t,n,s,l,u):function(e,t,n,r,o,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var u=_;case a:var c=1&r;if(u||(u=E),e.size!=t.size&&!c)return!1;var f=l.get(e);if(f)return f==t;r|=2,l.set(e,t);var h=fe(u(e),u(t),r,o,s,l);return l.delete(e),h;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,h,n,s,l,u);if(!(1&n)){var v=p&&P.call(e,"__wrapped__"),y=m&&P.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,w=y?t.value():t;return u||(u=new ae),l(b,w,n,s,u)}}return!!g&&(u||(u=new ae),function(e,t,n,r,i,o){var a=1&n,s=he(e),l=s.length;if(l!=he(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:P.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){var p=e[c=s[u]],m=t[c];if(r)var g=a?r(m,p,c,t,e,o):r(p,m,c,e,t,o);if(!(void 0===g?p===m||i(p,m,n,r,o):g)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,s,l,u))}(e,t,n,s,ce,l))}function fe(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,h=2&n?new oe:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var m=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!b(t,(function(e,t){if(a=t,!h.has(a)&&(d===e||i(d,e,n,r,o)))return h.push(t);var a}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function he(e){return n=me,r=Ce(t=e),Ee(t)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(t));var t,n,r}function de(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var n,r,i=(r=t,null==(n=e)?void 0:n[r]);return function(e){return!(!Se(e)||(t=e,M&&M in t))&&(xe(e)?I:s).test(ye(e));var t}(i)?i:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:P.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():j.call(t,n,1),--this.size,0))},re.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return se(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(V||re),string:new ne}},ie.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return de(this,e).get(e)},ie.prototype.has=function(e){return de(this,e).has(e)},ie.prototype.set=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var me=U?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a)&&(o[i++]=a)}return o}(U(e),(function(t){return F.call(e,t)})))}:function(){return[]},ge=le;function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function be(e,t){return e===t||e!=e&&t!=t}(G&&"[object DataView]"!=ge(new G(new ArrayBuffer(1)))||V&&ge(new V)!=i||$&&"[object Promise]"!=ge($.resolve())||X&&ge(new X)!=a||W&&"[object WeakMap]"!=ge(new W))&&(ge=function(e){var t=le(e),n=t==o?e.constructor:void 0,r=n?ye(n):"";if(r)switch(r){case q:return"[object DataView]";case K:return i;case Z:return"[object Promise]";case Q:return a;case J:return"[object WeakMap]"}return t});var _e=ue(function(){return arguments}())?ue:function(e){return ke(e)&&P.call(e,"callee")&&!F.call(e,"callee")},Ee=Array.isArray,we=z||function(){return!1};function xe(e){if(!Se(e))return!1;var t=le(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Oe,Ae=y?(Oe=y,function(e){return Oe(e)}):function(e){return ke(e)&&Te(e.length)&&!!u[le(e)]};function Ce(e){return null!=(t=e)&&Te(t.length)&&!xe(t)?function(e,t){var n=Ee(e),r=!n&&_e(e),i=!n&&!r&&we(e),o=!n&&!r&&!i&&Ae(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!P.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ve(u,l))||s.push(u);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||O))return H(e);var t,n,r=[];for(var i in Object(e))P.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e);var t}n.exports=function(e,t){return ce(e,t)}}).call(this,n(26),n(170)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(43)),i=f(n(18)),o=f(n(30)),a=f(n(2)),s=f(n(1)),l=n(124),u=f(n(78)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}n(588);var h={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},d=function(e){var t=e.isVisible?"track-control-active":"track-control";return t+=e.isAlignLeft?" track-control-left":"",t+=e.isVertical?" track-control-vertical":"",t+=e.paddingRight?" track-control-padding-right":"",e.theme===c.THEME_DARK&&(t+=" track-control-dark"),t},p=function(e){return"track-control-button"+(e.isVertical?" track-control-button-vertical":"")},m=null,g=null,v=function(e){e&&m&&!(0,i.default)(e).some((function(t){return m[t]!==e[t]}))||(m=e,g=(0,l.SortableHandle)((function(){return s.default.createElement("svg",{style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleMove),className:"no-zoom "+(0,o.default)(p(e),h)},s.default.createElement("title",null,"Move track"),s.default.createElement("use",{xlinkHref:"#move"}))})));var t=void 0,n=void 0;return s.default.createElement("div",{className:(0,o.default)(d(e),h)},e.isMoveable&&s.default.createElement(g,null),s.default.createElement("svg",{ref:function(e){t=e},onClick:function(){e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleSettings),className:"no-zoom "+(0,o.default)(p(e),h)},s.default.createElement("title",null,"Configure track"),s.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&s.default.createElement("svg",{onClick:function(){return e.onAddSeries(e.uid)},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleAdd),className:"no-zoom "+(0,o.default)(p(e),h)},s.default.createElement("title",null,"Add series"),s.default.createElement("use",{xlinkHref:"#plus"})),s.default.createElement("svg",{ref:function(e){n=e},onClick:function(){e.onCloseTrackMenuOpened(e.uid,n.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleClose),className:"no-zoom "+(0,o.default)(p(e),h)},s.default.createElement("title",null,"Close track"),s.default.createElement("use",{xlinkHref:"#cross"})))};v.propTypes={imgStyleAdd:a.default.object,imgStyleClose:a.default.object,imgStyleMove:a.default.object,imgStyleSettings:a.default.object,isAlignLeft:a.default.bool,isMoveable:a.default.bool,isVertical:a.default.bool,isVisible:a.default.bool,onConfigTrackMenuOpened:a.default.func,onCloseTrackMenuOpened:a.default.func,onAddSeries:a.default.func,paddingRight:a.default.bool,theme:a.default.symbol.isRequired,uid:a.default.string},t.default=(0,u.default)(v)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(e,t,n){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(28),a=n(69),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=t.id,i=t.pubSub,s=t.getTheme;(0,r.default)(this,e),this.pubSub=i||a.fake,this.id=n,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=s||function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,i.default)(e,[{key:"isWithin",value:function(e,t){var n=e,r=t,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=t,r=e,i=this.position[1],o=this.position[0]),(0,s.isWithin)(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}},{key:"getProp",value:function(e){var t=this;return function(){return t[e]}}},{key:"getData",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(e){return arguments.length?(this._refXScale=e,this):this._refXScale}},{key:"refYScale",value:function(e){return arguments.length?(this._refYScale=e,this):this._refYScale}},{key:"xScale",value:function(e){return arguments.length?(this._xScale=e,this):this._xScale}},{key:"yScale",value:function(e){return arguments.length?(this._yScale=e,this):this._yScale}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t)}},{key:"refScalesChanged",value:function(e,t){this._refXScale=e,this._refYScale=t}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"defaultMouseMoveHandler",value:function(e){}},{key:"remove",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(e,t){return this.isWithin(e,t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}}]),e}();t.default=u},function(e,t,n){var r=n(33),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(20),a=n(11),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r.default)(this,e),this.pAxis=new a.GLOBALS.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,i.default)(e,[{key:"startAxis",value:function(e){var t=this.pAxis;t.clear(),t.lineStyle(1,this.track.getTheme()===a.THEME_DARK?(0,s.colorToHex)("#ffffff"):0,1),t.moveTo(0,0),t.lineTo(0,e)}},{key:"createAxisTexts",value:function(e,t){this.tickValues=this.calculateAxisTickValues(e,t);var n=0,r=this.track.getTheme()===a.THEME_DARK?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=function(e){return e}:this.tickFormat=(0,o.format)(".2");n<this.tickValues.length;){for(var i=this.tickValues[n];this.axisTexts.length<=n;){var s=new a.GLOBALS.PIXI.Text(i,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(s),this.pAxis.addChild(s)}this.axisTexts[n].text=this.tickFormat(i),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){var l=this.axisTexts.pop();this.pAxis.removeChild(l),l.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(e,t){var n=Math.max(Math.ceil(t/40),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1)).length>1&&(r=[r[0]]),r}},{key:"drawAxisLeft",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(-5,0),n.moveTo(0,t),n.lineTo(-5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(9+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-0,e(i)),n.lineTo(-5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(5,0),n.moveTo(0,t),n.lineTo(5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=9+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(0,e(i)),n.lineTo(5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}},{key:"exportVerticalAxis",value:function(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical");var n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(n="#cccccc");var r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d","M0,0 L0,"+String(e)),t.appendChild(r),t}},{key:"createAxisSVGLine",value:function(){var e="black";this.track&&this.track.options.lineStrokeColor&&(e=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(e="#cccccc");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}},{key:"createAxisSVGText",value:function(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}},{key:"exportAxisLeftSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"exportAxisRightSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L-5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L-5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L-5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"clearAxis",value:function(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}}]),e}();t.default=u},function(e,t,n){e.exports=function(e,t,n){switch(arguments.length){case 1:return f(e);case 2:return"function"==typeof t?u(e,e,t,!0):h(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(256),o=n(350),a=n(602);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,h=i.mallocDouble(2*c*s),d=i.mallocInt32(s);if((s=l(e,c,h,d))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,h,d,0,s,h,d);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),f=1===c?o.sweepBipartite(c,n,0,s,h,d,0,u,p,m):a(c,n,r,s,h,d,u,p,m),i.free(p),i.free(m))}i.free(h),i.free(d)}return f}}}function c(e,t){r.push([e,t])}function f(e){return r=[],u(e,e,c,!0),r}function h(e,t){return r=[],u(e,t,c,!1),r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=function(e){var t=void 0;switch(e?e.toLowerCase():e){case"mean":t=r.mean;break;case"sum":t=r.sum;break;case"variance":t=r.variance;break;case"deviation":t=r.deviation;break;default:t=r.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(35)),i=d(n(18)),o=d(n(34)),a=d(n(17)),s=d(n(29));t.workerSetPix=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,m=null;"log"===n?m=(0,l.scaleLog)().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),m=(0,l.scaleLinear)().range([254,0]).domain(r));var g=d||{},v=g.selectedRows,y=void 0===v?null:v,b=g.selectedRowsAggregationMode,_=void 0===b?null:b,E=g.selectedRowsAggregationWithRelativeHeight,w=void 0===E?null:E,x=g.selectedRowsAggregationMethod,T=void 0===x?null:x,S=e;f&&y&&(S=(0,c.default)(y,w)*f[1]);var k=void 0,O=0,A=f?f[1]:Math.sqrt(e),C=new Uint8ClampedArray(4*S),P=function(e,t){O=255,a&&Math.floor(e/A)<e%A||u&&Math.floor(e/A)>e%A||(0,s.default)(+t)||(O=Math.max(0,Math.min(254,Math.floor(m(t+i))))),(O<0||O>255)&&console.warn("out of bounds rgbIdx:",O," (should be 0 <= rgbIdx <= 255)"),k=h&&!(0,s.default)(+t)&&0==+t?h:o[O],C[4*e]=k[0],C[4*e+1]=k[1],C[4*e+2]=k[2],C[4*e+3]=k[3]},M=void 0;try{if(y)p(t,f,P,y,_,w,T);else for(var R=0;R<t.length;R++)P(R,M=t[R])}catch(I){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",m.domain()),console.warn("valueScale.range():",m.range()),console.warn("value:",m(M+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",O,"d:",M,"ct:",m(M)),console.error("ERROR:",I),C}return C},t.tileResponseToData=y,t.workerGetTiles=function(e,t,n,a,s,l){var u={"content-type":"application/json"};a&&(u.Authorization=a),fetch(e,(0,o.default)({credentials:"same-origin",headers:u},l&&(0,i.default)(l).length>0?{method:"POST",body:(0,r.default)(l)}:{})).then((function(e){return e.json()})).then((function(e){s(y(e,t,n))})).catch((function(e){return console.warn("err:",e)}))};var l=n(28),u=d(n(179)),c=d(n(138)),f=d(n(135)),h=d(n(136));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,i,o,a){var s=void 0,l=void 0;i&&(s=(0,u.default)(i),l=function(n,r){return s(r.map((function(r){return e[r*t[1]+n]})))});var c=void 0,f=void 0,h=void 0,d=void 0,p=void 0;for(h=0;h<t[1];h++)for(f=0,d=0;d<r.length;d++)if(c=s&&"server"===a?e[d*t[1]+h]:Array.isArray(r[d])&&s?l(h,r[d]):e[r[d]*t[1]+h],o&&Array.isArray(r[d]))for(p=0;p<r[d].length;p++)n(f*t[1]+h,c),f++;else n(f*t[1]+h,c),f++}function m(e){var t=31744&e,n=void 0,r=(32768&e)<<16;switch(t){case 0:if(0==(n=1023&e))return r;for(n<<=1;0==(1024&n);)n<<=1,t++;return r+(112-t<<23)+((1023&n)<<13);case 31744:return r+2139095040+((1023&e)<<13);default:return r+(114688+(32767&e)<<13)}}function g(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function v(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=m(e[n]);return new Float32Array(t.buffer)}function y(e,t,n){e||(e={});var r=!0,i=!1,o=void 0;try{for(var l,u=(0,a.default)(n);!(r=(l=u.next()).done);r=!0){var c=l.value;c in e||(e[c]={});var d=c,p=d.split(".");if(e[d].server=t,e[d].tileId=d,e[d].zoomLevel=+p[1],e[d].tilePos=p.slice(2,p.length).map((function(e){return+e})).filter((function(e){return!(0,s.default)(e)})),e[d].tilesetUid=p[0],"dense"in e[d]){var m,y=g(e[d].dense);m="float16"===e[d].dtype?v(new Uint16Array(y)):new Float32Array(y);var b=2===e[d].tilePos.length?new h.default(m):new f.default(m);e[d].dense=m,e[d].denseDataExtrema=b,e[d].minNonZero=b.minNonZeroInTile,e[d].maxNonZero=b.maxNonZeroInTile}}}catch(_){i=!0,o=_}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}n(654);var a=r.default.forwardRef((function(e,t){return r.default.createElement("button",{ref:t,disable:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},e.children,e.shortcut&&r.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},e.shortcut))}));a.defaultProps={onClick:function(){},styleName:"",type:"button"},a.propTypes={children:i.default.func.isRequired,disable:i.default.func.isRequired,onBlur:i.default.func,onClick:i.default.func,onMouseDown:i.default.func,onMouseOut:i.default.func,onMouseUp:i.default.func,shortcut:i.default.string,type:i.default.string},t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSeriesItems=t.getAllTracksAndSubtracks=void 0;var r=l(n(18)),i=l(n(17)),o=l(n(1)),a=l(n(67)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(68);var u=t.getAllTracksAndSubtracks=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(e);!(n=(a=s.next()).done);n=!0){var l=a.value;l.contents?t=t.concat(l.contents):t.push(l)}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t};t.getSeriesItems=function(e,t,n,i){return e?(window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(e){s.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),u(e).map((function(e){var r=s.TRACKS_INFO_BY_TYPE[e.type]?s.TRACKS_INFO_BY_TYPE[e.type].thumbnail:null,l=r?o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):o.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},o.default.createElement("svg",null));return o.default.createElement(a.default,{key:e.uid,onClick:function(){i&&i(e.uid)},onMouseEnter:function(n){t&&t(n,e)},onMouseLeave:function(e){n&&n(e)},className:"ContextMenu-module_context-menu-item-1HeVv"},l,o.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.options&&e.options.name&&e.options.name.length?e.options.name:e.type,t&&n?o.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},o.default.createElement("use",{xlinkHref:"#play"})):null))}))):null}},function(e,t,n){var r=n(740),i=n(56),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(40),i=n(741),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(170)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(187),i=n(752),o=n(753),a=n(754),s=n(755),l=n(756);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(747),i=n(748),o=n(749),a=n(750),s=n(751);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(119);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(98)(Object,"create");e.exports=r},function(e,t,n){var r=n(769);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(782),i=n(276),o=n(783),a=n(784),s=n(407),l=n(96),u=n(399),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(31),i=n(282),o=n(788),a=n(791);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(96),i=n(56);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(284),i=n(119),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(45),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){(function(r){var i=n(148),o=n(972);(t=e.exports=function(e,n,r){var i=t.evaluate(e,n,r),o=t.evaluate("<root></root>",n,!1)[0];return o.type="root",o.parent=null,t.update(i,o),o}).evaluate=function(e,t,n){return r.isBuffer(e)&&(e=e.toString()),"string"==typeof e?t.xmlMode||t._useHtmlParser2?i.parseDOM(e,t):(a=e,(n?o.parse:o.parseFragment)(a,{treeAdapter:o.treeAdapters.htmlparser2}).children):e;var a},t.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,o=i&&i.children;o&&o!==e&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,n(113).Buffer)},function(e,t,n){var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(113),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){(e.exports=function(e){var t={},n=this._getOverriddenMethods(this,t);Object.keys(n).forEach((function(r){"function"==typeof n[r]&&(t[r]=e[r],e[r]=n[r])}))}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(e,t,n){e.exports=i;var r=n(198).EventEmitter;function i(){r.call(this)}n(58)(i,r),i.Readable=n(301),i.Writable=n(988),i.Duplex=n(989),i.Transform=n(990),i.PassThrough=n(991),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(150))},function(e,t,n){var r=n(457);t.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},t.flatten=function(e){return e&&e.xml?r({xmlMode:!0},e.xml):e}},function(e,t,n){var r=n(196),i=n(45);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[i++]=n)}return o}},function(e,t,n){var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Object.getPrototypeOf||function(e){return e.__proto__},a="undefined"==typeof Uint8Array?void 0:o(Uint8Array),s={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":a,"$ %TypedArrayPrototype%":a?a.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in s))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===s[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return s[n]}},function(e,t,n){n(208),e.exports=n(12).Object.keys},function(e,t,n){var r=n(54),i=n(60);n(125)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(48),i=n(88),o=n(210);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(89),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(212),i=n(160),o=n(51),a=n(48);e.exports=n(108)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(109),i=n(66),o=n(77),a={};n(42)(a,n(21)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(89),i=n(87);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){n(76),n(61),e.exports=n(216)},function(e,t,n){var r=n(39),i=n(111);e.exports=n(12).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(92);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(42);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){var n=e.getAttribute("class");return n&&!!n.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}},function(e,t,n){n(222),e.exports=n(12).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(223)})},function(e,t,n){var r=n(60),i=n(129),o=n(93),a=n(54),s=n(104),l=Object.assign;e.exports=!l||n(50)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,f=o.f;l>u;)for(var h,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)f.call(d,h=p[g++])&&(n[h]=d[h]);return n}:l},function(e,t,n){e.exports={default:n(532),__esModule:!0}},function(e,t,n){var r=n(91)("meta"),i=n(33),o=n(47),a=n(32).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(50)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(23),i=n(12),o=n(75),a=n(168),s=n(32).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(93),i=n(66),o=n(48),a=n(126),s=n(47),l=n(159),u=Object.getOwnPropertyDescriptor;t.f=n(36)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(230);var r=n(12).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperty:n(32).f})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Z(n(34)),i=Z(n(29)),o=Z(n(62)),a=Z(n(25)),s=Z(n(18)),l=Z(n(17)),u=Z(n(35)),c=Z(n(37)),f=Z(n(19)),h=Z(n(557)),d=Z(n(43)),p=Z(n(38)),m=Z(n(5)),g=Z(n(3)),v=Z(n(4)),y=Z(n(6)),b=Z(n(7)),_=Z(n(30)),E=Z(n(1)),w=Z(n(2)),x=n(0),T=n(28),S=Z(n(27)),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(322)),O=Z(n(41)),A=Z(n(574)),C=n(341),P=Z(n(582)),M=Z(n(583)),R=n(132),I=Z(R),D=Z(n(586)),N=Z(n(677)),L=Z(n(683)),F=Z(n(685)),j=Z(n(73)),B=Z(n(689)),U=Z(n(726)),z=n(390),H=Z(n(727)),G=n(69),V=n(141),$=n(78),X=n(24),W=n(10),Y=n(11),q=Z(n(731)),K=Z(n(380));function Z(e){return e&&e.__esModule?e:{default:e}}Z(n(732));var Q={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},J=function(e){function t(e){(0,g.default)(this,t);var n=(0,y.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));(0,W.numericifyVersion)(E.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",E.default.version),n.pubSub=(0,I.default)(),n.domEvent=(0,X.createDomEvent)(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=S.default.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new p.default,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.valueScaleLocks={},n.prevAuthToken=e.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},Y.GLOBALS.PIXI=e.options&&e.options.PIXI||k,n.viewMarginTop=+e.options.viewMarginTop>=0?+e.options.viewMarginTop:Y.DEFAULT_VIEW_MARGIN,n.viewMarginBottom=+e.options.viewMarginBottom>=0?+e.options.viewMarginBottom:Y.DEFAULT_VIEW_MARGIN,n.viewMarginLeft=+e.options.viewMarginLeft>=0?+e.options.viewMarginLeft:Y.DEFAULT_VIEW_MARGIN,n.viewMarginRight=+e.options.viewMarginRight>=0?+e.options.viewMarginRight:Y.DEFAULT_VIEW_MARGIN,n.viewPaddingTop=+e.options.viewPaddingTop>=0?+e.options.viewPaddingTop:Y.DEFAULT_VIEW_PADDING,n.viewPaddingBottom=+e.options.viewPaddingBottom>=0?+e.options.viewPaddingBottom:Y.DEFAULT_VIEW_PADDING,n.viewPaddingLeft=+e.options.viewPaddingLeft>=0?+e.options.viewPaddingLeft:Y.DEFAULT_VIEW_PADDING,n.viewPaddingRight=+e.options.viewPaddingRight>=0?+e.options.viewPaddingRight:Y.DEFAULT_VIEW_PADDING,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(Y.LONG_DRAG_TIMEOUT)},n.unsetOnLocationChange=[],n.setTheme(e.options.theme,e.options.isDarkTheme),n.viewconfLoaded=!1;var r=n.props.viewConfig,i=n.loadIfRemoteViewConfig(n.props.viewConfig);e.options.authToken&&(0,X.setTileProxyAuthHeader)(e.options.authToken),n.pixiRoot=new Y.GLOBALS.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new Y.GLOBALS.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new Y.GLOBALS.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;var o=Y.MOUSE_TOOL_MOVE;if(n.props.options)switch(n.props.options.mouseTool){case Y.MOUSE_TOOL_SELECT:o=Y.MOUSE_TOOL_SELECT}n.props.options.pluginTracks&&(window.higlassTracksByType=(0,d.default)(window.higlassTracksByType||{},n.props.options.pluginTracks));var a={};try{window.higlassTracksByType&&(0,h.default)(window.higlassTracksByType).forEach((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];a[n]=r}))}catch(w){console.warn("Broken config of a plugin track")}n.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=(0,d.default)(window.higlassDataFetchersByType||{},n.props.options.pluginDataFetchers));var s=window.higlassDataFetchersByType,l=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.pluginTracks=a,n.pluginDataFetchers=s,n.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:l,svgElement:null,canvasElement:null,views:i,viewConfig:r,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:o,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;var u=(0,H.default)(n,n.pubSub),c=u.public,v=u.destroy,b=u.publish,_=u.stack;return n.api=c,n.apiDestroy=v,n.apiPublish=b,n.apiStack=_,n.viewChangeListener=[],n.triggerViewChangeDb=(0,W.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(n),n.keyDownHandlerBound=n.keyDownHandler.bind(n),n.keyUpHandlerBound=n.keyUpHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(n),n.zoomStartHandlerBound=n.zoomStartHandler.bind(n),n.zoomEndHandlerBound=n.zoomEndHandler.bind(n),n.zoomHandlerBound=n.zoomHandler.bind(n),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(n),n.trackDimensionsModifiedHandlerBound=n.trackDimensionsModifiedHandler.bind(n),n.animateBound=n.animate.bind(n),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(n),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(n),n.wheelHandlerBound=n.wheelHandler.bind(n),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(n),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(n),n.onBlurHandlerBound=n.onBlurHandler.bind(n),n.openModalBound=n.openModal.bind(n),n.closeModalBound=n.closeModal.bind(n),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return(0,b.default)(t,e),(0,v.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"setBroadcastMousePositionGlobally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBroadcastMousePositionGlobally=e}},{key:"setShowGlobalMousePosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isShowGlobalMousePosition=t,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=R.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var n=this.pubSubs.findIndex((function(t){return t===e.globalMousePositionListener}));R.globalPubSub.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(e){e.sourceEvent&&this.mouseMoveHandler(e.sourceEvent)}},{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=O.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=O.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,c.default)(this.state.views).forEach((function(t){e.adjustLayoutToTrackSizes(t),t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}));var t={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(k.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new Y.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new Y.GLOBALS.PIXI.WebGLRenderer(t);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck ");case"5":"canvas"===this.props.options.renderer?this.pixiRenderer=new Y.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new Y.GLOBALS.PIXI.Renderer(t)}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((function(){C.ElementQueries.listen(),e.resizeSensor=new C.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();var n=(0,x.select)(this.element).append("svg").style("display","none");z.all.forEach((function(e){return(0,U.default)(n,e.id,e.paths,e.viewBox)}))}},{key:"getTrackObject",value:function(e,t){return this.tiledPlots[e].trackRenderer.getTrackObject(t)}},{key:"getTrackRenderer",value:function(e){return this.tiledPlots[e].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(e){var t=this,n={};return"string"==typeof e?X.tileProxy.json(e,(function(n,r){e=r,t.setState({views:t.processViewConfig(JSON.parse((0,u.default)(r))),viewConfig:r}),t.unsetOnLocationChange.forEach((function(e){var n=e.viewId,r=e.callback,i=e.callbackId;t.onLocationChange(n,r,i)}))}),this.pubSub):(n=this.processViewConfig(JSON.parse((0,u.default)(e))),this.mounted&&this.setState({viewConfig:e})),n}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.loadIfRemoteViewConfig(e.viewConfig);if(e.options.authToken!==this.prevAuthToken){(0,X.setTileProxyAuthHeader)(e.options.authToken);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,l.default)(this.iterateOverViews());!(n=(o=a.next()).done);n=!0){var s=o.value,u=this.getTrackRenderer(s),c=JSON.parse(u.prevTrackDefinitions);u.syncTrackObjects([]),u.syncTrackObjects(c)}}catch(v){r=!0,i=v}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.prevAuthToken=e.options.authToken}var f=!0,h=!1,d=void 0;try{for(var p,m=(0,l.default)((0,W.dictValues)(t));!(f=(p=m.next()).done);f=!0){var g=p.value;this.adjustLayoutToTrackSizes(g)}}catch(v){h=!0,d=v}finally{try{!f&&m.return&&m.return()}finally{if(h)throw d}}this.setState({views:t})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.options.isDarkTheme;if(void 0!==t)console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=t?"dark":"light";else switch(e){case"dark":this.theme=Y.THEME_DARK;break;case"light":case void 0:this.theme=Y.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(e)+'". Using light theme.'),this.theme=Y.THEME_LIGHT}}},{key:"dispatchEvent",value:function(e){this.canvasElement&&(0,W.forwardEvent)(e,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){this.viewconfLoaded||0!==X.requestsInFlight||(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(e){e&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=e}},{key:"fitPixiToParentContainer",value:function(){if(this.element&&this.element.parentNode){var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,e,t).endFill(),this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=String(e)+"px",this.pixiRenderer.view.style.height=String(t)+"px",this.pixiRenderer.render(this.pixiRoot)}else console.warn("No parentNode:",this.element)}},{key:"addDefaultTrackOptions",value:function(e){var t=this.getTrackInfo(e.type);if(t){void 0===e.options&&(e.options={});var n=e.options?e.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[e.type]){var r=this.props.options.defaultTrackOptions.trackSpecific[e.type];for(var i in r)e.options[i]=void 0!==e.options[i]?e.options[i]:JSON.parse((0,u.default)(r[i]))}if(this.props.options.defaultTrackOptions.all){var o=this.props.options.defaultTrackOptions.all;for(var a in o)e.options[a]=void 0!==e.options[a]?e.options[a]:JSON.parse((0,u.default)(o[a]))}}if(t.defaultOptions){var s=t.defaultOptionsByTheme&&t.defaultOptionsByTheme[this.theme]?t.defaultOptionsByTheme[this.theme]:{},l=(0,d.default)({},t.defaultOptions,s);if(e.options)for(var c in l)e.options[c]=void 0!==e.options[c]?e.options[c]:JSON.parse((0,u.default)(l[c]));else e.options=JSON.parse((0,u.default)(l))}else e.options=n}}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(e){var t=this;this.props.options.cheatCodesEnabled&&(this.typedText=this.typedText.concat(e.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText=""),this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((function(){t.typedText=""}),750))}},{key:"keyDownHandler",value:function(e){this.typedTextHandler(e),this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Y.MOUSE_TOOL_SELECT})}},{key:"keyUpHandler",value:function(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Y.MOUSE_TOOL_MOVE})}},{key:"openModal",value:function(e){var t=this;this.setState({modal:E.default.cloneElement(e,{ref:function(e){t.modalRef=e}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){var e=this,t=this.state.viewConfig;this.setState({viewConfigTmp:t}),this.openModal(E.default.createElement(B.default,{onCancel:function(){var t=e.state.viewConfigTmp,n=e.processViewConfig(t),r=!0,i=!1,o=void 0;try{for(var a,s=(0,l.default)((0,W.dictValues)(n));!(r=(a=s.next()).done);r=!0){var u=a.value;e.adjustLayoutToTrackSizes(u)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e.setState({views:n,viewConfig:t,viewConfigTmp:null})},onChange:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,u=(0,l.default)((0,W.dictValues)(r));!(i=(s=u.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(f){o=!0,a=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n})},onSave:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,u=(0,l.default)((0,W.dictValues)(r));!(i=(s=u.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(f){o=!0,a=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){var e=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((function(){e.pixiRenderer&&(e.pixiRenderer.render(e.pixiRoot),e.isRequestingAnimationFrame=!1)})))}},{key:"animateOnGlobalEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceUid;t!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){var e=(0,W.getElementDim)(this.element),t=(0,f.default)(e,2),n=t[0],r=t[1];n>0&&r>0&&this.setState({sizeMeasured:!0,width:n,height:r})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(Y.LONG_DRAG_TIMEOUT),this.resizeHandler()}},{key:"onBreakpointChange",value:function(e){this.setState({currentBreakpoint:e})}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(e){var t=this;this.setState({chooseViewHandler:function(n){return t.handleLocationLockChosen(e,n)},mouseOverOverlayUid:e})}},{key:"isEditable",value:function(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}},{key:"isViewHeaderDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}},{key:"iterateOverViews",value:function(){var e=[];for(var t in(0,s.default)(this.state.views))e.push(t);return e}},{key:"iterateOverTracksInView",value:function(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,u=(0,l.default)(n[r]);!(i=(s=u.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var f=!0,h=!1,d=void 0;try{for(var p,m=(0,l.default)(c.contents);!(f=(p=m.next()).done);f=!0){var g=p.value;t.push({viewId:e,trackId:g.uid,track:g})}}catch(v){h=!0,d=v}finally{try{!f&&m.return&&m.return()}finally{if(h)throw d}}}else t.push({viewId:e,trackId:c.uid,track:c})}}catch(v){o=!0,a=v}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}return t}},{key:"iterateOverTracks",value:function(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,u=(0,l.default)(n[r]);!(i=(s=u.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var f=!0,h=!1,d=void 0;try{for(var p,m=(0,l.default)(c.contents);!(f=(p=m.next()).done);f=!0){var g=p.value;e.push({viewId:t,trackId:g.uid,track:g})}}catch(v){h=!0,d=v}finally{try{!f&&m.return&&m.return()}finally{if(h)throw d}}}else e.push({viewId:t,trackId:c.uid,track:c})}}catch(v){o=!0,a=v}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}return e}},{key:"setMouseTool",value:function(e){this.setState({mouseTool:e})}},{key:"isValueScaleLocked",value:function(e,t){var n=this.combineViewAndTrackUid(e,t);return!!this.state.views[e]&&!!this.valueScaleLocks[n]}},{key:"getLockGroupExtrema",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(!this.state.views[e])return null;if(!this.valueScaleLocks[r])return null;var i=this.valueScaleLocks[r],o=(0,c.default)(i).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.minVisibleValue(!0):e.minVisibleValueInTiles(!0)})),l=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.maxVisibleValue(!0):e.maxVisibleValueInTiles(!0)}));return 0===s.length||s.filter((function(e){return null===e||e===1/0})).length>0||0===l.length||l.filter((function(e){return null===e||e===-1/0})).length>0?null:[Math.min.apply(Math,(0,a.default)(s)),Math.max.apply(Math,(0,a.default)(l))]}},{key:"syncValueScales",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(this.state.views[e]){var i=(0,W.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r],a=(0,c.default)(o).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=this.getLockGroupExtrema(e,t);if(null===s)return;var u=s[0],f=s[1],h=!0,d=!1,p=void 0;try{for(var m,g=(0,l.default)(a);!(h=(m=g.next()).done);h=!0){var v=m.value;if(v.minValue&&v.minValue(u),v.maxValue&&v.maxValue(f),v.valueScale){var y=Math.abs(v.minValue()-v.valueScale.domain()[0])>1e-6||Math.abs(v.maxValue()-v.valueScale.domain()[1])>1e-6,b=i.options&&v.options&&void 0!==i.options.scaleStartPercent&&void 0!==i.options.scaleEndPercent&&(Math.abs(v.options.scaleStartPercent-i.options.scaleStartPercent)>1e-6||Math.abs(v.options.scaleEndPercent-i.options.scaleEndPercent)>1e-6);(!v.continuousScaling||y||b)&&(v.valueScale.domain([u,f]),v.prevValueScale=v.valueScale.copy(),b&&(v.options.scaleStartPercent=i.options.scaleStartPercent,v.options.scaleEndPercent=i.options.scaleEndPercent),v.rerender(v.options,!0))}}}catch(_){d=!0,p=_}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}}}}},{key:"handleNewTilesLoaded",value:function(e,t){this.animate()}},{key:"notifyDragChangedListeners",value:function(e){(0,W.dictValues)(this.draggingChangedListeners).forEach((function(t){(0,W.dictValues)(t).forEach((function(t){return t(e)}))}))}},{key:"addDraggingChangedListener",value:function(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}},{key:"removeDraggingChangedListener",value:function(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}},{key:"addScalesChangedListener",value:function(e,t,n){this.scalesChangedListeners[e]||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}},{key:"removeScalesChangedListener",value:function(e,t){if(this.scalesChangedListeners[e]){var n=this.scalesChangedListeners[e];n[t]&&delete n[t]}}},{key:"createSVG",value:function(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,l.default)((0,W.dictValues)(this.tiledPlots));!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,u=!1,c=void 0;try{for(var f,h=(0,l.default)((0,W.dictValues)(a.trackRenderer.trackDefObjects));!(s=(f=h.next()).done);s=!0){var d=f.value;if(d.trackObject.exportSVG){var p=d.trackObject.exportSVG();p&&e.appendChild(p[0])}}}catch(m){u=!0,c=m}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}}}}catch(m){n=!0,r=m}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e.setAttribute("width",this.canvasElement.style.width),e.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(e):e}},{key:"createSVGString",value:function(){var e=this.createSVG(),t=P.default.xml((new window.XMLSerializer).serializeToString(e));return t=(t=(t=(t=t.replace(/<a0:/g,"<")).replace(/<\/a0:/g,"</")).replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1")).replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+String(t)}},{key:"handleExportSVG",value:function(){(0,W.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(e){this.postCreateSVGCallback=e}},{key:"createPNGBlobPromise",value:function(){var e=this;return new o.default((function(t){var n=e.createSVGString(),r=new Image(e.canvasElement.width,e.canvasElement.height);r.src="data:image/svg+xml;base64,"+String(btoa(n)),r.onload=function(){var n=document.createElement("canvas");n.width=e.canvasElement.width/2,n.height=e.canvasElement.height/2,n.getContext("2d").drawImage(r,0,0),n.toBlob((function(e){t(e)}))}}))}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then((function(e){(0,W.download)("export.png",e)}))}},{key:"handleScalesChanged",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&e in this.scalesChangedListeners&&(0,W.dictValues)(this.scalesChangedListeners[e]).forEach((function(e){e(t,n)})),this.zoomLocks[e])for(var o=this.zoomLocks[e],a=(0,W.dictItems)(o),s=(0,W.scalesCenterAndK)(this.xScales[e],this.yScales[e]),l=(0,f.default)(s,3),u=(l[0],l[1],l[2]),c=function(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";if(n===e)return"continue";var s=(0,W.scalesCenterAndK)(r.xScales[n],r.yScales[n]),l=(0,f.default)(s,3),c=l[0],h=l[1],d=(l[2],i[2]/o[e][2]),p=u*d;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,p,!1),g=(0,f.default)(m,2),v=g[0],y=g[1];r.xScales[n]=v,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,W.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(v,y)}))},h=0;h<a.length;h++)c(h);if(this.locationLocks[e]){var d=this.locationLocks[e],p=(0,W.dictItems)(d),m=(0,W.scalesCenterAndK)(this.xScales[e],this.yScales[e]),g=(0,f.default)(m,3),v=g[0],y=g[1],b=(g[2],function(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,W.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3),s=(a[0],a[1],a[2]);if(n===e)return"continue";var l=i[0]-d[e][0],u=i[1]-d[e][1],c=v+l,h=y+u;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,s,!1),g=(0,f.default)(m,2),b=g[0],_=g[1];r.xScales[n]=b,r.yScales[n]=_,r.scalesChangedListeners.hasOwnProperty(n)&&(0,W.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(b,_)}))});for(h=0;h<p.length;h++)b(h)}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(e){var t=this;this.setState({chooseTrackHandler:function(n,r){return t.handleViewportProjected(e,n,r)}})}},{key:"handleZoomToData",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].handleZoomToData():(0,c.default)(this.tiledPlots).forEach((function(e){return e.handleZoomToData()}))}},{key:"resetViewport",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].resetViewport():(0,c.default)(this.tiledPlots).forEach((function(e){return e.resetViewport()}))}},{key:"handleYankFunction",value:function(e,t){this.setState({chooseViewHandler:function(n){return t(e,n)},mouseOverOverlayUid:e})}},{key:"handleUnlock",value:function(e,t){var n=t[e],r=(0,W.dictKeys)(n);if(2===r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}},{key:"viewScalesLockData",value:function(e){return this.xScales[e]&&this.yScales[e]?(0,W.scalesCenterAndK)(this.xScales[e],this.yScales[e]):(console.warn("View scale lock doesn't correspond to existing uid: ",e),null)}},{key:"addLock",value:function(e,t,n,r){var i,o=this,a=[];a=n[e]?(0,W.dictItems)(n[e]).filter((function(e){return r(e[0])})).map((function(e){return[e[0],r(e[0])]})):[[e,r.bind(this)(e)]],i=n[t]?(0,W.dictItems)(n[t]).filter((function(e){return r.bind(o)(e[0])})).map((function(e){return[e[0],r.bind(o)(e[0])]})):[[t,r.bind(this)(t)]];var s=a.concat(i),l=(0,W.dictFromTuples)(s);s.forEach((function(e){n[e[0]]=l}))}},{key:"handleLocationLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(e,t,n){var r=null;if(e===t)console.warn("A view can not show its own viewport.");else{var i=(0,W.getTrackByUid)(this.state.views[t].tracks,n),o=(0,W.getTrackPositionByUid)(this.state.views[t].tracks,n),a={uid:r=S.default.nice(),type:"viewport-projection-"+String({top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]),fromViewUid:e};this.addCallbacks(t,a),this.handleTrackAdded(t,a,o,i)}return this.setState({chooseTrackHandler:null}),r}},{key:"handleLocationYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,W.scalesCenterAndK)(i,o),s=(0,f.default)(a,3),l=(s[0],s[1],s[2]),u=(0,W.scalesCenterAndK)(n,r),c=(0,f.default)(u,3),h=c[0],d=c[1];c[2],this.setCenters[e](h,d,l,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,W.scalesCenterAndK)(i,o),s=(0,f.default)(a,3),l=s[0],u=s[1],c=(s[2],(0,W.scalesCenterAndK)(n,r)),h=(0,f.default)(c,3),d=(h[0],h[1],h[2]);this.setCenters[e](l,u,d,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}},{key:"updateRowHeight",value:function(){if(this.props.options&&"bounded"===this.sizeMode&&!this.props.options.pixelPreciseMarginPadding){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,l.default)((0,W.dictValues)(this.state.views));!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(f){r=!0,i=f}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var u=(e-((this.isEditable()?10:0)*t-1))/t,c=Math.floor(u);this.setState({rowHeight:c})}}},{key:"handleLayoutChange",value:function(e){var t=this;this.element&&(e.forEach((function(e){var n=t.state.views[e.i];n&&(n.layout.x=e.x,n.layout.y=e.y,n.layout.w=e.w,n.layout.h=e.h,n.layout.i=e.i)})),this.updateRowHeight(),this.refreshView(Y.LONG_DRAG_TIMEOUT))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(e){return Y.TRACKS_INFO_BY_TYPE[e]?Y.TRACKS_INFO_BY_TYPE[e]:this.pluginTracks&&this.pluginTracks[e]?this.pluginTracks[e].config:window.higlassTracksByType&&window.higlassTracksByType[e]?window.higlassTracksByType[e].config:void console.warn("Track type not found:",e,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),t)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),Y.LONG_DRAG_TIMEOUT)}},{key:"resizeHandler",value:function(){(0,W.objVals)(this.viewHeaders).filter((function(e){return e})).forEach((function(e){return e.checkWidth()}))}},{key:"calculateViewDimensions",value:function(e){var t=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,n=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,r=0;if(r+=10,e.tracks.top)for(var i=0;i<e.tracks.top.length;i++){var o=e.tracks.top[i];t+=o.height?o.height:20,r+=o.height?o.height:20}if(e.tracks.bottom)for(var a=0;a<e.tracks.bottom.length;a++){var s=e.tracks.bottom[a];t+=s.height?s.height:20,r+=s.height?s.height:20}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(r+=20);var u=0;if(e.tracks.left)for(var c=0;c<e.tracks.left.length;c++){var f=e.tracks.left[c],h=f.height?f.height:100;n+=f.width?f.width:0,u=Math.max(u,h)}var d=0;if(e.tracks.right)for(var p=0;p<e.tracks.right.length;p++){var m=e.tracks.right[p],g=m.height?m.height:100;n+=m.width?m.width:0,d=Math.max(d,g)}var v=Math.max(u,d),y=0,b=0;if(e.tracks.center&&(0,W.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var _=null,E=null;if(e.tracks.center[0].contents){var w=!0,x=!1,T=void 0;try{for(var S,k=(0,l.default)(e.tracks.center[0].contents);!(w=(S=k.next()).done);w=!0){var O=S.value;_=Math.max(_,O.height?O.height:100),E=Math.max(E,O.width?O.width:100)}}catch(R){x=!0,T=R}finally{try{!w&&k.return&&k.return()}finally{if(x)throw T}}}else _=e.tracks.center[0].height?e.tracks.center[0].height:100,E=e.tracks.center[0].width?e.tracks.center[0].width:100;t+=_,n+=E}}else(e.tracks.top&&(0,W.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,W.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,W.dictValues)(e.tracks.left).length||e.tracks.right&&(0,W.dictValues)(e.tracks.right).length)&&(b=100,y=100);t+=v>y?v:y;var A=0,C=0,P=0,M=0;return"top"in e.tracks&&(A=e.tracks.top.map((function(e){return e.height?e.height:20})).reduce((function(e,t){return e+t}),0)),"bottom"in e.tracks&&(C=e.tracks.bottom.map((function(e){return e.height?e.height:20})).reduce((function(e,t){return e+t}),0)),"left"in e.tracks&&(P=e.tracks.left.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),"right"in e.tracks&&(M=e.tracks.right.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),{totalWidth:n,totalHeight:t,topHeight:A,bottomHeight:C,leftWidth:P,rightWidth:M,centerWidth:b,centerHeight:y,minNecessaryHeight:r}}},{key:"calculateZoomLimits",value:function(e,t){var n=[0,1/0],r=e.zoomLimits||[1,null],i=t[1]-t[0];if(2!==r.length)return n;if(null!==r[0]&&r[0]>0){var o=i/r[0];n[1]=Math.max(o,1),o<1&&console.warn("Invalid zoom limits. Lower limit set to "+i)}if(null!==r[1]&&r[1]>r[0]){var a=i/r[1];n[0]=Math.min(a,1),a>1&&console.warn("Invalid zoom limits. Upper limit set to "+i)}return n}},{key:"generateViewLayout",value:function(e){return"layout"in e?e.layout.layout:{x:0,y:0,w:12,h:12}}},{key:"handleClearView",value:function(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],t[e].tracks.whole=[],this.setState({views:t})}},{key:"handleCloseView",value:function(e){var t=this;1!==(0,W.dictValues)(this.state.views).length&&(this.handleUnlock(e,this.zoomLocks),this.setState((function(n){return delete n.views[e],{views:t.removeInvalidTracks(n.views)}})))}},{key:"handleSeriesAdded",value:function(e,t,n,r){var i=this.state.views[e].tracks;if("combined"===r.type)r.contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,r);else for(var o={type:"combined",uid:S.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid===r.uid&&(a[s]=o);this.setState((function(e){return{views:e.views}}))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,u=(0,l.default)(t);!(i=(s=u.next()).done);i=!0){var c=s.value;this.handleTrackAdded(e,c,n,r)}}catch(f){o=!0,a=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}},{key:"handleChangeTrackType",value:function(e,t,n){var r=this.state.views[e],i=(0,W.getTrackByUid)(r.tracks,t),o=i.uid;i.uid=S.default.nice(),i.type=n;var a=i.uid;this.updateTrackLocks(e,o,a),this.setState((function(e){return{views:e.views}}))}},{key:"handleChangeTrackData",value:function(e,t,n){var r=this.state.views[e],i=(0,W.getTrackByUid)(r.tracks,t);i.uid=S.default.nice(),i.data=n,this.setState((function(e){return{views:e.views}}))}},{key:"handleTrackAdded",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultTrackOptions(t),t.uid||(t.uid=S.default.nice()),t.contents){var i=!0,o=!1,a=void 0;try{for(var u,c=(0,l.default)(t.contents);!(i=(u=c.next()).done);i=!0){var f=u.value;this.addDefaultTrackOptions(f)}}catch(v){o=!0,a=v}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(e,t,n,r),null;t.position=n;var h=this.getTrackInfo(t.type);t.width=h.defaultWidth||h.defaultOptions&&h.defaultOptions.minWidth||this.minVerticalWidth,t.height=h.defaultHeight||h.defaultOptions&&h.defaultOptions.minHeight||this.minHorizontalHeight;var d=this.state.views[e].tracks,p=0;if((0,W.visitPositionedTracks)(d,(function(){return p++})),"left"===n||"top"===n)d[n].unshift(t);else if("center"===n)if(0===d.center.length){var m={uid:S.default.nice(),type:"combined",contents:[t]};d.center=[m]}else if("combined"===d.center[0].type)d.center[0].contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,d.center[0]);else{var g={uid:S.default.nice(),type:"combined",contents:[d.center[0],t]};d.center=[g],"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,g)}else d[n]||(d[n]=[]),d[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),1===(0,s.default)(this.state.views).length&&0===p&&(this.handleZoomToData(e),this.zoomToDataExtentOnInit.add(e)),t}},{key:"compatibilityfyStackedHeatmaps",value:function(e,t){var n=void 0;t.contents.some((function(e){return n=e,"heatmap"===e.type}))&&(e.options.backgroundColor="transparent",e.options.showTooltip=n.options.showTooltip,e.options.showMousePosition=n.options.showMousePosition,e.options.mousePositionColor=n.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(e){var t=this;(0,W.visitPositionedTracks)(this.state.views[e].tracks,(function(n){var r=t.tiledPlots[e].trackRenderer.getTrackObject(n.uid);if(r){var i=(0,f.default)(r.dimensions,2);n.width=i[0],n.height=i[1]}}))}},{key:"adjustLayoutToTrackSizes",value:function(e){if(e.layout){var t=0;this.isEditable()&&(t+=20),t+=this.calculateViewDimensions(e).totalHeight;var n=this.isEditable()?10:0;t+=n;var r=this.state.rowHeight+n;"bounded"!==this.sizeMode&&(e.layout.h=Math.ceil(t/r))}}},{key:"handleCloseTrack",value:function(e,t){var n=this.state.views[e].tracks;for(var r in this.handleUnlockValueScale(e,t),n){var i=n[r],o=i.filter((function(e){return e.uid!==t}));o.length===i.length?o.filter((function(e){return"combined"===e.type})).forEach((function(e){e.contents=e.contents.filter((function(e){return e.uid!==t}))})):n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState((function(e){return{views:e.views}})),this.state.views}},{key:"handleLockValueScale",value:function(e,t){var n=this;this.setState({chooseTrackHandler:function(r,i){return n.handleValueScaleLocked(e,t,r,i)}})}},{key:"combineViewAndTrackUid",value:function(e,t){var n=String(e)+"."+String(t);if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}},{key:"updateTrackLocks",value:function(e,t,n){var r=this.combineViewAndTrackUid(e,t),i=this.combineViewAndTrackUid(e,n);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r];this.valueScaleLocks[i]=o,delete this.valueScaleLocks[r]}for(var a in this.valueScaleLocks)if(this.valueScaleLocks[a][r]){var s=this.valueScaleLocks[a][r];this.valueScaleLocks[a][i]=s,s.track=n,delete this.valueScaleLocks[a][r]}}},{key:"handleUnlockValueScale",value:function(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,W.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=(0,l.default)(n);!(r=(a=s.next()).done);r=!0){var u=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,u),this.valueScaleLocks)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,W.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,u=void 0;try{for(var c,f=(0,l.default)(o);!(a=(c=f.next()).done);a=!0){var h=c.value;this.handleValueScaleLocked(e,h,n,r)}}catch(w){s=!0,u=w}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var d=(0,W.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),p=!0,m=!1,g=void 0;try{for(var v,y=(0,l.default)(d);!(p=(v=y.next()).done);p=!0){var b=v.value;this.handleValueScaleLocked(e,t,n,b)}}catch(w){m=!0,g=w}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}}else{var _=this.combineViewAndTrackUid(e,t),E=this.combineViewAndTrackUid(n,r);this.addLock(_,E,this.valueScaleLocks,(function(e){return i.combinedUidToViewTrack[e]})),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}},{key:"addCallbacks",value:function(e,t){var n=this,r=this.getTrackInfo(t.type);if("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type||"viewport-projection-vertical"===t.type||r&&r.projection){var i=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(i,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(i,e)},t.setDomainsCallback=function(r,o){if(!i)return n.projectionXDomains[e]||(n.projectionXDomains[e]={}),n.projectionYDomains[e]||(n.projectionYDomains[e]={}),"viewport-projection-horizontal"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionXDomains[e][t.uid]=r),"viewport-projection-vertical"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionYDomains[e][t.uid]=o),void n.triggerViewChangeDb();var a=(0,T.scaleLinear)().domain(r).range(n.xScales[i].range()),s=(0,T.scaleLinear)().domain(o).range(n.yScales[i].range()),l=(0,W.scalesCenterAndK)(a,s),u=(0,f.default)(l,3),c=u[0],h=u[1],d=u[2];n.setCenters[i](c,h,d,!1);var p=!1,m=!1;e in n.zoomLocks&&(p=i in n.zoomLocks[e]),p&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(m=i in n.locationLocks[e]),m&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(i,a,s,!0),p&&n.addLock(e,i,n.zoomLocks,n.viewScalesLockData),m&&n.addLock(e,i,n.locationLocks,n.viewScalesLockData)}}}},{key:"validateLocks",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,l.default)((0,W.dictKeys)(e));!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&e[s][s]||t.push(s)}}catch(m){r=!0,i=m}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var u=!0,c=!1,f=void 0;try{for(var h,d=(0,l.default)(t);!(u=(h=d.next()).done);u=!0){var p=h.value;e[p]&&(console.warn("View "+String(p)+" not present in lock group. Removing..."),this.handleUnlock(p,e),delete e[p])}}catch(m){c=!0,f=m}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}}},{key:"deserializeLocationLocks",value:function(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,l.default)((0,W.dictKeys)(e.locationLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.locationLocks[a]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,l.default)((0,W.dictKeys)(e.zoomLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(e){if(this.valueScaleLocks={},e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,l.default)((0,W.dictKeys)(e.valueScaleLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"serializeLocks",value:function(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,l.default)((0,W.dictKeys)(e));!(r=(a=s.next()).done);r=!0){var u=a.value,c=e[u]&&e[u].uid;c||(c=S.default.nice()),e[u].uid=c,t[c]=e[u],n[u]=e[u].uid}}catch(f){i=!0,o=f}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}},{key:"getViewsAsJson",value:function(){var e=this,t=JSON.parse((0,u.default)(this.state.viewConfig));return t.views=(0,c.default)(this.state.views).map((function(t){var n=JSON.parse((0,u.default)(t));return(0,W.visitPositionedTracks)(n.tracks,(function(n){if(n.server){var r=(0,M.default)(n.server,{});if(!r.hostname.length){var i=window.location.host,o=window.location.protocol,a=String(o)+"//"+String(i)+String(r.pathname);n.server=a}}("viewport-projection-center"===n.type||"viewport-projection-horizontal"===n.type)&&e.projectionXDomains[t.uid]&&e.projectionXDomains[t.uid][n.uid]&&(n.projectionXDomain=e.projectionXDomains[t.uid][n.uid]),("viewport-projection-center"===n.type||"viewport-projection-vertical"===n.type)&&e.projectionYDomains[t.uid]&&e.projectionYDomains[t.uid][n.uid]&&(n.projectionYDomain=e.projectionYDomains[t.uid][n.uid]),delete n.name,delete n.position,delete n.header,delete n.description,delete n.created,delete n.project,delete n.project_name,delete n.serverUidKey,delete n.uuid,delete n.private,delete n.maxZoom,delete n.coordSystem,delete n.coordSystem2,delete n.datatype,delete n.maxWidth,delete n.datafile,delete n.binsPerDimension,delete n.resolutions,delete n.aggregationModes})),n.uid=t.uid,n.initialXDomain=e.xScales[t.uid].domain(),n.initialYDomain=e.yScales[t.uid].domain(),delete n.layout.i,n})),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),t}},{key:"getViewsAsString",value:function(){return(0,u.default)(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){var e=this.getViewsAsString();(0,W.download)("viewconf.json",e)}},{key:"handleExportViewsAsLink",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewConfig.exportViewUrl,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new URL(t,window.location.origin),i=fetch(t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then((function(e){if(!e.ok)throw e;return e.json()})).catch((function(e){console.warn("err:",e)})).then((function(e){return{id:e.uid,url:String(r.origin)+"/l/?d="+String(e.uid)}}));return n||i.then((function(t){e.openModal(E.default.createElement(L.default,{onDone:function(){e.closeModalBound()},url:t.url}))})).catch((function(e){return console.error("Exporting view config as link failed:",e)})),i}},{key:"handleDataDomainChanged",value:function(e,t,n){var r=this.state.views;if(r[e].initialXDomain=t,r[e].initialYDomain=n,this.xScales[e]=(0,T.scaleLinear)().domain(t),this.yScales[e]=(0,T.scaleLinear)().domain(n),this.zoomLocks[e])for(var i=this.zoomLocks[e],o=(0,W.dictItems)(i),a=0;a<o.length;a++){var s=o[a][0];s in this.locationLocks&&(r[s].initialXDomain=t,r[s].initialYDomain=n,this.xScales[s]=(0,T.scaleLinear)().domain(t),this.yScales[s]=(0,T.scaleLinear)().domain(n))}this.setState({views:r})}},{key:"viewPositionAvailable",value:function(e,t,n,r){var i=e+n,o=t+r;if(e+n>12)return!1;for(var a=(0,W.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,f=u+a[s].layout.h;if(e<c&&i>l&&t<f&&o>u)return!1}return!0}},{key:"handleAddView",value:function(e){var t=this,n=(0,W.dictValues)(this.state.views),r=e,i=[];12===e.layout.w&&(e.layout.w=6);for(var o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort((function(e,t){var n=e[1]-t[1];return 0===n?e[0]-t[0]:n}));var l=(0,u.default)(r),c=JSON.parse(l);c.initialXDomain=this.xScales[c.uid].domain(),c.initialYDomain=this.yScales[c.uid].domain();var h=(0,f.default)(i[0],2);c.layout.x=h[0],c.layout.y=h[1],c.uid=S.default.nice(),c.layout.i=c.uid,(0,W.visitPositionedTracks)(c.tracks,(function(e){t.addCallbacks(c.uid,e)})),this.setState((function(e){var t=JSON.parse((0,u.default)(e.views));return t[c.uid]=c,{views:t}}))}},{key:"handleSelectedAssemblyChanged",value:function(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}},{key:"createGenomePostionSearchBoxEntry",value:function(e,t){var n=e,r={autocompleteServer:Y.DEFAULT_SERVER,chromInfoServer:Y.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse((0,u.default)(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}},{key:"handleTogglePositionSearchBox",value:function(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n={};(0,W.visitPositionedTracks)(t.tracks,(function(e){e.coordSystem&&(n[e.coordSystem]||(n[e.coordSystem]=0),n[e.coordSystem]+=1)}));var r=(0,W.dictItems)(n).sort((function(e,t){return t[1]-e[1]})),i="hg19";r.length&&(i=r[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,i),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(e,t,n){var r=this.state.views[e],i=(0,W.getTrackByUid)(r.tracks,t);i&&(i.options=(0,d.default)(i.options,n),this.mounted&&(this.setState((function(e){return{views:e.views}})),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,e)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(e,t,n,r){var i=this;"heatmap"===e.type&&("upper-right"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"lower-left"!==n.options.extent){var o=(0,d.default)({},n.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),a=(0,d.default)({},t,{labelPosition:"topRight",colorbarPosition:"topRight"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})),"lower-left"===t.extent&&"lower-left"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"upper-right"!==n.options.extent){var o=(0,d.default)({},n.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),a=(0,d.default)({},t,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})))}},{key:"handleViewOptionsChanged",value:function(e,t){var n=this.state.views[e];n&&(n.options=(0,d.default)(n.options||{},t),this.mounted&&this.setState((function(e){return{views:e.views}})))}},{key:"isTrackValid",value:function(e,t){return!("viewport-projection-center"===e.type&&!t.has(e.fromViewUid))}},{key:"removeInvalidTracks",value:function(e){var t=this,n=new p.default((0,W.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,l.default)((0,W.dictValues)(e));!(r=(a=s.next()).done);r=!0)for(var u=a.value,c=["left","top","center","right","bottom"],f=0;f<c.length;f++){var h=c[f];u.tracks&&u.tracks.hasOwnProperty(h)&&(u.tracks[h]=u.tracks[h].filter((function(e){return t.isTrackValid(e,n)})),u.tracks[h].forEach((function(e){"combined"===e.type&&(e.contents=e.contents.filter((function(e){return t.isTrackValid(e,n)})))})))}}catch(d){i=!0,o=d}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}},{key:"processViewConfig",value:function(e){var t=this,n=e.views,r={};return e.views&&0!==e.views.length||(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach((function(e){e.tracks&&(0,W.fillInMinWidths)(e.tracks),e.uid||(e.uid=S.default.nice()),r[e.uid]=e,t.zoomToDataExtentOnInit.has(e.uid)&&t.zoomToDataExtentOnInit.delete(e.uid),e.initialXDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):(e.initialXDomain=[0,100],t.zoomToDataExtentOnInit.add(e.uid)),e.initialYDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):e.initialYDomain=[e.initialXDomain[0],e.initialXDomain[1]],t.xScales[e.uid]||(t.xScales[e.uid]=(0,T.scaleLinear)().domain(e.initialXDomain)),t.yScales[e.uid]||(t.yScales[e.uid]=(0,T.scaleLinear)().domain(e.initialYDomain)),(0,W.visitPositionedTracks)(e.tracks,(function(n){if(n.uid||(n.uid=S.default.nice()),t.addCallbacks(e.uid,n),t.addDefaultTrackOptions(n),n.contents){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,l.default)(n.contents);!(r=(a=s.next()).done);r=!0){var u=a.value;t.addDefaultTrackOptions(u)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})),e.layout?e.layout.i=e.uid:e.layout=t.generateViewLayout(e)})),this.deserializeZoomLocks(e),this.deserializeLocationLocks(e),this.deserializeValueScaleLocks(e),r=this.removeInvalidTracks(r)}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(e){this.rangeSelection=e,this.apiPublish("rangeSelection",e)}},{key:"offViewChange",value:function(e){this.viewChangeListener.splice(e,1)}},{key:"onViewChange",value:function(e){return this.viewChangeListener.push(e)-1}},{key:"triggerViewChange",value:function(){var e=this;this.viewChangeListener.forEach((function(t){return t(e.getViewsAsString())}))}},{key:"getGenomeLocation",value:function(e){var t=this;return X.chromInfo.get(this.state.views[e].chromInfoPath).then((function(n){return(0,W.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)}))}},{key:"offLocationChange",value:function(e,t){this.removeScalesChangedListener(e,t)}},{key:"zoomTo",value:function(e,t,n,r,o,a){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,s.default)(this.setCenters).join(",")));if((0,i.default)(+t)||(0,i.default)(+n)){var l=[t,n].join(", ");console.warn(["Invalid coordinates ("+String(l)+"). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates)."].join(" "))}else{((0,i.default)(+r)||(0,i.default)(+o)||null===r||null===o)&&(r=t,o=n);var u=(0,W.scalesCenterAndK)(this.xScales[e].copy().domain([t,n]),this.yScales[e].copy().domain([r,o])),c=(0,f.default)(u,3),h=c[0],d=c[1],p=c[2];this.setCenters[e](h,d,p,!1,a)}}},{key:"zoomToGene",value:function(e,t,n){var r=this;if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,s.default)(this.setCenters).join(",")));this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId&&this.state.views[e].chromInfoPath?this.suggestGene(e,t,(function(i){if(i){var o=i.find((function(e){return e.geneName.toLowerCase()===t.toLowerCase()}));if(o){var a=o.chr,s=o.txStart,l=o.txEnd;(0,j.default)(r.state.views[e].chromInfoPath,(function(t){var i=t.chrToAbs([a,s]),o=t.chrToAbs([a,l]),u=(0,W.scalesCenterAndK)(r.xScales[e].copy().domain([i,o]),r.yScales[e].copy().domain([i,o])),c=(0,f.default)(u,3),h=c[0],d=c[1],p=c[2];r.setCenters[e](h,d,p,!1,n)}),r.pubSub)}else console.warn("Couldn't find the gene symbol: "+String(t))}})):console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API")}},{key:"suggestGene",value:function(e,t,n){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,s.default)(this.setCenters).join(",")));if(this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId){var r=this.state.views[e].genomePositionSearchBox.autocompleteServer,i=this.state.views[e].genomePositionSearchBox.autocompleteId,o=String(r)+"/suggest/?d="+String(i)+"&ac="+String(t.toLowerCase());X.tileProxy.json(o,W.toVoid,this.pubSub).then((function(e){n(e)})).catch((function(e){return console.error(e)}))}else console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API")}},{key:"onLocationChange",value:function(e,t,n){var r=(0,s.default)(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:e,callback:t,callbackId:n}),null;if(void 0===(e=void 0===e&&1===r.length?r[0]:e)||-1===r.indexOf(e))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",e),null;var i=this.state.views[e],o=1;return this.scalesChangedListeners[i.uid]&&(o=(0,s.default)(this.scalesChangedListeners[i.uid]).filter((function(e){return 0===e.indexOf(Y.LOCATION_LISTENER_PREFIX)})).map((function(e){return parseInt(e.slice(Y.LOCATION_LISTENER_PREFIX.length+1),10)})).reduce((function(e,t){return Math.max(e,t)}),0)+1),this.addScalesChangedListener(i.uid,String(Y.LOCATION_LISTENER_PREFIX)+"."+String(o),(function(e,n){t({xDomain:e.domain(),yDomain:n.domain(),xRange:e.range(),yRange:n.range()})})),n&&n(String(Y.LOCATION_LISTENER_PREFIX)+"."+String(o)),o}},{key:"getTiledPlotAtPosition",value:function(e,t){for(var n=void 0,r=(0,W.dictValues)(this.state.views),i=0;i<r.length;i++){var o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),s=a.top,l=a.left,u=s+a.height,c=l+a.width;if(e>=l&&e<=c&&t>=s&&t<=u){n=o;break}}return n}},{key:"mouseMoveHandler",value:function(e){if(this.topDiv&&!this.state.modal){var t=e.clientX,n=e.clientY,i=(0,x.clientPoint)(this.topDiv,e);i[1]+=this.scrollTop;var o=this.getTiledPlotAtPosition(t,n),a=o?o.listTracksAtPosition(i[0],i[1],!0).map((function(e){return e.originalTrack||e})):[],s=a.find((function(e){return!e.isAugmentationTrack})),l=s?[i[0]-s.position[0],i[1]-s.position[1]]:i,u=-1,c=-1;s&&(u=s.flipText?s._xScale.invert(l[1]):s._xScale.invert(l[0]),c=s.is2d?s._yScale.invert(l[1]):u);var f={x:i[0],y:i[1],relTrackX:s&&s.flipText?l[1]:l[0],relTrackY:s&&s.flipText?l[0]:l[1],dataX:u,dataY:c,isFrom2dTrack:!(!s||!s.is2d),isFromVerticalTrack:!(!s||!s.flipText),track:s,origEvt:e,sourceUid:this.uid,hoveredTracks:a,noHoveredTracks:0===a.length};if(this.pubSub.publish("app.mouseMove",f),this.isBroadcastMousePositionGlobally){var h=(0,r.default)({},f);h.origEvt=void 0,h.track=void 0,h.hoveredTracks=void 0,delete h.origEvt,delete h.track,delete h.hoveredTracks,R.globalPubSub.publish("higlass.mouseMove",h)}this.apiPublish("cursorLocation",{absX:t,absY:n,relX:f.x,relY:f.y,relTrackX:f.relTrackX,relTrackY:f.relTrackY,dataX:f.dataX,dataY:f.dataY,isFrom2dTrack:f.isFrom2dTrack,isFromVerticalTrack:f.isFromVerticalTrack}),this.showHoverMenu(f)}}},{key:"getMinMaxValue",value:function(e,t,n,r){var i=(0,W.getTrackObjById)(this.tiledPlots,e,t);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn("Track "+String(t)+" doesn't support the retrieval of min or max values.")}else console.warn("Track with ID: "+String(t)+" not found!")}},{key:"showHoverMenu",value:function(e){var t=e.track&&e.track.getMouseOverHtml?e.track.getMouseOverHtml(e.relTrackX,e.relTrackY):"";if(e.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=e.track,!this.zooming){var n=t&&t.length?[1]:[],r=(0,x.select)("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed(q.default["track-mouseover-menu"],!0),r=(0,x.select)("body").selectAll(".track-mouseover-menu");var i=(0,x.clientPoint)((0,x.select)("body").node(),e.origEvt),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",String(o[0])+"px").style("top",String(o[1])+"px"),r.node()){var a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(t)}}}},{key:"hideHoverMenu",value:function(){(0,x.select)("body").selectAll(".track-mouseover-menu").remove()}},{key:"appClickHandler",value:function(e){this.apiPublish("click",e)}},{key:"mouseMoveZoomHandler",value:function(e){this.apiPublish("mouseMoveZoom",e)}},{key:"geneSearchHandler",value:function(e){this.apiPublish("geneSearch",e)}},{key:"mouseDownHandler",value:function(e){}},{key:"onScrollHandler",value:function(){"scroll"===this.props.options.sizeMode&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(e,t,n,r){var i=(0,W.getTrackObjById)(this.tiledPlots,e,t);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn("Could't find track: "+String(t))}},{key:"setChromInfo",value:function(e,t){var n=this;(0,j.default)(e,(function(e){n.chromInfo=e,t()}),this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(e){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||"scroll"===this.props.options.sizeMode||e&&e.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(e){var t=this.state.views[e.viewId];if(t){var n=(0,W.getTrackByUid)(t.tracks,e.trackId);n&&(void 0!==e.height&&(n.height=e.height),void 0!==e.width&&(n.width=e.width),this.adjustLayoutToTrackSizes(t),this.setState((function(e){return{views:e.views}})))}}},{key:"wheelHandler",value:function(e){if(!this.state.modal&&"scroll"!==this.props.options.sizeMode){var t=e.nativeEvent||e,n=e.target===this.canvasElement;if((0,W.hasParent)(t.target,this.topDiv)&&!this.isZoomFixed()){var r=t.clientX,i=t.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var a=(0,x.clientPoint)(this.topDiv,t);a[1]+=this.scrollTop;var s=o?o.listTracksAtPosition(a[0],a[1],!0).map((function(e){return e.originalTrack||e})):[],l=s.find((function(e){return!e.isAugmentationTrack})),u=l?[a[0]-l.position[0],a[1]-l.position[1]]:a,c={x:a[0],y:a[1],relTrackX:l&&l.flipText?u[1]:u[0],relTrackY:l&&l.flipText?u[0]:u[1],track:l,origEvt:t,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:0===s.length};this.apiPublish("wheel",c)}if(t.forwarded||n)return e.stopPropagation(),void e.preventDefault();if(e.preventDefault(),o){var f=o.trackRenderer;t.forwarded=!0,t&&((0,W.forwardEvent)(t,f.eventTracker),t.preventDefault())}}}}},{key:"render",value:function(){var e=this;this.tiledAreasDivs={},this.tiledAreas=E.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,W.dictValues)(this.state.views).map((function(t){var n=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,r=null;if(e.state.chooseViewHandler){var i="transparent";e.state.mouseOverOverlayUid===t.uid&&(i="green"),r=E.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){return e.state.chooseViewHandler(t.uid)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.uid)},onMouseMove:function(){return e.handleOverlayMouseEnter(t.uid)},style:{position:"absolute",width:"100%",height:"100%",background:i,opacity:.3,zIndex:1}})}var o=E.default.createElement(D.default,{key:"tp"+String(t.uid),ref:function(n){e.tiledPlots[t.uid]=n},addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:n,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,disableTrackMenu:e.isTrackMenuDisabled(),draggingHappening:e.state.draggingHappening,editable:e.isEditable(),getLockGroupExtrema:function(n){return e.getLockGroupExtrema(t.uid,n)},initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,isShowGlobalMousePosition:e.isShowGlobalMousePosition,isValueScaleLocked:function(n){return e.isValueScaleLocked(t.uid,n)},marginBottom:e.viewMarginBottom,marginLeft:e.viewMarginLeft,marginRight:e.viewMarginRight,marginTop:e.viewMarginTop,metaTracks:t.metaTracks,mouseTool:e.state.mouseTool,onChangeTrackData:function(n,r){return e.handleChangeTrackData(t.uid,n,r)},onChangeTrackType:function(n,r){return e.handleChangeTrackType(t.uid,n,r)},onCloseTrack:function(n){return e.handleCloseTrack(t.uid,n)},onDataDomainChanged:function(n,r){return e.handleDataDomainChanged(t.uid,n,r)},onLockValueScale:function(n){return e.handleLockValueScale(t.uid,n)},onMouseMoveZoom:e.mouseMoveZoomHandler.bind(e),onNewTilesLoaded:function(n){return e.handleNewTilesLoaded(t.uid,n)},onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onResizeTrack:e.triggerViewChangeDb,onScalesChanged:function(n,r){return e.handleScalesChanged(t.uid,n,r)},onTrackOptionsChanged:function(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)},onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)},onUnlockValueScale:function(n){return e.handleUnlockValueScale(t.uid,n)},onValueScaleChanged:function(n){return e.syncValueScales(t.uid,n)},overlays:t.overlays,paddingBottom:e.viewPaddingBottom,paddingLeft:e.viewPaddingLeft,paddingRight:e.viewPaddingRight,paddingTop:e.viewPaddingTop,pixiRenderer:e.pixiRenderer,pixiStage:e.pixiStage,pluginDataFetchers:e.pluginDataFetchers,pluginTracks:e.pluginTracks,rangeSelection1dSize:e.state.rangeSelection1dSize,rangeSelectionToInt:e.state.rangeSelectionToInt,registerDraggingChangedListener:function(n){return e.addDraggingChangedListener(t.uid,t.uid,n)},removeDraggingChangedListener:function(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)},setCentersFunction:function(n){e.setCenters[t.uid]=n},svgElement:e.state.svgElement,tracks:t.tracks,trackSourceServers:e.state.viewConfig.trackSourceServers,uid:t.uid,verticalMargin:e.verticalMargin,viewOptions:t.options,xDomainLimits:t.xDomainLimits,yDomainLimits:t.yDomainLimits,zoomable:!e.isZoomFixed(t),zoomLimits:e.calculateZoomLimits(t,t.initialXDomain),zoomToDataExtentOnInit:function(){return e.zoomToDataExtentOnInit.has(t.uid)}}),a=!e.isEditable()||e.isViewHeaderDisabled()||e.state.viewConfig.hideHeader?null:E.default.createElement(F.default,{ref:function(n){e.viewHeaders[t.uid]=n},getGenomePositionSearchBox:function(n,r){return t.genomePositionSearchBox?E.default.createElement(N.default,{key:"gpsb"+String(t.uid),ref:function(n){e.genomePositionSearchBoxes[t.uid]=n},autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoPath:t.genomePositionSearchBox.chromInfoPath,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:t.genomePositionSearchBox.hideAvailableAssemblies,isFocused:n,onFocus:r,onGeneSearch:e.geneSearchHandler.bind(e),onSelectedAssemblyChanged:function(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)},registerViewportChangedListener:function(n){return e.addScalesChangedListener(t.uid,t.uid,n)},removeViewportChangedListener:function(){return e.removeScalesChangedListener(t.uid,t.uid)},setCenters:function(n,r,i,o){return e.setCenters[t.uid](n,r,i,!1,o)},trackSourceServers:e.state.viewConfig.trackSourceServers,twoD:!0}):null},isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,mouseTool:e.state.mouseTool,onAddView:function(){return e.handleAddView(t)},onClearView:function(){return e.handleClearView(t.uid)},onCloseView:function(){return e.handleCloseView(t.uid)},onEditViewConfig:e.handleEditViewConfigBound,onExportPNG:e.handleExportPNG.bind(e),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))},onLockZoom:function(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))},onLockZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(t){e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(n){return e.handleTrackPositionChosen(t.uid,n)},onUnlockLocation:function(t){return e.handleUnlock(t,e.locationLocks)},onUnlockZoom:function(t){return e.handleUnlock(t,e.zoomLocks)},onUnlockZoomAndLocation:function(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)},onViewOptionsChanged:function(n){return e.handleViewOptionsChanged(t.uid,n)},onYankLocation:function(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))},onYankZoom:function(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))},onYankZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)}))},onZoomToData:function(t){return e.handleZoomToData(t)},viewUid:t.uid});return E.default.createElement("div",{key:t.uid,ref:function(n){e.tiledAreasDivs[t.uid]=n},className:"HiGlass-module_tiled-area-22H1L"},a,o,r)})));var t=this.mounted?(0,c.default)(this.state.views).filter((function(e){return e.layout})).map((function(e){return e.layout})):[];t=JSON.parse((0,u.default)(t));var n=this.isEditable()?Y.DEFAULT_CONTAINER_PADDING_X:0,r=this.isEditable()?Y.DEFAULT_CONTAINER_PADDING_Y:0,i=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,o=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:r,a=E.default.createElement(A.default,{ref:function(t){e.gridLayout=t},cols:12,containerPadding:[i,o],draggableHandle:"."+String(K.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:t,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas),s="styles.higlass";this.theme===Y.THEME_DARK&&(s+=" styles.higlass-dark-theme"),"overflow"!==this.props.options.sizeMode&&"scroll"!==this.props.options.sizeMode||(s+=" styles.higlass-container-overflow");var l="";return"overflow"===this.props.options.sizeMode?l="styles.higlass-scroll-container-overflow":"scroll"===this.props.options.sizeMode&&(l="styles.higlass-scroll-container-scroll"),E.default.createElement("div",{key:this.uid,ref:function(t){e.topDiv=t},onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,_.default)(s,Q)},E.default.createElement(G.Provider,{value:this.pubSub},E.default.createElement(V.Provider,{value:this.modal},E.default.createElement($.Provider,{value:this.theme},this.state.modal,E.default.createElement("canvas",{key:this.uid,ref:function(t){e.canvasElement=t},className:"HiGlass-module_higlass-canvas-_mP9r"}),E.default.createElement("div",{ref:function(t){e.scrollContainer=t},onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,_.default)(l,Q)},E.default.createElement("div",{ref:function(t){e.divDrawingSurface=t},className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},a),E.default.createElement("svg",{ref:function(t){e.svgElement=t},style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}},{key:"sizeMode",get:function(){return void 0===this.props.options.sizeMode?this.props.options.bounded?"bounded":"default":this.props.options.sizeMode}}]),t}(E.default.Component);J.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},J.propTypes={getApi:w.default.func,options:w.default.object,viewConfig:w.default.oneOfType([w.default.string,w.default.object]).isRequired,zoomFixed:w.default.bool,compactLayout:w.default.bool},t.default=J},function(e,t,n){n(233),e.exports=n(12).Number.isNaN},function(e,t,n){var r=n(16);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){n(61),n(235),e.exports=n(12).Array.from},function(e,t,n){var r=n(49),i=n(16),o=n(54),a=n(165),s=n(166),l=n(88),u=n(236),c=n(111);i(i.S+i.F*!n(167)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,h=o(e),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(h);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(t=l(h.length));t>v;v++)u(n,v,g?m(h[v],v):h[v]);else for(f=y.call(h),n=new d;!(i=f.next()).done;v++)u(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){var r=n(32),i=n(66);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){n(239),e.exports=-9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){n(241),e.exports=9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
           * Determine if an object is a Buffer
           *
           * @author   Feross Aboukhadijeh <https://feross.org>
           * @license  MIT
           */e.exports=function(e){return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(62)),o=g(n(245)),a=g(n(246)),s=g(n(35)),l=g(n(3)),u=g(n(4)),c=g(n(27)),f=n(28),h=n(10),d=g(n(135)),p=g(n(136)),m=n(24);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t,n){(0,l.default)(this,e),this.tilesetInfoLoading=!0,t?(this.dataConfig=JSON.parse((0,s.default)(t)),this.uuid=c.default.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=t.children.map((function(t){return new e(t,n)})))):console.error("No dataconfig provided")}var t;return(0,u.default)(e,[{key:"registerFileUrl",value:(t=(0,a.default)(o.default.mark((function e(t){var n,r,i=t.server,a=t.url,l=t.filetype,u=t.coordSystem;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String((0,h.trimTrailingSlash)(i))+"/register_url/",r={fileurl:a,filetype:l,coordSystem:u},e.abrupt("return",fetch(n,{method:"POST",body:(0,s.default)(r),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"tilesetInfo",value:function(e){var t=this;return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then((function(e){return e.json()})).then((function(n){t.dataConfig.tilesetUid=n.uid,t.tilesetInfoAfterRegister(e)})).catch((function(e){console.error("Error registering url",e)})):new i.default((function(){t.tilesetInfoAfterRegister(e)}))}},{key:"tilesetInfoAfterRegister",value:function(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map((function(e){return new i.default((function(t){e.tilesetInfo(t)}))}));i.default.all(n).then((function(t){e(t[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?m.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(function(n){t.dataConfig.tilesetInfo=n[t.dataConfig.tilesetUid],e(n[t.dataConfig.tilesetUid],t.dataConfig.tilesetUid)}),(function(n){t.tilesetInfoLoading=!1,e({error:n})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}},{key:"fullTileId",value:function(e,t){return String(e)+"."+String(t)}},{key:"fetchTilesDebounced",value:function(e,t){var n=this;if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:t.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)})),options:n.dataConfig.options},n.pubSub,!0)})).then((function(r){for(var i=(0,h.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var s=n.fullTileId(i,t[a]);r[s].tilePositionId=t[a],o[t[a]]=r[s]}e(o)}));else{var r=this.dataConfig.children.map((function(e){return new i.default((function(n){e.fetchTilesDebounced(n,t)}),n.pubSub,!0)}));i.default.all(r).then((function(r){if("divided"===n.dataConfig.type){var i=n.makeDivided(r,t);e(i)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])}))}}},{key:"divideData",value:function(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0===t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(e,t,n,r){if(!r)return e.slice(t[1]*n,t[1]*(n+1));for(var i=new Array(t[1]),o=n;o<e.length;o+=t[0])i[Math.floor(o/t[0])]=e[o];return i}},{key:"fetchHorizontalSection",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],s=[],l=!0,u=!1,p=void 0;try{for(var g,v=(0,r.default)(t);!(l=(g=v.next()).done);l=!0){var y=g.value,b=y.split("."),_=+b[0],E=+b[1],w=(0,f.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),x=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var T=this.dataConfig.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));x=m.tileProxy.calculateTilesFromResolution(T[_],w,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0])}else x=m.tileProxy.calculateTiles(_,w,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var S=[E,x[0]].sort((function(e,t){return e-t}));S[0]===E?s.push(!1):s.push(!0);var k=_+"."+String(S[0])+"."+String(S[1]);a.push(k)}}catch(A){u=!0,p=A}finally{try{!l&&v.return&&v.return()}finally{if(u)throw p}}var O=new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:a.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)}))},n.pubSub,!0)}));O.then((function(r){for(var i=(0,h.dictValues)(r)[0].tilesetUid,o={},l=0;l<a.length;l++){var u=a[l].split("."),c=+u[0],f=+u[1],p=+u[2],g=m.tileProxy.calculateTileAndPosInTile(n.dataConfig.tilesetInfo,n.dataConfig.tilesetInfo.max_width,n.dataConfig.tilesetInfo.min_pos[1],c,+n.dataConfig.slicePos)[1],v=r[n.fullTileId(i,a[l])],y=null;if(f===p){y=n.extractDataSlice(v.dense,[256,256],g);for(var b=n.extractDataSlice(v.dense,[256,256],g,1),_=0;_<y.length;_++)y[_]+=b[_]}else y=s[l]?n.extractDataSlice(v.dense,[256,256],g,1):n.extractDataSlice(v.dense,[256,256],g);var E={min_value:Math.min.apply(null,y),max_value:Math.max.apply(null,y),denseDataExtrema:new d.default(y),minNonZero:(0,h.minNonZero)(y),maxNonZero:(0,h.maxNonZero)(y),dense:y,dtype:v.dtype,server:v.server,tilePos:s[l]?[p]:[f],tilePositionId:t[l],tilesetUid:i,zoomLevel:v.zoomLevel};o[t[l]]=E}e(o)}))}},{key:"makeDivided",value:function(e,t){e.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var n={},r=0;r<t.length;r++){var i=e[0][t[r]].zoomLevel,o=e[0][t[r]].tilePos,a={zoomLevel:i,tilePos:o,tilePositionId:t[r]};if(e[0][t[r]].dense&&e[1][t[r]].dense){var s=this.divideData(e[0][t[r]].dense,e[1][t[r]].dense);a={dense:s,denseDataExtrema:2===o.length?new p.default(s):new d.default(s),minNonZero:(0,h.minNonZero)(s),maxNonZero:(0,h.maxNonZero)(s),zoomLevel:i,tilePos:o,tilePositionId:t[r]}}n[t[r]]=a}return n}}]),e}();t.default=v},function(e,t,n){e.exports=n(597)},function(e,t,n){t.__esModule=!0;var r,i=(r=n(62))&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,n){return function r(o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}if(!s.done)return i.default.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}},function(e,t,n){e.exports={default:n(248),__esModule:!0}},function(e,t,n){n(249),e.exports=n(12).Math.log2},function(e,t,n){var r=n(16);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){e.exports={default:n(251),__esModule:!0}},function(e,t,n){n(252),e.exports=n(12).Number.isSafeInteger},function(e,t,n){var r=n(16),i=n(176),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initTile=t.drawTile=void 0;var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=c(n(133)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth;e.drawnAtScale=this._xScale.copy();var a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,e.text.scale.y=s;var l=this._xScale(o)-this._xScale(0);if(e.textGraphics.scale.x=l/256,e.textGraphics.scale.y=l/256,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),c=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=this._refYScale(r)+c/2,t.drawRect(this._refXScale(i),this._refYScale(r),u,c)}else{var f=this._refXScale(r+o)-this._refXScale(r),h=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+f/2,e.textGraphics.position.y=this._refYScale(i)+h/2,t.drawRect(this._refXScale(r),this._refYScale(i),f,h)}}}function h(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.mirrored?e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String([e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}t.drawTile=f,t.initTile=h;var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){h.bind(this)(e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){f.bind(this)(e)}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(l.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(25)),i=m(n(18)),o=m(n(38)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(14)),f=m(n(7)),h=n(28),d=m(n(79)),p=n(24);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.onMouseMoveZoom,o=e.isValueScaleLocked,l=e.getLockGroupExtrema;return r.onMouseMoveZoom=i,r.isValueScaleLocked=o,r.getLockGroupExtrema=l,r.onMouseMoveZoom&&r.pubSubs.push(r.pubSub.subscribe("app.mouseMove",r.mouseMoveHandler.bind(r))),r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo)if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e})),n=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}else{var r=p.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(r)}}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=t[0],i=t[0];if(this.tilesetInfo.resolutions){var o=n||1024,a=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],s=a*o,l=s;return{tileX:a*o*t[0],tileY:a*o*t[1],tileWidth:s,tileHeight:l}}var u=this.tilesetInfo.max_width,c=this.tilesetInfo.max_width,f=this.tilesetInfo.min_pos[0],h=this.tilesetInfo.min_pos[1],d=u/Math.pow(2,e),p=c/Math.pow(2,e);return{tileX:f+r*d,tileY:h+i*p,tileWidth:d,tileHeight:p}}},{key:"updateTile",value:function(e){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range();if(!this.tilesetInfo)return[null,null];var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,i=n.tileWidth,o=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+i]);return[Math.max(0,Math.round(o.invert(this._xScale.invert(t[0])))),Math.min(e.tileData.dense.length,Math.round(o.invert(this._xScale.invert(t[1]))))]}},{key:"minVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)})),a=Math.min.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMin?this.valueScaleMin:a}},{key:"maxVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)})),a=Math.max.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMax?this.valueScaleMax:a}},{key:"getAggregatedVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max",n="min"===t?Math.min:Math.max,o="min"===t?1/0:-1/0,a=this.visibleAndFetchedIds();0===a.length&&(a=(0,i.default)(this.fetchedTiles));var s=this._xScale.range();return a.map((function(t){return e.fetchedTiles[t]})).map((function(n){if(!n.tileData.tilePos)return"min"===t?e.minVisibleValue():e.maxVisibleValue();var r=e.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,e.tilesetInfo.bins_per_dimension||e.tilesetInfo.tile_size),i=r.tileX,o=r.tileWidth,a=(0,h.scaleLinear)().domain([0,e.tilesetInfo.tile_size||e.tilesetInfo.bins_per_dimension]).range([i,i+o]),l=Math.max(0,Math.round(a.invert(e._xScale.invert(s[0])))),u=Math.min(n.tileData.dense.length,Math.round(a.invert(e._xScale.invert(s[1]))));return n.tileData.dense.slice(l,u)})).reduce((function(e,t){return n.apply(void 0,[e].concat((0,r.default)(t)))}),o)}},{key:"getDataAtPos",value:function(e){if(this.tilesetInfo){var t=this.calculateZoomLevel(),n=p.tileProxy.calculateTileWidth(this.tilesetInfo,t,this.tilesetInfo.tile_size),r=this._xScale.invert(e)/n,i=this.tileToLocalId([t,Math.floor(r)]),o=this.fetchedTiles[i];if(o){var a=this.tilesetInfo.tile_size*(r-Math.floor(r));return o.tileData.dense?o.tileData.dense[Math.floor(a)]:null}}}},{key:"mouseMoveHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;this.isWithin(t,n)&&(this.mouseX=t,this.mouseY=n,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this)).call.apply(e,[this].concat(r)),this.mouseMoveZoomHandler()}}]),t}(d.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(17)),i=c(n(25)),o=c(n(18)),a=c(n(38)),s=c(n(3)),l=c(n(4)),u=c(n(27));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){var n=this,r=t.tracks,i=t.createTrackObject;(0,s.default)(this,e),this.childTracks=r.map(i),this.createdTracks={},this.uid=u.default.nice(),this.childTracks.forEach((function(e,t){n.createdTracks[r[t].uid]=e}));for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return(0,l.default)(e,[{key:"updateContents",value:function(e,t){var n=this,r=[],s=new a.default;e.forEach((function(e){if(s.add(e.uid),e.uid in n.createdTracks)r.push(n.createdTracks[e.uid]);else{var i=t(e);i.setPosition(n.position),i.setDimensions(n.dimensions),r.push(i),i.zoomed(n._xScale,n._yScale),n.createdTracks[e.uid]=i}})),this.childTracks=r;var l=new a.default((0,o.default)(this.createdTracks)),u=new a.default([].concat((0,i.default)(l)).filter((function(e){return!s.has(e)})));return[].concat((0,i.default)(u)).forEach((function(e){n.createdTracks[e].remove(),delete n.createdTracks[e]})),this}},{key:"setPosition",value:function(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}},{key:"setDimensions",value:function(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}},{key:"zoomed",value:function(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}},{key:"remove",value:function(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(this.childTracks);!(t=(o=a.next()).done);t=!0){var s=o.value;s.exportSVG&&e.appendChild(s.exportSVG()[0])}}catch(l){n=!0,i=l}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return[e,e]}},{key:"rerender",value:function(e){}},{key:"minValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.minValue})).map((function(e){return e.minValue()})).filter((function(e){return e}));return Math.min.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.minValue&&u.minValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"maxValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.maxValue})).map((function(e){return e.maxValue()})).filter((function(e){return e}));return Math.max.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.maxValue&&u.maxValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=(0,r.default)(this.childTracks);!(e=(i=o.next()).done);e=!0){var a=i.value;a.stopHover&&a.stopHover()}}catch(s){t=!0,n=s}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"getMouseOverHtml",value:function(e,t){var n="",i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.getMouseOverHtml){var c=u.getMouseOverHtml(e,t);c&&c.length&&(n+=c,n+="<br/>")}}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n}}]),e}();t.default=f},function(e,t,n){(function(e,r){var i=n(257),o=n(600);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function f(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function h(e){return new Uint8Array(f(e),0,e)}function d(e){return new Uint16Array(f(2*e),0,e)}function p(e){return new Uint32Array(f(4*e),0,e)}function m(e){return new Int8Array(f(e),0,e)}function g(e){return new Int16Array(f(2*e),0,e)}function v(e){return new Int32Array(f(4*e),0,e)}function y(e){return new Float32Array(f(4*e),0,e)}function b(e){return new Float64Array(f(8*e),0,e)}function _(e){return a?new Uint8ClampedArray(f(e),0,e):h(e)}function E(e){return new DataView(f(e),0,e)}function w(e){e=i.nextPow2(e);var t=i.log2(e),n=u[t];return n.length>0?n.pop():new r(e)}t.free=function(e){if(r.isBuffer(e))u[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);l[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){c(e.buffer)},t.freeArrayBuffer=c,t.freeBuffer=function(e){u[i.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return h(e);case"uint16":return d(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return g(e);case"int32":return v(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return _(e);case"buffer":return w(e);case"data":case"dataview":return E(e);default:return null}return null},t.mallocArrayBuffer=f,t.mallocUint8=h,t.mallocUint16=d,t.mallocUint32=p,t.mallocInt8=m,t.mallocInt16=g,t.mallocInt32=v,t.mallocFloat32=t.mallocFloat=y,t.mallocFloat64=t.mallocDouble=b,t.mallocUint8Clamped=_,t.mallocDataView=E,t.mallocBuffer=w,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,n(26),n(113).Buffer)},function(e,t,n){function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,1+((e|=e>>>8)|e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(37)),i=v(n(29)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),f=v(n(7)),h=n(28),d=n(157),p=v(n(115)),m=n(11),g=n(10);function v(e){return e&&e.__esModule?e:{default:e}}var y=(0,g.colorToHex)("#FFFFFF"),b=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));return o.zeroLine=new m.GLOBALS.PIXI.Graphics,o.pMain.addChild(o.zeroLine),o.valueScaleTransform=d.zoomIdentity,o.options&&o.options.colorRange&&(o.options.colorRangeGradient?o.setColorGradient(o.options.colorRange):o.setColorScale(o.options.colorRange)),o.initialized=!0,o}return(0,f.default)(t,e),(0,l.default)(t,[{key:"setColorScale",value:function(e){e&&(this.colorScale=(0,g.colorDomainToRgbaArray)(e),this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))})))}},{key:"setColorGradient",value:function(e){if(e){var t=e.length-1;this.colorGradientColors="bottom"===this.options.align?e.slice().reverse().map((function(e,n){return{from:n/t,color:e}})):e.map((function(e,n){return{from:n/t,color:e}}))}}},{key:"initTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"updateTile",value:function(e){e.valueScale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||this.renderTile(e)}},{key:"renderTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"renderTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics;e.svgData=void 0;var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),u=(0,o.default)(l,2),c=u[0],f=u[1];c.clamp(!0),this.valueScale=c;var d=c.copy();if(d.range([254,0]).clamp(!0),t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var p=(0,g.colorToHex)(this.options.lineStrokeColor||"blue"),v=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+a]);t.lineStyle(0,p,1);var b=this.options.barFillColor||"grey",_=(0,g.colorToHex)(b),E="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(_,E),e.drawnAtScale=this._xScale.copy();var w="top"===this.options.align,x=void 0,T=void 0,S=void 0,k=void 0,O=void 0,A=void 0;if(this.colorGradientColors){(O=new m.GLOBALS.PIXI.Graphics).beginFill(y,1);var C=(0,g.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);(A=new m.GLOBALS.PIXI.Sprite(m.GLOBALS.PIXI.Texture.fromCanvas(C,m.GLOBALS.PIXI.SCALE_MODES.NEAREST))).x=this._xScale(r),A.width=this._xScale(r+a)-A.x}for(var P=0;P<s.length;P++)if(x=this._xScale(v(P)),S=this.valueScale(s[P]+f),T=this._xScale(v(P+1))-x,k=this.dimensions[1]-S,w&&(S=0),!((0,i.default)(k)||k<0||S<0)){if(this.addSVGInfo(e,x,S,T,k,b),v(P)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var M=Math.round(d(s[P]+f)),R=this.colorScale[M],I=m.GLOBALS.PIXI.utils.rgb2hex(R);t.beginFill(I,E)}(O||t).drawRect(x,S,T,k)}this.colorGradientColors&&(A.mask=O,t.removeChildren(),t.addChild(A,O))}}}}},{key:"rerender",value:function(e,n){e&&e.colorRange&&(e.colorRangeGradient?this.setColorGradient(e.colorRange):this.setColorScale(e.colorRange)),(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();var e=(0,g.colorToHex)(this.options.barFillColor||"grey"),t=+this.options.barOpacity||1,n=this.options.zeroLineColor?(0,g.colorToHex)(this.options.zeroLineColor):e,r=(0,i.default)(+this.options.zeroLineOpacity)?t:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(e){var t=document.createElement("rect");t.setAttribute("id","zero-line"),t.setAttribute("x",0),t.setAttribute("y",this.dimensions[1]-1),t.setAttribute("height",1),t.setAttribute("width",this.dimensions[0]),t.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),t.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),e.appendChild(t)}},{key:"getXScaleAndOffset",value:function(e){var t=e.domain(),n=this._xScale.domain(),r=(t[1]-t[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(e)[0]*r]}},{key:"draw",value:function(){var e=this;this.initialized&&((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,r.default)(this.fetchedTiles).forEach((function(t){var n=e.getXScaleAndOffset(t.drawnAtScale),r=(0,o.default)(n,2),i=r[0],a=r[1];t.graphics.scale.x=i,t.graphics.position.x=a})))}},{key:"zoomed",value:function(e,n){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"movedY",value:function(e){}},{key:"zoomedY",value:function(e,t){}},{key:"addSVGInfo",value:function(e,t,n,r,i,o){e.svgData?(e.svgData.barXValues.push(t),e.svgData.barYValues.push(n),e.svgData.barWidths.push(r),e.svgData.barHeights.push(i),e.svgData.barColors.push(o)):e.svgData={barXValues:[t],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}},{key:"exportSVG",value:function(){var e=null,n=null,r=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"superSVG",this).call(this),i=(0,o.default)(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var s=document.createElement("g");e.appendChild(s),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(s),this.visibleAndFetchedTiles().filter((function(e){return e.svgData&&e.svgData.barXValues})).forEach((function(e){for(var t=e.svgData,n=0;n<t.barXValues.length;n++){var r=document.createElement("rect");r.setAttribute("fill",t.barColors[n]),r.setAttribute("stroke",t.barColors[n]),r.setAttribute("x",t.barXValues[n]),r.setAttribute("y",t.barYValues[n]),r.setAttribute("height",t.barHeights[n]),r.setAttribute("width",t.barWidths[n]),e.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),s.appendChild(r)}}));var l=document.createElement("g");if(l.setAttribute("id","axis"),n.appendChild(l),l.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var u=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);l.appendChild(u)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var f=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);l.appendChild(f)}return[n,e]}}]),t}(p.default);t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(19)),i=b(n(37)),o=b(n(17)),a=b(n(35)),s=b(n(5)),l=b(n(3)),u=b(n(4)),c=b(n(6)),f=b(n(14)),h=b(n(7)),d=b(n(178)),p=b(n(352)),m=n(11),g=b(n(137)),v=n(24),y=n(10);function b(e){return e&&e.__esModule?e:{default:e}}var _=(0,y.colorToHex)("#ffffff"),E=function(e,t,n){"filler"!==n.type&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:n})},w=function(e,t){var n=e.concat(t),r=n.map((function(e){return[e.xStart,1,e.xEnd,1]}));(0,d.default)(r,(function(e,t){var r=null,i=null;if("filler"===n[e].type?r=n[e]:i=n[e],"filler"===n[t].type){if(r)return;r=n[t]}else{if(!r)return;i=n[t]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function x(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);var a=[i(e.xStart)-0,u,i(e.xEnd)+0,u,i(e.xEnd)+0,u+l,i(e.xStart)-0,u+l,i(e.xStart)-0,u];r.interactive=!0,r.buttonMode=!0,r.mouseup=function(n){return E(n,t,e)},r.drawPolygon(a),n.allRects.push([a,e.strand,e])}))}function T(e,t,n,r,i,o,a,s,l){var u,c,f,h,d;u=t,c=n,f=o,h=a,d=s-l/2,e.forEach((function(e){var t=u._xScale(e.xStart),n=u._xScale(e.xEnd),r=new m.GLOBALS.PIXI.Graphics;c.rectGraphics.addChild(r),r.beginFill(f,h),r.interactive=!0,r.buttonMode=!0,r.mouseup=function(t){return E(t,u,e)};var i=u.geneRectHeight/2,o=[];if("+"===e.strand||"+"===e.fields[5]){var a=Math.max(t,n-i);o=[a,d,a+i,d+u.geneRectHeight/2,a,d+u.geneRectHeight]}else{var s=Math.min(n,t+i);o=[s,d,s-i,d+u.geneRectHeight/2,s,d+u.geneRectHeight]}r.drawPolygon(o),c.allRects.push([o,e.strand,e])})),function(e,t,n,r,i,o,a,s,l){e.forEach((function(e){var r=e.fields,i=+e.chrOffset,u=r[12],c=r[13],f=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(f),f.beginFill(o,a),f.interactive=!0,f.buttonMode=!0,f.mouseup=function(n){return E(n,t,e)},n.allRects=n.allRects.concat(function(e,t,n,r,i,o,a,s,l,u){var c=s-l/2,f=i.split(",").map((function(e){return+e+a})),h=o.split(",").map((function(e){return+e+a})),d=e._xScale(n),p=e._xScale(r),m=p-d,g=s,v=[],y=[d,g-1,d+m,g-1,d+m,g+1,d,g+1];t.drawPolygon(y),v.push(y);for(var b=2*l,_=Math.max(e.position[0],d)+b;_<Math.min(e.position[0]+e.dimensions[0],d+m);_+=b)y="+"===u?[_,g-20/3*2/3/2,_+20/3*2/3/2,g,_,g+20/3*2/3/2]:[_,g-20/3*2/3/2,_-20/3*2/3/2,g,_,g+20/3*2/3/2],v.push(y),t.drawPolygon(y);for(var E=0;E<f.length;E++){var w=f[E],x=h[E],T=e._xScale(w),S=Math.max(1,e._xScale(x)-e._xScale(w)),k=d,O=p,A=e.geneRectHeight/2,C=null;"+"===u?(O=p-A,C=[Math.min(T,O),c,Math.min(T+S,O),c,Math.min(T+S,O),c+l,Math.min(T,O),c+l,Math.min(T,O),c]):(k=d+A,C=[Math.max(T,k),c,Math.max(T+S,k),c,Math.max(T+S,k),c+l,Math.max(T,k),c+l,Math.max(T,k),c]),v.push(C),t.drawPolygon(C)}return v}(t,f,e.xStart,e.xEnd,u,c,i,s,l,e.strand||e.fields[5]).map((function(t){return[t,e.strand,e]})))}))}(e,t,n,0,0,o,a,s,l)}var S=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),i=e.animate;return r.animate=i,r.options=n,r.fontSize=+r.options.fontSize||11,r.geneLabelPos=r.options.geneLabelPosition||"outside",r.geneRectHeight=+r.options.geneAnnotationHeight||10,r.geneRectHeight-=2,r.geneStrandSpacing=+r.options.geneStrandSpacing||4,r.geneStrandHSpacing=r.geneStrandSpacing/2,r.geneRectHHeight=r.geneRectHeight/2,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"initTile",value:function(e){!function(e,t,n){var r=n.flipText,i=n.fontSize,o=n.fontFamily,a=n.plusStrandColor,s=n.minusStrandColor,l=n.maxGeneEntries,u=n.maxFillerEntries,c=n.maxTexts;if(t.texts={},t.rectGraphics=new m.GLOBALS.PIXI.Graphics,t.textBgGraphics=new m.GLOBALS.PIXI.Graphics,t.textGraphics=new m.GLOBALS.PIXI.Graphics,t.rectMaskGraphics=new m.GLOBALS.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,t.tileData.sort){t.tileData.sort((function(e,t){return t.importance-e.importance}));var f=t.tileData.filter((function(e){return"filler"!==e.type})).slice(0,l),h=t.tileData.filter((function(e){return"filler"===e.type})).slice(0,u);t.tileData=f.concat(h),t.tileData.forEach((function(n,l){if("filler"!==n.type){var u=n.fields,f=u[3],h=e.geneId(u,n.type),d=n.strand||u[5],p=a||"blue";if("-"===d&&(p=s||"red"),t.textWidths={},t.textHeights={},!(l>=c)){var g=new m.GLOBALS.PIXI.Text(f,{fontSize:String(i)+"px",fontFamily:o,fill:(0,y.colorToHex)(p)});g.interactive=!0,r&&(g.scale.x=-1),g.anchor.x=.5,g.anchor.y=1,t.texts[h]=g,t.texts[h].strand=d,t.textGraphics.addChild(g)}}})),t.initialized=!0}}(this,e,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:"Arial",plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:50,maxFillerEntries:5e3,maxTexts:20}),this.renderTile(e)}},{key:"destroyTile",value:function(e){e.rectGraphics.destroy(),e.rectMaskGraphics.destroy(),e.textGraphics.destroy(),e.textBgGraphics.destroy(),e.graphics.destroy()}},{key:"rerender",value:function(e,n){var r=this,i=(0,a.default)(e);(n||i!==this.prevOptions)&&((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"rerender",this).call(this,e,n),this.fontSize=+this.options.fontSize||11,this.geneLabelPos=this.options.geneLabelPosition||"outside",this.geneRectHeight=+this.options.geneAnnotationHeight||10,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)})))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(e,t){return String(t)+"_"+String(e[0])+"_"+String(e[1])+"_"+String(e[2])+"_"+String(e[3])}},{key:"renderTile",value:function(e){if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy(),e.rectGraphics.removeChildren(),e.rectGraphics.clear(),e.textBgGraphics.clear();var t={};t["+"]=(0,y.colorToHex)(this.options.plusStrandColor||"blue"),t["-"]=(0,y.colorToHex)(this.options.minusStrandColor||"red");var n=e.tileData.filter((function(e){return"filler"===e.type&&"+"===e.strand})),r=e.tileData.filter((function(e){return"filler"===e.type&&"-"===e.strand})),a=e.tileData.filter((function(e){return"filler"!==e.type&&("+"===e.strand||"+"===e.fields[5])})),s=e.tileData.filter((function(e){return"filler"!==e.type&&("-"===e.strand||"-"===e.fields[5])}));w(a,n),w(s,r),n=n.filter((function(e){return!e.hide})),r=r.filter((function(e){return!e.hide}));var l=this.dimensions[1]/2,u=l-this.geneRectHeight/2-this.geneStrandSpacing/2,c=l+this.geneRectHeight/2+this.geneStrandSpacing/2,f=[this,e,e.rectGraphics,this._xScale,t["+"],.3,u,this.geneRectHeight],h=[this,e,e.rectGraphics,this._xScale,t["-"],.3,c,this.geneRectHeight];x.apply(void 0,[n].concat(f)),x.apply(void 0,[r].concat(h)),f[5]=.3,h[5]=.3,T.apply(void 0,[a].concat(f)),T.apply(void 0,[s].concat(h)),function(e,t){var n=y.trackUtils.getTilePosAndDimensions(e.tilesetInfo,t.tileId),r=n.tileX,i=n.tileWidth;t.rectMaskGraphics.clear();var o=Math.floor(Math.random()*Math.pow(16,6));t.rectMaskGraphics.beginFill(o,.3);var a=e._xScale(r),s=e._xScale(r+i)-e._xScale(r),l=e.dimensions[1];t.rectMaskGraphics.drawRect(a,0,s,l)}(this,e),y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]);var d=!0,p=!1,m=void 0;try{for(var g,v=(0,o.default)((0,i.default)(e.texts));!(d=(g=v.next()).done);d=!0){var b=g.value;b.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:"Arial",fill:(0,y.colorToHex)("-"===b.strand?this.options.minusStrandColor||"red":this.options.plusStrandColor||"blue")}}}catch(_){p=!0,m=_}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}}}},{key:"calculateZoomLevel",value:function(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return Math.max(t,0)}},{key:"draw",value:function(){var e=this;(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=[];this.geneAreaHeight=this.geneRectHeight;var r=this.fontSize/2;y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]),(0,i.default)(this.fetchedTiles).filter((function(e){return e.drawnAtScale})).forEach((function(t){t.textBgGraphics.clear(),t.textBgGraphics.beginFill(void 0!==e.options.labelBackgroundColor?(0,y.colorToHex)(e.options.labelBackgroundColor):_);var i=e.parentInFetched(t);t.initialized&&t.tileData.forEach((function(o){if(t.texts&&"filler"!==o.type){var a=o.fields,s=a[3],l=e.geneId(a,o.type),u=t.texts[l];if(u){var c=+o.chrOffset,f=(+a[1]+c+(+a[2]+c))/2,h=e.dimensions[1]/2,d=(e.geneAreaHeight-e.fontSize)/2;if("+"===a[5]?h-="inside"===e.geneLabelPos?d+e.geneStrandSpacing-2:e.fontSize/2+e.geneAreaHeight-2:h+="inside"===e.geneLabelPos?e.fontSize+e.geneStrandSpacing/2+d+1:1.5*e.fontSize+e.geneAreaHeight+2,u.position.x=e._xScale(f),u.position.y=h,!t.textWidths[l]){var p=u.getBounds().width,m=u.getBounds().height;t.textHeights[l]=m,t.textWidths[l]=p}i?u.visible=!1:(u.visible=!0,e.flipText?e.allBoxes.push([u.position.x-t.textHeights[l]/2-2,h-r-1,u.position.x+t.textHeights[l]/2+2,h+r-1,s]):e.allBoxes.push([u.position.x-t.textWidths[l]/2-2,h-r-1,u.position.x+t.textWidths[l]/2+2,h+r-1,s]),e.allTexts.push({importance:+a[4],text:u,caption:s,strand:a[5]}),n.push(t.textBgGraphics))}}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}},{key:"renderTextBg",value:function(e,t,n){t.forEach((function(t,i){if(t.text.visible&&e[i]&&n[i]){var o=(0,r.default)(e[i],4),a=o[0],s=o[1],l=o[2]-a,u=o[3]-s;n[i].drawRect(a-l/2,s-u/2,l,u)}}))}},{key:"hideOverlaps",value:function(e,t){(0,d.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,r.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){var n=this;(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setDimensions",this).call(this,e),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((function(e){n.renderTile(e)}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=[e,t],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(this.visibleAndFetchedTiles());!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.allRects.length;c++)if("filler"!==u.allRects[c][2].type){for(var f=u.allRects[c][0].slice(0),h=[];f.length;){var d=f.splice(0,2);d[0]=d[0]*u.rectGraphics.scale.x+u.rectGraphics.position.x,d[1]=d[1]*u.rectGraphics.scale.y+u.rectGraphics.position.y,h.push(d)}if(-1===(0,p.default)(h,n)){var m=u.allRects[c][2];return"\n            <div>\n              <b>"+String(m.fields[3])+"</b><br>\n              <b>Position:</b> "+String(m.fields[0])+":"+String(m.fields[1])+"-"+String(m.fields[2])+"<br>\n              <b>Strand:</b> "+String(m.fields[5])+"\n            </div>\n          "}}}catch(g){i=!0,a=g}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return""}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this)){var o=(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);i=a[0],n=a[1]}else n=i=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.allRects})).forEach((function(t){var n=document.createElement("g");n.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+",\n          "+String(t.rectGraphics.position.y)+")\n          scale("+String(t.rectGraphics.scale.x)+",\n          "+String(t.rectGraphics.scale.y)+")"),t.allRects.forEach((function(t){for(var r=document.createElement("path"),i=t[0],o="M "+String(i[0])+" "+String(i[1]),a=2;a<i.length;a+=2)o+=" L "+String(i[a])+" "+String(i[a+1]);r.setAttribute("d",o),"+"===t[1]?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.setAttribute("opacity","0.3"),n.appendChild(r)})),l.appendChild(n)})),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(t){var n=document.createElement("g"),r=document.createElement("text");r.setAttribute("text-anchor","middle"),r.setAttribute("font-family","Arial"),r.setAttribute("font-size",String(e.fontSize)+"px"),r.setAttribute("dy","-.2em"),n.setAttribute("transform","scale("+String(t.text.scale.x)+",1)"),"+"===t.strand?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.innerHTML=t.text.text,n.appendChild(r),n.setAttribute("transform","translate("+String(t.text.x)+","+String(t.text.y)+")scale("+String(t.text.scale.x)+",1)"),l.appendChild(n)})),[i,i]}}]),t}(g.default);t.default=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(81).Mixin)((function(e){return function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.animate;return o.highlighted=!1,o.animate=s,o.MOUSEOVER_RADIUS=4,o.pubSub=e.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),t}(e)}));t.default=c},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(30)),i=c(n(1)),o=c(n(2)),a=c(n(181)),s=c(n(372)),l=c(n(656)),u=c(n(141));function c(e){return e&&e.__esModule?e:{default:e}}n(658);var f={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},h=function(e){var t=function(){e.modal.close(),e.onCancel&&e.onCancel()};return i.default.createElement(l.default,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},i.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},i.default.createElement("h3",null,e.title),i.default.createElement(a.default,{onClick:t},i.default.createElement(s.default,null))),e.maxHeight?i.default.createElement("main",{className:(0,r.default)(e.maxHeight?"dialog-main-max-height":"",f)},e.children):i.default.createElement("main",null,e.children),i.default.createElement("footer",{className:(0,r.default)(e.maxHeight?"dialog-footer-max-height":"dialog-footer",f)},e.okayOnly?i.default.createElement("div",null):i.default.createElement(a.default,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onOkay&&e.onOkay()},shortcut:e.okayShortcut},e.okayTitle)))};h.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},h.propTypes={cancelShortcut:o.default.string,cancelTitle:o.default.string,children:o.default.func.isRequired,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,okayShortcut:o.default.string,okayTitle:o.default.string,okayOnly:o.default.bool,onCancel:o.default.func.isRequired,onOkay:o.default.func.isRequired,title:o.default.string.isRequired},t.default=(0,u.default)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=h(n(41)),f=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),c.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){c.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}},{key:"contextMenuHandler",value:function(e){e.altKey||(e.preventDefault(),this.clickHandler(e))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return u.default.createElement("div",null)}}]),t}(u.default.Component);d.defaultProps={onMenuClosed:f.default},d.propTypes={children:l.default.node.isRequired,onMenuClosed:l.default.func},t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(38)),i=h(n(5)),o=h(n(3)),a=h(n(4)),s=h(n(6)),l=h(n(7)),u=h(n(2)),c=h(n(1)),f=h(n(669));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.moveable=!0,n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:function(t){e.el=t},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){e.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},c.default.createElement(f.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new r.default,sizeChanged:function(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)},style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),t}(h(n(671)).default);d.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},t.default=d},function(e,t,n){var r=n(694),i=n(266),o=n(116),a=n(382),s=n(696);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var n=r.parse(t),i=g(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=y(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==y(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,n,o,e.schema,e)}function c(e,t,n){var r=u.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=b(o,a)),h.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=y,l.fullPath=m,l.url=b,l.ids=function(e){var t=y(this._getId(e)),n={"":t},a={"":m(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,f,h,d){if(""!==t){var p=u._getId(e),m=n[c],g=a[c]+"/"+f;if(void 0!==d&&(g+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=y(m?r.resolve(m,p):p);var v=u._refs[p];if("string"==typeof v&&(v=u._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=y(g))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else u._refs[p]=g}n[t]=m,a[t]=g}})),l},l.inlineRef=p,l.schema=u;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!f[s]&&((l=this._getId(n))&&(t=b(t,l)),n.$ref)){var c=b(t,n.$ref),h=u.call(this,r,c);h&&(n=h.schema,r=h.root,t=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(d[o])r++;else if("object"==typeof(n=t[o])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),g(r.parse(e))}function g(e){return r.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function b(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var f=t instanceof Date,h=n instanceof Date;if(f!=h)return!1;if(f&&h)return t.getTime()==n.getTime();var d=t instanceof RegExp,p=n instanceof RegExp;if(d!=p)return!1;if(d&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!=a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!=a--;)if(!e(t[l=m[a]],n[l]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){var r=n(265);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/genericLocks"},locationLocks:{$ref:"#/definitions/locks/genericLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},genericLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(e,t,n){var r=n(392),i=n(396);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){var r=n(742),i=n(272),o=n(273),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(391),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(170)(e))},function(e,t,n){var r=n(96),i=n(45);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(395)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(98)(n(40),"Map");e.exports=r},function(e,t,n){var r=n(761),i=n(768),o=n(770),a=n(771),s=n(772);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(280),i=n(406),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(192),i=n(145);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(31),i=n(193),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(411);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(403);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=a(n(1)),i=a(n(13)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(827));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,a=e.size,s=e.renderers,l=e.borderRadius,u=e.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},function(e,t,n){var r=n(288),i=n(291);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(143),i=n(418),o=n(290);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(836),i=n(419)(r);e.exports=i},function(e,t,n){var r=n(119),i=n(97),o=n(142),a=n(45);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=Array.prototype.slice,i=n(435),o=Object.keys,a=o?function(e){return o(e)}:n(953),s=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},function(e,t,n){(e.exports=n(439)).version=n(1047).version},function(e){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){var r=n(122),i=n(960),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?n+=s(o.children,t):r.isTag(o)?n+=l(o,t):o.type===r.Directive?n+=u(o):o.type===r.Comment?n+=h(o):o.type===r.CDATA?n+=f(o):n+=c(o,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),r+=o,(null!==(n=e[o])&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?i.encodeXML(n):n)+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=s(e.children,t)),a[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function c(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in o||(n=i.encodeXML(n)),n}function f(e){return"<![CDATA["+e.children[0].data+"]]>"}function h(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){var r=n(199).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(64).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var i=function(e){return{nodeName:"#text",value:e,parentNode:null}},o=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var i=null,a=0;a<e.childNodes.length;a++)if("#documentType"===e.childNodes[a].nodeName){i=e.childNodes[a];break}i?(i.name=t,i.publicId=n,i.systemId=r):o(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}o(e,i(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:a(e,i(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var i=0;i<t.length;i++)-1===n.indexOf(t[i].name)&&e.attrs.push(t[i])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName}},function(e,t,n){e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),Object.create(null))}},function(e,t,n){var r=n(64).DOCUMENT_MODE,i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],o=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),a=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],s=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],l=s.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function u(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function c(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.getDocumentMode=function(e,t,n){if("html"!==e)return r.QUIRKS;if(n&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===n.toLowerCase())return r.QUIRKS;if(null!==t){if(t=t.toLowerCase(),a.indexOf(t)>-1)return r.QUIRKS;var u=null===n?o:i;if(c(t,u))return r.QUIRKS;if(c(t,u=null===n?s:l))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),null!==t?r+=" PUBLIC "+u(t):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+u(n)),r}},function(e,t,n){(t=e.exports=n(453)).Stream=t,t.Readable=t,t.Writable=n(302),t.Duplex=n(101),t.Transform=n(456),t.PassThrough=n(987)},function(e,t,n){(function(t,r,i){var o=n(202);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=v;var u=n(151);u.inherits=n(58);var c,f={deprecate:n(986)},h=n(454),d=n(199).Buffer,p=i.Uint8Array||function(){},m=n(455);function g(){}function v(e,t){s=s||n(101),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n,r=e._writableState,i=r.sync,a=r.writecb;if((n=r).writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,r,i,t,a);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),i?l(_,e,r,s,a):_(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(101),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){var i,o;n||(i=e,0===(o=t).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),T(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n,r,i=w(t);return i&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,o.nextTick(x,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}u.inherits(y,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i,a=this._writableState,s=!1,l=!a.objectMode&&(r=e,d.isBuffer(r)||r instanceof p);return l&&!d.isBuffer(e)&&(i=e,e=d.from(i)),"function"==typeof t&&(n=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=g),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(l||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,a,e,n))&&(a.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var a=(l=r,u=i,(s=t).objectMode||!1===s.decodeStrings||"string"!=typeof l||(l=d.from(l,u)),l);r!==a&&(n=!0,i="buffer",r=a)}var s,l,u,c=t.objectMode?1:r.length;t.length+=c;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,c,r,i,o);return f}(this,a,l,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r,i,a,s=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(r=this,a=n,(i=s).ending=!0,T(r,i),a&&(i.finished?o.nextTick(a):r.once("finish",a)),i.ended=!0,r.writable=!1)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(150),n(984).setImmediate,n(26))},function(e,t,n){var r=n(288),i=n(997),o=n(306),a=n(205),s=r((function(e,t,n){var r=1;if(n.length){var l=a(n,o(s));r|=32}return i(e,r,t,n,l)}));s.placeholder={},e.exports=s},function(e,t,n){var r=n(196),i=n(305);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(296),i=n(203).default,o=n(203).flatten,a=n(470),s=n(197),l={merge:n(46),defaults:n(469)};function u(e,t,n){if(t)"string"==typeof t&&(t=a(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return r(t,n)}function c(e){if(Array.isArray(e))return!0;if("object"!=typeof e)return!1;if(!e.hasOwnProperty("length"))return!1;if("number"!=typeof e.length)return!1;if(e.length<0)return!1;for(var t=0;t<e.length;){if(!(t in e))return!1;t++}return!0}t.load=function(e,r,a){var u=n(439);r=l.defaults(o(r||{}),i),void 0===a&&(a=!0);var c=s(e,r,a),f=function(e,t,n,i){return this instanceof f?(i=l.defaults(i||{},r),u.call(this,e,t,n||c,i)):new f(e,t,n,i)};return f.prototype=Object.create(u.prototype),f.prototype.constructor=f,f.fn=f.prototype,f.prototype._originalRoot=c,l.merge(f,t),f._root=c,f._options=r,f},t.html=function(e,t){return"[object Object]"!==Object.prototype.toString.call(e)||t||"length"in e||"type"in e||(t=e,e=void 0),u(this,e,t=l.defaults(o(t||{}),this._options,i))},t.xml=function(e){return u(this,e,l.defaults({xml:!0},this._options))},t.text=function(e){e||(e=this.root());for(var n,r="",i=e.length,o=0;o<i;o++)"text"===(n=e[o]).type?r+=n.data:n.children&&"comment"!==n.type&&"script"!==n.tagName&&"style"!==n.tagName&&(r+=t.text(n.children));return r},t.parseHTML=function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t),r=this.load(e,i,!1),n||r("script").remove(),r.root()[0].children.slice()):null},t.root=function(){return this(this._root)},t.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1},t.merge=function(e,t){if(c(e)&&c(t)){for(var n=e.length+t.length,r=0;r<t.length;)e[r+e.length]=t[r],r++;return e.length=n,e}}},function(e,t,n){var r=n(100),i=r.isTag,o=r.getText,a=r.getParent,s=r.getChildren,l=r.getSiblings,u=r.hasAttrib,c=r.getName,f=r.getAttributeValue,h=n(1021),d=n(471).rules.equals,p=n(153),m=p.trueFunc,g=p.falseFunc;function v(e,t){var n={name:e,value:t};return function(e){return d(e,n)}}function y(e){return function(t){return!!a(t)&&e(t)}}var b={contains:function(e,t){return function(n){return e(n)&&o(n).indexOf(t)>=0}},icontains:function(e,t){var n=t.toLowerCase();return function(t){return e(t)&&o(t).toLowerCase().indexOf(n)>=0}},"nth-child":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;a++}return n(a)&&e(t)}},"nth-last-child":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;o++}return n(o)&&e(t)}},"nth-of-type":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},"nth-last-of-type":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},root:function(e){return function(t){return!a(t)&&e(t)}},scope:function(e,t,n,r){return r&&0!==r.length?1===r.length?function(t){return r[0]===t&&e(t)}:function(t){return r.indexOf(t)>=0&&e(t)}:b.root(e)},checkbox:v("type","checkbox"),file:v("type","file"),password:v("type","password"),radio:v("type","radio"),reset:v("type","reset"),image:v("type","image"),submit:v("type","submit")},_={empty:function(e){return!s(e).some((function(e){return i(e)||"text"===e.type}))},"first-child":function(e){return function(e){for(var t=0;e&&t<e.length;t++)if(i(e[t]))return e[t]}(l(e))===e},"last-child":function(e){for(var t=l(e),n=t.length-1;n>=0;n--){if(t[n]===e)return!0;if(i(t[n]))break}return!1},"first-of-type":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"last-of-type":function(e){for(var t=l(e),n=t.length-1;n>=0;n--)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"only-of-type":function(e){for(var t=l(e),n=0,r=t.length;n<r;n++)if(i(t[n])){if(t[n]===e)continue;if(c(t[n])===c(e))return!1}return!0},"only-child":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])&&t[n]!==e)return!1;return!0},link:function(e){return u(e,"href")},visited:g,selected:function(e){if(u(e,"selected"))return!0;if("option"!==c(e))return!1;var t=a(e);if(!t||"select"!==c(t)||u(t,"multiple"))return!1;for(var n=s(t),r=!1,o=0;o<n.length;o++)if(i(n[o]))if(n[o]===e)r=!0;else{if(!r)return!1;if(u(n[o],"selected"))return!1}return r},disabled:function(e){return u(e,"disabled")},enabled:function(e){return!u(e,"disabled")},checked:function(e){return u(e,"checked")||_.selected(e)},required:function(e){return u(e,"required")},optional:function(e){return!u(e,"required")},parent:function(e){return!_.empty(e)},header:function(e){var t=c(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=c(e);return"button"===t||"input"===t&&"button"===f(e,"type")},input:function(e){var t=c(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===c(e)&&(!(t=f(e,"type"))||"text"===t.toLowerCase())}};function E(e,t,n){if(null===n){if(e.length>1&&"scope"!==t)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var w=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(e,t,n,r){var i=t.name,o=t.data;if(n&&n.strict&&!w.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"==typeof b[i])return E(b[i],i,o),b[i](e,o,n,r);if("function"==typeof _[i]){var a=_[i];return E(a,i,o),e===m?a:function(t){return a(t,o)&&e(t)}}throw new SyntaxError("unmatched pseudo-class :"+i)},filters:b,pseudos:_}},function(e,t,n){var r=n(53).call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)r(t,n)&&(e[n]=t[n]);return e}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ITERATOR_SYMBOL=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.getAdapter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,m.default)(e)},t.makeOptions=function(e){var t=(0,d.get)(),n=t.attachTo,r=t.hydrateIn,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["attachTo","hydrateIn"]);y(n,r);var a=e.attachTo,s=e.hydrateIn;y(a,s);var l=s||r||n||a||void 0,u=s||r||void 0,c=(0,o.default)({},l&&{attachTo:l},u&&{hydrateIn:u});return(0,o.default)({},i,e,c)},t.isCustomComponentElement=function(e,t){return t.isCustomComponentElement?!!t.isCustomComponentElement(e):!!e&&t.isValidElement(e)&&"function"==typeof e.type},t.propsOfNode=b,t.typeOfNode=function(e){return e?e.type:null},t.nodeHasType=function(e,t){if(!t||!e)return!1;var n=(0,m.default)();return n.displayNameOfNode?n.displayNameOfNode(e)===t:!!e.type&&("string"==typeof e.type?e.type===t:("function"==typeof e.type?(0,u.default)(e.type)===t:e.type.name===t)||e.type.displayName===t)},t.nodeMatches=S,t.nodeEqual=k,t.containsChildrenSubArray=function(e,t,n){var r=(0,p.childrenOfNode)(t);return r.some((function(t,i){return o=e,a=r.slice(i,i+n.length),s=n,a.length===s.length&&a.every((function(e,t){return o(e,s[t])}));var o,a,s}))},t.childrenToSimplifiedArray=A,t.isReactElementAlike=function(e,t){return t.isValidElement(e)||C(e)||Array.isArray(e)},t.withSetStateAllowed=function(t){var n=!1;void 0===e.document&&(n=!0,e.document={}),t(),n&&(e.document=void 0,delete e.document)},t.AND=function(e){var t=e.slice().reverse();return function(e){return t.every((function(t){return t(e)}))}},t.displayNameOfNode=function(e){if(!e)return null;var t=e.type;return t?t.displayName||("function"==typeof t?(0,u.default)(t):t.name||t):null},t.sym=function(e){return"function"==typeof Symbol?Symbol.for("enzyme."+String(e)):e},t.privateSet=function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})},t.cloneElement=function(e,t,n){return e.createElement(t.type,(0,o.default)({},t.props,n))},t.spyMethod=function(e,t){var n=void 0,r=e[t],i=(0,c.default)(e,t),o=void 0;return i&&(o=Object.getOwnPropertyDescriptor(e,t)),Object.defineProperty(e,t,{configurable:!0,enumerable:!o||!!o.enumerable,value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(this,t);return n=o,o}}),{restore:function(){i?o?Object.defineProperty(e,t,o):e[t]=r:delete e[t]},getLastReturnValue:function(){return n}}},t.shallowEqual=function(e,t){if((0,s.default)(e,t))return!0;if(!e||!t||"object"!==(void 0===e?"undefined":r(e))||"object"!==(void 0===t?"undefined":r(t)))return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o+=1)if(!(0,c.default)(t,n[o])||!(0,s.default)(e[n[o]],t[n[o]]))return!1;return!0},t.isEmptyValue=P,t.renderedDive=function e(t){return!!P(t)||[].concat(t).every((function(t){if(t){var n=t.rendered;return P(n)||e(n)}return P(t)}))};var o=g(n(121)),a=g(n(169)),s=g(n(486)),l=g(n(487)),u=g(n(311)),c=g(n(59)),f=g(n(154)),h=g(n(1061)),d=n(312),p=n(156),m=g(n(102));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(e&&t&&e!==t)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function b(e){return(0,l.default)(e&&e.props||{}).filter((function(e){return void 0!==i(e,2)[1]})).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return(0,o.default)(e,v({},r,a))}),{})}function _(e,t,n,r){var i=r?S:k;if(e===t)return!0;if(!Array.isArray(e)&&!Array.isArray(t))return i(e,t,n);var o=(0,f.default)(e,1/0),a=(0,f.default)(t,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function E(e,t,n){return _(e,t,n,!0)}function w(e,t,n){return _(e,t,n,!1)}function x(e,t){var n=i(t,2),r=n[0],a=n[1],s=null==a?{}:v({},r,a);return(0,o.default)({},e,s)}function T(e,t,n,i){if(e===t)return!0;if(!e||!t)return!1;if(e.type!==t.type)return!1;var o=b(e),s=b(t);i&&(o=(0,l.default)(o).reduce(x,{}),s=(0,l.default)(s).reduce(x,{}));for(var u=Object.keys(o),c=0;c<u.length;c+=1){var f=u[c];if("children"===f);else{if(!(f in s))return!1;if(s[f]===o[f]);else{if(r(s[f])!==r(o[f])||"object"!==r(o[f]))return!1;if(!(0,a.default)(o[f],s[f]))return!1}}}var h="children"in o,d="children"in s;if((h||d)&&!(i?E:w)(A(o.children,i),A(s.children,i),n))return!1;if(!C(e)){var p=Object.keys(s);return n(u.length-h,p.length-d)}return!1}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return T(e,t,n,!0)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return T(e,t,n,!1)}function O(e){var t=[],n=function(e){null!==e&&!1!==e&&void 0!==e&&t.push(e)};return Array.isArray(e)?e.forEach(n):n(e),t}function A(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=O(e),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();void 0===a?r.push(o):C(o)&&C(a)?r.push(a+o):(r.push(a),r.push(o))}return t?r.map((function(e){return"string"==typeof e?(0,h.default)(e):e})):r}function C(e){return"string"==typeof e||"number"==typeof e}function P(e){return null===e||!1===e}t.ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator}).call(this,n(26))},function(e,t,n){var r=n(52),i=n(53),o=n(491),a=n(493),s=n(1060),l=i.call(Function.call,o);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){return(0,r.default)({},a)},t.merge=s,t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a={},s(e)};var r=o(n(121)),i=o(n(496));function o(e){return e&&e.__esModule?e:{default:e}}var a={};function s(e){e.adapter&&(0,i.default)(e.adapter),(0,r.default)(a,e)}},function(e,t,n){n.r(t);var r=Array.prototype.slice,i=function(e){return e};function o(e){return"translate("+(e+.5)+",0)"}function a(e){return"translate(0,"+(e+.5)+")"}function s(e){return function(t){return+e(t)}}function l(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function u(){return!this.__axis}function c(e,t){var n=[],c=null,f=null,h=6,d=6,p=3,m=1===e||4===e?-1:1,g=4===e||2===e?"x":"y",v=1===e||3===e?o:a;function y(r){var o=null==c?t.ticks?t.ticks.apply(t,n):t.domain():c,a=null==f?t.tickFormat?t.tickFormat.apply(t,n):i:f,y=Math.max(h,0)+p,b=t.range(),_=+b[0]+.5,E=+b[b.length-1]+.5,w=(t.bandwidth?l:s)(t.copy()),x=r.selection?r.selection():r,T=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(o,t).order(),k=S.exit(),O=S.enter().append("g").attr("class","tick"),A=S.select("line"),C=S.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(O),A=A.merge(O.append("line").attr("stroke","currentColor").attr(g+"2",m*h)),C=C.merge(O.append("text").attr("fill","currentColor").attr(g,m*y).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),r!==x&&(T=T.transition(r),S=S.transition(r),A=A.transition(r),C=C.transition(r),k=k.transition(r).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=w(e))?v(e):this.getAttribute("transform")})),O.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return v(t&&isFinite(t=t(e))?t:w(e))}))),k.remove(),T.attr("d",4===e||2==e?d?"M"+m*d+","+_+"H0.5V"+E+"H"+m*d:"M0.5,"+_+"V"+E:d?"M"+_+","+m*d+"V0.5H"+E+"V"+m*d:"M"+_+",0.5H"+E),S.attr("opacity",1).attr("transform",(function(e){return v(w(e))})),A.attr(g+"2",m*h),C.attr(g,m*y).text(a),x.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),x.each((function(){this.__axis=w}))}return y.scale=function(e){return arguments.length?(t=e,y):t},y.ticks=function(){return n=r.call(arguments),y},y.tickArguments=function(e){return arguments.length?(n=null==e?[]:r.call(e),y):n.slice()},y.tickValues=function(e){return arguments.length?(c=null==e?null:r.call(e),y):c&&c.slice()},y.tickFormat=function(e){return arguments.length?(f=e,y):f},y.tickSize=function(e){return arguments.length?(h=d=+e,y):h},y.tickSizeInner=function(e){return arguments.length?(h=+e,y):h},y.tickSizeOuter=function(e){return arguments.length?(d=+e,y):d},y.tickPadding=function(e){return arguments.length?(p=+e,y):p},y}function f(e){return c(1,e)}function h(e){return c(2,e)}function d(e){return c(3,e)}function p(e){return c(4,e)}n.d(t,"axisTop",(function(){return f})),n.d(t,"axisRight",(function(){return h})),n.d(t,"axisBottom",(function(){return d})),n.d(t,"axisLeft",(function(){return p}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.viewer=t.version=t.getTrackObjectFromHGC=t.mountHGComponent=t.waitForTransitionsFinished=t.waitForTilesLoaded=t.waitForJsonComplete=t.schema=t.tracks=t.trackViewer=t.HiGlassTrackComponent=t.HiGlassComponent=t.ChromosomeInfo=void 0;var r=n(73);Object.defineProperty(t,"ChromosomeInfo",{enumerable:!0,get:function(){return p(r).default}});var i=n(231);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){return p(i).default}});var o=n(1086);Object.defineProperty(t,"HiGlassTrackComponent",{enumerable:!0,get:function(){return p(o).default}}),Object.defineProperty(t,"trackViewer",{enumerable:!0,get:function(){return o.trackViewer}});var a=n(268);Object.defineProperty(t,"schema",{enumerable:!0,get:function(){return p(a).default}});var s=n(10);Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return s.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return s.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return s.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return s.mountHGComponent}}),Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return s.getTrackObjectFromHGC}});var l=p(n(1)),u=p(n(41)),c=p(i),f=p(n(80)),h=p(n(79)),d=p(n(259));function p(e){return e&&e.__esModule?e:{default:e}}t.tracks={SVGTrack:f.default,TiledPixiTrack:h.default,HorizontalGeneAnnotationsTrack:d.default},t.version="1.11.7",t.viewer=function(e,t,n){return(r=e,i=t,o=n,a=l.default.createRef(),u.default.render(l.default.createElement(c.default,{ref:a,options:o||{},viewConfig:i}),r),a.current).api;var r,i,o,a}},function(e,t,n){var r=n(39),i=n(92),o=n(21)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(49),s=n(509),l=n(163),u=n(107),c=n(23),f=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};h&&d||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},d=function(e){delete v[e]},"process"==n(74)(f)?r=function(e){f.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(39),i=n(33),o=n(218);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(23),i=n(12),o=n(32),a=n(36),s=n(21)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={PIXI:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(322))};t.default=r},function(e,t){e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_DEFAULT=t.THEME_DARK=t.THEME_LIGHT=void 0;var r,i=(r=n(224))&&r.__esModule?r:{default:r},o=t.THEME_LIGHT=(0,i.default)("Light theme");t.THEME_DARK=(0,i.default)("Dark theme"),t.THEME_DEFAULT=o},function(e,t,n){var r=n(74);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(158),i=n(106).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(60),i=n(48),o=n(93).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){e.exports={default:n(549),__esModule:!0}},function(e,t){e.exports=r},function(e,t,n){var r=n(32).f,i=n(109),o=n(219),a=n(49),s=n(217),l=n(128),u=n(108),c=n(160),f=n(319),h=n(36),d=n(225).fastKey,p=n(237),m=h?"_s":"size",g=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,n,e[u],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=g(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),h&&r(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(23),i=n(16),o=n(225),a=n(50),s=n(42),l=n(219),u=n(128),c=n(217),f=n(33),h=n(77),d=n(32).f,p=n(562)(0),m=n(36);e.exports=function(e,t,n,g,v,y){var b=r[e],_=b,E=v?"set":"add",w=_&&_.prototype,x={};return m&&"function"==typeof _&&(y||w.forEach&&!a((function(){(new _).entries().next()})))?(_=t((function(t,n){c(t,_,e,"_c"),t._c=new b,null!=n&&u(n,v,t[E],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in w)||y&&"clear"==e||s(_.prototype,e,(function(n,r){if(c(this,_,e),!t&&y&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=g.getConstructor(t,e,v,E),l(_.prototype,n),o.NEED=!0),h(_,e),x[e]=_,i(i.G+i.W+i.F,x),y||g.setStrong(_,e,v),_}},function(e,t,n){var r=n(110),i=n(566);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(16);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){var r=n(16),i=n(92),o=n(49),a=n(128);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),null==e?new this:(n=[],t?(r=0,s=o(l,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(169)),s=c(n(337)),l=n(131),u=c(n(575));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return h.call(i),(0,l.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,l.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,l.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,l.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,c=(0,l.getLayoutItem)(s,e);if(c){var f={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};s=(0,l.moveElement)(s,c,t,n,!0,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,c,f,i,o),this.setState({layout:(0,l.compact)(s,this.compactType(),u),activeDrag:f})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,c=u.cols,f=u.preventCollision,h=(0,l.getLayoutItem)(s,e);if(h){s=(0,l.moveElement)(s,h,t,n,!0,f,this.compactType(),c),this.props.onDragStop(s,a,h,null,i,o);var d=(0,l.compact)(s,this.compactType(),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,p)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,i){var o=i.e,a=i.node,s=this.state,u=s.layout,c=s.oldResizeItem,f=this.props,h=f.cols,d=f.preventCollision,p=(0,l.getLayoutItem)(u,e);if(p){var m=void 0;if(d){var g=(0,l.getAllCollisions)(u,r({},p,{w:t,h:n})).filter((function(e){return e.i!==p.i}));if(m=g.length>0){var v=1/0,y=1/0;g.forEach((function(e){e.x>p.x&&(v=Math.min(v,e.x)),e.y>p.y&&(y=Math.min(y,e.y))})),Number.isFinite(v)&&(p.w=v-p.x),Number.isFinite(y)&&(p.h=y-p.y)}}m||(p.w=t,p.h=n);var b={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:e};this.props.onResize(u,c,p,b,o,a),this.setState({layout:(0,l.compact)(u,this.compactType(),h),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,c=this.props.cols,f=(0,l.getLayoutItem)(s,e);this.props.onResizeStop(s,u,f,null,i,o);var h=(0,l.compact)(s,this.compactType(),c),d=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,d)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms;return i.default.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:c},i.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,c=n.rowHeight,f=n.maxRows,h=n.isDraggable,d=n.isResizable,p=n.useCSSTransforms,m=n.draggableCancel,g=n.draggableHandle,v=this.state.mounted,y=Boolean(!t.static&&h&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&d&&(t.isResizable||null==t.isResizable));return i.default.createElement(u.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:f,rowHeight:c,cancel:m,handle:g,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&v,usePercentages:!v,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,a=(0,s.default)("react-grid-layout",n),l=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:l},i.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),this.placeholder())},t}(i.default.Component);f.displayName="ReactGridLayout",f.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,l.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))}},f.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop};var h=function(){this.state={activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=f},function(e,t,n){var r;
/*!
            Copyright (c) 2017 Jed Watson.
            Licensed under the MIT License (MIT), see
            http://jedwatson.github.io/classnames
          */!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=function(e,t){function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o,a=i;o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var s=function(e,t,n,r,i,a,s,l){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,l],f=0;(u=new Error(t.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},l=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},u=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];l.apply(void 0,[t].concat(r))}},c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function d(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var p=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,r,i=d(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))f.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)h.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g=s,v=u,y={},b=function(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{g("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(l){a=l}if(v(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in y)){y[a.message]=!0;var s=i?i():"";v(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}},_=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:o(a.thatReturnsNull),arrayOf:function(e){return o((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new i("Invalid "+o+" `"+a+"` of type `"+f(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,r,o,a+"["+l+"]",m);if(u instanceof Error)return u}return null}))},element:o((function(t,n,r,o,a){var s=t[n];return e(s)?null:new i("Invalid "+o+" `"+a+"` of type `"+f(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(e){return o((function(t,n,r,o,a){if(!(t[n]instanceof e)){var s=e.name||"<<anonymous>>";return new i("Invalid "+o+" `"+a+"` of type `"+((l=t[n]).constructor&&l.constructor.name?l.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var l;return null}))},node:o((function(e,t,n,r,o){return c(e[t])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return o((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,r,o,a+"."+u,m);if(c instanceof Error)return c}return null}))},oneOf:function(e){return Array.isArray(e)?o((function(t,n,r,o,a){for(var s=t[n],l=0;l<e.length;l++)if((u=s)===(c=e[l])?0!==u||1/u==1/c:u!=u&&c!=c)return null;var u,c;return new i("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")})):(u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return u(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",d(n),t),a.thatReturnsNull}return o((function(t,n,r,o,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,a,m))return null;return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return o((function(t,n,r,o,a){var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var h=c(s,u,r,o,a+"."+u,m);if(h)return h}}return null}))},exact:function(e){return o((function(t,n,r,o,a){var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var u=p({},t[n],e);for(var c in u){var h=e[c];if(!h)return new i("Invalid "+o+" `"+a+"` key `"+c+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(s,c,r,o,a+"."+c,m);if(d)return d}return null}))}};function i(e){this.message=e,this.stack=""}function o(e){var n={},r=0;function o(o,a,l,c,f,h,d){if(c=c||"<<anonymous>>",h=h||l,d!==m)if(t)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var p=c+":"+l;!n[p]&&r<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,c),n[p]=!0,r++)}return null==a[l]?o?null===a[l]?new i("The "+f+" `"+h+"` is marked as required in `"+c+"`, but its value is `null`."):new i("The "+f+" `"+h+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,l,c,f,h)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function l(e){return o((function(t,n,r,o,a,s){var l=t[n];return f(l)!==e?new i("Invalid "+o+" `"+a+"` of type `"+h(l)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!c(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function f(e){var t,n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===n||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":n)}function h(e){if(null==e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function d(e){var t=h(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,r.checkPropTypes=b,r.PropTypes=r,r}((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}),!0)})),E=n((function(e){
/*!
              	  Copyright (c) 2016 Jed Watson.
              	  Licensed under the MIT License (MIT), see
              	  http://jedwatson.github.io/classnames
              	*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function w(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function x(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function T(e){return"number"==typeof e&&!isNaN(e)}function S(e){return parseInt(e,10)}function k(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var O=["Moz","Webkit","O","ms"];function A(e,t){return t?""+t+function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e):e}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<O.length;n++)if(A(e,O[n])in t)return O[n];return""}(),P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},N=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},L=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},F="";function j(e,t){return F||(F=w(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return x(e[t])}))),!!x(e[F])&&e[F](t)}function B(e,t,n){var r=e;do{if(j(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function U(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function z(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function H(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=S(n.borderTopWidth))+S(n.borderBottomWidth)}function G(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=S(n.borderLeftWidth))+S(n.borderRightWidth)}function V(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=S(n.paddingTop))-S(n.paddingBottom)}function $(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=S(n.paddingLeft))-S(n.paddingRight)}function X(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function W(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(t.className+=" "+n))}}function Y(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(r){}var t,n}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I({touchAction:"none"},e)}function K(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function Z(e){return"both"===e.props.axis||"x"===e.props.axis}function Q(e){return"both"===e.props.axis||"y"===e.props.axis}function J(e,t,n){var r,i,o="number"==typeof t?(i=t,(r=e).targetTouches&&w(r.targetTouches,(function(e){return i===e.identifier}))||r.changedTouches&&w(r.changedTouches,(function(e){return i===e.identifier}))):null;if("number"==typeof t&&!o)return null;var a=ne(n);return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(o||e,n.props.offsetParent||a.offsetParent||a.ownerDocument.body)}function ee(e,t,n){var r=e.state,i=!T(r.lastX),o=ne(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function te(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ne(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var re={start:"touchstart",move:"touchmove",stop:"touchend"},ie={start:"mousedown",move:"mousemove",stop:"mouseup"},oe=ie,ae=function(n){function r(){var t,n,i;P(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=N(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!B(t.target,i.props.handle,n)||i.props.cancel&&B(t.target,i.props.cancel,n))){var o=X(t);i.setState({touchIdentifier:o});var a=J(t,o,i);if(null!=a){var s=a.x,l=a.y,u=ee(i,s,l);i.props.onStart,!1!==i.props.onStart(t,u)&&(i.props.enableUserSelectHack&&W(r),i.setState({dragging:!0,lastX:s,lastY:l}),U(r,oe.move,i.handleDrag),U(r,oe.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=J(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=K(i.props.grid,o,a),l=L(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var u=ee(i,n,r);if(!1!==i.props.onDrag(e,u))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(f){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=J(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=ee(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&Y(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(z(s.ownerDocument,oe.move,i.handleDrag),z(s.ownerDocument,oe.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return oe=ie,i.handleDragStart(e)},i.onMouseUp=function(e){return oe=ie,i.handleDragStop(e)},i.onTouchStart=function(e){return oe=re,i.handleDragStart(e)},i.onTouchEnd=function(e){return oe=re,i.handleDragStop(e)},N(i,n)}return D(r,n),M(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;z(n,ie.move,this.handleDrag),z(n,re.move,this.handleDrag),z(n,ie.stop,this.handleDragStop),z(n,re.stop,this.handleDragStop),this.props.enableUserSelectHack&&Y(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:q(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);ae.displayName="DraggableCore",ae.propTypes={allowAnyClick:_.bool,disabled:_.bool,enableUserSelectHack:_.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_.arrayOf(_.number),scale:_.number,handle:_.string,cancel:_.string,onStart:_.func,onDrag:_.func,onStop:_.func,onMouseDown:_.func,className:k,style:k,transform:k},ae.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var se=function(n){function r(e){P(this,r);var t=N(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,te(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=te(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=function(e,t,n){if(!e.props.bounds)return[t,n];var r,i=e.props.bounds;i="string"==typeof i?i:{left:(r=i).left,top:r.top,right:r.right,bottom:r.bottom};var o=ne(e);if("string"==typeof i){var a,s=o.ownerDocument,l=s.defaultView;if(!((a="parent"===i?o.parentNode:s.querySelector(i))instanceof l.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var u=l.getComputedStyle(o),c=l.getComputedStyle(a);i={left:-o.offsetLeft+S(c.paddingLeft)+S(u.marginLeft),top:-o.offsetTop+S(c.paddingTop)+S(u.marginTop),right:$(a)-G(o)-o.offsetLeft+S(c.paddingRight)-S(u.marginRight),bottom:V(a)-H(o)-o.offsetTop+S(c.paddingBottom)-S(u.marginBottom)}}return T(i.right)&&(t=Math.min(t,i.right)),T(i.bottom)&&(n=Math.min(n,i.bottom)),T(i.left)&&(t=Math.max(t,i.left)),T(i.top)&&(n=Math.max(n,i.top)),[t,n]}(t,i.x,i.y),l=L(s,2),u=l[0],c=l[1];i.x=u,i.y=c,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,te(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return D(r,n),M(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n,r,i,o,a={},s=null,l=!Boolean(this.props.position)||this.state.dragging,u=this.props.position||this.props.defaultPosition,c={x:Z(this)&&l?this.state.x:u.x,y:Q(this)&&l?this.state.y:u.y};this.state.isElementSVG?s="translate("+(o=c).x+","+o.y+")":(r=(n=c).x,i=n.y,a=R({},A("transform",C),"translate("+r+"px,"+i+"px)"));var f=this.props,h=f.defaultClassName,d=f.defaultClassNameDragging,p=f.defaultClassNameDragged,m=t.Children.only(this.props.children),g=E(m.props.className||"",h,(R(e={},d,this.state.dragging),R(e,p,this.state.dragged),e));return t.createElement(ae,I({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(m,{className:g,style:I({},m.props.style,a),transform:s}))}}]),r}(t.Component);return se.displayName="Draggable",se.propTypes=I({},ae.propTypes,{axis:_.oneOf(["both","x","y","none"]),bounds:_.oneOfType([_.shape({left:_.number,right:_.number,top:_.number,bottom:_.number}),_.string,_.oneOf([!1])]),defaultClassName:_.string,defaultClassNameDragging:_.string,defaultClassNameDragged:_.string,defaultPosition:_.shape({x:_.number,y:_.number}),position:_.shape({x:_.number,y:_.number}),className:k,style:k,transform:k}),se.defaultProps=I({},ae.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),se.default=se,se.DraggableCore=ae,se}(n(41),n(1))},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=n(338),s=l(n(577));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=(t=e/o)*o}if(!r&&!i)return[e,t];var a=e,s=t,l=this.state,u=l.slackW,c=l.slackH;return e+=u,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),c+=s-t,(u+=a-e)===this.state.slackW&&c===this.state.slackH||this.setState({slackW:u,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,l=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),u=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);l&&"w"===t[t.length-1]&&(a=-a),u&&"n"===t[0]&&(s=-s);var c=n.state.width+(l?a:0),f=n.state.height+(u?s:0),h=c!==n.state.width,d=f!==n.state.height;if("onResize"!==e||h||d){var p=n.runConstraints(c,f);c=p[0],f=p[1];var m={};if("onResizeStart"===e)m.resizing=!0;else if("onResizeStop"===e)m.resizing=!1,m.slackW=m.slackH=0;else{if(c===n.state.width&&f===n.state.height)return;m.width=c,m.height=f}"function"==typeof n.props[e]?("function"==typeof r.persist&&r.persist(),n.setState(m,(function(){return n.props[e](r,{node:o,size:{width:c,height:f},handle:t})}))):n.setState(m)}}},t.prototype.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts,l=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),c=u.className?u.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},u,{className:c,children:[n.props.children,l.map((function(t){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))}))]}))},t}(i.default.Component);f.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},f.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},t.default=f},function(e,t,n){t.__esModule=!0,t.getBreakpointFromWidth=function(e,t){for(var n=i(e),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,o,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],u=i(t),c=u.slice(u.indexOf(n)),f=0,h=c.length;f<h;f++){var d=c[f];if(e[d]){l=e[d];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=i;var r=n(131);function i(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},function(e,t,n){e.exports={ResizeSensor:n(342),ElementQueries:n(581)}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};function n(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function r(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var o=function(e,a){var s=0;function l(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}n(e,(function(e){!function(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new l,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var o={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},a={position:"absolute",left:"0px",top:"0px",transition:"0s"};i(e.resizeSensor,o);var u=document.createElement("div");u.className="resize-sensor-expand",i(u,o);var c=document.createElement("div");i(c,a),u.appendChild(c);var f=document.createElement("div");f.className="resize-sensor-shrink",i(f,o);var h=document.createElement("div");i(h,a),i(h,{width:"200%",height:"200%"}),f.appendChild(h),e.resizeSensor.appendChild(u),e.resizeSensor.appendChild(f),e.appendChild(e.resizeSensor);var d,p,m=window.getComputedStyle(e),g=m?m.getPropertyValue("position"):null;"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(e.style.position="relative");var v=r(e),y=0,b=0,_=!0;s=0;var E=function(){if(_){if(0===e.offsetWidth&&0===e.offsetHeight)return void(s||(s=t((function(){s=0,E()}))));_=!1}var n,r;n=e.offsetWidth,r=e.offsetHeight,c.style.width=n+10+"px",c.style.height=r+10+"px",u.scrollLeft=n+10,u.scrollTop=r+10,f.scrollLeft=n+10,f.scrollTop=r+10};e.resizeSensor.resetSensor=E;var w=function(){p=0,d&&(y=v.width,b=v.height,e.resizedAttached&&e.resizedAttached.call(v))},x=function(){v=r(e),(d=v.width!==y||v.height!==b)&&!p&&(p=t(w)),E()},T=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};T(u,"scroll",x),T(f,"scroll",x),s=t(E)}}(e,a)})),this.detach=function(t){s||(window.cancelAnimationFrame(s),s=0),o.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(o.reset=function(e){n(e,(function(e){e.resizeSensor.resetSensor()}))},o.detach=function(e,t){n(e,(function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var a=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&o.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){a.observe(document.body,{childList:!0,subtree:!0})}))}return o})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=f(n(137)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.pMain=o.pMobile,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new c.GLOBALS.PIXI.Graphics,e.text=new c.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}},{key:"destroyTile",value:function(e){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileX,a=i.tileWidth,l=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));e.text.scale.x=l,n.clear();var u=this.dimensions[1],c=this._refXScale(o+a)-this._refXScale(o);e.textGraphics.position.x=this._refXScale(o)+c/2,e.textGraphics.position.y=u/2;var f=this._refXScale(o);n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(f,0),n.lineTo(f,u),n.moveTo(f+c,0),n.lineTo(f+c,u),n.lineStyle(0,255,1),n.drawRect(f,0,c,u)}}}]),t}(u.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileY,a=i.tileHeight,l=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=l,n.clear(),n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],c=this._refYScale(o+a)-this._refYScale(o);e.textGraphics.position.x=u/2,e.textGraphics.position.y=this._refYScale(o)+c/2,n.drawRect(0,this._refYScale(o),u,c)}}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[1],tilePos:n.slice(2,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(c(n(346)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=f(n(254)),c=n(24);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"calculateZoomLevel",value:function(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n);var i=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),o=this.position[0],a=n(0)+this.position[1]-this._refYScale(1)*i;this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=1,this.pMain.scale.y=i}}]),t}(u.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(313);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisTop)(o._xScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(e[1])+")")}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(313);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisLeft)(o._yScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(e[0])+",0)")}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(112)),i=A(n(25)),o=A(n(55)),a=A(n(29)),s=A(n(18)),l=A(n(63)),u=A(n(19)),c=A(n(37)),f=A(n(17)),h=A(n(34)),d=A(n(5)),p=A(n(3)),m=A(n(4)),g=A(n(6)),v=A(n(14)),y=A(n(7)),b=A(n(178)),_=n(8),E=n(28),w=A(n(352)),x=n(157),T=A(n(137)),S=n(24),k=n(10),O=n(11);function A(e){return e&&e.__esModule?e:{default:e}}var C={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},P=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e,n));return r.valueScaleTransform=x.zoomIdentity,r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"initialize",value:function(){if(!this.initialized){var e=[1,1,0];this.prevK=e[0],this.vertK=e[1],this.vertY=e[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=O.HEATED_OBJECT_MAP),this.initialized=!0}}},{key:"initTile",value:function(e){var t=this;e.texts={},e.rectGraphics=new O.GLOBALS.PIXI.Graphics,e.textGraphics=new O.GLOBALS.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);var n=[],r=[];if(e.tileData&&e.tileData.length){if(e.tileData.sort((function(e,t){return t.importance-e.importance})),this.options&&this.options.valueColumn)n=[e.tileData.map((function(e){return{value:e}}))];else{var i=e.tileData.map((function(e){var t=+e.chrOffset;return{from:+e.fields[1]+t,to:+e.fields[2]+t,value:e,text:e.fields[3],strand:e.fields.length>=6&&"-"===e.fields[5]?"-":"+"}}));n=(0,k.segmentsToRows)(i.filter((function(e){return"+"===e.strand}))),r=(0,k.segmentsToRows)(i.filter((function(e){return"-"===e.strand})))}e.plusStrandRows=n,e.minusStrandRows=r,this.options.showTexts&&e.tileData.forEach((function(n,r){var i=n.fields;if(n.importance||(n.importance=Math.random()),e.textWidths={},e.textHeights={},!(r>=(+t.options.maxTexts||50))){var o=new O.GLOBALS.PIXI.Text(i[3],(0,h.default)({},C,{fontSize:+t.options.fontSize||C.fontSize}));t.flipText&&(o.scale.x=-1),o.anchor.x=.5,o.anchor.y=.5,e.texts[n.uid]=o,e.textGraphics.addChild(o)}}))}e.initialized=!0}},{key:"removeTileRects",value:function(e){var t=this,n=+e.tileId.split(".")[0];e.rectGraphics.clear(),e.rendered=!1,e.tileData&&e.tileData.length&&e.tileData.forEach((function(r,i){t.drawnRects[n]&&t.drawnRects[n][r.uid]&&t.drawnRects[n][r.uid][2]===e.tileId&&delete t.drawnRects[n][r.uid]}))}},{key:"destroyTile",value:function(e){this.removeTileRects(e),e.graphics.removeChild(e.textGraphics),e.graphics.removeChild(e.rectGraphics)}},{key:"removeTiles",value:function(e){(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"removeTiles",this).call(this,e)}},{key:"drawTile",value:function(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(e,n){(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"rerender",this).call(this,e,n),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=O.HEATED_OBJECT_MAP;var r=!0,i=!1,o=void 0;try{for(var a,s=(0,f.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;this.destroyTile(l),this.initTile(l),this.renderTile(l)}}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"updateTile",value:function(e){this.areAllVisibleTilesLoaded()&&this.renderTile(e)}},{key:"allVisibleRects",value:function(){var e={};(0,c.default)(this.fetchedTiles).forEach((function(t){if(t.plusStrandRows){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,f.default)(t.plusStrandRows[0]);!(n=(o=a.next()).done);n=!0){var s=o.value;e[s.value.uid]||(e[s.value.uid]=s)}}catch(l){r=!0,i=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}));for(var t=(0,c.default)(e).sort((function(e,t){return e.from-t.from})),n=0,r=0,i=0;i<t.length;i++)if(void 0!==t[i].staggeredStartPosition){n=i,r=t[i].staggeredStartPosition;break}for(var o=n;o<t.length;o++)t[o].staggeredStartPosition=(r+o-n)%2;for(var a=n;a>=0&&t.length;a--)t[a].staggeredStartPosition=(r+n-a)%2;return e}},{key:"drawSegmentStyle",value:function(e,t,n,r,i,o){var a=.1,s=r+i/2,l=[t,r,t+.2,r,t+.2,s-a,n-.2,s-a,n-.2,r,n,r,n,r+i,n-.2,r+i,n-.2,s+a,t+.2,s+a,t+.2,r+i,t,r+i];return e.rectGraphics.drawPolygon(l),l}},{key:"drawPoly",value:function(e,t,n,r,i,o){var a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(e,t,n,r,i,o):(("+"===o||"-"===o)&&n-t<8?(a=[t,r,t+i/2,r+i/2,t,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),e.rectGraphics.drawPolygon(a)):(a="+"===o?[t,r,n-i/2,r,n,r+i/2,n-i/2,r+i,t,r+i]:"-"===o?[t+i/2,r,n,r,n,r+i,t+i/2,r+i,t,r+i/2]:[t,r,n,r,n,r+i,t,r+i],e.rectGraphics.drawPolygon(a)),a)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var n=this.makeValueScale(e,this.calculateMedianVisibleValue(+this.options.valueColumn),t),r=(0,u.default)(n,1);this.valueScale=r[0]}}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&"itemRgb"!==this.options.colorEncoding){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,E.scaleLinear)().domain([e,t]).range([0,255])}}},{key:"renderRows",value:function(e,t,n,r,i,o){var a=+e.tileId.split(".")[0];l.default,this.initialize();var s=(0,E.scaleBand)().domain((0,_.range)(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();var u=null;this.options.staggered&&(u=this.allVisibleRects());for(var c=0;c<t.length;c++)for(var f=0;f<t[c].length;f++){var d=t[c][f].value,p=d.fields,m=+d.chrOffset,g=+p[1]+m,v=+p[2]+m,y=(g+v)/2,b=s(c)+s.step()/2,w=this.options.annotationHeight||16;if("scaled"===w&&(w=s.bandwidth(),this.options.maxAnnotationHeight&&(w=Math.min(w,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&d.fields[8])3===d.fields[8].split(",").length&&(o="rgb("+String(d.fields[8])+")");else if(this.colorValueScale){var x=(0,k.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+p[+this.options.colorEncoding-1]);o="rgba("+String(x.join(","))+")"}if(this.valueScale){var T=+p[+this.options.valueColumn-1];b=this.valueScale(T)}var S=this.options.fillOpacity||.3;e.rectGraphics.lineStyle(1,(0,k.colorToHex)(o),S),e.rectGraphics.beginFill((0,k.colorToHex)(o),S);var O=b-w/2,A=this._xScale(g),P=this._xScale(v);this.options.staggered&&(u[d.uid].staggeredStartPosition?O-=2.5:O+=2.5);var M=!0;if(!(a in this.drawnRects)||!(d.uid in this.drawnRects[a])){M=!1,this.drawnRects[a]||(this.drawnRects[a]={});var R=this.drawPoly(e,A,P,O*this.prevK,w*this.prevK,p[5]);this.drawnRects[a][d.uid]=[R,{start:g,end:v,value:d,tile:e,fill:o},e.tileId]}if(this.options.showTexts){if(!e.texts)return;if(!(f>=(+this.options.maxTexts||50))&&e.texts[d.uid]){var I=e.texts[d.uid];I.position.x=this._xScale(y),I.position.y=O+w/2,I.nominalY=O+w/2,M&&(I.alreadyDrawn=!0);var D=void 0!==this.options.fontColor?(0,k.colorToHex)(this.options.fontColor):o;if(I.style=(0,h.default)({},C,{fill:D,fontSize:+this.options.fontSize||C.fontSize}),!(p[3]in e.textWidths)){I.updateTransform();var N=I.getBounds().width,L=I.getBounds().height;e.textWidths[p[3]]=N,e.textHeights[p[3]]=L-5}}}}}},{key:"renderTile",value:function(e){var t=e.plusStrandRows?e.plusStrandRows.length:1,n=e.minusStrandRows?e.minusStrandRows.length:1,r=!0,i=!1,o=void 0;try{for(var a,s=(0,f.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;if(!l.initialized)return;(l.plusStrandRows||l.minusStrandRows)&&(t=Math.max(l.plusStrandRows.length,t),n=Math.max(l.minusStrandRows.length,n))}}catch(d){i=!0,o=d}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(e.rendered&&this.removeTileRects(e),e.drawnAtScale=this._xScale.copy(),e.rendered=!0,this.setValueScale(),this.setColorValueScale(),e.tileData&&e.tileData.length){var u,c=this.options.plusStrandColor||this.options.fillColor||"blue",h=this.options.minusStrandColor||this.options.fillColor||"purple";u=this.options.separatePlusMinusStrands?t*this.dimensions[1]/(t+n)-0:this.dimensions[1],this.renderRows(e,e.plusStrandRows,t,0,u,c),this.renderRows(e,e.minusStrandRows,n,this.options.separatePlusMinusStrands?u+0:0,this.dimensions[1],h)}k.trackUtils.stretchRects(this,[function(e){return e.rectGraphics}])}},{key:"calculateZoomLevel",value:function(){var e=S.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return Math.max(t,0)}},{key:"minVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.min.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.min.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===o.default&&(r=null),r}},{key:"maxVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.max.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.max.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===l.default&&(r=null),r}},{key:"calculateMedianVisibleValue",value:function(e){var t,n=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var r=this.visibleAndFetchedIds();0===r.length&&(r=(0,s.default)(this.fetchedTiles));var o=(t=[]).concat.apply(t,(0,i.default)(r.map((function(e){return n.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]}))})))).filter((function(e){return e>0}));this.medianVisibleValue=(0,_.median)(o)}},{key:"draw",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(t){var n=e.fetchedTiles[t];if(n.rectGraphics.scale.y=e.vertK,n.rectGraphics.position.y=e.vertY,!n.drawnAtScale)return{v:void 0};k.trackUtils.stretchRects(e,[function(e){return e.rectGraphics}]);var r=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach((function(t){if(n.texts){var i=t.fields,o=i[3],a=n.texts[t.uid];if(a){var s=+t.chrOffset,l=(+i[1]+s+(+i[2]+s))/2;a.position.x=e._xScale(l),a.position.y=a.nominalY*(e.vertK*e.prevK)+e.vertY,r||a.alreadyDrawn?a.visible=!1:(a.visible=!0,e.allBoxes.push([a.position.x-3,a.position.y-n.textHeights[i[3]]/2,a.position.x+n.textWidths[i[3]]+3,a.position.y+n.textHeights[i[3]]/2]),e.allTexts.push({importance:t.importance,text:a,caption:o,strand:i[5]}))}}}))};for(var i in this.fetchedTiles){var o=n(i);switch(o){case"continue":continue;default:if("object"===(void 0===o?"undefined":(0,r.default)(o)))return o.v}}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(e,t){(0,b.default)(e,(function(e,n){t[e].importance>t[n].importance?t[e].text.visible&&(t[n].text.visible=!1):t[n].text.visible&&(t[e].text.visible=!1)}))}},{key:"setPosition",value:function(e){(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,u.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"exportSVG",this)){var i=(0,v.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"exportSVG",this).call(this),o=(0,u.default)(i,2);r=o[0],n=o[1]}else n=r=document.createElement("g");var a=document.createElement("g");a.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(a);var s=document.createElement("g"),l=document.createElement("g");a.appendChild(s),a.appendChild(l);var c=function(t){if(!t.tileData.length)return"continue";t.tileData.forEach((function(n){var r=+t.tileId.split(".")[0],i=document.createElement("g");if(i.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+","+String(t.rectGraphics.position.y)+")scale("+String(t.rectGraphics.scale.x)+","+String(t.rectGraphics.scale.y)+")"),s.appendChild(i),e.drawnRects[r]&&n.uid in e.drawnRects[r]){for(var o=e.drawnRects[r][n.uid][0],a=document.createElement("path"),u="M "+String(o[0])+" "+String(o[1]),c=2;c<o.length;c+=2)u+=" L "+String(o[c])+" "+String(o[c+1]);var f=e.drawnRects[r][n.uid][1].fill,h=void 0!==e.options.fontColor?(0,k.colorToHex)(e.options.fontColor):f;if(a.setAttribute("d",u),a.setAttribute("fill",f),a.setAttribute("opacity",.3),a.style.stroke=f,a.style.strokeWidth="1px",i.appendChild(a),t.texts[n.uid]){var d=t.texts[n.uid];if(!d.visible)return;var p=document.createElement("g"),m=document.createElement("text");l.appendChild(p),p.appendChild(m),p.setAttribute("transform","translate("+String(d.x)+","+String(d.y)+")scale("+String(d.scale.x)+",1)"),m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",C.fontFamily),m.setAttribute("font-size",+e.options.fontSize||C.fontSize),m.setAttribute("font-weight","bold"),m.setAttribute("dy","5px"),m.setAttribute("fill",h),m.setAttribute("stroke",C.stroke),m.setAttribute("stroke-width","0.4"),m.setAttribute("text-shadow","0px 0px 2px grey"),m.innerHTML=d.text}}}))},h=!0,p=!1,m=void 0;try{for(var g,y=(0,f.default)(this.visibleAndFetchedTiles());!(h=(g=y.next()).done);h=!0)c(g.value)}catch(b){p=!0,m=b}finally{try{!h&&y.return&&y.return()}finally{if(p)throw m}}return[r,r]}},{key:"movedY",value:function(e){var t=this;(0,c.default)(this.fetchedTiles).forEach((function(n){var r=t.valueScaleTransform,i=r.y,o=r.k,a=t.dimensions[1];i+e/o>-(o-1)*a&&i+e/o<0&&(t.valueScaleTransform=r.translate(0,e/o)),n.rectGraphics.position.y=t.valueScaleTransform.y,t.vertY=t.valueScaleTransform.y})),this.animate()}},{key:"zoomedY",value:function(e,t){var n=this,r=k.trackUtils.zoomedY(e,t,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=r;var i=r.k,o=r.y,a=!1;((i/=this.prevK)>1.5||i<1/1.5)&&(this.prevK*=i,i=1,a=!0),this.vertK=i,this.vertY=o,(0,c.default)(this.fetchedTiles).forEach((function(e){a&&n.renderTile(e),e.rectGraphics.scale.y=i,e.rectGraphics.position.y=o})),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.calculateZoomLevel(),r=[e,t];if(this.drawnRects[n])for(var i=(0,c.default)(this.drawnRects[n]),o=0;o<i.length;o++){for(var a=i[o][0].slice(0),s=i[o][1].tile.rectGraphics.scale.x,l=i[o][1].tile.rectGraphics.position.x,f=i[o][1].tile.rectGraphics.scale.y,h=i[o][1].tile.rectGraphics.position.y,d=[];a.length;){var p=a.splice(0,2),m=(0,u.default)(p,2),g=m[0],v=m[1];d.push([g*s+l,v*f+h])}if(-1===(0,w.default)(d,r))return i[o][1].value.fields.join(" ")}return""}}]),t}(T.default);t.default=P},function(e,t,n){e.exports={init:function(e){var t=i.nextPow2(e);a.length<t&&(r.free(a),a=r.mallocInt32(t)),s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,c,f,m,g,v){for(var y=0,b=2*e,_=e-1,E=b-1,w=n;w<r;++w){var x=c[w],T=b*w;h[y++]=i[T+_],h[y++]=-(x+1),h[y++]=i[T+E],h[y++]=x}for(w=f;w<m;++w){x=v[w]+(1<<28);var S=b*w;h[y++]=g[S+_],h[y++]=-x,h[y++]=g[S+E],h[y++]=x}var k=y>>>1;o(h,k);var O=0,A=0;for(w=0;w<k;++w){var C=0|h[2*w+1];if(C>=1<<28)d(l,u,A--,C=C-(1<<28)|0);else if(C>=0)d(a,s,O--,C);else if(C<=-(1<<28)){C=-C-(1<<28)|0;for(var P=0;P<O;++P)if(void 0!==(M=t(a[P],C)))return M;p(l,u,A++,C)}else{for(C=-C-1|0,P=0;P<A;++P){var M;if(void 0!==(M=t(C,l[P])))return M}p(a,s,O++,C)}}},sweepComplete:function(e,t,n,r,i,m,g,v,y,b){for(var _=0,E=2*e,w=e-1,x=E-1,T=n;T<r;++T){var S=m[T]+1<<1,k=E*T;h[_++]=i[k+w],h[_++]=-S,h[_++]=i[k+x],h[_++]=S}for(T=g;T<v;++T){S=b[T]+1<<1;var O=E*T;h[_++]=y[O+w],h[_++]=1|-S,h[_++]=y[O+x],h[_++]=1|S}var A=_>>>1;o(h,A);var C=0,P=0,M=0;for(T=0;T<A;++T){var R=0|h[2*T+1],I=1&R;if(T<A-1&&R>>1==h[2*T+3]>>1&&(I=2,T+=1),R<0){for(var D=-(R>>1)-1,N=0;N<M;++N)if(void 0!==(L=t(c[N],D)))return L;if(0!==I)for(N=0;N<C;++N)if(void 0!==(L=t(a[N],D)))return L;if(1!==I)for(N=0;N<P;++N){var L;if(void 0!==(L=t(l[N],D)))return L}0===I?p(a,s,C++,D):1===I?p(l,u,P++,D):2===I&&p(c,f,M++,D)}else D=(R>>1)-1,0===I?d(a,s,C--,D):1===I?d(l,u,P--,D):2===I&&d(c,f,M--,D)}},scanBipartite:function(e,t,n,r,i,l,u,c,f,m,g,v){var y=0,b=2*e,_=t,E=t+e,w=1,x=1;r?x=1<<28:w=1<<28;for(var T=i;T<l;++T){var S=T+w,k=b*T;h[y++]=u[k+_],h[y++]=-S,h[y++]=u[k+E],h[y++]=S}for(T=f;T<m;++T){S=T+x;var O=b*T;h[y++]=g[O+_],h[y++]=-S}var A=y>>>1;o(h,A);var C=0;for(T=0;T<A;++T){var P=0|h[2*T+1];if(P<0){var M=!1;if((S=-P)>=1<<28?(M=!r,S-=1<<28):(M=!!r,S-=1),M)p(a,s,C++,S);else{var R=v[S],I=b*S,D=g[I+t+1],N=g[I+t+1+e];e:for(var L=0;L<C;++L){var F=a[L],j=b*F;if(!(N<u[j+t+1]||u[j+t+1+e]<D)){for(var B=t+2;B<e;++B)if(g[I+B+e]<u[j+B]||u[j+B+e]<g[I+B])continue e;var U,z=c[F];if(void 0!==(U=r?n(R,z):n(z,R)))return U}}}}else d(a,s,C--,P-w)}},scanComplete:function(e,t,n,r,i,s,l,u,c,f,d){for(var p=0,m=2*e,g=t,v=t+e,y=r;y<i;++y){var b=y+(1<<28),_=m*y;h[p++]=s[_+g],h[p++]=-b,h[p++]=s[_+v],h[p++]=b}for(y=u;y<c;++y){b=y+1;var E=m*y;h[p++]=f[E+g],h[p++]=-b}var w=p>>>1;o(h,w);var x=0;for(y=0;y<w;++y){var T=0|h[2*y+1];if(T<0)if((b=-T)>=1<<28)a[x++]=b-(1<<28);else{var S=d[b-=1],k=m*b,O=f[k+t+1],A=f[k+t+1+e];e:for(var C=0;C<x;++C){var P=a[C],M=l[P];if(M===S)break;var R=m*P;if(!(A<s[R+t+1]||s[R+t+1+e]<O)){for(var I=t+2;I<e;++I)if(f[k+I+e]<s[R+I]||s[R+I+e]<f[k+I])continue e;var D=n(M,S);if(void 0!==D)return D}}}else{for(b=T-(1<<28),C=x-1;C>=0;--C)if(a[C]===b){for(I=C+1;I<x;++I)a[I-1]=a[I];break}--x}}}};var r=n(256),i=n(257),o=n(601),a=r.mallocInt32(1024),s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),h=r.mallocDouble(8192);function d(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function p(e,t,n,r){e[n]=r,t[r]=n}},function(e,t,n){e.exports=function(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}},function(e,t,n){e.exports=function(e,t){for(var n=t[0],i=t[1],o=e.length,a=1,s=o,l=0,u=o-1;l<s;u=l++){var c=e[l],f=e[u],h=c[1],d=f[1];if(d<h){if(d<i&&i<h){if(0===(g=r(c,f,t)))return 0;a^=0<g|0}else if(i===h){var p=(m=e[(l+1)%o])[1];if(h<p){if(0===(g=r(c,f,t)))return 0;a^=0<g|0}}}else if(h<d){if(h<i&&i<d){if(0===(g=r(c,f,t)))return 0;a^=g<0|0}else if(i===h){var m=e[(l+1)%o];if((p=m[1])<h){var g;if(0===(g=r(c,f,t)))return 0;a^=g<0|0}}}else if(i===h){var v=Math.min(c[0],f[0]),y=Math.max(c[0],f[0]);if(0===l){for(;u>0;){var b=(u+o-1)%o;if((w=e[b])[1]!==i)break;var _=w[0];v=Math.min(v,_),y=Math.max(y,_),u=b}if(0===u)return v<=n&&n<=y?0:1;s=u+1}for(var E=e[(u+o-1)%o][1];l+1<s;){var w;if((w=e[l+1])[1]!==i)break;_=w[0],v=Math.min(v,_),y=Math.max(y,_),l+=1}if(v<=n&&n<=y)return 0;var x=e[(l+1)%o][1];n<v&&E<i!=x<i&&(a^=1)}}return 2*a-1};var r=n(605)},function(e,t,n){e.exports=function(e,t,n){var i=e*t,o=r*e,a=o-(o-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,f=s*c-(i-a*u-s*u-a*c);return n?(n[0]=f,n[1]=i,n):[f,i]};var r=+(Math.pow(2,27)+1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(19)),i=p(n(17)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),f=n(28),h=p(n(115)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"initTile",value:function(e){e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,f.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,f.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var l=(0,d.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),u=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,l,1);var c=this.options.pointSize?this.options.pointSize:3,h=(0,d.colorToHex)(this.options.pointColor?this.options.pointColor:"red");t.beginFill(h,1),e.drawnAtScale=this._xScale.copy();for(var p=0;p<o.length;p++){var m=this._xScale(u(p)),g=this.valueScale(o[p]+a);if(e.barXValues[p]=m-c/2/this.pMain.scale.x,e.barYValues[p]=g-c/2/this.pMain.scale.y,e.barWidths[p]=c/this.pMain.scale.x,e.barHeights[p]=c/this.pMain.scale.y,u(p)>this.tilesetInfo.max_pos[0])break;t.drawRect(m-c/2/this.pMain.scale.x,g-c/2/this.pMain.scale.y,c/this.pMain.scale.x,c/this.pMain.scale.y)}}}}}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)((0,d.dictValues)(this.fetchedTiles));!(e=(a=s.next()).done);e=!0){var l=a.value,c=(l.drawnAtScale.domain()[1]-l.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),f=this._xScale.domain().map(l.drawnAtScale)[0];l.graphics.scale.x=c,l.graphics.position.x=-f*c}}catch(h){n=!0,r=h}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"exportSVG",value:function(){var e=null,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1],n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var c=!0,f=!1,h=void 0;try{for(var d,p=(0,i.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0)for(var m=d.value,g=0;g<m.barXValues.length;g++){var v=document.createElement("rect"),y=this.options.lineStrokeColor||"blue",b=this.options.pointColor||"red";v.setAttribute("fill",b),v.setAttribute("stroke",y),v.setAttribute("stroke-width",0),v.setAttribute("x",m.barXValues[g]),v.setAttribute("y",m.barYValues[g]),v.setAttribute("height",m.barHeights[g]),v.setAttribute("width",m.barWidths[g]),l.appendChild(v)}}catch(x){f=!0,h=x}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}var _=document.createElement("g");if(_.setAttribute("id","axis"),n.appendChild(_),_.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var E=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);_.appendChild(E)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);_.appendChild(w)}return[n,e]}}]),t}(h.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(29)),i=E(n(37)),o=E(n(112)),a=E(n(18)),s=E(n(34)),l=E(n(35)),u=E(n(5)),c=E(n(3)),f=E(n(4)),h=E(n(6)),d=E(n(14)),p=E(n(7)),m=n(20),g=E(n(133)),v=n(24),y=E(n(138)),b=E(n(611)),_=E(n(179));function E(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e,n){(0,c.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,n));return r.pMain=r.pMobile,r.continuousScaling=!1,r.updateDataFetcher(n),r}return(0,p.default)(t,e),(0,f.default)(t,[{key:"updateDataFetcher",value:function(e){if(e&&e.selectRows&&"server"===e.selectRowsAggregationMethod){var t=this.pubSub,n=this.dataFetcher,r=n.dataConfig.options,i={aggGroups:e.selectRows,aggFunc:e.selectRowsAggregationMode};if((0,l.default)(r)!==(0,l.default)(i)){var o=(0,s.default)({},n.dataConfig,{options:i});this.dataFetcher=new n.constructor(o,t),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles((0,a.default)(this.fetchedTiles).map((function(e){return{tileId:e,remoteId:e}})))}}}},{key:"rerender",value:function(e,n){this.updateDataFetcher(e),(0,d.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"rerender",this).call(this,e,n),e.selectRows&&(this.selectRowsCumWeights=(0,b.default)(e.selectRows,e.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1]):(t.width=this.tilesetInfo.tile_size,t.height=1);var n=t.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height),0!==e.length&&e.length===4*t.width*t.height){var r=new ImageData(e,t.width,t.height);n.putImageData(r,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return t}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),i=r.tileX,o=i+r.tileWidth;e.width=this._refXScale(o)-this._refXScale(i),e.height=this.dimensions[1],e.x=this._refXScale(i),e.y=0}},{key:"leftTrackZoomed",value:function(e,t,n,r,i){var o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"zoomed",value:function(e,n,r,i){(0,d.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=this.position[1],this.pMain.scale.x=r,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=v.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var n=this.xTiles.map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo){var e=this.tilesetInfo.min_pos[0];return this.tilesetInfo.resolutions?v.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e):v.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"getTilePosAtPosition",value:function(e,t){if(this.tilesetInfo){var n=this.calculateZoomLevel(),r=v.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;return[n,Math.floor(i)]}}},{key:"getVisibleData",value:function(e,t){var n=this,r=this.calculateZoomLevel(),a=v.tileProxy.calculateTileWidth(this.tilesetInfo,r,this.tilesetInfo.tile_size),s=this._xScale.invert(e)/a,l=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(l=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var u=this.tilesetInfo.tile_size*(s-Math.floor(s)),c=t/this.dimensions[1],f=c*l,h=Math.floor(f),d=void 0;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(h=this.selectRowsCumWeights.findIndex((function(e,t){return c<=e&&(t===n.selectRowsCumWeights.length-1||n.selectRowsCumWeights[t+1]>=c)}))),d=this.options.selectRows[h]);var p=this.tileToLocalId([r,Math.floor(s)]),g=this.fetchedTiles[p],b="";if(g){this.tilesetInfo.shape||(u=g.tileData.dense.length*(s-Math.floor(s)));var E=null;if(E=this.tilesetInfo.shape?Array.isArray(d)&&"client"===this.options.selectRowsAggregationMethod?d.map((function(e){return n.tilesetInfo.shape[0]*e+Math.floor(u)})):d&&"client"===this.options.selectRowsAggregationMethod?this.tilesetInfo.shape[0]*d+Math.floor(u):this.tilesetInfo.shape[0]*h+Math.floor(u):g.tileData.dense.length*h+Math.floor(u),Array.isArray(E)){var w=(0,_.default)(this.options.selectRowsAggregationMode),x=E.map((function(e){return g.tileData.dense[e]}));b=(0,m.format)(".3f")(w(x)),b+="<br/>",b+=String(E.length)+"-item "+String(this.options.selectRowsAggregationMode)}else b=(0,m.format)(".3f")(g.tileData.dense[E]),Array.isArray(d)&&(b+="<br/>",b+=String(d.length)+"-item "+String(this.options.selectRowsAggregationMode))}if(this.tilesetInfo.row_infos){b+="<br/>";var T="";this.options.selectRows&&!Array.isArray(d)?T=this.tilesetInfo.row_infos[d]:h>=0&&h<this.tilesetInfo.row_infos.length&&(T=this.tilesetInfo.row_infos[h]),"object"===(void 0===T?"undefined":(0,o.default)(T))?b+=(0,i.default)(T).join("\t"):b+=T}return""+String(b)}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.getTilePosAtPosition(e,t),i="";if(this.options&&this.options.heatmapValueScaling&&"categorical"===this.options.heatmapValueScaling&&this.options.colorRange){var o=this.getVisibleData(e,t).split("<br/>"),a=this.options.colorRange[parseInt(o[0],10)-1],s=o[1];if((0,r.default)(a)||"NaN"===a||void 0===a||"undefined"===a)return"";i='<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"\n                 style="fill:'+String(a)+';stroke:black;stroke-width:2;"></svg> '+String(s)}else i+="Data value: "+String(this.getVisibleData(e,t))+"</br>",i+="Zoom level: "+String(n[0])+" tile position: "+String(n[1]);return i}}]),t}(g.default);t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=n(28),u=f(n(258)),c=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"drawTile",value:function(e){this.renderTile(e)}},{key:"renderTile",value:function(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var u=(0,c.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),f=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,u,1);var h,d=this.options.barFillColorTop?this.options.barFillColorTop:"green",p=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",m=(0,c.colorToHex)(d),g=(0,c.colorToHex)(p),v="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy(),h="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete e.svgData;for(var y=0;y<o.length;y++){var b=this._xScale(f(y)),_=this.valueScale(o[y]+a),E=this._xScale(f(y+1))-b;if(_>h?(t.beginFill(g,v),this.addSVGInfo(e,b,h,E,_-h,p)):(t.beginFill(m,v),this.addSVGInfo(e,b,_,E,h-_,d)),f(y)>this.tilesetInfo.max_pos[0])break;t.drawRect(b,e.svgData.barYValues[y],E,e.svgData.barHeights[y])}}}}}}]),t}(u.default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(25)),i=d(n(38)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(7)),c=n(28),f=n(8),h=n(10);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.seen=new i.default,r.pMain=r.pMobile,r.rows=[],r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"uid",value:function(e){return e[e.length-2]}},{key:"segmentOverlap",value:function(e,t){}},{key:"drawAll",value:function(e){var t=this;this.pMain.clear();var n=new i.default,r=e.map((function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})})).filter((function(e){return e})),o=(0,h.segmentsToRows)(r);this.rows=o,this.draw()}},{key:"draw",value:function(){var e=this.rows;if(e){var t=(0,c.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,f.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=t(r),u=s-a,h=l+t.bandwidth()-l;n.drawRect(a,l,u,h)}}}},{key:"allTilesLoaded",value:function(){var e,t=this,n=this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e].tileData.discrete})),i=(e=[]).concat.apply(e,(0,r.default)(n));this.drawAll(i)}},{key:"initTile",value:function(e){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){var t=this;e.tileData.discrete.forEach((function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)}))}},{key:"drawTile",value:function(e){}}]),t}(d(n(137)).default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(19)),o=g(n(38)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),f=g(n(7)),h=g(n(132)),d=g(n(79)),p=n(24),m=n(10);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,i,o,a,s,l,u){var c=u?e._xScale(n.yStart):e._xScale(n.xStart),f=u?e._xScale(n.yEnd):e._xScale(n.xEnd),h=u?e._yScale(n.xStart):e._yScale(n.yStart),d=u?e._yScale(n.xEnd):e._yScale(n.yEnd),p=n.uid+u,m=f-c,g=d-h,v={x:c,y:h,width:m,height:g};r&&(m<r||g<r)&&(v={x:c-r/2,y:h-r/2,width:r,height:r}),e.drawnRects[p]=v;var y=v.x+v.width,b=v.y+v.height;(v.x>i&&v.x<o||y>i&&y<o||v.y>a&&v.y<s||b>a&&b<s)&&(v.width>l||v.height>l)&&(t.drawRect(v.x,v.y,v.width,v.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:p,viewPos:[v.x,v.y,v.width,v.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:e.options.patternType}}))}var y=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));o.drawnRects={};var l=(0,h.default)(),c=l.publish,f=l.subscribe,d=l.unsubscribe;return o.publish=c,o.subscribe=f,o.unsubscribe=d,o}return(0,f.default)(t,e),(0,l.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.remoteId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=e.graphics;if(n){n.clear();var r=(0,m.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),i=(0,m.colorToHex)(this.options.rectangleDomainFillColor||"grey");n.lineStyle(void 0!==this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,r,void 0!==this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(i,void 0!==this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;var o=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,a=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,s=this._xScale.range()[0],l=this._xScale.range()[1],u=this._yScale.range()[0],c=this._yScale.range()[1];e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnRects)})).forEach((function(e){v(t,n,e,o,s,l,u,c,a,"yes"===t.options.flipDiagonal),t.options.flipDiagonal&&"copy"===t.options.flipDiagonal&&v(t,n,e,o,s,l,u,c,a,!0)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var s=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),l=(0,i.default)(s,2);o=l[0],n=l[1]}else n=o=document.createElement("g");var u=document.createElement("g");u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(u);for(var f=function(t){var n=function(n){if(!n.tileData||!n.tileData.length)return"continue";n.tileData.forEach((function(r){var i=r.uid+t,o=document.createElement("g");if(o.setAttribute("transform","translate("+String(n.graphics.position.x)+","+String(n.graphics.position.y)+")scale("+String(n.graphics.scale.x)+","+String(n.graphics.scale.y)+")"),u.appendChild(o),i in e.drawnRects){var a=e.drawnRects[i],s=document.createElement("rect");s.setAttribute("x",a.x),s.setAttribute("y",a.y),s.setAttribute("width",a.width),s.setAttribute("height",a.height),s.setAttribute("fill",e.options.rectangleDomainFillColor?e.options.rectangleDomainFillColor:"grey"),s.setAttribute("opacity",.3),s.style.stroke="black",s.style.strokeWidth="1px",o.appendChild(s)}}))},i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.visibleAndFetchedTiles());!(i=(s=l.next()).done);i=!0)n(s.value)}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}},h=[!0,!1],d=0;d<h.length;d++)f(h[d]);return[o,o]}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale().domain()[0]===e.domain()[0]&&this.xScale().domain()[1]===e.domain()[1]&&this.yScale().domain()[0]===t.domain()[0]&&this.yScale().domain()[1]===t.domain()[1]||(this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(d.default);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(25)),i=v(n(38)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),f=v(n(7)),h=v(n(132)),d=v(n(79)),p=n(11),m=n(24),g=n(10);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.pubSub;r.drawnAnnotations={},r.drawnAnnoGfx={},r.selectedAnno=null,r.options.minSquareSize=+r.options.minSquareSize;var o=(0,h.default)(),l=o.publish,c=o.subscribe,f=o.unsubscribe;return r.publish=l,r.subscribe=c,r.unsubscribe=f,r.sT=0,r.annoSelectedBound=r.annoSelected.bind(r),r.pubSubs.push(i.subscribe("annoSelected",r.annoSelectedBound)),r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"projection",value:function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return[this._xScale(n),this._yScale(r)]}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=m.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=m.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,g.min)((0,g.max)(e,t),this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var e=this.zoomLevel,t=[],n=0;n<this.xTiles.length;n++)for(var r=0;r<this.yTiles.length;r++)t.push([e,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(t)}}},{key:"draw",value:function(){this.drawnAnnotations={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.graphics){e.graphics.__tile__=e;var i=e.graphics;i.clear(),this.setBorderStyle(i),this.setFill(i),i.alpha=+this.options.rectangleDomainOpacity,e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnAnnotations)||n})).forEach((function(e){var n=t.projection([e.xStart,e.yStart]),a=(0,o.default)(n,2),s=a[0],l=a[1],u=t.projection([e.xEnd,e.yEnd]),c=(0,o.default)(u,2),f=c[0],h=c[1];t.options.exclude&&t.options.exclude.indexOf(e.uid)>=0||t.drawAnnotation(t.prepAnnotation(i,e.uid,s,l,f-s,h-l,e),r)}))}}},{key:"prepAnnotation",value:function(e,t,n,r,i,o,a){var s=void 0;try{s=JSON.parse(a.fields)}catch(l){}return{graphics:e,id:a.id,uid:t,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}},{key:"drawAnnotation",value:function(e,t){var n=this,r=e.graphics,i=e.id,o=e.uid,a=e.annotation,s=e.dataPos,l=e.importance,u=e.info;this.options.minSquareSize&&(a.width<this.options.minSquareSize||a.height<this.options.minSquareSize)&&(a.x=(a.x+a.width)/2,a.y=(a.y+a.height)/2,a.width=this.options.minSquareSize,a.height=this.options.minSquareSize),this.drawnAnnotations[o]=a;var c=[a.x,a.y,a.width,a.height],f=this.drawnAnnoGfx[o];f||(f=new p.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[o]=f),-1===r.children.indexOf(f)&&r.addChild(f),this._drawRect(f,c,o),r.interactive=!0,f.interactive=!0,f.buttonMode=!0;var h={id:i,uid:o,dataPos:s,importance:l,info:u,viewPos:[a.x,a.y,a.x+a.width,a.y+a.height]};f.mouseover=function(){return n.hover(f,c,o)},f.mouseout=function(){return n.blur(f,c,o)},f.mousedown=function(){return n.mouseDown()},f.mouseup=function(e){return n.mouseUp(f,c,o,e,h)},t||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:o,annotationId:i,viewPos:c,dataPos:s,importance:l,info:u})}},{key:"_drawRect",value:function(e,t,n){var i=this.options.rectangleDomainStrokeColor,o=this.options.rectangleDomainStrokeWidth,a=this.options.rectangleDomainStrokeOpacity,s=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(i=this.options.hoverColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(i=this.options.selectColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.selectColor,l=(0,g.max)(.33,this.options.rectangleDomainFillOpacity)),e.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(e,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(e,s,0),e.drawRect.apply(e,(0,r.default)(t))),this.setBorderStyle(e,i,o,a),this.setFill(e,s,l),e.drawRect.apply(e,(0,r.default)(t)),e.__viewPos__=t}},{key:"context",value:function(e,t,n){return function(r){return r(e,t,n)}}},{key:"click",value:function(e,t,n,r,i){this.select(e,t,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(e,t,n,r,i){performance.now()-this.sT<=250&&this.click(e,t,n,r,i)}},{key:"hover",value:function(e,t,n){this.hoveredAnno=n,this._drawRect(e,t,n),this.animate()}},{key:"focus",value:function(e,t,n){this._drawRect(e,t,n),this.animate()}},{key:"blur",value:function(e,t,n){this.hoveredAnno=null,this._drawRect(e,t,n),this.animate()}},{key:"select",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:e,uid:n},this.focus(e,t,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}},{key:"unselect",value:function(){var e=this.selectedAnno.graphics,t=this.selectedAnno.uid;this.selectedAnno=null,this.blur(e,e.__viewPos__,t)}},{key:"annoSelected",value:function(e){if(!this.selectedAnno||this.selectedAnno.uid!==e){this.selectedAnno&&this.unselect();var t=this.drawnAnnoGfx[e];t&&this.select(t,t.__viewPos__,e,!0)}}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);r=s[0],n=s[1]}else n=r=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.tileData&&e.tileData.length})).map((function(e){return{graphics:e.graphics,td:e.tileData}})).forEach((function(t){var n=t.td,r=t.graphics,i=document.createElement("g");if(i.setAttribute("transform","translate("+String(r.position.x)+","+String(r.position.y)+")scale("+String(r.scale.x)+","+String(r.scale.y)+")"),l.appendChild(i),n.uid in e.drawnAnnotations){var o=e.drawnAnnotations[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor||"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor||"grey",a.style.strokeWidth="1px",i.appendChild(a)}})),[r,r]}},{key:"setBorderStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainStrokeColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainStrokeWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.rectangleDomainStrokeOpacity;e.lineStyle(void 0!==n?n:1,(0,g.colorToHex)(t||"black"),void 0!==r?r:1)}},{key:"setFill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainFillColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainFillOpacity;e.beginFill((0,g.colorToHex)(t||"grey"),void 0!==n?n:.4)}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){return this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1])||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}}]),t}(d.default);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),f=p(n(79)),h=n(24),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r.pMain=r.pMobile,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/Math.pow(2,r),o=[],a=0;a<t.length;a++)for(var s=a;s<n.length;s++)if(!((s-a-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var l=[r,t[a],n[s]];l.mirrored=!1,o.push(l)}this.setVisibleTiles(o)}}},{key:"initTile",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,d.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),i=(0,d.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(i,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(e.tileData);!(o=(l=u.next()).done);o=!0){var c=l.value,f=this._refXScale(c.xStart),h=this._refXScale(c.xEnd),p=this._refYScale(c.yStart),m=this._refYScale(c.yEnd),g=c.uid;this.drawnRects.has(g)||(this.drawnRects.add(g),t.drawRect(f,p,h-f,m-p),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(v){a=!0,s=v}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(f.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),f=p(n(79)),h=n(24),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=h.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=h.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(e){}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,d.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.tileData);!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._xScale(u.xStart),f=this._xScale(u.xEnd),h=this._yScale(u.yStart),p=this._yScale(u.yEnd),m=u.uid;if(!this.drawnRects.has(m)){this.drawnRects.add(m);var g=p-h,v=f-c,y=(c+f)/2,b=(h+p)/2;g<6&&(g=6),v<6&&(v=6),t.drawRect(y-g/2,b-v/2,g,v)}}}catch(_){o=!0,a=_}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}}]),t}(f.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(37)),i=w(n(19)),o=w(n(18)),a=w(n(618)),s=w(n(35)),l=w(n(5)),u=w(n(3)),c=w(n(4)),f=w(n(6)),h=w(n(14)),d=w(n(7)),p=w(n(178)),m=n(28),g=n(20),v=w(n(44)),y=w(n(73)),b=w(n(139)),_=n(10),E=n(11);function w(e){return e&&e.__esModule?e:{default:e}}var x=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.dataConfig,o=e.animate,a=e.chromInfoPath,s=e.isShowGlobalMousePosition;r.searchField=null,r.chromInfo=null,r.dataConfig=i,r.pTicks=new E.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.pTicks),r.gTicks={},r.tickTexts={},r.options=n,r.isShowGlobalMousePosition=s,r.textFontSize=12,r.textFontFamily="Arial",r.textFontColor="#808080",r.textStrokeColor=r.getTheme()===E.THEME_DARK?"#000000":"#ffffff",r.pixiTextConfig={fontSize:+r.options.fontSize?+r.options.fontSize+"px":String(r.textFontSize)+"px",fontFamily:r.textFontFamily,fill:r.options.color||r.textFontColor,lineJoin:"round",stroke:r.options.stroke||r.textStrokeColor,strokeThickness:2},r.stroke=(0,_.colorToHex)(r.pixiTextConfig.stroke),r.tickWidth=200,r.tickHeight=6,r.tickTextSeparation=2,r.tickColor=r.options.tickColor?(0,_.colorToHex)(r.options.tickColor):7829367,r.animate=o,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,_.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition()));var c=a;return c||(c=String(i.server)+"/chrom-sizes/?id="+String(i.tilesetUid)),(0,y.default)(c,(function(e){r.chromInfo=e,r.searchField=new b.default(r.chromInfo),r.rerender(r.options,!0),r.draw(),r.animate()}),r.pubSub),r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new E.GLOBALS.PIXI.Graphics,this.leftBoundTick=new E.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new E.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new E.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var e=0;e<this.chromInfo.cumPositions.length;e++){var t=this.chromInfo.cumPositions[e].chr;this.gTicks[t]=new E.GLOBALS.PIXI.Graphics,this.tickTexts[t]||(this.tickTexts[t]=[]);var n=new E.GLOBALS.PIXI.Text(t,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[t]),this.texts.push(n)}}}},{key:"rerender",value:function(e,n){var r=(0,s.default)(e);(n||r!==this.prevOptions)&&(this.prevOptions=r,this.options=e,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,_.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,_.colorToHex)(this.options.tickColor):7829367,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"rerender",this).call(this,e,n),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,_.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(e){var t=this._xScale.domain(),n=t[1]-t[0],r=(0,g.precisionPrefix)(e,n),i=(0,g.format)(","),o=(0,g.formatPrefix)(",."+String(r),n),a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}},{key:"drawBoundsTicks",value:function(e,t){var n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);var r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=String(e[0])+": "+String(this.formatTick(e[1])),this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(t[0])+": "+String(this.formatTick(t[1])),this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(e){var t=this.gTicks[e.chr];t.visible=!0,t.clear();var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,s=(0,m.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i).ticks(o).filter((function(e){return(0,a.default)(e)})),l=this.tickTexts[e.chr],u=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,c=this.flipText?-1:1,f=this.options.fontIsLeftAligned?4*c:0,h=this.options.fontIsLeftAligned?0:u+this.tickTextSeparation;for(this.options.reverseOrientation&&(h=this.dimensions[1]-h);l.length<s.length;){var d=new E.GLOBALS.PIXI.Text("",this.pixiTextConfig);l.push(d),this.gTicks[e.chr].addChild(d)}for(;l.length>s.length;){var p=l.pop();this.gTicks[e.chr].removeChild(p)}for(var g=0;g<s.length;){l[g].visible=!0,l[g].anchor.x=this.options.fontIsLeftAligned?0:.5,l[g].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(l[g].scale.x=-1),l[g].x=this._xScale(e.pos+s[g])+f,l[g].y=this.dimensions[1]-h,l[g].text=0===s[g]?String(e.chr)+": 1":String(e.chr)+": "+String(this.formatTick(s[g]));var v=this._xScale(e.pos+s[g]);l[g].tickLine=[v-1,this.dimensions[1],v-1,this.dimensions[1]-u-1];var y=this.options.reverseOrientation?0:this.dimensions[1],b=this.options.reverseOrientation?u:this.dimensions[1]-u;t.lineStyle(1,this.stroke),t.moveTo(v-1,y),t.lineTo(v-1,b-1),this.options.fontIsLeftAligned?(t.lineTo(v+2*c+1*c,b-1),t.lineTo(v+2*c+1*c,b+1),t.lineTo(v+1,b+1)):t.lineTo(v+1,b-1),t.lineTo(v+1,y),t.lineStyle(1,this.tickColor),t.moveTo(v,y),t.lineTo(v,b),this.options.fontIsLeftAligned&&t.lineTo(v+2*c,b),g+=1}for(;g<l.length;)l[g].visible=!1,g+=1;return s.length}},{key:"draw",value:function(){var e=this;if(this.allTexts=[],this.texts&&this.searchField){var t=(0,_.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,_.absToChr)(this._xScale.domain()[1],this.chromInfo);if(t&&n){if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(t,n)}if(this.pTicks){for(var r=0;r<this.texts.length;r++)this.texts[r].visible=!1,this.gTicks[this.chromInfo.cumPositions[r].chr].visible=!1;var i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),(0,o.default)(this.chromInfo.chrPositions).forEach((function(t){if(e.tickTexts[t])for(var n=0;n<e.tickTexts[t].length;n++)e.tickTexts[t][n].visible=!1}));for(var a=t[3];a<=n[3];a++){var s=this.chromInfo.cumPositions[a],l=s.pos+this.chromInfo.chromLengths[s.chr]/2,u=this._xScale(l),c=this.texts[a];c.anchor.x=this.options.fontIsLeftAligned?0:.5,c.anchor.y=this.options.reverseOrientation?0:1,c.x=u,c.y=this.dimensions[1]-i,c.updateTransform(),this.flipText&&(c.scale.x=-1);var f=this.drawTicks(s);c.visible=f<=0,this.allTexts.push({importance:c.hashValue,text:c,caption:null})}this.hideOverlaps(this.allTexts)}}else console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e,t){var n=e.text;n.updateTransform();var r=n.getBounds();return[r.x,r.y,r.x+r.width,r.y+r.height]})),(0,p.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this)){var a=(0,h.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);o=s[0],n=s[1]}else n=o=document.createElement("g");o.setAttribute("class","chromosome-labels");var u=document.createElement("g");return n.appendChild(u),u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(e){var t=(0,_.pixiTextToSvg)(e.text);u.appendChild(t)})),(0,r.default)(this.tickTexts).forEach((function(t){t.filter((function(e){return e.visible})).forEach((function(t){var n=(0,_.pixiTextToSvg)(t);u.appendChild(n),n=(0,_.svgLine)(t.x,e.options.reverseOrientation?0:e.dimensions[1],t.x,e.options.reverseOrientation?e.tickHeight:e.dimensions[1]-e.tickHeight,1,e.tickColor);var r=document.createElement("line");r.setAttribute("x1",t.tickLine[0]),r.setAttribute("y1",t.tickLine[1]),r.setAttribute("x2",t.tickLine[2]),r.setAttribute("y2",t.tickLine[3]),r.setAttribute("style","stroke: grey"),u.appendChild(n),u.appendChild(r)}))})),[o,n]}}]),t}(v.default);t.default=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(17)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),f=m(n(133)),h=n(24),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate;return r.pMain=r.pMobile,r.colorScale=p.HEATED_OBJECT_MAP,r.continuousScaling=!1,n&&n.colorRange&&(r.colorScale=(0,d.colorDomainToRgbaArray)(n.colorRange)),r.animate=i,r.options=n,r.pubSubs=[],r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){var e=null;if(this.tilesetInfo.resolutions){var t=h.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=h.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.min(t,n)}else{var r=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.max(r,i),e=Math.min(e,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?e=Math.min(this.options.maxZoom,e):console.error("Invalid maxZoom on track:",this)),e}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=h.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=h.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width/Math.pow(2,i),a=[],s=0;s<n.length;s++)for(var l=s;l<r.length;l++)if(!((l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var u=[i,n[s],r[l]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",a.push(u)}this.setVisibleTiles(a)}}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=o+i.tileWidth,l=a+i.tileHeight;e.width=this._refXScale(s)-this._refXScale(o),e.height=this._refYScale(l)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}},{key:"pixDataFunction",value:function(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData),i="4"===p.GLOBALS.PIXI.VERSION[0]?p.GLOBALS.PIXI.Texture.fromCanvas(r,p.GLOBALS.PIXI.SCALE_MODES.NEAREST):p.GLOBALS.PIXI.Texture.from(r,{scaleMode:p.GLOBALS.PIXI.SCALE_MODES.NEAREST});e.sprite=new p.GLOBALS.PIXI.Sprite(i),e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0,n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){var e,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,i.default)(a,2);e=s[0],n=s[1];var l=document.createElement("g");n.appendChild(l),l.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var c=!0,f=!1,h=void 0;try{for(var d,p=(0,r.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0){var m=d.value,g=document.createElement("g"),v=m.graphics,y=180*v.rotation/Math.PI,b="translate("+String(v.position.x)+","+String(v.position.y)+") rotate("+y+") scale("+String(v.scale.x)+","+String(v.scale.y)+") translate("+-v.pivot.x+","+-v.pivot.y+")";g.setAttribute("transform",b);var _=180*m.sprite.rotation/Math.PI,E=document.createElement("g");E.setAttribute("transform","translate("+String(m.sprite.x)+","+String(m.sprite.y)+") rotate("+_+") scale("+String(m.sprite.scale.x)+","+String(m.sprite.scale.y)+")");var w=document.createElement("image");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.canvas.toDataURL()),w.setAttribute("width",256),w.setAttribute("height",256),E.appendChild(w),g.appendChild(E),l.appendChild(g)}}catch(T){f=!0,h=T}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}var x=this.exportColorBarSVG();return n.appendChild(x),[e,e]}}]),t}(f.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(29)),i=m(n(25)),o=m(n(18)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(7)),f=n(28),h=m(n(115)),d=m(n(177)),p=n(10);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n));return r.axis=new d.default(r),r.pBase.addChild(r.axis.pAxis),r}return(0,c.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}},{key:"drawTile",value:function(e){var t=this;if(e.graphics){var n=e.graphics;n.clear(),this.valueScale=(0,f.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);var r=(0,p.colorToHex)("black");n.lineStyle(1,r,.3),n.beginFill(r,.3),this.drawAxis(this.valueScale),e.tileData.forEach((function(e){var r=e.fields,i=+e.chrOffset,o=+r[1]+i,a=+r[2]+i,s=+r[3],l=t._xScale(o),u=t._xScale(a),c=Math.max(u-l,4),f=t.valueScale(s),h=(u+l)/2;n.drawRect(h-c/2,f-3,c,6)}))}}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.min.apply(null,t.map((function(t){return+Math.min.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.max.apply(null,t.map((function(t){return+Math.max.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}}]),t}(h.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),f=p(n(44)),h=p(n(260)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.VerticalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawVerticalRule",value:function(e){var t=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,d.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[1];)e.moveTo(this._xScale(this.xPosition),n),e.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(e){return Math.abs(e.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.xPosition=e.xPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawVerticalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","vertical-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]),l.appendChild(c),[n,e]}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&this.isMouseOverVerticalLine(e),this.draw()}}]),t}((0,c.mix)(f.default).with(h.default,m));t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.accessToken||(o.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",o.drawError()),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"rerender",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"rerender",this).call(this,e),e.style!==this.style&&(this.style=e.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(e){var t=this.options&&this.options.style?this.options.style:"streets-v10",n=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(t)+"/tiles/"+n+"/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+"?access_token="+String(this.options.accessToken)}}]),t}(u(n(140)).default);t.default=c},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){var r=n(82),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(1))&&r.__esModule?r:{default:r};n(655),t.default=function(){return i.default.createElement("div",{className:"Cross-module_cross-3WYME"})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=n(81),c=h(n(666)),f=n(182);function h(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.Mixin)((function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){var e=this;if(this.state.submenuShown){var t,n=this.state.submenuSourceBbox;t="left"===this.state.orientation?{left:this.state.left,top:n.top}:{left:this.state.left+n.width+7,top:n.top};var r=(0,f.getAllTracksAndSubtracks)(this.props.tracks).filter((function(t){return t.uid===e.state.submenuShown.uid}))[0],i=r&&!("whole"===r.position);return l.default.createElement(c.default,{key:"series-list-menu-"+String(r.uid),ref:function(t){e.seriesListMenu=t},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:i?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){return e.props.onCloseTrack(e.state.submenuShown.uid)},onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:n,position:t,series:this.state.submenuShown,theme:this.props.theme,track:r,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return l.default.createElement("div",null)}}]),t}(e)}));t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(30)),u=d(n(1)),c=d(n(95)),f=d(n(67)),h=n(11);function d(e){return e&&e.__esModule?e:{default:e}}n(68);var p={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},m=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return u.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n,theme:this.props.theme})}return u.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n=function(n){var r=e.props.menuItems[n];t.push(u.default.createElement(f.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))};for(var r in this.props.menuItems)n(r);var i="context-menu";return this.props.theme===h.THEME_DARK&&(i+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},style:{left:this.state.left,top:this.state.top},className:(0,l.default)(i,p)},t,this.getSubmenu())}}]),t}(c.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(5)),i=E(n(3)),o=E(n(4)),a=E(n(6)),s=E(n(7)),l=E(n(30)),u=E(n(2)),c=E(n(1)),f=n(83),h=n(0),d=E(n(27)),p=E(n(376)),m=E(n(668)),g=E(n(378)),v=n(10),y=n(11),b=(E(n(672)),E(n(174))),_=E(n(173));function E(e){return e&&e.__esModule?e:{default:e}}var w={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},x=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,f.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,e.rangeSelectionEnd),this.state!==t)}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,v.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(h.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&h.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,h.event.selection&&h.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(h.event.selection)),h.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.height})).reduce(v.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(v.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,h.select)(t)},style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,w)}),c.default.createElement(p.default,{className:String(b.default.list)+" "+String(b.default.stylizedList),component:g.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:b.default.stylizedHelper,itemClass:b.default.stylizedItem,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||d.default.nice(),width:e.props.width,height:t.height,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}},{key:"sourceEvent",get:function(){return h.event&&h.event.sourceEvent}}]),t}(c.default.Component);x.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,width:u.default.number},t.default=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(34)),i=h(n(5)),o=h(n(3)),a=h(n(4)),s=h(n(6)),l=h(n(7)),u=h(n(2)),c=h(n(1)),f=n(124);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){var n=e.items;(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.state={items:n,isSorting:!1},r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"onSortStart",value:function(e,t){e.node;var n=e.index;e.collection,t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,f.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){var e=this,t=this.props.component,n=this.state,i=n.items,o={isSorting:n.isSorting,items:i,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return c.default.createElement(t,(0,r.default)({},this.props,o,{ref:function(t){e.ref=t}}))}}]),t}(c.default.Component);d.propTypes={axis:u.default.string,className:u.default.string,component:u.default.func,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,height:u.default.number,helperClass:u.default.string,itemClass:u.default.string,itemControlAlignLeft:u.default.bool,itemReactClass:u.default.func,items:u.default.array,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onSortEnd:u.default.func,onSortStart:u.default.func,referenceAncestor:u.default.string,resizeHandles:u.default.object,useDragHandle:u.default.bool,width:u.default.number},d.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(264)),c=f(n(171));function f(e){return e&&e.__esModule?e:{default:e}}var h={pointerEvents:"all"},d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:h,imgStyleClose:h,imgStyleMove:h,imgStyleSettings:h,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(34)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n(124).SortableContainer)((function(e){var t=e.className,n=e.items,o=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,l=e.useDragHandle,u=e.sortableHandlers,c=e.height,f=e.width,h=e.onCloseTrack,d=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,m=e.onAddSeries,g=e.handleConfigTrack,v=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,_=e.resizeHandles,E=n.map((function(e,t){return i.default.createElement(y,{key:"sci-"+String(e.uid),className:o,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:l,onCloseTrack:h,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:p,onAddSeries:m,handleConfigTrack:g,editable:v,handleResizeTrack:b,resizeHandles:_})}));return i.default.createElement("div",(0,r.default)({className:t,style:{height:c,width:f,background:"transparent"}},u),E)}));t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(264)),c=f(n(171));function f(e){return e&&e.__esModule?e:{default:e}}var h={pointerEvents:"all"},d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{imgStyleAdd:h,imgStyleClose:h,imgStyleMove:h,imgStyleSettings:h,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=d},function(e,t,n){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(e,t,n){var r=n(693),i=n(265),o=n(697),a=n(382),s=n(383),l=n(698),u=n(699),c=n(720),f=n(116);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return x(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n,r,i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||(n=this,r=n._opts.meta,n._opts.defaultMeta="object"==typeof r?n._getId(r)||r:n.getSchema(p)?p:void 0,n._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var o=this.validate(i,e);if(!o&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return o},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&r&&x(this,u);var c,f=!1!==this._opts.validateSchema&&!t;f&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),d=new a({id:u,schema:e,localRefs:h,cacheKey:s,meta:n});return"#"!=u[0]&&r&&(this._refs[u]=d),this._cache.put(s,d),f&&c&&this.validateSchema(e,!0),d},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(721);var h=n(722);v.prototype.addKeyword=h.add,v.prototype.getKeyword=h.get,v.prototype.removeKeyword=h.remove,v.prototype.validateKeyword=h.validate;var d=n(267);v.ValidationError=d.Validation,v.MissingRefError=d.MissingRef,v.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=f.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:T,warn:T,error:T};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return _;default:return E}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=f.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=n(724),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(389);e._opts.$data&&(r=c(r,g)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function E(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function T(){}},function(e,t,n){var r=n(116);e.exports=function(e){r.copy(e,this)}},function(e,t,n){e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var u=e.level,c=e.dataLevel,f=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),d=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,m="data"+(c||""),g="valid"+u;if(!1===e.schema){e.isTop?p=!0:r+=" var "+g+" = false; ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;if(u=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((c=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}g="valid"+u,p=!e.opts.allErrors;var _="",E="",w=e.schema.type,x=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],x=!0)),x&&1==w.length&&(w=w[0],x=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var T=e.util.coerceToTypes(e.opts.coerceTypes,w);var S=e.RULES.types[w];if(T||x||!0===S||S&&!Q(S)){h=e.schemaPath+".type",d=e.errSchemaPath+"/type",h=e.schemaPath+".type",d=e.errSchemaPath+"/type";var k=x?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[k](w,m,!0)+") { ",T){var O="dataType"+u,A="coerced"+u;r+=" var "+O+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+O+" == 'object' && Array.isArray("+m+")) "+O+" = 'array'; "),r+=" var "+A+" = undefined; ";var C="",P=T;if(P)for(var M,R=-1,I=P.length-1;R<I;)M=P[R+=1],R&&(r+=" if ("+A+" === undefined) { ",C+="}"),"array"==e.opts.coerceTypes&&"array"!=M&&(r+=" if ("+O+" == 'array' && "+m+".length == 1) { "+A+" = "+m+" = "+m+"[0]; "+O+" = typeof "+m+";  } "),"string"==M?r+=" if ("+O+" == 'number' || "+O+" == 'boolean') "+A+" = '' + "+m+"; else if ("+m+" === null) "+A+" = ''; ":"number"==M||"integer"==M?(r+=" if ("+O+" == 'boolean' || "+m+" === null || ("+O+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==M&&(r+=" && !("+m+" % 1)"),r+=")) "+A+" = +"+m+"; "):"boolean"==M?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+A+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+A+" = true; ":"null"==M?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==M&&(r+=" if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+m+" == null) "+A+" = ["+m+"]; ");r+=" "+C+" if ("+A+" === undefined) {   ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+A+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+A+"; } "}else(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",E+="}");else{var N=e.RULES;if(N)for(var L=-1,F=N.length-1;L<F;)if(Q(S=N[L+=1])){if(S.type&&(r+=" if ("+e.util.checkDataType(S.type,m)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){f=e.schema.properties;var j=Object.keys(f);if(j)for(var B,U=-1,z=j.length-1;U<z;)if(void 0!==(V=f[B=j[U+=1]]).default){var H=m+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(e.schema.items)){var G=e.schema.items;if(G){R=-1;for(var V,$=G.length-1;R<$;)if(void 0!==(V=G[R+=1]).default)if(H=m+"["+R+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}var X,W=S.rules;if(W)for(var Y,q=-1,K=W.length-1;q<K;)if(J(Y=W[q+=1])){var Z=Y.code(e,Y.keyword,S.type);Z&&(r+=" "+Z+" ",p&&(_+="}"))}p&&(r+=" "+_+" ",_=""),S.type&&(r+=" } ",w&&w===S.type&&!T)&&(r+=" else { ",h=e.schemaPath+".type",d=e.errSchemaPath+"/type",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=x?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=X.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",E+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+E+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+u+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==t,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],g=e.opts.$data&&m&&m.$data,v=d?"<":">",y=d?">":"<",b=void 0;if(g){var _,E=e.util.getData(m.$data,a,e.dataPathArr),w="exclusive"+o,x="exclType"+o,T="exclIsNumber"+o,S="' + "+(O="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+E+"; ",i+=" var "+w+"; var "+x+" = typeof "+(E="schemaExcl"+o)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+E+" "+v+"= "+r+") ? "+f+" "+y+"= "+E+" : "+f+" "+y+" "+r+" ) : ( ("+w+" = "+E+" === true) ? "+f+" "+y+"= "+r+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(b=p,u=e.errSchemaPath+"/"+p,r=E,h=g)}else if(S=v,(T="number"==typeof m)&&h){var O="'"+S+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+f+" "+y+"= "+m+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { "}else T&&void 0===s?(w=!0,b=p,u=e.errSchemaPath+"/"+p,r=m,y+="="):(T&&(r=Math[d?"min":"max"](m,s)),m===(!T||r)?(w=!0,b=p,u=e.errSchemaPath+"/"+p,y+="="):(w=!1,S+="=")),O="'"+S+"'",i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+" "+y+" "+r+" || "+f+" !== "+f+") { ";return b=b||t,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+O+", limit: "+r+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+d+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgHorizontalLineIcon=t.svgHorizontal1dHeatmap=t.svgGeoMapIcon=t.all=t.FOLDER_OPEN_O=t.FOLDER_O=t.CHEVRON_DOWN=t.CHEVRON_RIGHT=t.FILE_O=t.SQUARE_O=t.CHECK_SQUARE_O=t.SELECT=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0;var r=n(0),i=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},o=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},a=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},s=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},l=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},u=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},c=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},f=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},h=(t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"},t.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]}),d=t.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},p=t.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},m=t.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},g=t.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},v=t.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},y=t.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},b=t.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},_=(t.all=[i,o,a,s,l,u,c,f,h,d,p,m,y,b,g,v],new DOMParser),E=(t.svgGeoMapIcon=_.parseFromString('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',"text/xml").documentElement,t.svgHorizontal1dHeatmap=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n',"text/xml").documentElement,t.svgHorizontalLineIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DTilesIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DHeatmapIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n'),w=(t.svg1DAxisIcon=_.parseFromString(E,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,r.select)(_.parseFromString(E,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgGeneAnnotationsIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n');t.svg1DTilesIcon=_.parseFromString(w,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,r.select)(_.parseFromString(w,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgArrowheadDomainsIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(26))},function(e,t,n){var r=n(393),i=n(118);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(738)();e.exports=r},function(e,t,n){var r=n(739),i=n(183),o=n(31),a=n(184),s=n(142),l=n(270),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(143);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(96),i=n(275),o=n(56),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(773),i=n(56);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(774),i=n(402),o=n(777);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var d=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++d<c;){var g=e[d],v=t[d];if(a)var y=u?a(v,g,d,t,e,l):a(g,v,d,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,l)))return m.push(t)}))){p=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(40).Uint8Array;e.exports=r},function(e,t,n){var r=n(405),i=n(279),o=n(118);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(278),i=n(31);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(98)(n(40),"WeakMap");e.exports=r},function(e,t,n){var r=n(45);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(793),i=n(794);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(98),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){(function(e){var r=n(40),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(170)(e))},function(e,t,n){var r=n(278),i=n(275),o=n(279),a=n(406),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(285);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(196),i=n(275),o=n(185);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(284),i=n(119);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(289),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(45),i=n(840),o=n(421),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,h,d,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,h=setTimeout(E,t),m?y(e):f}function _(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-p>=c}function E(){var e,n,r=i();if(_(r))return w(r);h=setTimeout(E,(n=t-((e=r)-d),g?s(n,c-(e-p)):n))}function w(e){return h=void 0,v&&l?y(e):(l=u=void 0,f)}function x(){var e=i(),n=_(e);if(l=arguments,u=this,d=e,n){if(void 0===h)return b(d);if(g)return clearTimeout(h),h=setTimeout(E,t),y(d)}return void 0===h&&(h=setTimeout(E,t)),f}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=d=u=h=void 0},x.flush=function(){return void 0===h?f:w(i())},x}},function(e,t,n){var r=n(45),i=n(193),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(420)),l=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},function(e,t,n){n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return a})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return u})),n.d(t,"cyan",(function(){return c})),n.d(t,"teal",(function(){return f})),n.d(t,"green",(function(){return h})),n.d(t,"lightGreen",(function(){return d})),n.d(t,"lime",(function(){return p})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return g})),n.d(t,"orange",(function(){return v})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return _})),n.d(t,"blueGrey",(function(){return E})),n.d(t,"darkText",(function(){return w})),n.d(t,"lightText",(function(){return x})),n.d(t,"darkIcons",(function(){return T})),n.d(t,"lightIcons",(function(){return S})),n.d(t,"white",(function(){return k})),n.d(t,"black",(function(){return O}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},f={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},E={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},x={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},T={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},k="#ffffff",O="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:f,green:h,lightGreen:d,lime:p,yellow:m,amber:g,orange:v,deepOrange:y,brown:b,grey:_,blueGrey:E,darkText:w,lightText:x,darkIcons:T,lightIcons:S,white:k,black:O}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.reduce.call(t,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(25)),i=a(n(19)),o=a(n(426));function a(e){return e&&e.__esModule?e:{default:e}}var s=!1,l={listen:function(){if(!s){var e=(0,o.default)(),t=(0,i.default)(e,2),n=t[0],a=t[1],l=[String.fromCharCode.apply(String,(0,r.default)("102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("072".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("105".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("071".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("108097115115".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("032118".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(a.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()].join(""),u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e){return e.slice(0,6)+e.charAt(6).toUpperCase()+e.slice(7,12)+e.slice(12).toUpperCase()},f=n[String.fromCharCode.apply(String,(0,r.default)("085082076".match(/.{1,3}/g).map((function(e){return+e}))))],h=n[u(String.fromCharCode.apply(String,(0,r.default)("066076079066".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],d=n[u(String.fromCharCode.apply(String,(0,r.default)("087111114107101114".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],p=c(String.fromCharCode.apply(String,(0,r.default)("099114101097116101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),m=c(String.fromCharCode.apply(String,(0,r.default)("114101118111107101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),g=f[p](new h(["("+String(l)+")()"],{type:"application/javascript"}));new d(g),f[m](g),s=!0}}};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(427))&&r.__esModule?r:{default:r};t.default=function(){return[window,(0,i.default)((function(e){return e.charCodeAt(0)}))("1.11.7").map((function(e){return e<=999?("00"+e).slice(-3):e})).join("")]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.map.call(t,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(429));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return(0,r.default)(e).forEach((function(r){(0,i.default)(e[r],t,n,r)})),o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.forEach((function(t){"combined"===t.type?r&&(e(t.contents,n,r,i),n(t,i)):n(t,i)}))}},function(e,t,n){var r=n(918),i=n(920),o=["args","body"],a=["pre","post","printCode","funcName","blockSize"];e.exports=function(e){for(var t in e)o.indexOf(t)<0&&a.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var n=0;n<o.length;++n)if(!e[o[n]])throw new Error("cwise: Missing argument: "+o[n]);return i({args:e.args,pre:r(e.pre||function(){}),body:r(e.body),post:r(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}},function(e,t,n){e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(430))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.shape.reduce((function(e,t){return e*t}),1),n=new Array(t);return(0,i.default)({args:["array","scalar","scalar"],body:function(e,t,n){t[n]=e,n++}})(e,n,0),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTiledPlot=t.getTrackRenderer=t.getTrackObjectFromHGC=void 0;var r,i=(r=n(37))&&r.__esModule?r:{default:r};t.getTrackObjectFromHGC=function(e,t,n){var r=t,o=n;return n||(o=t,r=(0,i.default)(e.state.views)[0].uid),e.tiledPlots[r].trackRenderer.getTrackObject(o)},t.getTrackRenderer=function(e,t){return e.tiledPlots[t].trackRenderer},t.getTiledPlot=function(e,t){return e.tiledPlots[t]}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(121)),a=p(n(293)),s=p(n(154)),l=p(n(59)),u=n(310),c=p(n(102)),f=n(498),h=n(156),d=n(499);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=(0,u.sym)("__node__"),y=(0,u.sym)("__nodes__"),b=(0,u.sym)("__renderer__"),_=(0,u.sym)("__unrendered__"),E=(0,u.sym)("__root__"),w=(0,u.sym)("__options__"),x=(0,u.sym)("__rootNodes__");function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function S(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function k(e){if(1!==e[E].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[E]!==e?e[x][0]:e[E][v]}function O(e,t){return(0,h.parentsOfNode)(t,k(e))}function A(e,t){t?Array.isArray(t)?((0,u.privateSet)(e,v,t[0]),(0,u.privateSet)(e,y,t)):((0,u.privateSet)(e,v,t),(0,u.privateSet)(e,y,[t])):((0,u.privateSet)(e,v,null),(0,u.privateSet)(e,y,[])),(0,u.privateSet)(e,"length",e[y].length)}var C=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(g(this,t),!e.window&&!e.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var a=(0,u.makeOptions)(i);if(r)(0,u.privateSet)(this,_,null),(0,u.privateSet)(this,b,r[b]),(0,u.privateSet)(this,E,r),A(this,n),(0,u.privateSet)(this,x,r[y]);else{var s=(0,c.default)(a);if(!s.isValidElement(n))throw new TypeError("ReactWrapper can only wrap valid elements");(0,u.privateSet)(this,_,n);var l=s.createRenderer((0,o.default)({mode:"mount"},a));(0,u.privateSet)(this,b,l),l.render(n,a.context),(0,u.privateSet)(this,E,this),A(this,this[b].getNode())}(0,u.privateSet)(this,w,r?r[w]:a)}return i(t,[{key:"root",value:function(){return this[E]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[y][0]}},{key:"getNodesInternal",value:function(){return this[y]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(){return(0,c.default)(e[w]).nodeToElement(e[v])}))}},{key:"getElements",value:function(){return this[y].map((0,c.default)(this[w]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}},{key:"getNodes",value:function(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}},{key:"getDOMNode",value:function(){var e=(0,c.default)(this[w]);return this.single("getDOMNode",(function(t){return e.nodeToHostNode(t,!0)}))}},{key:"ref",value:function(e){if(this[E]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[e]}},{key:"instance",value:function(){var e=this;return this.single("instance",(function(){return e[v].instance}))}},{key:"update",value:function(){var e=this[E];return this!==e?e.update():(A(this,this[b].getNode()),this)}},{key:"unmount",value:function(){var e=this;if(this[E]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){e[b].unmount(),e.update()})),this}},{key:"mount",value:function(){var e=this;if(this[E]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[b].render(this[_],this[w].context,(function(){return e.update()})),this}},{key:"setProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[E]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,c.default)(this[w]);return this[_]=(0,u.cloneElement)(r,this[_],e),this[b].render(this[_],null,(function(){t.update(),n&&n()})),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(e,(function(){if(t.update(),n){var e=(0,c.default)(t[w]),r=t.instance();e.invokeSetStateCallback?e.invokeSetStateCallback(r,n):n.call(r)}})),this}},{key:"setContext",value:function(e){var t=this;if(this[E]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[b].render(this[_],e,(function(){return t.update()})),this}},{key:"contains",value:function(e){var t=(0,c.default)(this[w]);return T(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[w]).elementToNode(e);return T(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[w]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,d.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,d.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){var e=this.getNodeInternal();return(0,u.renderedDive)(e)}},{key:"filterWhere",value:function(e){var t=this;return S(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return S(this,(0,d.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,d.buildPredicate)(e);return S(this,(function(e){return!t(e)}))}},{key:"text",value:function(){var e=(0,c.default)(this[w]);return this.single("text",(function(t){var n=e.nodeToHostNode(t,!0);return n?(Array.isArray(n)?n:[n]).map((function(e){return e&&e.textContent||""})).join(""):"string"==typeof t?t:n}))}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===t)return null;var n=(0,c.default)(e[w]).nodeToHostNode(t,!0);return null===n?null:(Array.isArray(n)?n:[n]).map((function(e){return null===e?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")})).join("")}))}},{key:"render",value:function(){var e=this.html();return null===e?(0,a.default)():a.default.load("")(e)}},{key:"simulate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return t[b].simulateEvent(r,e,n),t[E].update(),t}))}},{key:"simulateError",value:function(e){var t=this;if(this[E]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=t[b];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=k(t),o=[n].concat(O(t,n));return r.simulateError(o,i,e),t[E].update(),t}))}},{key:"props",value:function(){return this.single("props",h.propsOfNode)}},{key:"state",value:function(e){var t=this;if(null===this.instance()||"class"!==this[b].getNode().nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==n)throw new TypeError('ReactWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[E]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return t.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return void 0!==e?r[e]:r}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,h.childrenOfNode)(e.getNodeInternal()).filter((function(e){return"object"===(void 0===e?"undefined":r(e))}))}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(O(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[w]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called "+String(e)+" found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop "+String(e)+" to contain a function, but it holds "+("undefined"==typeof prop?"undefined":r(prop))+"");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[w])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[w]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,h.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[E]===this)throw new Error("ReactWrapper::some() can not be called on the root");var t=(0,d.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,d.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,s.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return T(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method "+n+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[E];if(e instanceof t)return e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat([e,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"detach",value:function(){if(this[E]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[w].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[b].unmount()}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),t}();function P(e,t){Object.defineProperty(C.prototype,e,{get:function(){throw new Error("\n        Attempted to access ReactWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(C.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this[y][u.ITERATOR_SYMBOL](),n=(0,c.default)(this[w]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),P("node","Consider using the getElement() method instead."),P("nodes","Consider using the getElements() method instead."),P("renderer",""),P("options",""),P("complexSelector",""),t.default=C}).call(this,n(26))},function(e,t,n){var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){var r=n(292),i=n(53),o=function(e){return null!=e},a=n(437)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var n,i,f,h,d,p,m,g=s(e);for(n=1;n<arguments.length;++n){i=s(arguments[n]),h=r(i);var v=a&&(Object.getOwnPropertySymbols||c);if(v)for(d=v(i),f=0;f<d.length;++f)m=d[f],u(i,m)&&l(h,m);for(f=0;f<h.length;++f)p=i[m=h[f]],u(i,m)&&(g[m]=p)}return g}},function(e,t,n){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){var r=n(436);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},function(e,t,n){var r=n(197),i=n(203).default,o=n(203).flatten,a=n(152).isHtml,s={extend:n(458),bind:n(303),forEach:n(147),defaults:n(469)},l=[n(1020),n(1030),n(1037),n(1040),n(1046)],u=e.exports=function(e,t,n,l){return this instanceof u?(this.options=s.defaults(o(l),this.options,i),e?(n&&("string"==typeof n&&(n=r(n,this.options,!1)),this._root=u.call(this,n)),e.cheerio?e:(c(e)&&(e=[e]),Array.isArray(e)?(s.forEach(e,s.bind((function(e,t){this[t]=e}),this)),this.length=e.length,this):"string"==typeof e&&a(e)?u.call(this,r(e,this.options,!1).children):(t?"string"==typeof t?a(t)?(t=r(t,this.options,!1),t=u.call(this,t)):(e=[t,e].join(" "),t=this._root):t.cheerio||(t=u.call(this,t)):t=this._root,t?t.find(e):this))):this):new u(e,t,n,l)};s.extend(u,n(307)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},l.forEach((function(e){s.extend(u.prototype,e)}));var c=function(e){return e.name||"text"===e.type||"comment"===e.type}},function(e,t,n){var r=n(441),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(58)(c,n(198).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in s?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in s||e in l)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},function(e,t,n){e.exports=ge;var r=n(442),i=n(294),o=n(443),a=n(295),s=0,l=s++,u=s++,c=s++,f=s++,h=s++,d=s++,p=s++,m=s++,g=s++,v=s++,y=s++,b=s++,_=s++,E=s++,w=s++,x=s++,T=s++,S=s++,k=s++,O=s++,A=s++,C=s++,P=s++,M=s++,R=s++,I=s++,D=s++,N=s++,L=s++,F=s++,j=s++,B=s++,U=s++,z=s++,H=s++,G=s++,V=s++,$=s++,X=s++,W=s++,Y=s++,q=s++,K=s++,Z=s++,Q=s++,J=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ue=0,ce=ue++,fe=ue++,he=ue++;function de(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function pe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function me(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=c,this._index--)}}function ge(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ce,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ge.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===ce&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeTagName=function(e){"/"===e?this._state=h:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ce||de(e)?this._state=l:"!"===e?(this._state=w,this._sectionStart=this._index+1):"?"===e?(this._state=T,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?c:j,this._sectionStart=this._index)},ge.prototype._stateInTagName=function(e){("/"===e||">"===e||de(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ge.prototype._stateBeforeCloseingTagName=function(e){de(e)||(">"===e?this._state=l:this._special!==ce?"s"===e||"S"===e?this._state=B:(this._state=l,this._index--):(this._state=d,this._sectionStart=this._index))},ge.prototype._stateInCloseingTagName=function(e){(">"===e||de(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},ge.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=f:de(e)||(this._state=g,this._sectionStart=this._index)},ge.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):de(e)||(this._state=m,this._index--)},ge.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||de(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},ge.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):de(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},ge.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):de(e)||(this._state=E,this._sectionStart=this._index,this._index--)},ge.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueNoQuotes=function(e){de(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeDeclaration=function(e){this._state="["===e?C:"-"===e?S:x},ge.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ge.prototype._stateBeforeComment=function(e){"-"===e?(this._state=k,this._sectionStart=this._index+1):this._state=x},ge.prototype._stateInComment=function(e){"-"===e&&(this._state=O)},ge.prototype._stateAfterComment1=function(e){this._state="-"===e?A:k},ge.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=k)},ge.prototype._stateBeforeCdata1=pe("C",P,x),ge.prototype._stateBeforeCdata2=pe("D",M,x),ge.prototype._stateBeforeCdata3=pe("A",R,x),ge.prototype._stateBeforeCdata4=pe("T",I,x),ge.prototype._stateBeforeCdata5=pe("A",D,x),ge.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=N,this._sectionStart=this._index+1):(this._state=x,this._index--)},ge.prototype._stateInCdata=function(e){"]"===e&&(this._state=L)},ge.prototype._stateAfterCdata1=function(e){this._state="]"===e?F:N},ge.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=N)},ge.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=U:"t"===e||"T"===e?this._state=K:(this._state=c,this._index--)},ge.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=$},ge.prototype._stateBeforeScript1=me("R",z),ge.prototype._stateBeforeScript2=me("I",H),ge.prototype._stateBeforeScript3=me("P",G),ge.prototype._stateBeforeScript4=me("T",V),ge.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||de(e))&&(this._special=fe),this._state=c,this._index--},ge.prototype._stateAfterScript1=pe("R",X,l),ge.prototype._stateAfterScript2=pe("I",W,l),ge.prototype._stateAfterScript3=pe("P",Y,l),ge.prototype._stateAfterScript4=pe("T",q,l),ge.prototype._stateAfterScript5=function(e){">"===e||de(e)?(this._special=ce,this._state=d,this._sectionStart=this._index-6,this._index--):this._state=l},ge.prototype._stateBeforeStyle1=me("Y",Z),ge.prototype._stateBeforeStyle2=me("L",Q),ge.prototype._stateBeforeStyle3=me("E",J),ge.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||de(e))&&(this._special=he),this._state=c,this._index--},ge.prototype._stateAfterStyle1=pe("Y",te,l),ge.prototype._stateAfterStyle2=pe("L",ne,l),ge.prototype._stateAfterStyle3=pe("E",re,l),ge.prototype._stateAfterStyle4=function(e){">"===e||de(e)?(this._special=ce,this._state=d,this._sectionStart=this._index-5,this._index--):this._state=l},ge.prototype._stateBeforeEntity=pe("#",oe,ae),ge.prototype._stateBeforeNumericEntity=pe("X",le,se),ge.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ge.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ge.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ge.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ge.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ge.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ge.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ge.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ge.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===c?this._stateInTagName(e):this._state===h?this._stateBeforeCloseingTagName(e):this._state===d?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===f?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===E?this._stateInAttributeValueNoQuotes(e):this._state===w?this._stateBeforeDeclaration(e):this._state===x?this._stateInDeclaration(e):this._state===T?this._stateInProcessingInstruction(e):this._state===S?this._stateBeforeComment(e):this._state===k?this._stateInComment(e):this._state===O?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===C?this._stateBeforeCdata1(e):this._state===P?this._stateBeforeCdata2(e):this._state===M?this._stateBeforeCdata3(e):this._state===R?this._stateBeforeCdata4(e):this._state===I?this._stateBeforeCdata5(e):this._state===D?this._stateBeforeCdata6(e):this._state===N?this._stateInCdata(e):this._state===L?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===j?this._stateBeforeSpecial(e):this._state===B?this._stateBeforeSpecialEnd(e):this._state===U?this._stateBeforeScript1(e):this._state===z?this._stateBeforeScript2(e):this._state===H?this._stateBeforeScript3(e):this._state===G?this._stateBeforeScript4(e):this._state===V?this._stateBeforeScript5(e):this._state===$?this._stateAfterScript1(e):this._state===X?this._stateAfterScript2(e):this._state===W?this._stateAfterScript3(e):this._state===Y?this._stateAfterScript4(e):this._state===q?this._stateAfterScript5(e):this._state===K?this._stateBeforeStyle1(e):this._state===Z?this._stateBeforeStyle2(e):this._state===Q?this._stateBeforeStyle3(e):this._state===J?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ge.prototype.pause=function(){this._running=!1},ge.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ge.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ge.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ge.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===N||this._state===L||this._state===F?this._cbs.oncdata(e):this._state===k||this._state===O||this._state===A?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==c&&this._state!==m&&this._state!==y&&this._state!==v&&this._state!==g&&this._state!==_&&this._state!==b&&this._state!==E&&this._state!==d&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ge.prototype.reset=function(){ge.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ge.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ge.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ge.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ge.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(956);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},function(e){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(e,t,n){var r=n(122),i=/\s+/g,o=n(445),a=n(957);function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(o),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=s},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach((function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){e.exports=s;var r=n(440),i=n(969).Writable,o=n(297).StringDecoder,a=n(113).Buffer;function s(e,t){var n=this._parser=new r(e,t),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(a.end())}))}n(58)(s,i),s.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){var r=n(123),i=n(975),o=n(976),a=n(977),s=n(298),l=n(299),u=n(300),c=n(450),f=n(149),h=n(64),d=h.TAG_NAMES,p=h.NAMESPACES,m=h.ATTRS,g={locationInfo:!1,treeAdapter:s},v="IN_BODY_MODE",y="TEXT_MODE",b="IN_TABLE_MODE",_="IN_ROW_MODE",E=Object.create(null);E[d.TR]=_,E[d.TBODY]=E[d.THEAD]=E[d.TFOOT]="IN_TABLE_BODY_MODE",E[d.CAPTION]="IN_CAPTION_MODE",E[d.COLGROUP]="IN_COLUMN_GROUP_MODE",E[d.TABLE]=b,E[d.BODY]=v,E[d.FRAMESET]="IN_FRAMESET_MODE";var w=Object.create(null);w[d.CAPTION]=w[d.COLGROUP]=w[d.TBODY]=w[d.TFOOT]=w[d.THEAD]=b,w[d.COL]="IN_COLUMN_GROUP_MODE",w[d.TR]="IN_TABLE_BODY_MODE",w[d.TD]=w[d.TH]=_;var x=Object.create(null);x.INITIAL_MODE=Object.create(null),x.INITIAL_MODE[r.CHARACTER_TOKEN]=x.INITIAL_MODE[r.NULL_CHARACTER_TOKEN]=F,x.INITIAL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,x.INITIAL_MODE[r.COMMENT_TOKEN]=I,x.INITIAL_MODE[r.DOCTYPE_TOKEN]=function(e,t){e._setDocumentType(t);var n=t.forceQuirks?h.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(t.name,t.publicId,t.systemId);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode="BEFORE_HTML_MODE"},x.INITIAL_MODE[r.START_TAG_TOKEN]=x.INITIAL_MODE[r.END_TAG_TOKEN]=x.INITIAL_MODE[r.EOF_TOKEN]=F,x.BEFORE_HTML_MODE=Object.create(null),x.BEFORE_HTML_MODE[r.CHARACTER_TOKEN]=x.BEFORE_HTML_MODE[r.NULL_CHARACTER_TOKEN]=j,x.BEFORE_HTML_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,x.BEFORE_HTML_MODE[r.COMMENT_TOKEN]=I,x.BEFORE_HTML_MODE[r.DOCTYPE_TOKEN]=R,x.BEFORE_HTML_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===d.HTML?(e._insertElement(t,p.HTML),e.insertionMode="BEFORE_HEAD_MODE"):j(e,t)},x.BEFORE_HTML_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==d.HTML&&n!==d.HEAD&&n!==d.BODY&&n!==d.BR||j(e,t)},x.BEFORE_HTML_MODE[r.EOF_TOKEN]=j,x.BEFORE_HEAD_MODE=Object.create(null),x.BEFORE_HEAD_MODE[r.CHARACTER_TOKEN]=x.BEFORE_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=B,x.BEFORE_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,x.BEFORE_HEAD_MODE[r.COMMENT_TOKEN]=I,x.BEFORE_HEAD_MODE[r.DOCTYPE_TOKEN]=R,x.BEFORE_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.HEAD?(e._insertElement(t,p.HTML),e.headElement=e.openElements.current,e.insertionMode="IN_HEAD_MODE"):B(e,t)},x.BEFORE_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==d.HEAD&&n!==d.BODY&&n!==d.HTML&&n!==d.BR||B(e,t)},x.BEFORE_HEAD_MODE[r.EOF_TOKEN]=B,x.IN_HEAD_MODE=Object.create(null),x.IN_HEAD_MODE[r.CHARACTER_TOKEN]=x.IN_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=H,x.IN_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.IN_HEAD_MODE[r.COMMENT_TOKEN]=I,x.IN_HEAD_MODE[r.DOCTYPE_TOKEN]=R,x.IN_HEAD_MODE[r.START_TAG_TOKEN]=U,x.IN_HEAD_MODE[r.END_TAG_TOKEN]=z,x.IN_HEAD_MODE[r.EOF_TOKEN]=H,x.AFTER_HEAD_MODE=Object.create(null),x.AFTER_HEAD_MODE[r.CHARACTER_TOKEN]=x.AFTER_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=G,x.AFTER_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.AFTER_HEAD_MODE[r.COMMENT_TOKEN]=I,x.AFTER_HEAD_MODE[r.DOCTYPE_TOKEN]=R,x.AFTER_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.BODY?(e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=v):n===d.FRAMESET?(e._insertElement(t,p.HTML),e.insertionMode="IN_FRAMESET_MODE"):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE?(e.openElements.push(e.headElement),U(e,t),e.openElements.remove(e.headElement)):n!==d.HEAD&&G(e,t)},x.AFTER_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.BODY||n===d.HTML||n===d.BR?G(e,t):n===d.TEMPLATE&&z(e,t)},x.AFTER_HEAD_MODE[r.EOF_TOKEN]=G,x[v]=Object.create(null),x[v][r.CHARACTER_TOKEN]=$,x[v][r.NULL_CHARACTER_TOKEN]=R,x[v][r.WHITESPACE_CHARACTER_TOKEN]=V,x[v][r.COMMENT_TOKEN]=I,x[v][r.DOCTYPE_TOKEN]=R,x[v][r.START_TAG_TOKEN]=ne,x[v][r.END_TAG_TOKEN]=ae,x[v][r.EOF_TOKEN]=se,x[y]=Object.create(null),x[y][r.CHARACTER_TOKEN]=x[y][r.NULL_CHARACTER_TOKEN]=x[y][r.WHITESPACE_CHARACTER_TOKEN]=N,x[y][r.COMMENT_TOKEN]=x[y][r.DOCTYPE_TOKEN]=x[y][r.START_TAG_TOKEN]=R,x[y][r.END_TAG_TOKEN]=function(e,t){t.tagName===d.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode},x[y][r.EOF_TOKEN]=function(e,t){e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)},x[b]=Object.create(null),x[b][r.CHARACTER_TOKEN]=x[b][r.NULL_CHARACTER_TOKEN]=x[b][r.WHITESPACE_CHARACTER_TOKEN]=le,x[b][r.COMMENT_TOKEN]=I,x[b][r.DOCTYPE_TOKEN]=R,x[b][r.START_TAG_TOKEN]=ue,x[b][r.END_TAG_TOKEN]=ce,x[b][r.EOF_TOKEN]=se,x.IN_TABLE_TEXT_MODE=Object.create(null),x.IN_TABLE_TEXT_MODE[r.CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},x.IN_TABLE_TEXT_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_TABLE_TEXT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t)},x.IN_TABLE_TEXT_MODE[r.COMMENT_TOKEN]=x.IN_TABLE_TEXT_MODE[r.DOCTYPE_TOKEN]=x.IN_TABLE_TEXT_MODE[r.START_TAG_TOKEN]=x.IN_TABLE_TEXT_MODE[r.END_TAG_TOKEN]=x.IN_TABLE_TEXT_MODE[r.EOF_TOKEN]=function(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)fe(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)},x.IN_CAPTION_MODE=Object.create(null),x.IN_CAPTION_MODE[r.CHARACTER_TOKEN]=$,x.IN_CAPTION_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_CAPTION_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.IN_CAPTION_MODE[r.COMMENT_TOKEN]=I,x.IN_CAPTION_MODE[r.DOCTYPE_TOKEN]=R,x.IN_CAPTION_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=b,e._processToken(t)):ne(e,t)},x.IN_CAPTION_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=b,n===d.TABLE&&e._processToken(t)):n!==d.BODY&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&ae(e,t)},x.IN_CAPTION_MODE[r.EOF_TOKEN]=se,x.IN_COLUMN_GROUP_MODE=Object.create(null),x.IN_COLUMN_GROUP_MODE[r.CHARACTER_TOKEN]=x.IN_COLUMN_GROUP_MODE[r.NULL_CHARACTER_TOKEN]=he,x.IN_COLUMN_GROUP_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.IN_COLUMN_GROUP_MODE[r.COMMENT_TOKEN]=I,x.IN_COLUMN_GROUP_MODE[r.DOCTYPE_TOKEN]=R,x.IN_COLUMN_GROUP_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.COL?e._appendElement(t,p.HTML):n===d.TEMPLATE?U(e,t):he(e,t)},x.IN_COLUMN_GROUP_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.COLGROUP?e.openElements.currentTagName===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=b):n===d.TEMPLATE?z(e,t):n!==d.COL&&he(e,t)},x.IN_COLUMN_GROUP_MODE[r.EOF_TOKEN]=se,x.IN_TABLE_BODY_MODE=Object.create(null),x.IN_TABLE_BODY_MODE[r.CHARACTER_TOKEN]=x.IN_TABLE_BODY_MODE[r.NULL_CHARACTER_TOKEN]=x.IN_TABLE_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=le,x.IN_TABLE_BODY_MODE[r.COMMENT_TOKEN]=I,x.IN_TABLE_BODY_MODE[r.DOCTYPE_TOKEN]=R,x.IN_TABLE_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.HTML),e.insertionMode=_):n===d.TH||n===d.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(d.TR),e.insertionMode=_,e._processToken(t)):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):ue(e,t)},x.IN_TABLE_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.TBODY||n===d.TFOOT||n===d.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b):n===d.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH&&n!==d.TR)&&ce(e,t)},x.IN_TABLE_BODY_MODE[r.EOF_TOKEN]=se,x[_]=Object.create(null),x[_][r.CHARACTER_TOKEN]=x[_][r.NULL_CHARACTER_TOKEN]=x[_][r.WHITESPACE_CHARACTER_TOKEN]=le,x[_][r.COMMENT_TOKEN]=I,x[_][r.DOCTYPE_TOKEN]=R,x[_][r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.TH||n===d.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_CELL_MODE",e.activeFormattingElements.insertMarker()):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):ue(e,t)},x[_][r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.TR?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE"):n===d.TABLE?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):n===d.TBODY||n===d.TFOOT||n===d.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(d.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH)&&ce(e,t)},x[_][r.EOF_TOKEN]=se,x.IN_CELL_MODE=Object.create(null),x.IN_CELL_MODE[r.CHARACTER_TOKEN]=$,x.IN_CELL_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_CELL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.IN_CELL_MODE[r.COMMENT_TOKEN]=I,x.IN_CELL_MODE[r.DOCTYPE_TOKEN]=R,x.IN_CELL_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?(e.openElements.hasInTableScope(d.TD)||e.openElements.hasInTableScope(d.TH))&&(e._closeTableCell(),e._processToken(t)):ne(e,t)},x.IN_CELL_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.TD||n===d.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=_):n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&ae(e,t)},x.IN_CELL_MODE[r.EOF_TOKEN]=se,x.IN_SELECT_MODE=Object.create(null),x.IN_SELECT_MODE[r.CHARACTER_TOKEN]=N,x.IN_SELECT_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_SELECT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.IN_SELECT_MODE[r.COMMENT_TOKEN]=I,x.IN_SELECT_MODE[r.DOCTYPE_TOKEN]=R,x.IN_SELECT_MODE[r.START_TAG_TOKEN]=de,x.IN_SELECT_MODE[r.END_TAG_TOKEN]=pe,x.IN_SELECT_MODE[r.EOF_TOKEN]=se,x.IN_SELECT_IN_TABLE_MODE=Object.create(null),x.IN_SELECT_IN_TABLE_MODE[r.CHARACTER_TOKEN]=N,x.IN_SELECT_IN_TABLE_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_SELECT_IN_TABLE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.IN_SELECT_IN_TABLE_MODE[r.COMMENT_TOKEN]=I,x.IN_SELECT_IN_TABLE_MODE[r.DOCTYPE_TOKEN]=R,x.IN_SELECT_IN_TABLE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processToken(t)):de(e,t)},x.IN_SELECT_IN_TABLE_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processToken(t)):pe(e,t)},x.IN_SELECT_IN_TABLE_MODE[r.EOF_TOKEN]=se,x.IN_TEMPLATE_MODE=Object.create(null),x.IN_TEMPLATE_MODE[r.CHARACTER_TOKEN]=$,x.IN_TEMPLATE_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_TEMPLATE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.IN_TEMPLATE_MODE[r.COMMENT_TOKEN]=I,x.IN_TEMPLATE_MODE[r.DOCTYPE_TOKEN]=R,x.IN_TEMPLATE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;if(n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE)U(e,t);else{var r=w[n]||v;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}},x.IN_TEMPLATE_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===d.TEMPLATE&&z(e,t)},x.IN_TEMPLATE_MODE[r.EOF_TOKEN]=me,x.AFTER_BODY_MODE=Object.create(null),x.AFTER_BODY_MODE[r.CHARACTER_TOKEN]=x.AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=ge,x.AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.AFTER_BODY_MODE[r.COMMENT_TOKEN]=function(e,t){e._appendCommentNode(t,e.openElements.items[0])},x.AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=R,x.AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===d.HTML?ne(e,t):ge(e,t)},x.AFTER_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===d.HTML?e.fragmentContext||(e.insertionMode="AFTER_AFTER_BODY_MODE"):ge(e,t)},x.AFTER_BODY_MODE[r.EOF_TOKEN]=L,x.IN_FRAMESET_MODE=Object.create(null),x.IN_FRAMESET_MODE[r.CHARACTER_TOKEN]=x.IN_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=R,x.IN_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.IN_FRAMESET_MODE[r.COMMENT_TOKEN]=I,x.IN_FRAMESET_MODE[r.DOCTYPE_TOKEN]=R,x.IN_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.FRAMESET?e._insertElement(t,p.HTML):n===d.FRAME?e._appendElement(t,p.HTML):n===d.NOFRAMES&&U(e,t)},x.IN_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName!==d.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===d.FRAMESET||(e.insertionMode="AFTER_FRAMESET_MODE"))},x.IN_FRAMESET_MODE[r.EOF_TOKEN]=L,x.AFTER_FRAMESET_MODE=Object.create(null),x.AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=x.AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=R,x.AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=N,x.AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=I,x.AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=R,x.AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.NOFRAMES&&U(e,t)},x.AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===d.HTML&&(e.insertionMode="AFTER_AFTER_FRAMESET_MODE")},x.AFTER_FRAMESET_MODE[r.EOF_TOKEN]=L,x.AFTER_AFTER_BODY_MODE=Object.create(null),x.AFTER_AFTER_BODY_MODE[r.CHARACTER_TOKEN]=ve,x.AFTER_AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=ve,x.AFTER_AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.AFTER_AFTER_BODY_MODE[r.COMMENT_TOKEN]=D,x.AFTER_AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=R,x.AFTER_AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===d.HTML?ne(e,t):ve(e,t)},x.AFTER_AFTER_BODY_MODE[r.END_TAG_TOKEN]=ve,x.AFTER_AFTER_BODY_MODE[r.EOF_TOKEN]=L,x.AFTER_AFTER_FRAMESET_MODE=Object.create(null),x.AFTER_AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=x.AFTER_AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=R,x.AFTER_AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=V,x.AFTER_AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=D,x.AFTER_AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=R,x.AFTER_AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.NOFRAMES&&U(e,t)},x.AFTER_AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=R,x.AFTER_AFTER_FRAMESET_MODE[r.EOF_TOKEN]=L;var T=e.exports=function(e){this.options=l(g,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function S(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):oe(e,t),n}function k(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function O(e,t,n){for(var r=t,i=e.openElements.getCommonAncestor(t),o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=3;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=A(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function A(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function C(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{var r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t);r===d.TEMPLATE&&i===p.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function P(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o)}function M(e,t){for(var n,r=0;r<8&&(n=S(e,t));r++){var i=k(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;var o=O(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),C(e,a,o),P(e,i,n)}}function R(){}function I(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function D(e,t){e._appendCommentNode(t,e.document)}function N(e,t){e._insertCharacters(t)}function L(e){e.stopped=!0}function F(e,t){e.treeAdapter.setDocumentMode(e.document,h.DOCUMENT_MODE.QUIRKS),e.insertionMode="BEFORE_HTML_MODE",e._processToken(t)}function j(e,t){e._insertFakeRootElement(),e.insertionMode="BEFORE_HEAD_MODE",e._processToken(t)}function B(e,t){e._insertFakeElement(d.HEAD),e.headElement=e.openElements.current,e.insertionMode="IN_HEAD_MODE",e._processToken(t)}function U(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META?e._appendElement(t,p.HTML):n===d.TITLE?e._switchToTextParsing(t,r.MODE.RCDATA):n===d.NOSCRIPT||n===d.NOFRAMES||n===d.STYLE?e._switchToTextParsing(t,r.MODE.RAWTEXT):n===d.SCRIPT?e._switchToTextParsing(t,r.MODE.SCRIPT_DATA):n===d.TEMPLATE?(e._insertTemplate(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode="IN_TEMPLATE_MODE",e._pushTmplInsertionMode("IN_TEMPLATE_MODE")):n!==d.HEAD&&H(e,t)}function z(e,t){var n=t.tagName;n===d.HEAD?(e.openElements.pop(),e.insertionMode="AFTER_HEAD_MODE"):n===d.BODY||n===d.BR||n===d.HTML?H(e,t):n===d.TEMPLATE&&e.openElements.tmplCount>0&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode())}function H(e,t){e.openElements.pop(),e.insertionMode="AFTER_HEAD_MODE",e._processToken(t)}function G(e,t){e._insertFakeElement(d.BODY),e.insertionMode=v,e._processToken(t)}function V(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function $(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function X(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML)}function W(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Y(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function q(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function K(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML),e.framesetOk=!1}function Z(e,t){e._appendElement(t,p.HTML)}function Q(e,t){e._switchToTextParsing(t,r.MODE.RAWTEXT)}function J(e,t){e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function ee(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.HTML)}function te(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function ne(e,t){var n,i,o,a=t.tagName;switch(a.length){case 1:a===d.I||a===d.S||a===d.B||a===d.U?Y(e,t):a===d.P?X(e,t):a===d.A?(i=t,(o=(n=e).activeFormattingElements.getElementEntryInScopeWithTagName(d.A))&&(M(n,i),n.openElements.remove(o.element),n.activeFormattingElements.removeEntry(o)),n._reconstructActiveFormattingElements(),n._insertElement(i,p.HTML),n.activeFormattingElements.pushElement(n.openElements.current,i)):te(e,t);break;case 2:a===d.DL||a===d.OL||a===d.UL?X(e,t):a===d.H1||a===d.H2||a===d.H3||a===d.H4||a===d.H5||a===d.H6?function(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement();var n=e.openElements.currentTagName;n!==d.H1&&n!==d.H2&&n!==d.H3&&n!==d.H4&&n!==d.H5&&n!==d.H6||e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):a===d.LI||a===d.DD||a===d.DT?function(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r],o=e.treeAdapter.getTagName(i),a=null;if(n===d.LI&&o===d.LI?a=d.LI:n!==d.DD&&n!==d.DT||o!==d.DD&&o!==d.DT||(a=o),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(o!==d.ADDRESS&&o!==d.DIV&&o!==d.P&&e._isSpecialElement(i))break}e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML)}(e,t):a===d.EM||a===d.TT?Y(e,t):a===d.BR?K(e,t):a===d.HR?function(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._appendElement(t,p.HTML),e.framesetOk=!1}(e,t):a===d.RB?ee(e,t):a===d.RT||a===d.RP?function(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(d.RTC),e._insertElement(t,p.HTML)}(e,t):a!==d.TH&&a!==d.TD&&a!==d.TR&&te(e,t);break;case 3:a===d.DIV||a===d.DIR||a===d.NAV?X(e,t):a===d.PRE?W(e,t):a===d.BIG?Y(e,t):a===d.IMG||a===d.WBR?K(e,t):a===d.XMP?function(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):a===d.SVG?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.SVG):e._insertElement(t,p.SVG)}(e,t):a===d.RTC?ee(e,t):a!==d.COL&&te(e,t);break;case 4:a===d.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):a===d.BASE||a===d.LINK||a===d.META?U(e,t):a===d.BODY?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):a===d.MAIN?X(e,t):a===d.FORM?function(e,t){var n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),n||(e.formElement=e.openElements.current))}(e,t):a===d.CODE||a===d.FONT?Y(e,t):a===d.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(d.NOBR)&&(M(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):a===d.AREA?K(e,t):a===d.MATH?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.MATHML):e._insertElement(t,p.MATHML)}(e,t):a===d.MENU?function(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):a!==d.HEAD&&te(e,t);break;case 5:a===d.STYLE||a===d.TITLE?U(e,t):a===d.ASIDE?X(e,t):a===d.SMALL?Y(e,t):a===d.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==h.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=b}(e,t):a===d.EMBED?K(e,t):a===d.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML);var n=r.getTokenAttr(t,m.TYPE);n&&"hidden"===n.toLowerCase()||(e.framesetOk=!1)}(e,t):a===d.PARAM||a===d.TRACK?Z(e,t):a===d.IMAGE?function(e,t){t.tagName=d.IMG,K(e,t)}(e,t):a!==d.FRAME&&a!==d.TBODY&&a!==d.TFOOT&&a!==d.THEAD&&te(e,t);break;case 6:a===d.SCRIPT?U(e,t):a===d.CENTER||a===d.FIGURE||a===d.FOOTER||a===d.HEADER||a===d.HGROUP?X(e,t):a===d.BUTTON?function(e,t){e.openElements.hasInScope(d.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1}(e,t):a===d.STRIKE||a===d.STRONG?Y(e,t):a===d.APPLET||a===d.OBJECT?q(e,t):a===d.KEYGEN?K(e,t):a===d.SOURCE?Z(e,t):a===d.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):a===d.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode===b||"IN_CAPTION_MODE"===e.insertionMode||"IN_TABLE_BODY_MODE"===e.insertionMode||e.insertionMode===_||"IN_CELL_MODE"===e.insertionMode?e.insertionMode="IN_SELECT_IN_TABLE_MODE":e.insertionMode="IN_SELECT_MODE"}(e,t):a===d.OPTION?J(e,t):te(e,t);break;case 7:a===d.BGSOUND?U(e,t):a===d.DETAILS||a===d.ADDRESS||a===d.ARTICLE||a===d.SECTION||a===d.SUMMARY?X(e,t):a===d.LISTING?W(e,t):a===d.MARQUEE?q(e,t):a===d.NOEMBED?Q(e,t):a!==d.CAPTION&&te(e,t);break;case 8:a===d.BASEFONT?U(e,t):a===d.MENUITEM?function(e,t){e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}(e,t):a===d.FRAMESET?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.HTML),e.insertionMode="IN_FRAMESET_MODE")}(e,t):a===d.FIELDSET?X(e,t):a===d.TEXTAREA?function(e,t){e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.tokenizer.state=r.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=y}(e,t):a===d.TEMPLATE?U(e,t):a===d.NOSCRIPT?Q(e,t):a===d.OPTGROUP?J(e,t):a!==d.COLGROUP&&te(e,t);break;case 9:a===d.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.tokenizer.state=r.MODE.PLAINTEXT}(e,t):te(e,t);break;case 10:a===d.BLOCKQUOTE||a===d.FIGCAPTION?X(e,t):te(e,t);break;default:te(e,t)}}function re(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function ie(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function oe(e,t){for(var n=t.tagName,r=e.openElements.stackTop;r>0;r--){var i=e.openElements.items[r];if(e.treeAdapter.getTagName(i)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(i);break}if(e._isSpecialElement(i))break}}function ae(e,t){var n,r=t.tagName;switch(r.length){case 1:r===d.A||r===d.B||r===d.I||r===d.S||r===d.U?M(e,t):r===d.P?((n=e).openElements.hasInButtonScope(d.P)||n._insertFakeElement(d.P),n._closePElement()):oe(e,t);break;case 2:r===d.DL||r===d.UL||r===d.OL?re(e,t):r===d.LI?function(e){e.openElements.hasInListItemScope(d.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(d.LI),e.openElements.popUntilTagNamePopped(d.LI))}(e):r===d.DD||r===d.DT?function(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):r===d.H1||r===d.H2||r===d.H3||r===d.H4||r===d.H5||r===d.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):r===d.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(d.BR),e.openElements.pop(),e.framesetOk=!1}(e):r===d.EM||r===d.TT?M(e,t):oe(e,t);break;case 3:r===d.BIG?M(e,t):r===d.DIR||r===d.DIV||r===d.NAV?re(e,t):oe(e,t);break;case 4:r===d.BODY?function(e){e.openElements.hasInScope(d.BODY)&&(e.insertionMode="AFTER_BODY_MODE")}(e):r===d.HTML?function(e,t){e.openElements.hasInScope(d.BODY)&&(e.insertionMode="AFTER_BODY_MODE",e._processToken(t))}(e,t):r===d.FORM?function(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(d.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(d.FORM):e.openElements.remove(n))}(e):r===d.CODE||r===d.FONT||r===d.NOBR?M(e,t):r===d.MAIN||r===d.MENU?re(e,t):oe(e,t);break;case 5:r===d.ASIDE?re(e,t):r===d.SMALL?M(e,t):oe(e,t);break;case 6:r===d.CENTER||r===d.FIGURE||r===d.FOOTER||r===d.HEADER||r===d.HGROUP?re(e,t):r===d.APPLET||r===d.OBJECT?ie(e,t):r===d.STRIKE||r===d.STRONG?M(e,t):oe(e,t);break;case 7:r===d.ADDRESS||r===d.ARTICLE||r===d.DETAILS||r===d.SECTION||r===d.SUMMARY?re(e,t):r===d.MARQUEE?ie(e,t):oe(e,t);break;case 8:r===d.FIELDSET?re(e,t):r===d.TEMPLATE?z(e,t):oe(e,t);break;case 10:r===d.BLOCKQUOTE||r===d.FIGCAPTION?re(e,t):oe(e,t);break;default:oe(e,t)}}function se(e,t){e.tmplInsertionModeStackTop>-1?me(e,t):e.stopped=!0}function le(e,t){var n=e.openElements.currentTagName;n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode="IN_TABLE_TEXT_MODE",e._processToken(t)):fe(e,t)}function ue(e,t){var n,i,o=t.tagName;switch(o.length){case 2:o===d.TD||o===d.TH||o===d.TR?(i=t,(n=e).openElements.clearBackToTableContext(),n._insertFakeElement(d.TBODY),n.insertionMode="IN_TABLE_BODY_MODE",n._processToken(i)):fe(e,t);break;case 3:o===d.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(d.COLGROUP),e.insertionMode="IN_COLUMN_GROUP_MODE",e._processToken(t)}(e,t):fe(e,t);break;case 4:o===d.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):fe(e,t);break;case 5:o===d.TABLE?function(e,t){e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):o===d.STYLE?U(e,t):o===d.TBODY||o===d.TFOOT||o===d.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_TABLE_BODY_MODE"}(e,t):o===d.INPUT?function(e,t){var n=r.getTokenAttr(t,m.TYPE);n&&"hidden"===n.toLowerCase()?e._appendElement(t,p.HTML):fe(e,t)}(e,t):fe(e,t);break;case 6:o===d.SCRIPT?U(e,t):fe(e,t);break;case 7:o===d.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.HTML),e.insertionMode="IN_CAPTION_MODE"}(e,t):fe(e,t);break;case 8:o===d.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_COLUMN_GROUP_MODE"}(e,t):o===d.TEMPLATE?U(e,t):fe(e,t);break;default:fe(e,t)}}function ce(e,t){var n=t.tagName;n===d.TABLE?e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode()):n===d.TEMPLATE?z(e,t):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&fe(e,t)}function fe(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function he(e,t){e.openElements.currentTagName===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=b,e._processToken(t))}function de(e,t){var n=t.tagName;n===d.HTML?ne(e,t):n===d.OPTION?(e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===d.OPTGROUP?(e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e.openElements.currentTagName===d.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===d.INPUT||n===d.KEYGEN||n===d.TEXTAREA||n===d.SELECT?e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),n!==d.SELECT&&e._processToken(t)):n!==d.SCRIPT&&n!==d.TEMPLATE||U(e,t)}function pe(e,t){var n=t.tagName;if(n===d.OPTGROUP){var r=e.openElements.items[e.openElements.stackTop-1],i=r&&e.treeAdapter.getTagName(r);e.openElements.currentTagName===d.OPTION&&i===d.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===d.OPTGROUP&&e.openElements.pop()}else n===d.OPTION?e.openElements.currentTagName===d.OPTION&&e.openElements.pop():n===d.SELECT&&e.openElements.hasInSelectScope(d.SELECT)?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode()):n===d.TEMPLATE&&z(e,t)}function me(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function ge(e,t){e.insertionMode=v,e._processToken(t)}function ve(e,t){e.insertionMode=v,e._processToken(t)}T.prototype.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},T.prototype.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(d.TEMPLATE,p.HTML,[]));var n=this.treeAdapter.createElement("documentmock",p.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===d.TEMPLATE&&this._pushTmplInsertionMode("IN_TEMPLATE_MODE"),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},T.prototype._bootstrap=function(e,t){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode="INITIAL_MODE",this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},T.prototype._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},T.prototype.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},T.prototype._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==p.HTML&&!this._isIntegrationPoint(e)},T.prototype._switchToTextParsing=function(e,t){this._insertElement(e,p.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=y},T.prototype.switchToPlaintextParsing=function(){this.insertionMode=y,this.originalInsertionMode=v,this.tokenizer.state=r.MODE.PLAINTEXT},T.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},T.prototype._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===d.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},T.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===d.TITLE||e===d.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:e===d.STYLE||e===d.XMP||e===d.IFRAME||e===d.NOEMBED||e===d.NOFRAMES||e===d.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:e===d.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e===d.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}},T.prototype._setDocumentType=function(e){this.treeAdapter.setDocumentType(this.document,e.name,e.publicId,e.systemId)},T.prototype._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},T.prototype._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},T.prototype._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},T.prototype._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,p.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},T.prototype._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,p.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},T.prototype._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(d.HTML,p.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},T.prototype._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},T.prototype._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},T.prototype._adoptNodes=function(e,t){for(;;){var n=this.treeAdapter.getFirstChild(e);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},T.prototype._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===p.HTML)return!1;if(this.treeAdapter.getTagName(t)===d.ANNOTATION_XML&&n===p.MATHML&&e.type===r.START_TAG_TOKEN&&e.tagName===d.SVG)return!1;var i=e.type===r.CHARACTER_TOKEN||e.type===r.NULL_CHARACTER_TOKEN||e.type===r.WHITESPACE_CHARACTER_TOKEN;return!((e.type===r.START_TAG_TOKEN&&e.tagName!==d.MGLYPH&&e.tagName!==d.MALIGNMARK||i)&&this._isIntegrationPoint(t,p.MATHML)||(e.type===r.START_TAG_TOKEN||i)&&this._isIntegrationPoint(t,p.HTML)||e.type===r.EOF_TOKEN)},T.prototype._processToken=function(e){x[this.insertionMode][e.type](this,e)},T.prototype._processTokenInBodyMode=function(e){x[v][e.type](this,e)},T.prototype._processTokenInForeignContent=function(e){var t,n;e.type===r.CHARACTER_TOKEN?(n=e,(t=this)._insertCharacters(n),t.framesetOk=!1):e.type===r.NULL_CHARACTER_TOKEN?function(e,t){t.chars=f.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===r.WHITESPACE_CHARACTER_TOKEN?N(this,e):e.type===r.COMMENT_TOKEN?I(this,e):e.type===r.START_TAG_TOKEN?function(e,t){if(c.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===p.MATHML?c.adjustTokenMathMLAttrs(t):r===p.SVG&&(c.adjustTokenSVGTagName(t),c.adjustTokenSVGAttrs(t)),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r)}}(this,e):e.type===r.END_TAG_TOKEN&&function(e,t){for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===p.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}(this,e)},T.prototype._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e)},T.prototype._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return c.isIntegrationPoint(n,r,i,t)},T.prototype._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},T.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=_},T.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)},T.prototype._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;e>=0;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=E[r];if(i){this.insertionMode=i;break}if(!(t||r!==d.TD&&r!==d.TH)){this.insertionMode="IN_CELL_MODE";break}if(!t&&r===d.HEAD){this.insertionMode="IN_HEAD_MODE";break}if(r===d.SELECT){this._resetInsertionModeForSelect(e);break}if(r===d.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===d.HTML){this.insertionMode=this.headElement?"AFTER_HEAD_MODE":"BEFORE_HEAD_MODE";break}if(t){this.insertionMode=v;break}}},T.prototype._resetInsertionModeForSelect=function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===d.TEMPLATE)break;if(r===d.TABLE)return void(this.insertionMode="IN_SELECT_IN_TABLE_MODE")}this.insertionMode="IN_SELECT_MODE"},T.prototype._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},T.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},T.prototype._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===d.TABLE||t===d.TBODY||t===d.TFOOT||t===d.THEAD||t===d.TR},T.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},T.prototype._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;t>=0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===d.TEMPLATE&&i===p.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===d.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},T.prototype._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},T.prototype._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},T.prototype._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return h.SPECIAL_ELEMENTS[n][t]}},function(e,t,n){var r=n(200),i=n(123),o=n(449),a=n(71).inherits,s=e.exports=function(e){r.call(this,e),this.tokenizer=e,this.posTracker=new o(e.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(e,t){var n={_createStartTagToken:function(){t._createStartTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createEndTagToken:function(){t._createEndTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createCommentToken:function(){t._createCommentToken.call(this),this.currentToken.location=e.currentTokenLocation},_createDoctypeToken:function(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.currentTokenLocation},_createCharacterToken:function(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.currentTokenLocation},_createAttr:function(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName:function(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=e.posTracker.offset+1,t._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){e.currentTokenLocation=e._getCurrentLocation(),t[o].call(this,n)}})),n}},function(e,t,n){var r=n(200),i=n(71).inherits,o=n(149).CODE_POINTS,a=e.exports=function(e){return e.__locTracker||(e.__locTracker=this,r.call(this,e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),e.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(e,t){return{advance:function(){var n=t.advance.call(this);return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=e.offset),n===o.LINE_FEED&&(e.isEol=!0),e.col=e.offset-e.lineStartPos+1,n},retreat:function(){t.retreat.call(this),e.isEol=!1,e.col=e.offset-e.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;t.dropParsedChunk.call(this),e.droppedBufferSize+=n-this.pos}}}},function(e,t,n){var r=n(123),i=n(64),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,l={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},u={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},c=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},f=Object.create(null);f[o.B]=!0,f[o.BIG]=!0,f[o.BLOCKQUOTE]=!0,f[o.BODY]=!0,f[o.BR]=!0,f[o.CENTER]=!0,f[o.CODE]=!0,f[o.DD]=!0,f[o.DIV]=!0,f[o.DL]=!0,f[o.DT]=!0,f[o.EM]=!0,f[o.EMBED]=!0,f[o.H1]=!0,f[o.H2]=!0,f[o.H3]=!0,f[o.H4]=!0,f[o.H5]=!0,f[o.H6]=!0,f[o.HEAD]=!0,f[o.HR]=!0,f[o.I]=!0,f[o.IMG]=!0,f[o.LI]=!0,f[o.LISTING]=!0,f[o.MENU]=!0,f[o.META]=!0,f[o.NOBR]=!0,f[o.OL]=!0,f[o.P]=!0,f[o.PRE]=!0,f[o.RUBY]=!0,f[o.S]=!0,f[o.SMALL]=!0,f[o.SPAN]=!0,f[o.STRONG]=!0,f[o.STRIKE]=!0,f[o.SUB]=!0,f[o.SUP]=!0,f[o.TABLE]=!0,f[o.TT]=!0,f[o.U]=!0,f[o.UL]=!0,f[o.VAR]=!0,t.causesExit=function(e){var t=e.tagName;return!(t!==o.FONT||null===r.getTokenAttr(e,s.COLOR)&&null===r.getTokenAttr(e,s.SIZE)&&null===r.getTokenAttr(e,s.FACE))||f[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=l[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=u[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=c[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==a.HTML||!function(e,t,n){if(t===a.MATHML&&e===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return"text/html"===i||"application/xhtml+xml"===i}return t===a.SVG&&(e===o.FOREIGN_OBJECT||e===o.DESC||e===o.TITLE)}(e,t,n))||!(r&&r!==a.MATHML||(i=e,l=t,l!==a.MATHML||i!==o.MI&&i!==o.MO&&i!==o.MN&&i!==o.MS&&i!==o.MTEXT));var i,l}},function(e,t,n){var r=n(298),i=n(299),o=n(300),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u={treeAdapter:r},c=/&/g,f=/\u00a0/g,h=/"/g,d=/</g,p=/>/g,m=e.exports=function(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e};m.escapeString=function(e,t){return e=e.replace(c,"&amp;").replace(f,"&nbsp;"),t?e.replace(h,"&quot;"):e.replace(d,"&lt;").replace(p,"&gt;")},m.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},m.prototype._serializeChildNodes=function(e){var t=this.treeAdapter.getChildNodes(e);if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},m.prototype._serializeElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==s.AREA&&t!==s.BASE&&t!==s.BASEFONT&&t!==s.BGSOUND&&t!==s.BR&&t!==s.BR&&t!==s.COL&&t!==s.EMBED&&t!==s.FRAME&&t!==s.HR&&t!==s.IMG&&t!==s.INPUT&&t!==s.KEYGEN&&t!==s.LINK&&t!==s.MENUITEM&&t!==s.META&&t!==s.PARAM&&t!==s.SOURCE&&t!==s.TRACK&&t!==s.WBR){var r=t===s.TEMPLATE&&n===l.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(r),this.html+="</"+t+">"}},m.prototype._serializeAttributes=function(e){for(var t=this.treeAdapter.getAttrList(e),n=0,r=t.length;n<r;n++){var i=t[n],o=m.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===l.XML?this.html+="xml:"+i.name:i.namespace===l.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===l.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},m.prototype._serializeTextNode=function(e){var t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=t:this.html+=m.escapeString(t,!1)},m.prototype._serializeCommentNode=function(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"},m.prototype._serializeDocumentTypeNode=function(e){var t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+o.serializeContent(t,null,null)+">"}},function(e,t,n){var r=n(201).Writable,i=n(71).inherits,o=n(447),a=e.exports=function(e){r.call(this),this.parser=new o(e),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};i(a,r),a.prototype._write=function(e,t,n){this.writeCallback=n,this.parser.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},a.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e||"",t,n)},a.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},a.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var e=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(e)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},a.prototype._documentWrite=function(e){this.parser.stopped||this.pendingHtmlInsertions.push(e)},a.prototype._scriptHandler=function(e){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",e,this._documentWrite,this._resume)):this._runParsingLoop()}},function(e,t,n){(function(t,r){var i=n(202);e.exports=b;var o,a=n(335);b.ReadableState=y,n(198).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(454),u=n(199).Buffer,c=t.Uint8Array||function(){},f=n(151);f.inherits=n(58);var h=n(981),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(982),g=n(455);f.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(101));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(297).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(101),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var o,a,s,l,f,h=e._readableState;return null===t?(h.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}}(e,h)):(i||(a=h,f=s=t,u.isBuffer(f)||f instanceof c||"string"==typeof s||void 0===s||a.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),o=l),o?e.emit("error",o):h.objectMode||t&&t.length>0?("string"==typeof t||h.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?h.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,h,t,!0):h.ended?e.emit("error",new Error("stream.push() after EOF")):(h.reading=!1,h.decoder&&!n?(t=h.decoder.write(t),h.objectMode||0!==t.length?E(e,h,t,!1):S(e,h)):E(e,h,t,!1))):r||(h.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(h)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),S(e,t)}function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=((n=e)>=8388608?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),C(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){d("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?a=t.buffer.shift():!e||e>=t.length?(a=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(n=e,r=t.buffer,i=t.decoder,n<r.head.data.length?(o=r.head.data.slice(0,n),r.head.data=r.head.data.slice(n)):o=n===r.head.data.length?r.shift():i?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(n,r):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(n,r),a=o),a);var n,r,i,o,a}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(297).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):x(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?b:u;function u(){d("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",(function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}));var c,f=(c=n,function(){var e=c._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(c,"data")&&(e.flowing=!0,C(c))});e.on("drain",f);var h=!1,p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){d("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){d("onfinish"),e.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=I(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(d("resume"),n.flowing=!0,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=P}).call(this,n(26),n(150))},function(e,t,n){e.exports=n(198).EventEmitter},function(e,t,n){var r=n(202);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){e.exports=a;var r=n(101),i=n(151);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(58),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(194),i=n(99),o=n(287),a=n(97),s=n(185),l=n(118),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(99),i=n(287),o=n(120),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},function(e,t,n){var r=n(143),i=n(460),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(407),i=r&&new r;e.exports=i},function(e,t,n){var r=n(462),i=n(463),o=n(1e3),a=n(204),s=n(464),l=n(306),u=n(1015),c=n(205),f=n(40);e.exports=function e(t,n,h,d,p,m,g,v,y,b){var _=128&n,E=1&n,w=2&n,x=24&n,T=512&n,S=w?void 0:a(t);return function k(){for(var O=arguments.length,A=Array(O),C=O;C--;)A[C]=arguments[C];if(x)var P=l(k),M=o(A,P);if(d&&(A=r(A,d,p,x)),m&&(A=i(A,m,g,x)),O-=M,x&&O<b){var R=c(A,P);return s(t,n,e,k.placeholder,h,A,R,v,y,b-O)}var I=E?h:this,D=w?I[t]:t;return O=A.length,v?A=u(A,v):T&&O>1&&A.reverse(),_&&y<O&&(A.length=y),this&&this!==f&&this instanceof k&&(D=S||a(D)),D.apply(I,A)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),f=Array(u+c),h=!i;++l<u;)f[l]=t[l];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,f=n(a-l,0),h=Array(f+c),d=!i;++o<f;)h[o]=e[o];for(var p=o;++u<c;)h[p+u]=t[u];for(;++s<l;)(d||o<a)&&(h[p+r[s]]=e[o++]);return h}},function(e,t,n){var r=n(1001),i=n(467),o=n(468);e.exports=function(e,t,n,a,s,l,u,c,f,h){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var p=[e,t,s,d?l:void 0,d?u:void 0,d?void 0:l,d?void 0:u,c,f,h],m=n.apply(void 0,p);return r(e)&&i(m,p),m.placeholder=a,o(m,e,t)}},function(e,t,n){var r=n(460),i=n(1002),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(196),i=n(305);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(459),i=n(419)(r);e.exports=i},function(e,t,n){var r=n(1007),i=n(1008),o=n(290),a=n(1009);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t,n){var r=n(288),i=n(119),o=n(291),a=n(120),s=Object.prototype,l=s.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],f=a(c),h=-1,d=f.length;++h<d;){var p=f[h],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e}));e.exports=u},function(e,t,n){e.exports=g;var r=n(308),i=n(100),o=i.findOne,a=i.findAll,s=i.getChildren,l=i.removeSubsets,u=n(153).falseFunc,c=n(1024),f=c.compileUnsafe,h=c.compileToken;function d(e){return function(t,n,r){return"function"!=typeof t&&(t=f(t,r,n)),n=Array.isArray(n)?l(n):s(n),e(t,n)}}var p=d((function(e,t){return e!==u&&t&&0!==t.length?a(e,t):[]})),m=d((function(e,t){return e!==u&&t&&0!==t.length?o(e,t):null}));function g(e,t,n){return p(e,t,n)}g.compile=c,g.filters=r.filters,g.pseudos=r.pseudos,g.selectAll=p,g.selectOne=m,g.is=function(e,t,n){return("function"==typeof t?t:c(t,n))(e)},g.parse=c,g.iterate=p,g._compileUnsafe=f,g._compileToken=h},function(e,t,n){var r=n(100),i=r.hasAttrib,o=r.getAttributeValue,a=n(153).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(e,t){var n=t.name,r=t.value;return t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()===r&&e(t)}):function(t){return o(t,n)===r&&e(t)}},hyphen:function(e,t){var n=t.name,r=t.value,i=r.length;return t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&(a.length===i||"-"===a.charAt(i))&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&(a.length===i||"-"===a.charAt(i))&&e(t)}},element:function(e,t){var n=t.name,r=t.value;if(/\s/.test(r))return a;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",l=t.ignoreCase?"i":"",u=new RegExp(i,l);return function(t){var r=o(t,n);return null!=r&&u.test(r)&&e(t)}},exists:function(e,t){var n=t.name;return function(t){return i(t,n)&&e(t)}},start:function(e,t){var n=t.name,r=t.value,i=r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&e(t)}},end:function(e,t){var n=t.name,r=t.value,i=-r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(i)===r&&e(t)}},any:function(e,t){var n=t.name,r=t.value;if(""===r)return a;if(t.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(t){var r=o(t,n);return null!=r&&i.test(r)&&e(t)}}return function(t){var i=o(t,n);return null!=i&&i.indexOf(r)>=0&&e(t)}},not:function(e,t){var n=t.name,r=t.value;return""===r?function(t){return!!o(t,n)&&e(t)}:t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()!==r&&e(t)}):function(t){return o(t,n)!==r&&e(t)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return l[t.action](e,t)},rules:l}},function(e){e.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},function(e,t,n){var r=n(1038);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(1048),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o=function e(t,n,o,a,s){for(var l=a,u=0;u<o;){var c=r.ToString(u);if(r.HasProperty(n,c)){var f=r.Get(n,c),h=!1;if(s>0&&(h=r.IsArray(f)),h)l=e(t,f,r.ToLength(r.Get(f,"length")),l,s-1);else{if(l>=i)throw new TypeError("index too large");r.CreateDataPropertyOrThrow(t,r.ToString(l),f),l+=1}}u+=1}return l};e.exports=function(){var e=r.ToObject(this),t=r.ToLength(r.Get(e,"length")),n=1;arguments.length>0&&void 0!==arguments[0]&&(n=r.ToInteger(arguments[0]));var i=r.ArraySpeciesCreate(e,0);return o(i,e,t,0,n),i}},function(e,t,n){var r=n(1049),i=n(309),o=i(i({},r),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=o},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){var r=n(206),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(59),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!=e}},function(e,t){var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){var r=n(206),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(478),l=n(479),u=n(480),c=n(481),f=n(482),h=n(155),d=n(1056),p=n(59),m={ToPrimitive:d,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return f(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:h,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(p(e,n)&&!t[n])return!1;var r=p(e,"[[Value]]"),i=p(e,"[[Get]]")||p(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Get]]")&&!p(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Value]]")&&!p(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(p(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),p(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),p(e,"value")&&(t["[[Value]]"]=e.value),p(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),p(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(p(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((p(t,"[[Get]]")||p(t,"[[Set]]"))&&(p(t,"[[Value]]")||p(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=m},function(e,t,n){var r=n(59),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){var r=n(475);e.exports=function(){return Array.prototype.flat||r}},function(e,t,n){var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){var r=n(52),i=n(488),o=n(490),a=n(1059),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){var r=n(489),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push([a,t[a]]);return n}},function(e,t,n){e.exports=n(476)},function(e,t,n){var r=n(488);e.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(e,t,n){var r=n(155),i=n(492),o=n(53),a=o.call(Function.call,Function.prototype.toString),s=o.call(Function.call,String.prototype.match),l=/^class /,u=/\s*function\s+([^(\s]*)\s*/,c=Function.prototype;e.exports=function(){if(!function(e){if(r(e))return!1;if("function"!=typeof e)return!1;try{return!!s(a(e),l)}catch(t){}return!1}(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i)return this.name;if(this===c)return"";var e=a(this),t=s(e,u);return t&&t[1]}},function(e,t){e.exports="string"==typeof function(){}.name},function(e,t,n){var r=n(491);e.exports=function(){return r}},function(e,t,n){var r=n(53),i=n(483),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},function(e,t,n){var r=n(494);e.exports=function(){return String.prototype.trim&&""==="".trim()?String.prototype.trim:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"==typeof e){if(Object.getPrototypeOf(e)===i.default)throw new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n      ");throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ")}if(!(e instanceof i.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")};var r,i=(r=n(497))&&r.__esModule?r:{default:r}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return r(e,[{key:"createRenderer",value:function(e){throw i("createRenderer","EnzymeAdapter")}},{key:"nodeToElement",value:function(e){throw i("nodeToElement","EnzymeAdapter")}},{key:"isValidElement",value:function(e){throw i("isValidElement","EnzymeAdapter")}},{key:"createElement",value:function(e,t){throw i("createElement","EnzymeAdapter")}},{key:"invokeSetStateCallback",value:function(e,t){t.call(e)}}]),e}();o.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},e.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.typeName=g,t.spaces=v,t.indent=y,t.debugNode=w,t.debugNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return w(e,void 0,t)})).join("\n\n\n")};var i=p(n(1064)),o=p(n(311)),a=p(n(1065)),s=p(n(1066)),l=p(n(155)),u=p(n(1067)),c=p(n(1068)),f=p(n(59)),h=n(156),d=p(n(102));function p(e){return e&&e.__esModule?e:{default:e}}var m=Function.bind.call(Function.call,Boolean.prototype.valueOf);function g(e){return(0,d.default)().displayNameOfNode?(0,d.default)().displayNameOfNode(e)||"Component":"function"==typeof e.type?e.type.displayName||(0,o.default)(e.type)||"Component":e.type}function v(e){return Array(e+1).join(" ")}function y(e,t){return t.split("\n").map((function(t){return""+String(v(e))+String(t)})).join("\n")}function b(e,t){var n=(0,h.propsOfNode)(e);return Object.keys(n).filter((function(e){return"children"!==e})).map((function(e){return String(e)+"="+String((i=n[e],o=t,(0,a.default)(i)?(0,c.default)(String(i),{quoteStyle:"double"}):(0,s.default)(i)?"{"+String((0,c.default)(Number(i)))+"}":(0,u.default)(i)?"{"+String((0,c.default)(m(i)))+"}":(0,l.default)(i)?"{"+String((0,c.default)(i))+"}":"object"===(void 0===i?"undefined":r(i))?o.verbose?"{"+String((0,c.default)(i))+"}":"{{...}}":"{["+(void 0===i?"undefined":r(i))+"]}"));var i,o})).join(" ")}function _(e,t){return e.length?"\n"+String(e.map((function(e){return y(t,e)})).join("\n"))+"\n":""}function E(e){return(0,f.default)(e,"nodeType")&&"string"==typeof e.nodeType&&(0,f.default)(e,"type")&&(0,f.default)(e,"key")&&(0,f.default)(e,"ref")&&(0,f.default)(e,"instance")&&(0,f.default)(e,"rendered")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e||"number"==typeof e)return(0,i.default)(e);if("function"==typeof e){var r=(0,o.default)(e);return"[function"+(r?" "+String(r):"")+"]"}if(!e)return"";var a=(0,d.default)();if(!a.isValidElement(e)&&!E(e))return"{"+String((0,c.default)(e))+"}";var s=(0,h.childrenOfNode)(e).map((function(e){return w(e,t,n)})).filter(Boolean),l=g(e),u=n.ignoreProps?"":b(e,n),f=u?" ":"",p=s.length?">":" ",m=_(s,t),v=s.length?"</"+String(l)+">":"/>";return"<"+String(l)+f+String(u)+p+String(m)+v}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.buildPredicate=_,t.reduceTreeBySelector=S,t.reduceTreesBySelector=function(e,t){var n=t.map((function(t){return S(e,t)}));return m((0,a.default)(n,1))};var i=n(1070),o=d(n(1076)),a=d(n(154)),s=d(n(486)),l=d(n(59)),u=d(n(1078)),c=n(156),f=n(310),h=d(n(102));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.createParser)();function m(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(e)))}function g(e,t){return m(t.reduce(e,[]))}function v(e){try{return p.parse(e)}catch(t){throw new Error("Failed to parse selector: "+String(e))}}function y(e,t,n){if(null===e||"string"==typeof e)return!1;switch(t.type){case"universalSelector":return!0;case"classSelector":return(0,c.hasClassName)(e,t.name);case"typeSelector":return(0,f.nodeHasType)(e,t.name);case"idSelector":return(0,c.nodeHasId)(e,t.name);case"attributePresenceSelector":case"attributeValueSelector":return function(e,t){var n=t.operator,r=t.value,i=t.name,o=(0,f.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var u=o[i];if(void 0===u)return!1;if("attributePresenceSelector"===t.type)return(0,l.default)(o,t.name);if(("string"!=typeof u||"string"!=typeof r)&&"="!==n)return!1;switch(n){case"=":return(0,s.default)(u,r);case"~=":return-1!==u.split(" ").indexOf(r);case"|=":return u===r||u.startsWith(String(r)+"-");case"^=":return""!==r&&u.slice(0,r.length)===r;case"$=":return""!==r&&u.slice(-r.length)===r;case"*=":return""!==r&&-1!==u.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}(e,t);case"pseudoElementSelector":case"pseudoClassSelector":return function(e,t,n){var r=t.name,i=t.parameters;if("not"===r)return i.every((function(t){return 0===S(t,e).length}));if("empty"===r)return 0===(0,c.treeFilter)(e,(function(t){return t!==e})).length;if("first-child"===r)return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,c.findParentNode)(n,e).rendered,1)[0]===e;if("last-child"===r){var o=(0,c.findParentNode)(n,e).rendered;return o[o.length-1]===e}if("focus"===r){if("undefined"==typeof document)throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var a=(0,h.default)();return document.activeElement&&a.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}(e,t,n);default:throw new Error("Unknown token type: "+String(t.type))}}function b(e,t){return function(n){return e.body.every((function(e){return y(n,e,t)}))}}function _(e){if("string"==typeof e){var t=v(e);if(t.some((function(e){return"selector"!==e.type})))throw new TypeError("This method does not support complex CSS selectors");return b(t[0])}var n=(0,h.default)();if(n.isValidElementType?n.isValidElementType(e):"function"==typeof e)return function(t){return t&&t.type===e};if("object"===(void 0===e?"undefined":r(e))){if(!Array.isArray(e)&&null!==e&&Object.keys(e).length>0){if((0,o.default)(e).some((function(e){return void 0===e})))throw new TypeError("Enzyme::Props cant have `undefined` values. Try using findWhere() instead.");return function(t){return(0,c.nodeMatchesObjectProps)(t,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function E(e,t,n){return e.reduce((function(e,r){var i=(0,c.findParentNode)(n,r);if(!i)return e;var o=(0,c.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s?(t(s)&&e.push(s),e):e}),[])}function w(e,t,n){return g((function(e,r){var i=(0,c.findParentNode)(n,r);if(!i)return e;var o=(0,c.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return e.concat(s.filter(t))}),e)}function x(e,t){return g((function(e,n){return e.concat((0,c.childrenOfNode)(n).filter(t))}),e)}function T(e,t){return g((function(e,n){return e.concat((0,c.treeFilter)(n,t))}),(0,a.default)(e.map(c.childrenOfNode)))}function S(e,t){if("string"!=typeof e){var n=(0,u.default)(e);if(n.length>0)return(0,a.default)(n.map((function(e){return S(e.tag,t)})))}if("function"==typeof e||"object"===(void 0===e?"undefined":r(e)))return(0,c.treeFilter)(t,_(e));var i=[];if("string"!=typeof e)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var o=v(e),s=0;s<o.length;){var l=o[s];if("selector"===l.type){var f=b(l,t);i=i.concat((0,c.treeFilter)(t,f))}else{var h=l.type,d=b(o[s+=1],t);switch(h){case"adjacentSiblingCombinator":i=E(i,d,t);break;case"generalSiblingCombinator":i=w(i,d,t);break;case"childCombinator":i=x(i,d);break;case"descendantCombinator":i=T(i,d);break;default:throw new Error("Unknown combinator selector: "+String(h))}}s+=1}return i}},function(e,t,n){var r=n(489),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push(t[a]);return n}},function(e,t,n){var r=n(500);e.exports=function(){return"function"==typeof Object.values?Object.values:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=p(n(121)),a=p(n(154)),s=p(n(293)),l=p(n(59)),u=n(310),c=p(n(102)),f=n(498),h=n(156),d=n(499);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,u.sym)("__node__"),b=(0,u.sym)("__nodes__"),_=(0,u.sym)("__renderer__"),E=(0,u.sym)("__unrendered__"),w=(0,u.sym)("__root__"),x=(0,u.sym)("__options__"),T=(0,u.sym)("__setState__"),S=(0,u.sym)("__rootNodes__"),k=(0,u.sym)("__childContext__");function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function A(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function C(e){var t=e.lifecycleExperimental,n=e.disableLifecycleMethods,r=e.enableComponentDidUpdateOnSetState,i=e.supportPrevContextArgumentOfComponentDidUpdate,o=e.lifecycles;if(void 0!==t&&"boolean"!=typeof t)throw new Error("lifecycleExperimental must be either true or false if provided");if(void 0!==n&&"boolean"!=typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=t&&null!=n&&t===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(void 0!==r&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(void 0!==i&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function P(e){var t=e.options,n=t.lifecycles,r=void 0===n?{}:n,i=t.enableComponentDidUpdateOnSetState,a=t.supportPrevContextArgumentOfComponentDidUpdate,s=void 0!==i,l=void 0!==a,u=s||l?(0,o.default)({},s&&{onSetState:!!i},l&&{prevContext:!!a}):null;return(0,o.default)({},r,{setState:(0,o.default)({},r.setState),getChildContext:(0,o.default)({calledByRenderer:!0},r.getChildContext)},u&&{componentDidUpdate:u})}function M(e){return"host"===e.nodeType?e:e.rendered}function R(e){if(1!==e[w].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[w]!==e?e[S][0]:e[w][y]}function I(e,t){return(0,h.parentsOfNode)(t,R(e))}function D(e,t){Array.isArray(t)?((0,u.privateSet)(e,y,t[0]),(0,u.privateSet)(e,b,t)):((0,u.privateSet)(e,y,t),(0,u.privateSet)(e,b,[t])),(0,u.privateSet)(e,"length",e[b].length)}function N(e,t,n,r){return!(0,u.shallowEqual)(e,t)||!(0,u.shallowEqual)(n,r)}function L(e){return e&&e.isPureReactComponent}function F(e,t){return(0,u.isCustomComponentElement)(e,t)&&e.type.prototype&&"function"==typeof e.type.prototype.getChildContext?(0,u.spyMethod)(e.type.prototype,"getChildContext"):null}function j(e,t,n,r,o){var a=t[_];if("parent"===e.options.legacyContextMode)if(o)(0,u.privateSet)(t,k,o.getLastReturnValue()),o.restore();else if("function"==typeof n.getChildContext){var s=function(e,t,n){var r=e.instance,o=e.type,a=(0,u.displayNameOfNode)(e);if("object"!==i(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=r.getChildContext();return Object.keys(s).forEach((function(e){if(!(e in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(e)+'" is not defined in childContextTypes.')})),"function"==typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",t),s}(r,[t[y]].concat(I(t,t[y])),a);(0,u.privateSet)(t,k,s)}else(0,u.privateSet)(t,k,null)}var B=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),C(i);var a=(0,u.makeOptions)(i),s=(0,c.default)(a),l=P(s);if(n)(0,u.privateSet)(this,w,n),(0,u.privateSet)(this,E,null),(0,u.privateSet)(this,_,n[_]),D(this,t),(0,u.privateSet)(this,x,n[x]),(0,u.privateSet)(this,S,n[b]);else{if(!s.isValidElement(t))throw new TypeError("ShallowWrapper can only wrap valid elements");var f=l.getChildContext.calledByRenderer?F(t,s):null;(0,u.privateSet)(this,w,this),(0,u.privateSet)(this,E,t);var h=s.createRenderer((0,o.default)({mode:"shallow"},a));(0,u.privateSet)(this,_,h),this[_].render(t,a.context);var d=this[_].getNode();D(this,M(d)),(0,u.privateSet)(this,x,a);var p=d.instance;p&&!a.disableLifecycleMethods&&(l.componentDidUpdate.onSetState&&!p[T]&&((0,u.privateSet)(p,T,p.setState),p.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,g(null==t?[e]:[e,t]))}),"function"==typeof p.componentDidMount&&this[_].batchedUpdates((function(){p.componentDidMount()})),j(s,this,p,d,f))}}return r(e,[{key:"root",value:function(){return this[w]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[w]===this&&this.update(),this[y]}},{key:"getNodesInternal",value:function(){return this[w]===this&&1===this.length&&this.update(),this[b]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(t){return(0,c.default)(e[x]).nodeToElement(t)}))}},{key:"getElements",value:function(){return this.getNodesInternal().map((0,c.default)(this[x]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}},{key:"getNodes",value:function(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}},{key:"instance",value:function(){if(this[w]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[_].getNode().instance}},{key:"update",value:function(){if(this[w]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return D(this,M(this[_].getNode())),this}},{key:"unmount",value:function(){return this[_].unmount(),this}},{key:"rerender",value:function(e,t){var n=this,r=(0,c.default)(this[x]);return this.single("rerender",(function(){(0,u.withSetStateAllowed)((function(){var i=n[_].getNode(),a=i.instance||{},s=a.state,l=a.props||n[E].props,c=a.context||n[x].context,f=t||c;t&&(n[x]=(0,o.default)({},n[x],{context:f})),n[_].batchedUpdates((function(){var t=P(r),h=!0,d=void 0,p=void 0;if(!n[x].disableLifecycleMethods&&a&&("function"==typeof a.shouldComponentUpdate&&(d=(0,u.spyMethod)(a,"shouldComponentUpdate")),t.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(p=(0,u.spyMethod)(a,"getChildContext"))),!d&&L(a)&&(h=N(l,e,s,a.state)),e&&(n[E]=(0,u.cloneElement)(r,n[E],e)),n[_].render(n[E],f),d&&(h=d.getLastReturnValue(),d.restore()),h&&!n[x].disableLifecycleMethods&&a)if(j(r,n,a,i,p),t.getSnapshotBeforeUpdate){var m=void 0;"function"==typeof a.getSnapshotBeforeUpdate&&(m=a.getSnapshotBeforeUpdate(l,s)),!t.componentDidUpdate||"function"!=typeof a.componentDidUpdate||s&&!(0,u.shallowEqual)(s,n.instance().state)||a.componentDidUpdate(l,s,m)}else t.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(t.componentDidUpdate.prevContext?a.componentDidUpdate(l,s,c):s&&!(0,u.shallowEqual)(n.instance().state,s)||a.componentDidUpdate(l,s));else(0,u.shallowEqual)(e,a.props)||(a.props=(Object.freeze||Object)((0,o.default)({},a.props,e)));n.update()}))}))})),this}},{key:"setProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[w]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof t)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(e),t&&t(),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[w]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,u.withSetStateAllowed)((function(){var r=(0,c.default)(t[x]),i=P(r),o=t[_].getNode(),a=o.instance,s=a.props,l=a.state,f=a.context,h="function"==typeof e?e.call(a,l,s):e,d=!i.setState.skipsComponentDidUpdateOnNullish||null!=h,p=void 0,m=void 0,g=!0;if(!t[x].disableLifecycleMethods&&a&&(i.componentDidUpdate&&i.componentDidUpdate.onSetState&&"function"==typeof a.shouldComponentUpdate&&(p=(0,u.spyMethod)(a,"shouldComponentUpdate")),i.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(m=(0,u.spyMethod)(a,"getChildContext"))),!p&&L(a)&&(g=N(s,a.props,l,h)),a[T]?a[T](h):a.setState(h),p&&(g=p.getLastReturnValue(),p.restore()),d&&g&&!t[x].disableLifecycleMethods&&(j(r,t,a,o,m),i.componentDidUpdate&&i.componentDidUpdate.onSetState))if(i.getSnapshotBeforeUpdate&&"function"==typeof a.getSnapshotBeforeUpdate){var v=a.getSnapshotBeforeUpdate(s,l);"function"==typeof a.componentDidUpdate&&a.componentDidUpdate(s,l,v)}else"function"==typeof a.componentDidUpdate&&(i.componentDidUpdate.prevContext?a.componentDidUpdate(s,l,f):a.componentDidUpdate(s,l));t.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(a,n):n.call(a))}))})),this}},{key:"setContext",value:function(e){if(this[w]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[x].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,e)}},{key:"contains",value:function(e){var t=(0,c.default)(this[x]);if(!(0,u.isReactElementAlike)(e,t))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");return O(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[x]).elementToNode(e);return O(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[x]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,d.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,d.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){return this.getNodesInternal().every((function(e){return(0,u.isEmptyValue)(e)}))}},{key:"filterWhere",value:function(e){var t=this;return A(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return A(this,(0,d.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,d.buildPredicate)(e);return A(this,(function(e){return!t(e)}))}},{key:"text",value:function(){return this.single("text",h.getTextFromNode)}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===e.type())return null;var n=(0,c.default)(e[x]);return n.createRenderer((0,o.default)({},e[x],{mode:"string"})).render(n.nodeToElement(t))}))}},{key:"render",value:function(){return null===this.type()?(0,s.default)():s.default.load("")(this.html())}},{key:"simulate",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=t[_]).simulateEvent.apply(i,[n,e].concat(r)),t[w].update(),t}))}},{key:"simulateError",value:function(e){var t=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=t[_];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=R(t),o=[n].concat(I(t,n));return r.simulateError(o,i,e),t}))}},{key:"props",value:function(){return this.single("props",h.propsOfNode)}},{key:"state",value:function(e){var t=this;if(this[w]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[w]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[x].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return t.instance().context}));return e?n[e]:n}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,h.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(I(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"shallow",value:function(e){var t=this;return this.single("shallow",(function(n){return t.wrap((0,c.default)(t[x]).nodeToElement(n),null,e)}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[x]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(r){if("host"===r.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called "+String(e)+" found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop "+String(e)+" to contain a function, but it holds "+("undefined"==typeof prop?"undefined":i(prop))+"");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[x])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[x]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,h.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[w]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var t=(0,d.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,d.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,a.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return O(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method "+n+" is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[w];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"dive",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[x]),r="dive";return this.single(r,(function(i){if(i&&"host"===i.nodeType)throw new TypeError("ShallowWrapper::"+r+"() can not be called on Host Components");var a=(0,c.default)(e[x]).nodeToElement(i);if(!(0,u.isCustomComponentElement)(a,n))throw new TypeError("ShallowWrapper::"+r+"() can only be called on components");return e.wrap(a,null,(0,o.default)({},e[x],t,{context:t.context||(0,o.default)({},e[x].context,e[w][k])}))}))}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),e}();function U(e,t){Object.defineProperty(B.prototype,e,{get:function(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(B.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this.getNodesInternal()[u.ITERATOR_SYMBOL](),n=(0,c.default)(this[x]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),U("node","Consider using the getElement() method instead."),U("nodes","Consider using the getElements() method instead."),U("renderer",""),U("options",""),U("complexSelector",""),t.default=B},function(e,t,n){e.exports={default:n(504),__esModule:!0}},function(e,t,n){n(76),n(61),e.exports=n(505)},function(e,t,n){var r=n(110),i=n(21)("iterator"),o=n(51);e.exports=n(12).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(62))&&r.__esModule?r:{default:r},o=n(103),a=n(10),s={},l=function(e){return fetch(e,{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){return function(e){if(0===e.length)return null;var t=(0,o.tsvParseRows)(e);return(0,a.parseChromsizesRows)(t)}(e)})).catch((function(e){console.error("Could not retrieve or parse chrom info.",e)}))},u={get:function(e){return function(e,t){return s[e]?i.default.resolve(s[e]):t(e)}(t=e,l).then((function(e){return s[t]=e,s[t]}));var t}};t.default=u},function(e,t,n){n(164),n(61),n(76),n(508),n(512),n(513),e.exports=n(12).Promise},function(e,t,n){var r,i,o,a,s=n(75),l=n(23),u=n(49),c=n(110),f=n(16),h=n(33),d=n(92),p=n(217),m=n(128),g=n(315),v=n(316).set,y=n(510)(),b=n(218),_=n(317),E=n(511),w=n(318),x=l.TypeError,T=l.process,S=T&&T.versions,k=S&&S.v8||"",O=l.Promise,A="process"==c(T),C=function(){},P=i=b.f,M=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(21)("species")]=function(e){e(C,C)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==k.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(r){}}(),R=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(x("Promise-chain cycle")):(o=R(n))?o.call(n,l,u):l(n)):u(r)}catch(f){c&&!a&&c.exit(),u(f)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){v.call(l,(function(){var t,n,r,i=e._v,o=N(e);if(o&&(t=_((function(){A?T.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(l,(function(){var t;A?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(j,r,1),u(F,r,1))}catch(i){F.call(r,i)}})):(n._v=e,n._s=1,I(n,!1))}catch(r){F.call({_w:n,_d:!1},r)}}};M||(O=function(e){p(this,O,"Promise","_h"),d(e),r.call(this);try{e(u(j,this,1),u(F,this,1))}catch(t){F.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(219)(O.prototype,{then:function(e,t){var n=P(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(j,e,1),this.reject=u(F,e,1)},b.f=P=function(e){return e===O||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:O}),n(77)(O,"Promise"),n(319)("Promise"),a=n(12).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(e){return w(s&&this===a?O:this,e)}}),f(f.S+f.F*!(M&&n(167)((function(e){O.all(e).catch(C)}))),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(23),i=n(316).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(74)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(23).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(16),i=n(12),o=n(23),a=n(315),s=n(318);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){var r=n(16),i=n(218),o=n(317);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){if(!t||!t.cumPositions||!t.cumPositions.length)return null;var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n===t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){return n%e*t+Math.floor(n/e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return e.map((function(e,r){return e+t[n(r)]}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(220))&&r.__esModule?r:{default:r};t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){if(!(0,i.default)(e,t)){var n=e.getAttribute("class")||"";e.setAttribute("class",String(n)+" "+String(t))}}else e.classList?e.classList.add(t):(0,i.default)(e,t)||(e.className+=" "+String(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(62))&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=document.createElement("canvas");return new i.default((function(i,o){var a=new window.Image;a.onload=function(){r.width=t||a.width,r.height=n||a.height,r.getContext("2d").drawImage(a,0,0),i(r)},a.onerror=function(){o(new Error("Could not convert base64 to canvas"))},a.src="data:image/png;base64,"+String(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(8).bisector)((function(e){return e.pos})).left;t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return n.chrPositions[e].pos+t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(8),o=n(9);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(t,n){return n*(255/(e.length-1))})),a=(0,r.scaleLinear)().domain(n).range(e),s=t?255:254,l=(0,i.range)(s,-1,-1).map(a).map((function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255*t.opacity]}));return l.length<256&&l.push([255,255,255,0]),l}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),o=(r=n(321))&&r.__esModule?r:{default:r};t.default=function(e){var t=(0,i.color)(e);return o.default.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.default=function(e){if("transparent"===e)return[255,255,255,0];var t=(0,r.color)(e);return[t.r,t.g,t.b,255]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.debounce=function e(t,n,r){var i=void 0;return e.cancel=function(){clearTimeout(i),i=null},function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){i=null,r||t.apply(void 0,o)},l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&t.apply(void 0,o)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e+Math.pow(16,6)).toString(16).substr(-6)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return e.forEach((function(e){t[e[0]]=e[1]})),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},function(e,t,n){function r(e,t){var n="string"==typeof t?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=r,t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(34))&&r.__esModule?r:{default:r},o=n(11);t.default=function(e){return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],["top","bottom","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=o.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,i.default)({},n,e.options):n;void 0!==r.minHeight&&void 0===e.height&&(e.height=r.minHeight),void 0===e.height&&(e.height=t&&t.defaultHeight||o.MIN_HORIZONTAL_HEIGHT)}))})),["left","right","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=o.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,i.default)({},n,e.options):n;void 0!==r.minWidth&&void 0===e.width&&(e.width=r.minWidth),void 0===e.width&&(e.width=t&&t.defaultWidth||o.MIN_VERTICAL_WIDTH)}))})),e}},function(e,t,n){n(533),n(164),n(536),n(537),e.exports=n(12).Symbol},function(e,t,n){var r=n(23),i=n(47),o=n(36),a=n(16),s=n(161),l=n(225).KEY,u=n(50),c=n(105),f=n(77),h=n(91),d=n(21),p=n(168),m=n(226),g=n(534),v=n(325),y=n(39),b=n(33),_=n(48),E=n(126),w=n(66),x=n(109),T=n(535),S=n(227),k=n(32),O=n(60),A=S.f,C=k.f,P=T.f,M=r.Symbol,R=r.JSON,I=R&&R.stringify,D=d("_hidden"),N=d("toPrimitive"),L={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),B=c("op-symbols"),U=Object.prototype,z="function"==typeof M,H=r.QObject,G=!H||!H.prototype||!H.prototype.findChild,V=o&&u((function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(U,t);r&&delete U[t],C(e,t,n),r&&e!==U&&C(U,t,r)}:C,$=function(e){var t=j[e]=x(M.prototype);return t._k=e,t},X=z&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},W=function(e,t,n){return e===U&&W(B,t,n),y(e),t=E(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:w(0,!1)})):(i(e,D)||C(e,D,w(1,{})),e[D][t]=!0),V(e,t,n)):C(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;o>i;)W(e,n=r[i++],t[n]);return e},q=function(e){var t=L.call(this,e=E(e,!0));return!(this===U&&i(j,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,D)&&this[D][e])||t)},K=function(e,t){if(e=_(e),t=E(t,!0),e!==U||!i(j,t)||i(B,t)){var n=A(e,t);return!n||!i(j,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=P(_(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==D||t==l||r.push(t);return r},Q=function(e){for(var t,n=e===U,r=P(n?B:_(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(U,t)||o.push(j[t]);return o};z||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(B,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),V(this,e,w(1,n))};return o&&G&&V(U,e,{configurable:!0,set:t}),$(e)}).prototype,"toString",(function(){return this._k})),S.f=K,k.f=W,n(326).f=T.f=Z,n(93).f=q,n(129).f=Q,o&&!n(75)&&s(U,"propertyIsEnumerable",q,!0),p.f=function(e){return $(d(e))}),a(a.G+a.W+a.F*!z,{Symbol:M});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)d(J[ee++]);for(var te=O(d.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=M(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?x(e):Y(x(e),t)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),R&&a(a.S+a.F*(!z||u((function(){var e=M();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!X(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,I.apply(R,r)}}),M.prototype[N]||n(42)(M.prototype,N,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(60),i=n(129),o=n(93);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(48),i=n(326).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(226)("asyncIterator")},function(e,t,n){n(226)("observable")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(11),i=t.DATATYPE_TO_TRACK_TYPE=function(e){var t={};return r.TRACKS_INFO.filter((function(t){return t.orientation===e||!("1d-vertical"!==e||"1d-horizontal"!==t.orientation||!t.rotatable)})).forEach((function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach((function(n){n in t||(t[n]=[]),t[n].push(e)}))})),t.none=[],t};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(10),i=t.IS_TRACK_RANGE_SELECTABLE=function e(t){switch(t.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return t.contents.map((function(t){return e(t)})).reduce(r.or,!1);default:return!1}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=c(n(19)),i=c(n(37)),o=c(n(17)),a=c(n(34)),s=c(n(43)),l=n(20),u=c(n(544));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.reduce((function(e,r){return e[r]={name:""+r*n+String(t),value:r},e}),{})},d={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},p={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},m=h([1,2,3,5,8,13,21]),g=(0,s.default)(m,{none:{name:"none",value:"none"}}),v=h([0,2,4,8,16,32,64,128,256]),y=h([0,.2,.4,.6,.8,1],"%",100),b=h([.2,.4,.6,.8,1],"%",100),_=t.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:v},labelRightMargin:{name:"Label Right Margin",inlineOptions:v},labelTopMargin:{name:"Label Top Margin",inlineOptions:v},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:v},labelShowResolution:{name:"Label Show Resolution",inlineOptions:d},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:d},lineStrokeWidth:{name:"Stroke Width",inlineOptions:m},strokeWidth:{name:"Stroke Width",inlineOptions:m},trackBorderWidth:{name:"Track Border Width",inlineOptions:m},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:d},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:d},showTexts:{name:"Show texts",inlineOptions:d},staggered:{name:"Staggered",inlineOptions:d},minSquareSize:{name:"Minimum size",inlineOptions:g},pointSize:{name:"Point Size",inlineOptions:m},pointColor:{name:"Point Color",inlineOptions:p},trackBorderColor:{name:"Track Border Color",inlineOptions:p},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:p},plusStrandColor:{name:"+ Strand Color",inlineOptions:p},lineStrokeColor:{name:"Stroke color",inlineOptions:p},projectionStrokeColor:{name:"Stroke color",inlineOptions:p},projectionFillColor:{name:"Fill color",inlineOptions:p},stroke:{name:"Stroke Color",inlineOptions:p},strokeColor:{name:"Stroke color",inlineOptions:p},fill:{name:"Fill Color",inlineOptions:p},color:{name:"Color",inlineOptions:p},fontColor:{name:"Font color",inlineOptions:p},fillColor:{name:"Fill color",inlineOptions:p},barFillColor:{name:"Fill color",inlineOptions:p},barFillColorTop:{name:"Top Fill color",inlineOptions:p},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:p},barOpacity:{name:"Bar opacity",inlineOptions:y},zeroLineVisible:{name:"Zero line visible",inlineOptions:d},zeroLineColor:{name:"Zero line color",inlineOptions:p},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:b},fillOpacity:{name:"Fill Opacity",inlineOptions:y},strokeOpacity:{name:"Stroke Opacity",inlineOptions:y},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:d},scaledHeight:{name:"Scaled height",inlineOptions:d},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:p},rectangleDomainFillColor:{name:"Fill color",inlineOptions:p},rectangleDomainOpacity:{name:"Opacity",inlineOptions:y},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:d},showTooltip:{name:"Show Tooltip",inlineOptions:d},fontSize:{name:"Font Size",inlineOptions:h([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:f},fontIsAligned:{name:"Left-Align Font",inlineOptions:d},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:h([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:p},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:y},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,a.default)({},p,{use_stroke:{name:"Glyph color",value:"[glyph-color]"}})},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:y},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:p},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:y},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:u.default,"horizontal-heatmap":u.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:d},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(e.transforms);!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({name:l.name,value:l.value})}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(e){var t=[];return e.aggregationModes?(0,i.default)(e.aggregationModes).forEach((function(e){var n=e.name,r=e.value;t.push({name:n,value:r})})):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=1,u=1;if(e.resolutions){var c=e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));s=(0,r.default)(c,1)[0],u=c[n]}else u=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),s=i/(Math.pow(2,a)*o);var f=(0,l.precisionPrefix)(s,u),h=(0,l.formatPrefix)("."+String(f),u)(u);t.push({name:h,value:n.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:f},zeroValueColor:{name:"Zero Value Color",inlineOptions:p}};t.default=_},function(e,t,n){n(543),e.exports=n(12).Object.values},function(e,t,n){var r=n(16),i=n(327)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(43)),i=m(n(35)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(7)),c=m(n(2)),f=m(n(1)),h=n(329),d=m(n(231)),p=m(n(733));function m(e){return e&&e.__esModule?e:{default:e}}n(882);var g=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleColorsChanged",value:function(e){this.setState({colors:e})}},{key:"handleSubmit",value:function(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState((function(e){return{colors:e.colors.concat(e.colors[e.colors.length-1])}}))}},{key:"handleRemoveColor",value:function(e){this.setState((function(t){return{colors:t.colors.slice(0,e).concat(t.colors.slice(e+1))}}))}},{key:"render",value:function(){var e=this,t=JSON.parse((0,i.default)(this.props.track)),n=(0,r.default)(t,{options:{colorRange:this.state.colors}}),o={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},a=this.state.colors.map((function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?f.default.createElement("div",{onClick:function(){return e.handleRemoveColor(n)},style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},f.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},f.default.createElement("use",{xlinkHref:"#cross"}))):null;return f.default.createElement("div",{key:"l"+String(n),style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},r,f.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(t){e.setState((function(e){var r=e.colors.slice();return r[n]=t,{colors:r}}),(function(){e.handleColorsChanged(e.state.colors)}))}}))})).reverse(),s=this.state.colors.length<10?f.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},f.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},f.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},f.default.createElement("use",{xlinkHref:"#plus"})))):null;return f.default.createElement(h.Modal,{className:"hg-modal",onHide:this.props.onCancel,show:!0},f.default.createElement(h.Modal.Header,{closeButton:!0},f.default.createElement(h.Modal.Title,null,"Custom Color Map")),f.default.createElement(h.Modal.Body,null,f.default.createElement("table",{className:"table-track-options"},f.default.createElement("thead",null),f.default.createElement("tbody",{style:{verticalAlign:"top"}},f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},"Preview")),f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},f.default.createElement("div",{style:{width:200}},f.default.createElement(d.default,{options:{bounded:!1},viewConfig:o}))))),f.default.createElement("td",{className:"td-track-options"},f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},"Colors")),f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},s,f.default.createElement("div",{style:{position:"relative"}},a)))))))),f.default.createElement(h.Modal.Footer,null,f.default.createElement(h.Button,{onClick:this.props.onCancel},"Cancel"),f.default.createElement(h.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}}]),t}(f.default.Component);g.propTypes={handleCancel:c.default.func,onCancel:c.default.func,onSubmit:c.default.func,track:c.default.object,xScale:c.default.object,yScale:c.default.object},t.default=g},function(e,t,n){n(546),e.exports=n(12).Object.getPrototypeOf},function(e,t,n){var r=n(54),i=n(127);n(125)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(548),__esModule:!0}},function(e,t,n){n(61),n(76),e.exports=n(168).f("iterator")},function(e,t,n){n(550),e.exports=n(12).Object.setPrototypeOf},function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(551).set})},function(e,t,n){var r=n(33),i=n(39),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(49)(Function.call,n(227).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(553),__esModule:!0}},function(e,t,n){n(554);var r=n(12).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(109)})},function(e,t,n){var r=n(556);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){e.exports={default:n(558),__esModule:!0}},function(e,t,n){n(559),e.exports=n(12).Object.entries},function(e,t,n){var r=n(16),i=n(327)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(164),n(61),n(76),n(561),n(565),n(567),n(568),e.exports=n(12).Set},function(e,t,n){var r=n(330),i=n(237);e.exports=n(331)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(49),i=n(104),o=n(54),a=n(88),s=n(563);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,h=5==e||f,d=t||s;return function(t,s,p){for(var m,g,v=o(t),y=i(v),b=r(s,p,3),_=a(y.length),E=0,w=n?d(t,_):l?d(t,0):void 0;_>E;E++)if((h||E in y)&&(g=b(m=y[E],E,v),e))if(n)w[E]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:w.push(m)}else if(c)return!1;return f?-1:u||c?c:w}}},function(e,t,n){var r=n(564);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(33),i=n(325),o=n(21)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(332)("Set")})},function(e,t,n){var r=n(128);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(333)("Set")},function(e,t,n){n(334)("Set")},function(e,t,n){(function(e){var r=n(572);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(113).Buffer)},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(3*(r+(h=a))/4-h),l=0,c=a>0?r-4:r,f=0;f<c;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;var h;return 2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t,n){for(var r=n(573),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),f=0,h=0;function d(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var p=d;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:h+1,d=a-f+(l-h)/1e4;if(d<0&&void 0===e.clockseq&&(o=o+1&16383),(d<0||a>f)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,h=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var g=e.node||u,v=0;v<6;v++)i[r+v]=g[v];return t||s(i)},p.v4=d,p.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t},p.unparse=s,e.exports=p},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(26))},function(e,t,n){e.exports=n(336).default,e.exports.utils=n(131),e.exports.Responsive=n(579).default,e.exports.Responsive.utils=n(340),e.exports.WidthProvider=n(580).default},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=n(338),s=n(576),l=n(131),u=c(n(337));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((t-r[0])/(u+r[0])),f=Math.round((e-r[1])/(o+r[1]));return{x:c=Math.max(Math.min(c,i-a),0),y:f=Math.max(Math.min(f,l-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),f=Math.round((n+i[0])/(c+i[0])),h=Math.round((t+i[1])/(s+i[1]));return{w:f=Math.max(Math.min(f,a-l),0),h:h=Math.max(Math.min(h,o-u),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,l.setTransform)(e):(i=(0,l.setTopLeft)(e),n&&(i.left=(0,l.perc)(e.left/r),i.width=(0,l.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,a=n.minW,l=n.minH,u=n.maxW,c=n.maxH,f=this.calcPosition(0,0,r-o,0).width,h=this.calcPosition(0,0,a,l),d=this.calcPosition(0,0,u,c),p=[h.width,h.height],m=[Math.min(d.width,f),Math.min(d.height,1/0)];return i.default.createElement(s.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),f=i.getBoundingClientRect();l.left=f.left-c.left+u.scrollLeft,l.top=f.top-c.top+u.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var h=t.calcXY(l.top,l.left),d=h.x,p=h.y;return s.call(t,t.props.i,d,p,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,u=s.x,c=s.i,f=s.maxW,h=s.minW,d=s.maxH,p=s.minH,m=t.calcWH(o),g=m.w,v=m.h;g=Math.min(g,l-u),g=Math.max(g,1),g=Math.max(Math.min(g,f),h),v=Math.max(Math.min(v,d),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,g,v,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,s=e.isDraggable,l=e.isResizable,c=e.useCSSTransforms,f=this.calcPosition(t,n,o,a,this.state),h=i.default.Children.only(this.props.children),d=i.default.cloneElement(h,{className:(0,u.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":s,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:c}),style:r({},this.props.style,h.props.style,this.createStyle(f))});return l&&(d=this.mixinResizable(d,f)),s&&(d=this.mixinDraggable(d)),d},t}(i.default.Component);d.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},d.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=d},function(e,t,n){e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(339).default,e.exports.ResizableBox=n(578).default},function(e,t,n){var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(1))&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.style&&e.props.style&&(t.style=i({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)}},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(1)),o=s(n(2)),a=s(n(339));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height,r.props.onResize?(e.persist&&e.persist(),r.setState(n,(function(){return r.props.onResize&&r.props.onResize(e,t)}))):r.setState(n)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),s=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,c=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,d=(e.width,e.height,e.resizeHandles),p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:l,minConstraints:u,maxConstraints:c,lockAspectRatio:f,axis:h,resizeHandles:d},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(i.default.Component);c.propTypes={height:o.default.number,width:o.default.number},c.defaultProps={handleSize:[20,20]},t.default=c},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(169)),s=n(131),l=n(340),u=c(n(336));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){return Object.prototype.toString.call(e)},p=function(e){function t(){var n,i;f(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=h(this,e.call.apply(e,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(e){var t;i.props.onLayoutChange(e,r({},i.props.layouts,((t={})[i.state.breakpoint]=e,t)))},h(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,l.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var u=(0,l.getColsFromBreakpoint)(o,n),c=(0,l.findOrGenerateResponsiveLayout)(r,t,o,a,u,i);c=(0,s.synchronizeLayoutWithChildren)(c,e.children,u,i),r[o]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(o,u),this.props.onWidthChange(e.width,e.margin,u,e.containerPadding),this.setState({breakpoint:o,layout:c,cols:u})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return i.default.createElement(u.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(i.default.Component);p.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(e,t){if("[object Object]"!==d(e[t]))throw new Error("Layout property must be an object. Received: "+d(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},p.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},t.default=p},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;l(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},u(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(e,r({},o,this.state))},n}(i.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:o.default.bool},n};var i=s(n(1)),o=s(n(2)),a=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,n){var r,i,o;i=[n(342)],void 0===(o="function"==typeof(r=function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===r?"min":"max"])(o,a);default:return t}}function a(e,t){var r,i,a,s,l,u,c,f;this.element=e;var h=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in a=function(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}(this.element),u={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],s=o(this.element,i.value),l="width"===i.property?a.width:a.height,f=i.mode+"-"+i.property,c="","min"===i.mode&&l>=s&&(c+=i.value),"max"===i.mode&&l<=s&&(c+=i.value),u[f]||(u[f]=""),c&&-1===(" "+u[f]+" ").indexOf(" "+c+" ")&&(u[f]+=" "+c));for(var e in h)h.hasOwnProperty(e)&&(u[h[e]]?this.element.setAttribute(h[e],u[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function s(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function l(e,i,o,a){if(void 0===n[e]){n[e]=[];var s=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:a})}function u(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function c(t){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var u=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),c=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");i.push(c);var f={minWidth:u};r.push(f),u?t.children[l].style.display="none":(o=n.length-1,t.children[l].style.display="block")}function h(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(l=e);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var u=new Image;u.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},u.src=i[l]}else n[l].src=i[l]}a=o,t.resizeSensorInstance=new e(t,h),h()}var f=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,h=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function d(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=f.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=h.exec(r));)l(n,i[1],i[2],i[3])}function p(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||d(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?d(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||d(t):4===e[n].type?p(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&p(e[n].styleSheet.cssRules)}var m=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),s(t.target,r[a])}})),m||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),m=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),p(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(a){}!function(){for(var e=u()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)c(e[t])}()},this.findElementQueriesElements=function(e){!function(e){var t=u(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,a=i.length;o<a;o++)s(i[o],r)}(e)},this.update=function(){this.init()}};return t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()},t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){!function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e}(t.init)},t})?r.apply(t,i):r)||(e.exports=o)},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=t?n(t):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1||r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){return t=t||this.step,"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,f="",h=0,d=t?n(t):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(r[h]):s.concat(o(r[h],u));for(a=s.length,h=0;h<a;h++)c=i(s[h],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?f+=d[++l]+s[h]:/\'/.exec(s[h])?(c<1&&l&&l--,f+=s[h]):(f+=d[l]+s[h],c<1&&l&&l--);return f.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){(function(t){var r=n(584),i=n(585),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function f(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new d(unescape(e.pathname),{});else if("string"===a)for(n in i=new d(e,{}),c)delete i[n];else if("object"===a){for(n in e)n in c||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function h(e){e=l(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t,n){if(e=l(e),!(this instanceof d))return new d(e,t,n);var o,a,s,c,p,m,g=u.slice(),v=typeof t,y=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=f(t),o=!(a=h(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||o&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(c=g[b])?(s=c[0],m=c[1],s!=s?y[m]=e:"string"==typeof s?~(p=e.indexOf(s))&&("number"==typeof c[2]?(y[m]=e.slice(0,p),e=e.slice(p+c[2])):(y[m]=e.slice(p),e=e.slice(0,p))):(p=s.exec(e))&&(y[m]=p[1],e=e.slice(0,p.index)),y[m]=y[m]||o&&c[3]&&t[m]||"",c[4]&&(y[m]=y[m].toLowerCase())):e=c(e);n&&(y.query=n(y.query)),o&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(c=y.auth.split(":"),y.username=c[0]||"",y.password=c[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}d.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},d.extractProtocol=h,d.location=f,d.trimLeft=l,d.qs=i,e.exports=d}).call(this,n(26))},function(e,t,n){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=z(n(38)),i=z(n(17)),o=z(n(63)),a=z(n(55)),s=z(n(43)),l=z(n(37)),u=z(n(35)),c=z(n(18)),f=z(n(25)),h=z(n(5)),d=z(n(3)),p=z(n(4)),m=z(n(6)),g=z(n(7)),v=n(0),y=z(n(27)),b=z(n(1)),_=z(n(41)),E=z(n(2)),w=n(341),x=z(n(67)),T=z(n(587)),S=z(n(589)),k=z(n(591)),O=z(n(593)),A=z(n(653)),C=z(n(665)),P=z(n(667)),M=z(n(263)),R=z(n(95)),I=z(n(375)),D=z(n(673)),N=z(n(676)),L=z(n(69)),F=z(n(141)),j=z(n(78)),B=n(10),U=n(11);function z(e){return e&&e.__esModule?e:{default:e}}z(n(174)),z(n(343));var H=function(e){function t(e){(0,d.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));n.closing=!1;var r=n.props.tracks;return n.canvasElement=null,n.tracksByUidInit={},[].concat((0,f.default)(n.props.tracks.top||[]),(0,f.default)(n.props.tracks.right||[]),(0,f.default)(n.props.tracks.bottom||[]),(0,f.default)(n.props.tracks.left||[]),(0,f.default)(n.props.tracks.gallery||[]),(0,f.default)(n.props.tracks.center||[])).forEach((function(e){"combined"===e.type?e.contents.forEach((function(e){n.tracksByUidInit[e.uid]=!1})):n.tracksByUidInit[e.uid]=!1})),n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:r,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&(0,c.default)(window.higlassTracksByType).forEach((function(e){U.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return(0,g.default)(t,e),(0,p.default)(t,[{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=_.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=_.default.findDOMNode(this),this.canvasElement=_.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((function(){w.ElementQueries.listen(),e.resizeSensor=new w.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,r=this.previousPropsStr,i=this.updatablePropsToString(e),o=(0,u.default)(this.state),a=(0,u.default)(t),s=r!==i||o!==a||this.props.chooseTrackHandler!==e.chooseTrackHandler;s&&(this.previousPropsStr=i);var l=this.numTracks;return this.numTracks=0,(0,B.visitPositionedTracks)(this.props.tracks,(function(){return n.numTracks++})),this.reset=this.reset||0===l&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),s}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.rangeSelection!==this.state.rangeSelection){var r=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((function(e){return e&&e.length}))&&(r=this.state.rangeSelection.map((function(e){return B.dataToGenomicLoci.apply(void 0,(0,f.default)(e).concat([n.state.defaultChromSizes]))}))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:r})}if(e.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(b.default.createElement(A.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var i=this.state.addDivisorDialog;this.props.modal.open(b.default.createElement(A.default,{datatype:U.TRACKS_INFO_BY_TYPE[i.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){n.setState({addDivisorDialog:null})},onTracksChosen:function(e){n.handleDivisorChosen(i,e)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){var e=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)}))}},{key:"addUidsToTracks",value:function(e){(0,c.default)(e).forEach((function(t){e[t].forEach((function(e){e.uid=e.uid||y.default.nice()}))}))}},{key:"contextMenuHandler",value:function(e){if(this.divTiledPlot){var t=this.divTiledPlot.getBoundingClientRect();if((0,B.isWithin)(e.clientX,e.clientY,t.left,t.left+t.width,t.top,t.top+t.height)){var n=[e.clientX,e.clientY],r=(0,v.clientPoint)(this.divTiledPlot,e),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]),a=null;e.hgCustomItems&&(a=e.hgCustomItems.map((function(e){return b.default.createElement(x.default,{key:e.key,onClick:e.onClick},e.text)}))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}}}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(e,t){return this.props.onTrackOptionsChanged(e,t)}},{key:"handleScalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}},{key:"handleTilesetInfoReceived",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,e);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.aggregationModes=t.aggregation_modes,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,t.resolutions?(n.maxZoom=t.resolutions.length-1,n.resolutions=t.resolutions):n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem,n.datatype=t.datatype):console.warn("Strange, track not found:",e)}},{key:"checkAllTilesetInfoReceived",value:function(){var e=this;if((!this.state.init||this.reset)&&this.trackRenderer&&this.props.zoomToDataExtentOnInit()){var t=(0,c.default)(this.trackRenderer.trackDefObjects).map((function(t){var n=e.trackRenderer.trackDefObjects[t].trackObject;return n.childTracks?n.childTracks:n})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){var t=e.tilesetInfo;return void 0!==t&&!0!==t})),n=(0,l.default)(this.tracksByUidInit).filter((function(e){return e})).length;t.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(e){e===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(e){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(e.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(e){this.setState({addDivisorDialog:e})}},{key:"handleDivisorChosen",value:function(e,t){this.setState({addDivisorDialog:null});var n=e.data?{server:e.data.server,tilesetUid:e.data.tilesetUid}:{server:e.server,tilesetUid:e.tilesetUid},r={server:t[0].server,tilesetUid:t[0].uuid};this.handleChangeTrackData(e.uid,{type:"divided",children:[n,r]})}},{key:"handleDivideSeries",value:function(e){}},{key:"handleAddSeries",value:function(e){var t=(0,B.getTrackPositionByUid)(this.props.tracks,e),n=(0,B.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}},{key:"handleReplaceTrack",value:function(e,t){this.trackToReplace=e,this.handleAddTrack(t)}},{key:"handleAddTrack",value:function(e){this.setState({addTrackPosition:e,addTrackHost:null})}},{key:"handleResizeTrack",value:function(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i].filter((function(t){return t.uid===e}));o.length>0&&(o[0].width=t,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(e){this.closeMenus(),this.props.onLockValueScale(e)}},{key:"handleUnlockValueScale",value:function(e){this.closeMenus(),this.props.onUnlockValueScale(e)}},{key:"handleCloseTrack",value:function(e){this.closeMenus(),this.props.onCloseTrack(e)}},{key:"handleChangeTrackType",value:function(e,t){this.closeMenus(),this.props.onChangeTrackType(e,t)}},{key:"handleChangeTrackData",value:function(e,t){this.closeMenus(),this.props.onChangeTrackData(e,t)}},{key:"handleTracksAdded",value:function(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}},{key:"handleCloseTrackMenuOpened",value:function(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(e,t){this.closeMenus(),this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}},{key:"handleConfigureTrack",value:function(e,t){this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}}),this.closeMenus()}},{key:"handleSortEnd",value:function(e){this.setState((function(t){for(var n=t.tracks,r={},i=0;i<e.length;i++)r[e[i].uid]=i;for(var o in n){var a=n[o];if(a.length&&a[0].uid in r){for(var s=new Array(a.length),l=0;l<a.length;l++)s[r[a[l].uid]]=a[l];n[o]=s}}return{tracks:n,forceUpdate:Math.random()}}))}},{key:"createTracksAndLocations",value:function(){var e=[],t=this.state.tracks;return U.TRACK_LOCATIONS.forEach((function(n){t[n]&&t[n].forEach((function(t){t.contents&&t.contents.forEach((function(e){e.position=n})),t.position=n,e.push({track:t,location:n})}))})),e}},{key:"calculateTrackPosition",value:function(e,t){var n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=e.height,l=0,u=0;switch(t){case"top":i+=this.leftWidth;for(var c=0;c<this.state.tracks.top.length&&this.state.tracks.top[c].uid!==e.uid;c++)n+=this.state.tracks.top[c].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(var f=0;f<this.state.tracks.bottom.length&&this.state.tracks.bottom[f].uid!==e.uid;f++)n+=this.state.tracks.bottom[f].height;break;case"left":n+=this.topHeight,a=e.width,s=this.centerHeight;for(var h=0;h<this.state.tracks.left.length&&this.state.tracks.left[h].uid!==e.uid;h++)i+=this.state.tracks.left[h].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=e.width,s=this.centerHeight;for(var d=0;d<this.state.tracks.right.length&&this.state.tracks.right[d].uid!==e.uid;d++)i+=this.state.tracks.right[d].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,u=this.galleryDim;for(var p=0;p<this.state.tracks.gallery.length&&this.state.tracks.gallery[p].uid!==e.uid;p++)a-=2*this.state.tracks.gallery[p].height,s-=2*this.state.tracks.gallery[p].height,i+=this.state.tracks.gallery[p].height,n+=this.state.tracks.gallery[p].height,l-=this.state.tracks.gallery[p].height,u-=this.state.tracks.gallery[p].height;for(var m=0;m<this.state.tracks.right.length;m++)o+=this.state.tracks.right[m].width;for(var g=0;g<this.state.tracks.bottom.length;g++)r+=this.state.tracks.bottom[g].height;e.offsetX=l,e.offsetY=u,e.offsetTop=n,e.offsetRight=o,e.offsetBottom=r,e.offsetLeft=i;break;case"whole":default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===U.TRACK_LOCATIONS.indexOf(t)&&console.warn("Track with unknown position present:",t,e),{left:i,top:n,width:a,height:s,track:e}}},{key:"findCentralHeatmapTrack",value:function(e){for(var t=0;t<e.length;t++){if("combined"===e[t].type)return this.findCentralHeatmapTrack(e[t].contents);if("heatmap"===e[t].type)return e[t]}}},{key:"trackUuidToOrientation",value:function(e){}},{key:"overlayTracks",value:function(e){var t=this;return this.props.overlays?this.props.overlays.filter((function(e){return e.includes&&e.includes.length})).map((function(n){var r=n.type?"overlay-"+String(n.type)+"-track":"overlay-track",i=(0,s.default)({},n,{uid:n.uid||y.default.nice(),includes:n.includes,type:r,options:(0,s.default)(n.options,{orientationsAndPositions:n.includes.map((function(n){var r=(0,B.getTrackByUid)(t.props.tracks,n);if(!r)return console.warn("OverlayTrack included uid ("+String(n)+") not found in the track list"),null;var i=(0,B.getTrackPositionByUid)(t.props.tracks,r.uid),o=void 0;if("top"!==i&&"bottom"!==i||(o="1d-horizontal"),"left"!==i&&"right"!==i||(o="1d-vertical"),"center"===i&&(o="2d"),!o)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var a=e.filter((function(e){return e.track.uid===n}));return a.length?{orientation:o,position:{left:a[0].left-t.props.paddingLeft,top:a[0].top-t.props.paddingTop,width:a[0].width,height:a[0].height}}:null})).filter((function(e){return e}))})});return{top:t.props.paddingTop,left:t.props.paddingLeft,width:t.leftWidth+t.centerWidth+t.rightWidth,height:t.topHeight+t.centerHeight+t.bottomHeight+t.props.marginTop+t.props.marginBottom,track:i}})):[]}},{key:"positionedTracks",value:function(){var e=this;return this.createTracksAndLocations().map((function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)}))}},{key:"createTrackPositionTexts",value:function(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map((function(e){var t=e.track;return b.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))}))}},{key:"handleExportTrackData",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,t);(e!==t?this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid]:this.trackRenderer.trackDefObjects[e].trackObject).exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.trackRenderer)return[];for(var i in this.trackRenderer.trackDefObjects){var o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(e,t))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var a=0;a<this.props.tracks.center.contents.length;a++)this.props.tracks.center.contents[a].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}},{key:"listAllTrackObjects",value:function(){var e=[];for(var t in this.trackRenderer.trackDefObjects){var n=this.trackRenderer.trackDefObjects[t];if(n.trackObject.createdTracks)for(var r in n.trackObject.createdTracks){var i=n.trackObject.createdTracks[r];e.push(i)}else e.push(n.trackObject)}return e}},{key:"handleZoomToData",value:function(){var e=a.default,t=o.default,n=[e,e],r=[t,t],s=this.listAllTrackObjects(),l=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(s);!(l=(f=h.next()).done);l=!0){var d=f.value;if(d.tilesetInfo&&d.tilesetInfo.min_pos)for(var p=0;p<d.tilesetInfo.min_pos.length;p++)d.tilesetInfo.min_pos[p]<n[p]&&(n[p]=d.tilesetInfo.min_pos[p]),d.tilesetInfo.max_pos[p]>r[p]&&(r[p]=d.tilesetInfo.max_pos[p])}}catch(b){u=!0,c=b}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}var m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,g=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),v=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,y=[v,v+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<a.default&&r[0]>o.default&&(g=[n[0],r[0]]),n[1]<a.default&&r[1]>o.default&&(y=[n[1],r[1]]),this.props.onDataDomainChanged(g,y)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(e){return(0,u.default)({tracks:e.tracks,overlays:e.overlays,viewOptions:e.viewOptions,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,mouseTool:e.mouseTool,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable,draggingHappending:e.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(e,t){return t?[parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice(),a=t.state.is1dRangeSelection||"y"!==e?0:1,s=t.rangeViewToDataLoci(r,n),l=s[1]-s[0];if(t.props.rangeSelection1dSize[0]>l){var u=s[0]+l/2;s=[u-t.props.rangeSelection1dSize[0]/2,u+t.props.rangeSelection1dSize[0]/2]}else if(t.props.rangeSelection1dSize[1]<l){var c=s[0]+l/2;s=[c-t.props.rangeSelection1dSize[1]/2,c+t.props.rangeSelection1dSize[1]/2]}return o[a]=s,t.props.rangeSelectionToInt&&(o[a]=o[a].map((function(e){return Math.round(e)}))),{rangeSelection:o,rangeSelectionEnd:!0}}))}}},{key:"rangeSelection1dHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice();return o[i.is1dRangeSelection||"y"!==e?0:1]=t.rangeViewToDataLoci(r,n),{rangeSelection:o,rangeSelectionEnd:!1}}))}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(e[0],this.xScale),this.rangeViewToDataLoci(e[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n=this.rangeViewToDataLoci(e[0],this.xScale),r=this.rangeViewToDataLoci(e[1],this.yScale),i=[n,r],o=[n[1]-n[0],r[1]-r[0]];i.forEach((function(e,n){if(t.props.rangeSelection1dSize[0]>o[n]){var r=e[0]+Math.round(o[n]/2);e[0]=r-t.props.rangeSelection1dSize[0]/2,e[1]=r+t.props.rangeSelection1dSize[0]/2}else if(t.props.rangeSelection1dSize[1]<o[n]){var i=e[0]+Math.round(o[n]/2);e[0]=i-t.props.rangeSelection1dSize[1]/2,e[1]=i+t.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(i=i.map((function(e){return e.map((function(e){return Math.round(e)}))}))),this.setState({rangeSelection:i,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){var e=this;if(this.state.contextMenuPosition){var t=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(N.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(t){e.props.onTracksAdded([t],t.position,null),e.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:t,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){var e=this,t=this.props.draggingHappening,n=t.datatype;if(n in U.DEFAULT_TRACKS_FOR_DATATYPE||t.defaultTracks){var o={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},a=U.DEFAULT_TRACKS_FOR_DATATYPE[n]||{};if(t.defaultTracks){var s=!0,l=!1,u=void 0;try{for(var f,h=(0,i.default)(t.defaultTracks);!(s=(f=h.next()).done);s=!0){var d=f.value;if(U.TRACKS_INFO_BY_TYPE[d]){var p=!0,m=!1,g=void 0;try{for(var v,y=(0,i.default)(o[U.TRACKS_INFO_BY_TYPE[d].orientation]);!(p=(v=y.next()).done);p=!0)a[v.value]=d}catch(z){m=!0,g=z}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}}else console.warn("unknown track type",d)}}catch(z){l=!0,u=z}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}var _=new r.default(["top","left","right","center","bottom"].filter((function(t){return t in e.state.tracks&&e.state.tracks[t].length}))),E="top"in a,w="left"in a,x="right"in a,T="bottom"in a,k="center"in a,O="center"in a||_.has("left")||_.has("right")||_.has("center"),A="top"in a,C="bottom"in a&&O,P="left"in a&&O,M="right"in a&&O,R=(0,c.default)(a).length&&("center"in a||O),I=b.default.createElement("div",{style:{flexGrow:1}}),D=b.default.cloneElement(I),N=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(R||P)?I:null,b.default.createElement(S.default,{defaultTrackType:a.top,draggingHappening:this.props.draggingHappening,enabled:E,onTrackDropped:function(t){return e.handleTracksAdded([t],"top")},style:{border:"1px solid black",flexGrow:1}}),A&&(R||P)?D:null),L=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(R||P)?I:null,b.default.createElement(S.default,{defaultTrackType:a.bottom,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:function(t){return e.handleTracksAdded([t],"bottom")},style:{border:"1px solid black",flexGrow:1}}),A&&(R||P)?D:null),F=b.default.createElement(S.default,{defaultTrackType:a.left,draggingHappening:this.props.draggingHappening,enabled:w,onTrackDropped:function(t){return e.handleTracksAdded([t],"left")},style:{border:"1px solid black",flexGrow:1}}),j=b.default.createElement(S.default,{defaultTrackType:a.center,draggingHappening:this.props.draggingHappening,enabled:k,onTrackDropped:function(t){return e.handleTracksAdded([t],"center")},position:"center",style:{border:"1px solid black",flexGrow:1}}),B=b.default.cloneElement(F,{defaultTrackType:a.right,enabled:x,onTrackDropped:function(t){return e.handleTracksAdded([t],"right")}});return b.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},b.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),b.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},A?N:null,O&&b.default.createElement("div",{style:{display:"flex",height:A||C?"40%":"100%",width:"100%"}},P?F:null,R?j:null,M?B:null),C?L:null))}console.warn("unknown data type:",t.higlassTrack)}},{key:"render",value:function(){var e=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((function(e){return e.height})).reduce(B.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map((function(e){return e.height})).reduce(B.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((function(e){return e.height})).reduce(B.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((function(e){return e.width})).reduce(B.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((function(e){return e.width})).reduce(B.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var t=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-t),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-n);var i=b.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:"none",position:"absolute"}},b.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===U.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),o=b.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:"none",position:"absolute"}},b.default.createElement(D.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===U.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),a=b.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:"none",position:"absolute"}},b.default.createElement(D.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===U.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),s=b.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:"none",position:"absolute"}},b.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===U.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),l=b.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:"none",position:"absolute"}},b.default.createElement(k.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),u=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:"none"}});this.props.tracks.center.length&&(u=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:"none"}},b.default.createElement(T.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===U.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var c=this.positionedTracks();c=c.concat(this.overlayTracks(c));var f=null;this.state.sizeMeasured&&(f=b.default.createElement(O.default,{ref:function(t){e.trackRenderer=t,e.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===U.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:c,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},i,o,a,s,l,u));var h=null,d=null;this.state.configTrackMenuId&&(h=b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(C.default,{ref:function(t){e.configTrackMenu=t},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,B.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(d=b.default.createElement(M.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},b.default.createElement(R.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},b.default.createElement(P.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var p=null;this.props.chooseTrackHandler&&(p=c.filter((function(e){return"whole"!==e.track.position})).map((function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid===t.track.uid&&(n="yellow",r="1px solid black"),b.default.createElement("div",{key:t.track.uid,className:"tiled-plot-track-overlay",onClick:function(){return e.handleTrackPositionChosen(t)},onDragEnter:function(n){e.handleOverlayMouseEnter(t.track.uid),n.preventDefault()},onDragLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},onDragOver:function(e){return e.preventDefault()},onDrop:function(){return e.handleTrackPositionChosen(t)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.track.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r,zIndex:1}})})));var m=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var g=this.state.trackOptions.configComponent,v=this.state.trackOptions.track;m=b.default.createElement(g,{track:v,xScale:this.xScale,yScale:this.yScale,onCancel:function(){e.setState({trackOptions:null})},onTrackOptionsChanged:function(e){return e},onSubmit:function(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}})}return b.default.createElement("div",{ref:function(t){e.divTiledPlot=t},className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},f,p,h,d,m,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach((function(e){return document.addEventListener(e.name,e.callback,!1)}))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach((function(e){return document.removeEventListener(e.name,e.callback)}))}}]),t}(b.default.Component);H.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},H.propTypes={addTrackPosition:E.default.string,canvasElement:E.default.object,chooseTrackHandler:E.default.func,chromInfoPath:E.default.string,disableTrackMenu:E.default.bool,dragging:E.default.bool,draggingHappening:E.default.bool,editable:E.default.bool,getLockGroupExtrema:E.default.func,initialXDomain:E.default.array,initialYDomain:E.default.array,isShowGlobalMousePosition:E.default.bool,isValueScaleLocked:E.default.func,marginBottom:E.default.number.isRequired,marginLeft:E.default.number.isRequired,marginRight:E.default.number.isRequired,marginTop:E.default.number.isRequired,paddingBottom:E.default.number.isRequired,paddingLeft:E.default.number.isRequired,paddingRight:E.default.number.isRequired,paddingTop:E.default.number.isRequired,metaTracks:E.default.array,modal:E.default.object,mouseTool:E.default.string,onCloseTrack:E.default.func,onChangeTrackData:E.default.func,onChangeTrackType:E.default.func,onDataDomainChanged:E.default.func,onLockValueScale:E.default.func,onMouseMoveZoom:E.default.func,onNewTilesLoaded:E.default.func,onNoTrackAdded:E.default.func,onRangeSelection:E.default.func.isRequired,onScalesChanged:E.default.func,onTrackOptionsChanged:E.default.func,onTrackPositionChosen:E.default.func,onTracksAdded:E.default.func,onUnlockValueScale:E.default.func,onValueScaleChanged:E.default.func,onResizeTrack:E.default.func,overlays:E.default.array,openModal:E.default.func,pixiRenderer:E.default.object,pixiStage:E.default.object,pluginDataFetchers:E.default.object,pluginTracks:E.default.object,pubSub:E.default.object.isRequired,rangeSelection1dSize:E.default.array,rangeSelectionToInt:E.default.bool,registerDraggingChangedListener:E.default.func,removeDraggingChangedListener:E.default.func,setCentersFunction:E.default.func,svgElement:E.default.object,theme:E.default.symbol.isRequired,tracks:E.default.object,trackSourceServers:E.default.array,uid:E.default.string,viewOptions:E.default.object,xDomainLimits:E.default.array,yDomainLimits:E.default.array,zoomable:E.default.bool,zoomLimits:E.default.array,zoomToDataExtentOnInit:E.default.func},t.default=(0,L.default)((0,F.default)((0,j.default)(H)))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(5)),i=v(n(3)),o=v(n(4)),a=v(n(6)),s=v(n(7)),l=v(n(30)),u=v(n(2)),c=v(n(1)),f=n(83),h=n(0),d=v(n(171)),p=n(10),m=n(11),g=(v(n(343)),v(n(173)));function v(e){return e&&e.__esModule?e:{default:e}}var y={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},b={pointerEvents:"all"},_=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,f.brushX)(!0,!0).on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=(0,f.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=(0,f.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var n=e.rangeSelection[0]||null;this.moveBrushXY([n,e.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==t}if(this.props.rangeSelection!==e.rangeSelection){var r=e.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([r,e.rangeSelection[1]],e.rangeSelectionEnd);var i=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===r;return this.state!==t||i}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,p.resetD3BrushStyle)(this.brushElX,g.default["track-range-selection-group-brush-selection"]),(0,p.resetD3BrushStyle)(this.brushElY,g.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,p.resetD3BrushStyle)(this.brushElXY,g.default["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(h.event.selection))}},{key:"brushedXEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(h.event.selection))}},{key:"brushedY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(h.event.selection))}},{key:"brushedYEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(h.event.selection))}},{key:"brushedXY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[h.event.selection[0][0],h.event.selection[1][0]],[h.event.selection[0][1],h.event.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(){if(!this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,h.event.selection&&h.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[h.event.selection[0][0],h.event.selection[1][0]],[h.event.selection[0][1],h.event.selection[1][1]]])),h.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}},{key:"brushStarted",value:function(){this.sourceEvent&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}}},{key:"moveBrushY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}}},{key:"moveBrushXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){var n=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return(0,m.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(p.or,!1),n=this.props.tracks.some((function(e){return e.contents?e.contents.some((function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})),r="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(r+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return c.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&c.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,y)},c.default.createElement("g",{ref:function(t){e.brushElX=(0,h.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElY=(0,h.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElXY=(0,h.select)(t)},className:(0,l.default)(o,y)})),this.props.editable&&c.default.createElement(d.default,{imgStyleAdd:b,imgStyleClose:b,imgStyleMove:b,imgStyleSettings:b,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}},{key:"sourceEvent",get:function(){return h.event&&h.event.sourceEvent}}]),t}(c.default.Component);_.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:u.default.bool,isRangeSelectionActive:!1,scaleX:function(e){return e},scaleY:function(e){return e}},_.propTypes={className:u.default.string,configTrackMenuId:u.default.string,editable:u.default.bool.isRequired,height:u.default.number.isRequired,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func.isRequired,onCloseTrackMenuOpened:u.default.func.isRequired,onConfigTrackMenuOpened:u.default.func.isRequired,onRangeSelectionX:u.default.func.isRequired,onRangeSelectionXEnd:u.default.func.isRequired,onRangeSelectionY:u.default.func.isRequired,onRangeSelectionYEnd:u.default.func.isRequired,onRangeSelectionXY:u.default.func.isRequired,onRangeSelectionXYEnd:u.default.func.isRequired,onRangeSelectionReset:u.default.func.isRequired,onRangeSelectionStart:u.default.func.isRequired,rangeSelection:u.default.array.isRequired,rangeSelectionEnd:u.default.bool,scaleX:u.default.func,scaleY:u.default.func,tracks:u.default.array.isRequired,uid:u.default.string.isRequired,width:u.default.number.isRequired},t.default=_},function(e,t,n){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(43)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(30)),c=p(n(2)),f=p(n(1)),h=p(n(27)),d=p(n(69));function p(e){return e&&e.__esModule?e:{default:e}}n(590);var m={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={dragOnTop:!1},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t="red";this.props.enabled&&this.state.dragOnTop?t="green":this.props.enabled&&(t="blue");var n=this.props.enabled?"drag-listening-div-active":"";return f.default.createElement("div",{onDragEnter:function(){e.setState({dragOnTop:!0})},onDragLeave:function(){e.setState({dragOnTop:!1})},onDragOver:function(e){e.preventDefault()},onDrop:function(){if(e.props.enabled){var t=e.props.draggingHappening,n={type:e.props.defaultTrackType,uid:h.default.nice(),tilesetUid:t.tilesetUid,server:t.server};e.props.onTrackDropped(n),e.props.pubSub.publish("trackDropped",n)}},style:(0,r.default)({background:t,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,u.default)(n,m)})}}]),t}(f.default.Component);g.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){}},g.propTypes={enabled:c.default.bool,style:c.default.object,defaultTrackType:c.default.object,draggingHappening:c.default.object,onTrackDropped:c.default.func,position:c.default.string.isRequired,pubSub:c.default.object.isRequired},t.default=(0,d.default)(g)},function(e,t,n){e.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(171));function f(e){return e&&e.__esModule?e:{default:e}}f(n(592)),f(n(174)),f(n(173));var h={pointerEvents:"all"},d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={hovering:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map((function(t,n){return u.default.createElement("div",{key:t.uid||n,onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height*n,right:t.height*n,bottom:t.height*n,left:t.height*n},className:"GalleryTracks-module_gallery-track-eGKoq"},u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,bottom:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{right:0,bottom:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,bottom:0,left:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height,right:t.height,bottom:t.height,left:t.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),e.props.editable&&u.default.createElement(c.default,{configMenuVisible:!0,imgStyleAdd:h,imgStyleClose:h,imgStyleMove:h,imgStyleSettings:h,isMoveable:!1,isVisible:e.state.hovering,onCloseTrackMenuOpened:e.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.props.onConfigTrackMenuOpened,uid:t.uid||n}))})))}}]),t}(u.default.Component);d.propTypes={editable:l.default.bool.isRequired,onCloseTrackMenuOpened:l.default.func.isRequired,onConfigTrackMenuOpened:l.default.func.isRequired,tracks:l.default.array.isRequired},t.default=d},function(e,t,n){e.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=pe(n(38)),i=pe(n(19)),o=pe(n(35)),a=pe(n(25)),s=pe(n(17)),l=pe(n(18)),u=pe(n(5)),c=pe(n(3)),f=pe(n(4)),h=pe(n(6)),d=pe(n(7)),p=pe(n(1)),m=pe(n(2)),g=n(157),v=n(0),y=n(28),b=pe(n(27)),_=pe(n(44)),E=pe(n(133)),w=pe(n(253)),x=pe(n(344)),T=pe(n(345)),S=pe(n(347)),k=pe(n(348)),O=pe(n(255)),A=pe(n(349)),C=pe(n(610)),P=pe(n(115)),M=pe(n(354)),R=pe(n(355)),I=pe(n(258)),D=pe(n(356)),N=pe(n(612)),L=pe(n(357)),F=pe(n(613)),j=pe(n(175)),B=pe(n(259)),U=pe(n(358)),z=pe(n(359)),H=pe(n(614)),G=pe(n(360)),V=pe(n(361)),$=pe(n(615)),X=pe(n(616)),W=pe(n(617)),Y=pe(n(362)),q=pe(n(363)),K=pe(n(621)),Z=pe(n(364)),Q=pe(n(622)),J=pe(n(623)),ee=pe(n(624)),te=pe(n(625)),ne=pe(n(365)),re=pe(n(635)),ie=pe(n(140)),oe=pe(n(636)),ae=pe(n(366)),se=pe(n(637)),le=pe(n(80)),ue=pe(n(69)),ce=pe(n(638)),fe=pe(n(78)),he=n(10),de=n(11);function pe(e){return e&&e.__esModule?e:{default:e}}n(652);var me=function(e){function t(e){(0,c.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=g.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=b.default.nice(),n.viewUid=n.props.uid,n.availableForPlugins=de.AVAILABLE_FOR_PLUGINS,n.availableForPlugins.services.pubSub=n.props.pubSub,n.availableForPlugins.services.pixiRenderer=n.props.pixiRenderer,n.mounted=!1,n.emptyZoomBehavior=(0,g.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,g.zoom)().filter((function(){return!v.event.target.classList.contains("no-zoom")&&!v.event.target.classList.contains("react-resizable-handle")})).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=g.zoomIdentity,n.prevZoomTransform=g.zoomIdentity,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-1/0,1/0],n.yDomainLimits=[-1/0,1/0],n.zoomLimits=[0,1/0],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&(0,l.default)(window.higlassTracksByType).forEach((function(e){de.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n}return(0,d.default)(t,e),(0,f.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,v.select)(this.element),this.svgTrackAreaSelection=(0,v.select)(this.svgTrackArea),this.pStage=new de.GLOBALS.PIXI.Graphics,this.pMask=new de.GLOBALS.PIXI.Graphics,this.pOutline=new de.GLOBALS.PIXI.Graphics,this.pBackground=new de.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.currentProps.svgElement&&this.currentProps.canvasElement){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var e=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],t=this.svgElement.getBoundingClientRect(),n=[[Math.max(e[0][0],0),Math.max(e[0][1],0)],[Math.min(e[1][0],t.width),Math.min(e[1][1],t.height)]];this.zoomBehavior.extent(n).translateExtent(e).scaleExtent(this.zoomLimits)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr!==t){for(var n in this.setBackground(),this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain,e.xDomainLimits,e.yDomainLimits,e.zoomLimits),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.svgElement=e.svgElement;var r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],i=this.svgElement.getBoundingClientRect(),o=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],i.width),Math.min(r[1][1],i.height)]];this.zoomBehavior.extent(o).translateExtent(r).scaleExtent(this.zoomLimits),this.syncTrackObjects(e.positionedTracks),this.syncMetaTracks(e.metaTracks);var a=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)(e.positionedTracks);!(a=(c=f.next()).done);a=!0){var h=c.value,d=h.track.options,p=this.trackDefObjects[h.track.uid].trackObject;if(p.rerender(d),h.track.hasOwnProperty("contents")){var m={},g=!0,v=!1,y=void 0;try{for(var b,_=(0,s.default)(h.track.contents);!(g=(b=_.next()).done);g=!0){var E=b.value;m[E.uid]=E}}catch(S){v=!0,y=S}finally{try{!g&&_.return&&_.return()}finally{if(v)throw y}}for(var w in p.createdTracks)p.createdTracks[w].rerender(m[w].options)}}}catch(S){l=!0,u=S}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}for(var x in this.props.onNewTilesLoaded(),this.trackDefObjects){var T=this.trackDefObjects[x].trackObject;T.delayDrawing=!1,T.draw()}}}}},{key:"componentDidUpdate",value:function(e){this.props.initialXDomain[0]===e.initialXDomain[0]&&this.props.initialXDomain[1]===e.initialXDomain[1]&&this.props.initialYDomain[0]===e.initialYDomain[0]&&this.props.initialYDomain[1]===e.initialYDomain[1]||(this.element.__zoom=g.zoomIdentity),e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),e.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.removeTracks((0,l.default)(this.trackDefObjects)),this.removeMetaTracks((0,l.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(e){e.sourceUid===this.uid&&"contextmenu"!==e.type&&(0,he.forwardEvent)(e,this.element)}},{key:"isWithin",value:function(e,t){if(!this.element)return!1;var n=e>=this.elementPos.left&&e<=this.elementPos.width+this.elementPos.left,r=t>=this.elementPos.top&&t<=this.elementPos.height+this.elementPos.top;return n&&r}},{key:"zoomToDataPosHandler",value:function(e){var t=e.pos,n=e.animateTime,r=e.isMercator;this.zoomToDataPos.apply(this,(0,a.default)(t).concat([n,r]))}},{key:"addZoom",value:function(){this.elementSelection&&this.currentProps.zoomable&&(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){var e=this.props.theme===de.THEME_DARK?"black":"white",t=(0,he.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||e);this.pBackground.clear(),this.pBackground.beginFill(t),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.addZoom()}),100)}},{key:"setUpInitialScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-1/0,1/0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1/0,1/0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1/0];i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];var o=e[1]-e[0],a=(t[0]+t[1])/2;t[0]=a-o/2,t[1]=a+o/2,e[0]===this.initialXDomain[0]&&e[1]===this.initialXDomain[1]&&t[0]===this.initialYDomain[0]&&t[1]===this.initialYDomain[1]&&n[0]===this.xDomainLimits[0]&&n[1]===this.xDomainLimits[1]&&r[0]===this.yDomainLimits[0]&&r[1]===this.yDomainLimits[1]&&i[0]===this.zoomLimits[0]&&i[1]===this.zoomLimits[1]||(this.initialXDomain=e,this.initialYDomain=t,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=g.zoomIdentity,this.prevZoomTransform=g.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,y.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]),this.drawableToDomainY=(0,y.scaleLinear)().domain([this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2)}},{key:"updatablePropsToString",value:function(e){return(0,o.default)({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging,viewOptions:e.viewOptions})}},{key:"draggingChanged",value:function(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];for(var s in this.xScale=(0,y.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,y.scaleLinear)().domain(a).range([0,this.currentProps.height]),this.trackDefObjects){var l=this.trackDefObjects[s].trackObject;l.refScalesChanged(this.xScale,this.yScale)}this.applyZoomTransform(e)}},{key:"getTrackDef",value:function(e){var t=(0,he.dictItems)(this.trackDefObjects),n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done);n=!0){var u=a.value,c=(0,i.default)(u,2)[1],f=c.trackDef,h=c.trackObject;if(h===e)return f.track;if(f.track.contents){var d=!0,p=!1,m=void 0;try{for(var g,v=(0,s.default)(f.track.contents);!(d=(g=v.next()).done);d=!0){var y=g.value;if(h.createdTracks[y.uid]===e)return y}}catch(b){p=!0,m=b}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}}}}catch(b){r=!0,o=b}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return null}},{key:"getTrackObject",value:function(e){for(var t=(0,he.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r===e)return i;if(i.createdTracks)for(var o=(0,he.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s===e)return l}}}},{key:"timedUpdatePositionAndDimensions",value:function(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(e){var t=this,n=(0,l.default)(this.metaTracks),i=new r.default(e.map((function(e){return e.uid})));this.addMetaTracks(e.filter((function(e){return!t.metaTracks[e.uid]}))),this.updateMetaTracks(e.filter((function(e){return t.metaTracks[e.uid]}))),this.removeMetaTracks(n.filter((function(e){return!i.has(e)})))}},{key:"syncTrackObjects",value:function(e){this.prevTrackDefinitions=(0,o.default)(e);for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var i=new r.default((0,l.default)(this.trackDefObjects)),s=new r.default((0,l.default)(t)),u=new r.default([].concat((0,a.default)(s)).filter((function(e){return!i.has(e)}))),c=new r.default([].concat((0,a.default)(i)).filter((function(e){return!s.has(e)}))),f=new r.default([].concat((0,a.default)(s)).filter((function(e){return i.has(e)})));this.updateExistingTrackDefs([].concat((0,a.default)(f)).map((function(e){return t[e]}))),this.addNewTracks([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.updateExistingTrackDefs([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.removeTracks([].concat((0,a.default)(c)))}},{key:"addMetaTracks",value:function(e){var t=this;e.filter((function(e){return!t.metaTracks[e.uid]})).forEach((function(e){t.metaTracks[e.uid]={trackDef:e,trackObject:t.createMetaTrack(e)}}))}},{key:"addNewTracks",value:function(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"===e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]===i[0]&&a[1]===i[1]||(r.setPosition(a),e=!0),o&&s[0]===o[0]&&s[1]===o[1]||(r.setDimensions(s),e=!0)}return e}},{key:"removeMetaTracks",value:function(e){var t=this;e.forEach((function(e){t.metaTracks[e].trackObject.remove(),t.metaTracks[e]=void 0,delete t.metaTracks[e]}))}},{key:"removeTracks",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}},{key:"setCenter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.xScale,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.yScale,l=this.xScale.invert(1)-this.xScale.invert(0),u=l/n,c=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,f=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,h=c-a(e)*u,d=f-s(t)*u,p=void 0,m=function(){var e=g.zoomIdentity.translate(h,d).scale(u);o.zoomTransform=e,o.emptyZoomBehavior.transform(o.elementSelection,e),p=o.applyZoomTransform(r)};if(i){var v=this.elementSelection;this.activeTransitions+=1,document.hidden||(v=v.transition().duration(i)),v.call(this.zoomBehavior.transform,g.zoomIdentity.translate(h,d).scale(u)).on("end",(function(){m(),o.activeTransitions-=1}))}else m();return p}},{key:"valueScaleMove",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos)));!(t=(i=o.next()).done);t=!0)i.value.movedY(e)}catch(l){n=!0,r=l}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(e){var t=v.event.sourceEvent.deltaY*(v.event.sourceEvent.deltaMode?120:1)/500,n=(0,v.clientPoint)(this.props.canvasElement,v.event.sourceEvent),r=!0,i=!1,o=void 0;try{for(var l,u=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(n)));!(r=(l=u.next()).done);r=!0){var c=l.value,f="1d-horizontal"===e?n[1]-c.position[1]:n[0]-c.position[0];c.zoomedY(f,Math.pow(2,t))}}catch(h){i=!0,o=h}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(){var e=null;if(this.zoomStartPos){var t=this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos));if(t.length){var n=t[0],r=this.getTrackDef(n);de.TRACKS_INFO_BY_TYPE[r.type]&&(e=de.TRACKS_INFO_BY_TYPE[r.type].orientation),n instanceof F.default&&(e="1d-vertical")}}if(e&&v.event.sourceEvent){if(v.event.shiftKey||this.valueScaleZooming){if(void 0!==v.event.sourceEvent.deltaY)return void this.valueScaleZoom(e);"1d-horizontal"===e?this.valueScaleMove(v.event.sourceEvent.movementY):"1d-vertical"===e&&this.valueScaleMove(v.event.sourceEvent.movementX)}"1d-horizontal"===e&&v.event.sourceEvent.movementY?this.valueScaleMove(v.event.sourceEvent.movementY):"1d-vertical"===e&&v.event.sourceEvent.movementX&&this.valueScaleMove(v.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?v.event.transform:g.zoomIdentity,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===e?this.zoomTransform=g.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===e&&(this.zoomTransform=g.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",v.event),v.event.sourceEvent&&(v.event.sourceEvent.stopPropagation(),v.event.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(e,t){var n=[],r=[];for(var i in this.trackDefObjects){var o=this.trackDefObjects[i].trackObject;o.childTracks?r=r.concat(o.childTracks):r.push(o)}var a=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)(r);!(a=(c=f.next()).done);a=!0){var h=c.value,d=h.position[0]<=e&&e<=h.position[0]+h.dimensions[0],p=h.position[1]<=t&&t<=h.position[1]+h.dimensions[1];d&&p&&n.push(h)}}catch(m){l=!0,u=m}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}return n}},{key:"zoomStarted",value:function(){this.zooming=!0,v.event.sourceEvent&&(this.zoomStartPos=(0,v.clientPoint)(this.props.canvasElement,v.event.sourceEvent),v.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.currentProps,n=t.paddingLeft+t.leftWidth,r=t.paddingTop+t.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var i=(0,y.scaleLinear)().domain([n,n+t.centerWidth].map(this.zoomedXScale.invert)).range([0,t.centerWidth]),o=(0,y.scaleLinear)().domain([r,r+t.centerHeight].map(this.zoomedYScale.invert)).range([0,t.centerHeight]);for(var a in this.trackDefObjects){var s=this.trackDefObjects[a].trackObject,l=this.trackDefObjects[a].trackDef,u="unknown";if(de.TRACKS_INFO_BY_TYPE[l.track.type]&&(u=de.TRACKS_INFO_BY_TYPE[l.track.type].orientation),"whole"!==u)if("gallery"!==this.trackDefObjects[a].trackDef.track.position)s.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,t.paddingLeft+t.leftWidth,t.paddingTop+t.topHeight);else{var c=(0,y.scaleLinear)().domain([t.paddingLeft+t.leftWidthNoGallery,t.paddingLeft+t.leftWidth+t.centerWidth+t.galleryDim].map(this.zoomedXScale.invert)).range([0,t.centerWidth+2*t.galleryDim]),f=(0,y.scaleLinear)().domain([t.paddingTop+t.topHeightNoGallery,t.paddingTop+t.topHeight+t.centerHeight+t.galleryDim].map(this.zoomedYScale.invert)).range([0,t.centerHeight-2*t.galleryDim]);s.zoomed(c.copy(),f.copy(),this.zoomTransform.k)}else{var h=(0,y.scaleLinear)().domain([t.paddingLeft,t.width-t.paddingLeft].map(this.zoomedXScale.invert)).range([0,t.width-2*t.paddingLeft]),d=(0,y.scaleLinear)().domain([t.paddingTop,t.height-t.paddingTop].map(this.zoomedYScale.invert)).range([0,t.height-2*t.paddingTop]);s.zoomed(h,d)}}return this.currentXScale=i,this.currentYScale=o,e&&this.currentProps.onScalesChanged(i,o),[i,o]}},{key:"createMetaTrack",value:function(e){var t=this;e.type;var n=this.props.pluginTracks[e.type];if(n&&n.isMetaTrack){var r={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){t.currentProps.onNewTilesLoaded(e.uid)},definition:e};try{return new n.track(de.AVAILABLE_FOR_PLUGINS,r,e.options)}catch(i){console.error("Plugin meta track",e.type,"failed to instantiate.",i)}}return console.warn("Unknown meta track of type: "+String(e.type)),new K.default(this.pStage,{name:"Unknown Track Type",type:e.type},(function(){return t.currentProps.onNewTilesLoaded(e.uid)}))}},{key:"createTrackObject",value:function(e){var t=this.createLocationAgnosticTrackObject(e);return"left"!==e.position&&"right"!==e.position||"1d-horizontal"!==de.TRACKS_INFO_BY_TYPE[e.type].orientation?t:new F.default(t)}},{key:"createLocationAgnosticTrackObject",value:function(e){var t=this,n=e.data;n||(n={server:(0,he.trimTrailingSlash)(e.server),tilesetUid:e.tilesetUid}),e.coordSystem&&(n.coordSystem=e.coordSystem);var r=(0,ce.default)(n,this.props.pubSub,this.props.pluginDataFetchers),i={id:e.uid,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:n,dataFetcher:r,getLockGroupExtrema:function(){return t.currentProps.getLockGroupExtrema(e.uid)},handleTilesetInfoReceived:function(n){t.currentProps.onTilesetInfoReceived(e.uid,n)},animate:function(){t.currentProps.onNewTilesLoaded(e.uid)},svgElement:this.svgElement,isValueScaleLocked:function(){return t.currentProps.isValueScaleLocked(e.uid)},onValueScaleChanged:function(){t.currentProps.onValueScaleChanged(e.uid)},onTrackOptionsChanged:function(n){t.currentProps.onTrackOptionsChanged(e.uid,n)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:e.chromInfoPath,isShowGlobalMousePosition:function(){return t.props.isShowGlobalMousePosition},getTheme:function(){return t.props.theme}};e.y&&(i.yPosition=e.y),e.x&&(i.xPosition=e.x),e.projectionXDomain&&(i.projectionXDomain=e.projectionXDomain),e.projectionYDomain&&(i.projectionYDomain=e.projectionYDomain);var o=e.options;switch(e.type){case"left-axis":return new k.default(i,o);case"top-axis":return new S.default(i,o);case"heatmap":return new E.default(i,o);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new R.default(i,o);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new N.default(i,o);case"line":case"horizontal-line":case"vertical-line":return new P.default(i,o);case"point":case"horizontal-point":case"vertical-point":return new M.default(i,o);case"bar":case"horizontal-bar":case"vertical-bar":return new I.default(i,o);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new D.default(i,o);case"horizontal-1d-tiles":return new x.default(i,o);case"vertical-1d-tiles":return new T.default(i,o);case"2d-tiles":return new w.default(i,o);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new L.default(i,o);case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(i.registerViewportChanged=e.registerViewportChanged,i.removeViewportChanged=e.removeViewportChanged,i.setDomainsCallback=e.setDomainsCallback,new Q.default(i,o)):new j.default(i,o);case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(i.registerViewportChanged=e.registerViewportChanged,i.removeViewportChanged=e.removeViewportChanged,i.setDomainsCallback=e.setDomainsCallback,new J.default(i,o)):new j.default(i,o);case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(i.registerViewportChanged=e.registerViewportChanged,i.removeViewportChanged=e.removeViewportChanged,i.setDomainsCallback=e.setDomainsCallback,new ee.default(i,o)):new j.default(i,o);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new B.default(i,o);case"2d-rectangle-domains":case"arrowhead-domains":return new U.default(i,o);case"horizontal-1d-annotations":return new H.default(i,o);case"vertical-1d-annotations":return new H.default(i,o,!0);case"2d-annotations":return new z.default(i,o);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new G.default(i,o);case"square-markers":return new V.default(i,o);case"combined":return i.tracks=e.contents,i.createTrackObject=this.createTrackObject.bind(this),new O.default(i,o);case"2d-chromosome-labels":return new $.default(i,o);case"horizontal-chromosome-grid":return i.orientation="1d-horizontal",new X.default(i,o);case"vertical-chromosome-grid":return i.orientation="1d-vertical",new X.default(i,o);case"2d-chromosome-grid":return new X.default(i,o);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new Y.default(i,o);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new q.default(i,o);case"2d-chromosome-annotations":return new W.default(i,o);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new Z.default(i,o);case"osm":case"osm-tiles":return new ie.default(i,o);case"osm-2d-tile-ids":return new oe.default(i,o);case"mapbox":case"mapbox-tiles":return new ae.default(i,o);case"raster-tiles":return new se.default(i,o);case"bedlike":case"vertical-bedlike":return new A.default(i,o);case"overlay-track":return new C.default(i,o);case"overlay-chromosome-grid-track":return i.isOverlay=!0,new X.default(i,o);case"horizontal-rule":return new te.default(i,o);case"vertical-rule":return new ne.default(i,o);case"cross-rule":return i.x=e.x,i.y=e.y,new re.default(i,o);case"simple-svg":return new le.default(i,o);case"empty":return new _.default(i,o);default:var a=this.props.pluginTracks[e.type];if(a&&!a.isMetaTrack){i.AVAILABLE_FOR_PLUGINS=de.AVAILABLE_FOR_PLUGINS,i.baseEl=this.baseEl,i.definition=e,e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback&&(i.registerViewportChanged=e.registerViewportChanged,i.removeViewportChanged=e.removeViewportChanged,i.setDomainsCallback=e.setDomainsCallback);try{return new a.track(de.AVAILABLE_FOR_PLUGINS,i,o)}catch(s){console.error("Plugin track",e.type,"failed to instantiate.",s)}}return console.warn("Unknown track type:",e.type),new K.default(i,{name:"Unknown Track Type",type:e.type})}}},{key:"zoomToDataPos",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,he.scalesCenterAndK)(this.xScale.copy().domain([e,t]),this.yScale.copy().domain([n,r])),l=(0,i.default)(s,3),u=l[0],c=l[1],f=l[2],h=a?a(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,c,f,!1,o,h[0],h[1])}},{key:"forwardContextMenu",value:function(e){var t=this;this.props.disableTrackMenu||e.altKey||(e.preventDefault(),setTimeout((function(){t.props.pubSub.publish("contextmenu",e)}),0))}},{key:"addEventTracker",value:function(){this.eventTracker&&this.eventTracker!==this.eventTrackerOld&&(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(e){e.sourceUid=this.uid,e.forwarded=!0,this.props.pubSub.publish("app.event",e)}},{key:"onScrollHandler",value:function(e){this.scrollTop=e}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{ref:function(t){e.baseEl=t},className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},p.default.createElement("div",{ref:function(t){e.element=t},className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),p.default.createElement("div",{ref:function(t){e.eventTracker=t},className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}}]),t}(p.default.Component);me.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},me.propTypes={canvasElement:m.default.object,centerHeight:m.default.number,centerWidth:m.default.number,children:m.default.array,disableTrackMenu:m.default.bool,galleryDim:m.default.number,height:m.default.number,initialXDomain:m.default.array,initialYDomain:m.default.array,isShowGlobalMousePosition:m.default.bool,isRangeSelection:m.default.bool,leftWidth:m.default.number,leftWidthNoGallery:m.default.number,paddingLeft:m.default.number,paddingTop:m.default.number,metaTracks:m.default.array,onMouseMoveZoom:m.default.func,onNewTilesLoaded:m.default.func.isRequired,onScalesChanged:m.default.func.isRequired,pixiRenderer:m.default.object.isRequired,pixiStage:m.default.object.isRequired,pluginDataFetchers:m.default.object,pluginTracks:m.default.object,positionedTracks:m.default.array,pubSub:m.default.object.isRequired,setCentersFunction:m.default.func,svgElement:m.default.object.isRequired,theme:m.default.symbol.isRequired,topHeight:m.default.number,topHeightNoGallery:m.default.number,viewOptions:m.default.object,width:m.default.number,xDomainLimits:m.default.array,yDomainLimits:m.default.array,valueScaleZoom:m.default.bool,zoomable:m.default.bool.isRequired,zoomDomain:m.default.array},t.default=(0,ue.default)((0,fe.default)(me))},function(e,t,n){e.exports={default:n(595),__esModule:!0}},function(e,t,n){n(596);var r=n(12).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(48),i=n(227).f;n(125)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(598),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=m;var c={},f={};f[o]=function(){return this};var h=Object.getPrototypeOf,d=h&&h(h(k([])));d&&d!==n&&r.call(d,o)&&(f=d);var p=b.prototype=v.prototype=Object.create(f);y.prototype=p.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(p),e},u.awrap=function(e){return{__await:e}},_(E.prototype),E.prototype[a]=function(){return this},u.AsyncIterator=E,u.async=function(e,t,n,r){var i=new E(m(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(p),p[s]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function m(e,t,n,r){var i,o,a,s,l=t&&t.prototype instanceof v?t:v,u=Object.create(l.prototype),f=new S(r||[]);return u._invoke=(i=e,o=n,a=f,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=w(n,a);if(r){if(r===c)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";var l=g(i,o,a);if("normal"===l.type){if(s=a.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s="completed",a.method="throw",a.arg=l.arg)}}),u}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function v(){}function y(){}function b(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=g(e[n],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=g(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,r.default)(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,i.default)(e,[{key:"enqueueTask",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n?this.taskList.push({handler:e,data:t}):(this.taskList=this.taskList.filter((function(e){return e.trackId!==n})),this.taskList.push({handler:e,data:t,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(e){for(;(e.timeRemaining()>0||e.didTimeout)&&this.taskList.length;){var t=this.taskList.shift();null===t.data?t.handler():t.handler(t.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e}());t.default=a},function(e,t,n){e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},function(e,t,n){function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function o(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function a(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function s(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function l(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function u(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}e.exports=function(e,t){t<=128?r(0,t-1,e):function e(t,n,c){var f=(n-t+1)/6|0,h=t+f,d=n-f,p=t+n>>1,m=p-f,g=p+f,v=h,y=m,b=p,_=g,E=d,w=t+1,x=n-1,T=0;l(v,y,c)&&(T=v,v=y,y=T),l(_,E,c)&&(T=_,_=E,E=T),l(v,b,c)&&(T=v,v=b,b=T),l(y,b,c)&&(T=y,y=b,b=T),l(v,_,c)&&(T=v,v=_,_=T),l(b,_,c)&&(T=b,b=_,_=T),l(y,E,c)&&(T=y,y=E,E=T),l(y,b,c)&&(T=y,y=b,b=T),l(_,E,c)&&(T=_,_=E,E=T);for(var S=c[2*y],k=c[2*y+1],O=c[2*_],A=c[2*_+1],C=2*v,P=2*b,M=2*E,R=2*h,I=2*p,D=2*d,N=0;N<2;++N){var L=c[C+N],F=c[P+N],j=c[M+N];c[R+N]=L,c[I+N]=F,c[D+N]=j}o(m,t,c),o(g,n,c);for(var B=w;B<=x;++B)if(u(B,S,k,c))B!==w&&i(B,w,c),++w;else if(!u(B,O,A,c))for(;;){if(u(x,O,A,c)){u(x,S,k,c)?(a(B,w,x,c),++w,--x):(i(B,x,c),--x);break}if(--x<B)break}s(t,w-1,S,k,c),s(n,x+1,O,A,c),w-2-t<=32?r(t,w-2,c):e(t,w-2,c),n-(x+2)<=32?r(x+2,n,c):e(x+2,n,c),x-w<=32?r(w,x,c):e(w,x,c)}(0,t-1,e)}},function(e,t,n){e.exports=function(e,t,n,o,c,w,x,T,S){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(6*n);v.length<o&&(r.free(v),v=r.mallocInt32(o));var a=i.nextPow2(2*n);y.length<a&&(r.free(y),y=r.mallocDouble(a))}(e,o+x);var k,O=0,A=2*e;for(b(O++,0,0,o,0,x,n?16:0,-1/0,1/0),n||b(O++,0,0,x,0,o,1,-1/0,1/0);O>0;){var C=6*(O-=1),P=v[C],M=v[C+1],R=v[C+2],I=v[C+3],D=v[C+4],N=v[C+5],L=2*O,F=y[L],j=y[L+1],B=1&N,U=!!(16&N),z=c,H=w,G=T,V=S;if(B&&(z=T,H=S,G=c,V=w),!(2&N&&(R=d(e,P,M,R,z,H,j),M>=R)||4&N&&(M=p(e,P,M,R,z,H,F))>=R)){var $=R-M,X=D-I;if(U){if(e*$*($+X)<1<<22){if(void 0!==(k=l.scanComplete(e,P,t,M,R,z,H,I,D,G,V)))return k;continue}}else{if(e*Math.min($,X)<128){if(void 0!==(k=a(e,P,t,B,M,R,z,H,I,D,G,V)))return k;continue}if(e*$*X<1<<22){if(void 0!==(k=l.scanBipartite(e,P,t,B,M,R,z,H,I,D,G,V)))return k;continue}}var W=f(e,P,M,R,z,H,F,j);if(M<W)if(e*(W-M)<128){if(void 0!==(k=s(e,P+1,t,M,W,z,H,I,D,G,V)))return k}else if(P===e-2){if(void 0!==(k=B?l.sweepBipartite(e,t,I,D,G,V,M,W,z,H):l.sweepBipartite(e,t,M,W,z,H,I,D,G,V)))return k}else b(O++,P+1,M,W,I,D,B,-1/0,1/0),b(O++,P+1,I,D,M,W,1^B,-1/0,1/0);if(W<R){var Y=u(e,P,I,D,G,V),q=G[A*Y+P],K=h(e,P,Y,D,G,V,q);if(K<D&&b(O++,P,W,R,K,D,(4|B)+(U?16:0),q,j),I<Y&&b(O++,P,W,R,I,Y,(2|B)+(U?16:0),F,q),Y+1===K){if(void 0!==(k=U?E(e,P,t,W,R,z,H,Y,G,V[Y]):_(e,P,t,B,W,R,z,H,Y,G,V[Y])))return k}else if(Y<K){var Z;if(U){if(W<(Z=m(e,P,W,R,z,H,q))){var Q=h(e,P,W,Z,z,H,q);if(P===e-2){if(W<Q&&void 0!==(k=l.sweepComplete(e,t,W,Q,z,H,Y,K,G,V)))return k;if(Q<Z&&void 0!==(k=l.sweepBipartite(e,t,Q,Z,z,H,Y,K,G,V)))return k}else W<Q&&b(O++,P+1,W,Q,Y,K,16,-1/0,1/0),Q<Z&&(b(O++,P+1,Q,Z,Y,K,0,-1/0,1/0),b(O++,P+1,Y,K,Q,Z,1,-1/0,1/0))}}else W<(Z=B?g(e,P,W,R,z,H,q):m(e,P,W,R,z,H,q))&&(P===e-2?k=B?l.sweepBipartite(e,t,Y,K,G,V,W,Z,z,H):l.sweepBipartite(e,t,W,Z,z,H,Y,K,G,V):(b(O++,P+1,W,Z,Y,K,B,-1/0,1/0),b(O++,P+1,Y,K,W,Z,1^B,-1/0,1/0)))}}}}};var r=n(256),i=n(257),o=n(603),a=o.partial,s=o.full,l=n(350),u=n(604),c=n(351),f=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),h=c("lo===p0",["p0"]),d=c("lo<p0",["p0"]),p=c("hi<=p0",["p0"]),m=c("lo<=p0&&p0<=hi",["p0"]),g=c("lo<p0&&p0<=hi",["p0"]),v=r.mallocInt32(1024),y=r.mallocDouble(1024);function b(e,t,n,r,i,o,a,s,l){var u=6*e;v[u]=t,v[u+1]=n,v[u+2]=r,v[u+3]=i,v[u+4]=o,v[u+5]=a;var c=2*e;y[c]=s,y[c+1]=l}function _(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,h=l*f,d=u[h+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var g=a[m+t],v=a[m+t+e];if(!(d<g||v<d||r&&d===g)){for(var y,b=s[p],_=t+1;_<e;++_){g=a[m+_],v=a[m+_+e];var E=u[h+_],w=u[h+_+e];if(v<E||w<g)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function E(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,h=l[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var g=o[p+t],v=o[p+t+e];if(!(h<g||v<h)){for(var y=t+1;y<e;++y){g=o[p+y],v=o[p+y+e];var b=l[f+y],_=l[f+y+e];if(v<b||_<g)continue e}var E=n(m,u);if(void 0!==E)return E}}}}},function(e,t,n){var r=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function i(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],i=r.slice();e||i.splice(3,0,"fp");var o=["function "+t+"("+i.join()+"){"];function a(t,i){var a,s,l,u,c,f,h,d=(c=["function ",u="bruteForce"+((a=t)?"Red":"Blue")+((s=i)?"Flip":"")+((l=e)?"Full":""),"(",r.join(),"){","var ","es","=2*","d",";"],f="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",h="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(l?"y1=bb[ax+bp+d],":"")+"yi=bi[j];",a?c.push(f,"Q",":",h):c.push(h,"Q",":",f),l?c.push("if(y1<x0||x1<y0)continue;"):s?c.push("if(y0<=x0||x1<y0)continue;"):c.push("if(y0<x0||x1<y0)continue;"),c.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),s?c.push("yi,xi"):c.push("xi,yi"),c.push(");if(rv!==void 0)return rv;}}}"),{name:u,code:c.join("")});n.push(d.code),o.push("return "+d.name+"("+r.join()+");")}o.push("if(re-rs>be-bs){"),e?(a(!0,!1),o.push("}else{"),a(!1,!1)):(o.push("if(fp){"),a(!0,!0),o.push("}else{"),a(!0,!1),o.push("}}else{if(fp){"),a(!1,!0),o.push("}else{"),a(!1,!1),o.push("}")),o.push("}}return "+t);var s=n.join("")+o.join("");return new Function(s)()}t.partial=i(!1),t.full=i(!0)},function(e,t,n){e.exports=function(e,t,n,o,a,s){if(o<=n+1)return n;for(var l=n,u=o,c=o+n>>>1,f=2*e,h=c,d=a[f*c+t];l<u;){if(u-l<8){i(e,t,l,u,a,s),d=a[f*c+t];break}var p=u-l,m=Math.random()*p+l|0,g=a[f*m+t],v=Math.random()*p+l|0,y=a[f*v+t],b=Math.random()*p+l|0,_=a[f*b+t];g<=y?_>=y?(h=v,d=y):g>=_?(h=m,d=g):(h=b,d=_):y>=_?(h=v,d=y):_>=g?(h=m,d=g):(h=b,d=_);for(var E=f*(u-1),w=f*h,x=0;x<f;++x,++E,++w){var T=a[E];a[E]=a[w],a[w]=T}var S=s[u-1];for(s[u-1]=s[h],s[h]=S,E=f*(u-1),w=f*(h=r(e,t,l,u-1,a,s,d)),x=0;x<f;++x,++E,++w)T=a[E],a[E]=a[w],a[w]=T;if(S=s[u-1],s[u-1]=s[h],s[h]=S,c<h){for(u=h-1;l<u&&a[f*(u-1)+t]===d;)u-=1;u+=1}else{if(!(h<c))break;for(l=h+1;l<u&&a[f*l+t]===d;)l+=1}}return r(e,t,n,c,a,s,a[f*c+t])};var r=n(351)("lo<p0",["p0"]);function i(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var m=i[h];i[h]=i[d],i[d]=m}var g=o[c];o[c]=o[c-1],o[c-1]=g}}},function(e,t,n){var r=n(353),i=n(606),o=n(607),a=n(609);function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",l(e.slice(0,t)),",",l(e.slice(t)),")"].join("")}function u(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(u(s(e,n))),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));return t;var r}function c(e){for(var t=[],n=[],c=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),f=[],h=0;h<e;++h)0==(1&h)?t.push.apply(t,u(s(c,h))):n.push.apply(n,u(s(c,h))),f.push("m"+h);var d=l(t),p=l(n),m="orientation"+e+"Exact",g=["function ",m,"(",f.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",g)(i,r,o,a)}var f=c(3),h=c(4),d=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:f(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],f=t[2]-r[2],d=n[2]-r[2],p=o*u,m=a*l,g=a*s,v=i*u,y=i*l,b=o*s,_=c*(p-m)+f*(g-v)+d*(y-b),E=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(g)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(d));return _>E||-_>E?_:h(e,t,n,r)}];function p(e){var t=d[e.length];return t||(t=d[e.length]=c(e.length)),t.apply(void 0,e)}!function(){for(;d.length<=5;)d.push(c(d.length));for(var t=[],n=["slow"],r=0;r<=5;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[p].concat(d)),r=0;r<=5;++r)e.exports[r]=d[r]}()},function(e,t,n){e.exports=function(e,t){var n,r,i,o,a,s=0|e.length,l=0|t.length;if(1===s&&1===l)return n=e[0],r=t[0],(a=n-((i=n+r)-(o=i-n))+(r-o))?[a,i]:[i];var u,c,f=new Array(s+l),h=0,d=0,p=0,m=Math.abs,g=e[d],v=m(g),y=t[p],b=m(y);v<b?(c=g,(d+=1)<s&&(v=m(g=e[d]))):(c=y,(p+=1)<l&&(b=m(y=t[p]))),d<s&&v<b||p>=l?(u=g,(d+=1)<s&&(v=m(g=e[d]))):(u=y,(p+=1)<l&&(b=m(y=t[p])));for(var _,E,w=u+c,x=w-u,T=c-x,S=T,k=w;d<s&&p<l;)v<b?(u=g,(d+=1)<s&&(v=m(g=e[d]))):(u=y,(p+=1)<l&&(b=m(y=t[p]))),(T=(c=S)-(x=(w=u+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_;for(;d<s;)(T=(c=S)-(x=(w=(u=g)+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_,(d+=1)<s&&(g=e[d]);for(;p<l;)(T=(c=S)-(x=(w=(u=y)+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_,(p+=1)<l&&(y=t[p]);return S&&(f[h++]=S),k&&(f[h++]=k),h||(f[h++]=0),f.length=h,f}},function(e,t,n){var r=n(353),i=n(608);e.exports=function(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var f=s[1];i(f,l[0],s),s[0]&&(a[u++]=s[0]);var h=l[1],d=s[1],p=h+d,m=d-(p-h);s[1]=p,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}},function(e,t,n){e.exports=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}},function(e,t,n){e.exports=function(e,t){var n,r,i,o,a,s=0|e.length,l=0|t.length;if(1===s&&1===l)return n=e[0],r=-t[0],(a=n-((i=n+r)-(o=i-n))+(r-o))?[a,i]:[i];var u,c,f=new Array(s+l),h=0,d=0,p=0,m=Math.abs,g=e[d],v=m(g),y=-t[p],b=m(y);v<b?(c=g,(d+=1)<s&&(v=m(g=e[d]))):(c=y,(p+=1)<l&&(b=m(y=-t[p]))),d<s&&v<b||p>=l?(u=g,(d+=1)<s&&(v=m(g=e[d]))):(u=y,(p+=1)<l&&(b=m(y=-t[p])));for(var _,E,w=u+c,x=w-u,T=c-x,S=T,k=w;d<s&&p<l;)v<b?(u=g,(d+=1)<s&&(v=m(g=e[d]))):(u=y,(p+=1)<l&&(b=m(y=-t[p]))),(T=(c=S)-(x=(w=u+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_;for(;d<s;)(T=(c=S)-(x=(w=(u=g)+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_,(d+=1)<s&&(g=e[d]);for(;p<l;)(T=(c=S)-(x=(w=(u=y)+c)-u))&&(f[h++]=T),S=k-((_=k+w)-(E=_-k))+(w-E),k=_,(p+=1)<l&&(y=-t[p]);return S&&(f[h++]=S),k&&(f[h++]=k),h||(f[h++]=0),f.length=h,f}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(19)),i=d(n(29)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(14)),c=d(n(7)),f=d(n(44)),h=n(10);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,n,r,i,o){var a,s,l,u;i instanceof HTMLElement?function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.fill,s=void 0===a?0:a,l=o.fillOpacity,u=void 0===l?0:l,c=o.stroke,f=void 0===c?0:c,d=o.strokeWidth,p=void 0===d?0:d,m=o.strokeOpacity,g=void 0===m?0:m,v=document.createElement("rect");v.setAttribute("x",e),v.setAttribute("y",t),v.setAttribute("width",n),v.setAttribute("height",r),v.setAttribute("fill","#"+String((0,h.decToHexStr)(s))),v.setAttribute("fill-opacity",u),v.setAttribute("stroke","#"+String((0,h.decToHexStr)(f))),v.setAttribute("stroke-opacity",g),v.setAttribute("stroke-width",p),i.appendChild(v)}(e,t,n,r,i,o):(a=e,s=t,l=n,u=r,i.drawRect(a,s,l,u))},m=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=l.isVertical,c=void 0!==u&&u,f=l.svg,h=void 0===f?null:f,d=t,m=n,g=r,v=i,y=2*s.width>r?r/2:s.width,b=2*s.width>i?i/2:s.width,_=h||e,E={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(s.positions&&s.positions.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),E.fill=s.color,E.fillOpacity=s.opacity,E.stroke=0,E.strokeOpacity=0,E.strokeWidth=1,s.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?p(t-y,n-b,r+2*y,b,_,E):"bottom"===e&&!c||"right"===e&&c?p(t-y,n+i,r+2*y,b,_,E):"left"===e&&!c||"top"===e&&c?p(t-y,n-b,y,i+2*b,_,E):("right"===e&&!c||"bottom"===e&&c)&&p(t+r,n-b,y,i+2*b,_,E)}))):s.width>0&&s.opacity>0&&(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),E.fill=0,E.fillOpacity=0,E.stroke=s.color,E.strokeOpacity=s.opacity,E.strokeWidth=s.width,p(t-y,n-b,r+2*y,i+2*b,_,E)),a.positions&&a.positions.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);var w=2*a.width>r?r/2:a.width,x=2*a.width>i?i/2:a.width;E.fill=a.color,E.fillOpacity=a.opacity,E.stroke=0,E.strokeOpacity=0,E.strokeWidth=1,a.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?(p(t,n,r,x,_,E),m+=x,v-=x):"bottom"===e&&!c||"right"===e&&c?(p(t,n+i-x,r,x,_,E),v-=x):"left"===e&&!c||"top"===e&&c?(p(t,n,w,i,_,E),d+=w,g-=w):("right"===e&&!c||"bottom"===e&&c)&&(p(t+r-w,n,w,i,_,E),g-=w)}))}else e.lineStyle(a.width,a.color,a.opacity),E.stroke=a.color,E.strokeOpacity=a.opacity,E.strokeWidth=a.width;e.beginFill(o.color,o.opacity),E.fill=o.color,E.fillOpacity=o.opacity,p(d,m,g,v,_,E)},g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.options=n||{},r.drawnRects={},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7];if(n&&!(n.length<2)){var l=this.position[0]+t.left+this._xScale(n[0]),u=this.position[1]+t.top,c=t.height,f=this._xScale(n[1])-this._xScale(n[0]);f<r&&(l-=(r-f)/2,f=r),m(e,l,u,f,c,i,o,a,s)}}},{key:"drawVerticalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(n&&!(n.length<2)){var l=this.position[0]+t.left,u=this.position[1]+t.top+this._yScale(n.length>=4?n[2]:n[0]),c=this.position[1]+t.top,f=this.position[1]+t.top+t.height;if(!(u>f)){u<c&&(u=c);var h=t.width,d=this._yScale(n.length>=4?n[3]:n[1])-u+t.top+this.position[1];d<0||(u+d>f&&(d+=f-(u+d)),d<r&&(u-=(r-d)/2,d=r),s.isVertical=!0,m(e,l,u,h,d,i,o,a,s))}}}},{key:"draw",value:function(e){var n=this;(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var r=this.pMain,a={color:(0,h.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,i.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},s={color:(0,h.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},l={color:(0,h.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};e&&e.svg||r.clear(),r.lineStyle(s.width,s,+!s.positions*s.opacity),r.beginFill(a.color,a.opacity);var c=Math.max(0,+this.options.minWidth||0),f=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((function(t){"1d-horizontal"!==t.orientation&&"2d"!==t.orientation||n.options.extent.forEach((function(i){return n.drawHorizontalOverlay(r,t.position,i,c,a,s,l,e)})),"1d-vertical"!==t.orientation&&"2d"!==t.orientation||n.options.extent.forEach((function(i){return n.drawVerticalOverlay(r,t.position,i,f,a,s,l,e)}))}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.draw()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var i=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(i,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");return e.appendChild(s),this.draw({svg:s}),[n,e]}}]),t}(f.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(138))&&r.__esModule?r:{default:r};t.default=function(e,t){var n,r,o,a=(0,i.default)(e,t);return n=e.map((function(e){return(Array.isArray(e)&&t?e.length:1)/a})),r=0,o=[],n.forEach((function(e){r+=+e||0,o.push(r)})),Float64Array.from(o)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(29)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),f=n(28),h=m(n(115)),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.setColorScale(n.colorRange),r.opacity=n.opacity||1,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setColorScale",value:function(e){this.colorScale=e?(0,d.colorDomainToRgbaArray)(e):p.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))}))}},{key:"rerender",value:function(e){e&&e.colorRange&&this.setColorScale(e.colorRange),this.opacity=e.opacity||1,(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),u=(0,i.default)(l,2),c=u[0],h=u[1];if(c.range([254,0]).clamp(!0),this.valueScale=c,t.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var d=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([o,o+a]);t.lineStyle(0,0,0);for(var m=0;m<s.length;m++)if(!(0,r.default)(s[m])){var g=Math.round(this.valueScale(s[m]+h));if(!(0,r.default)(+g)){var v=this._xScale(d(m)),y=this._xScale(d(m+1))-v,b=this.dimensions[1];e.xValues[m]=v,e.yValues[m]=g;var _=this.colorScale[g],E=p.GLOBALS.PIXI.utils.rgb2hex(_);if(t.beginFill(E,this.opacity),0!==m){if(d(m)>this.tilesetInfo.max_pos[0])break;0!==s[m]&&t.drawRect(v,0,y,b)}}}}}}}}]),t}(h.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(4)),o=n(11);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,i.default)(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}},{key:"setPosition",value:function(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                                 rotate(90)\n                                 scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}},{key:"refXScale",value:function(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}},{key:"xScale",value:function(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}},{key:"yScale",value:function(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(e,t){return this.originalTrack.getMouseOverHtml(t,e)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.xScale(e),this.yScale(t),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(e,t,n,r,i),void this.originalTrack.draw();var o=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=o+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(e,t){this.originalTrack.zoomedY(e,t)}},{key:"movedY",value:function(e){this.originalTrack.movedY(e)}},{key:"refScalesChanged",value:function(e,t){this.originalTrack.refScalesChanged(t,e)}},{key:"rerender",value:function(e){this.originalTrack.rerender(e)}},{key:"exportSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(37)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(14)),u=d(n(7)),c=n(9),f=d(n(44)),h=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n,r){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return a.pubSub=e.pubSub,a.options=n,a.isVertical=r,a.rects={},a.defaultColor=(0,c.color)("red"),a}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this,n=void 0!==this.options.minRectWidth?this.options.minRectWidth:10,o=void 0!==this.options.fill?(0,c.color)(this.options.fill):this.defaultColor,a=void 0!==this.options.fillOpacity?+this.options.fillOpacity:.2,s=void 0!==this.options.stroke?(0,c.color)(this.options.stroke):this.defaultColor,u=void 0!==this.options.strokeWidth?+this.options.strokeWidth:1,f=void 0!==this.options.strokeOpacity?+this.options.strokeOpacity:0,d=void 0;this.options.strokePos&&this.options.strokePos.length&&(d=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"draw",this).call(this);var p=this.pMain;p.clear();var m=performance.now();this.options.regions.forEach((function(t){var r=String(t[0])+"-"+String(t[1]);e.rects[r]||(e.rects[r]={graphics:new h.GLOBALS.PIXI.Graphics},p.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=m;var i=(0,c.color)(t[2])||o,l=(0,c.color)(t[3])||s;l||(l=i);var g=h.GLOBALS.PIXI.utils.rgb2hex([i.r/255,i.g/255,i.b/255]),v=h.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);d?(p.lineStyle(1,v,0),p.beginFill(v,+t[5]||f)):(p.lineStyle(u,v,+t[5]||f),p.beginFill(g,+t[4]||a));var y=e.isVertical?e._yScale:e._xScale,b=y(+t[0]),_=y(+t[1]),E=_-b,w=void 0!==t[6]?t[6]:n;E<w&&(b=(b+_)/2-w/2,E=w),d?(p.lineStyle(1,v,0),p.beginFill(v,+t[5]||f),d.forEach((function(t){"top"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,u,E):p.drawRect(b,0,E,u)),"right"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,e.dimensions[0],u):p.drawRect(b,0,u,e.dimensions[1])),"bottom"!==t&&"around"!==t||(e.isVertical?p.drawRect(e.dimensions[0]-u,b,u,E):p.drawRect(b,e.dimensions[1]-u,E,u)),"left"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b+E-u,e.dimensions[0],u):p.drawRect(b+E-u,0,u,e.dimensions[1]))}))):p.lineStyle(u,v,+t[5]||f),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,p.beginFill(g,+t[4]||a),e.isVertical?(p.drawRect(0,b,e.dimensions[0],E),e.rects[r].graphics.hitArea=new h.GLOBALS.PIXI.Rectangle(0,b,e.dimensions[0],E)):(p.drawRect(b,0,E,e.dimensions[1]),e.rects[r].graphics.hitArea=new h.GLOBALS.PIXI.Rectangle(b,0,E,e.dimensions[1])),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<h.MAX_CLICK_DELAY&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}})),(0,r.default)(this.rects).filter((function(e){return e.timeStamp!==m})).forEach((function(e){return p.removeChild(e.graphics)}))}},{key:"setPosition",value:function(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(f.default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(14)),l=m(n(7)),u=m(n(178)),c=m(n(44)),f=m(n(73)),h=m(n(139)),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.dataConfig,l=e.animate,u=e.pubSub;o.searchField=null,o.chromInfo=null,o.animate=l;var c=s.server,d=s.tilesetUid,m=String(c)+"/chrom-sizes/?id="+String(d);return(0,f.default)(m,(function(e){o.chromInfo=e,o.searchField=new h.default(o.chromInfo),o.draw(),o.texts=[];for(var t=0;t<o.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<o.chromInfo.cumPositions.length;r++){var i=String(o.chromInfo.cumPositions[t].chr)+"/"+String(o.chromInfo.cumPositions[r].chr),a=new p.GLOBALS.PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});a.anchor.x=.5,a.anchor.y=.5,a.visible=!1,a.hashValue=Math.random(),n.push(a),o.pMain.addChild(a)}o.texts.push(n)}o.draw(),o.animate()}),u),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=[];if(this.texts&&this.searchField){for(var t=(0,d.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,d.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,d.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,d.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],f=u.pos+this.chromInfo.chromLengths[u.chr]/2,h=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(f),m=this._yScale(h),g=this.texts[s][l];g.x=p,g.y=m,g.updateTransform();var v=g.getBounds(),y=v.width/2,b=v.height/2;p+y>this.dimensions[0]?g.x-=p+y-this.dimensions[0]:p-y<0&&(g.x-=p-y),m+b>this.dimensions[1]?g.y-=m+b-this.dimensions[1]:m-b<0&&(g.y-=m-b),g.visible=!0,e.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(e)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),(0,u.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0}))}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(19)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(14)),c=g(n(7)),f=g(n(44)),h=g(n(73)),d=g(n(139)),p=n(10),m=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.chromInfoPath,s=e.dataConfig,u=e.animate,c=e.pubSub,f=e.orientation,p=void 0===f?"2d":f,g=e.isOverlay,v=void 0!==g&&g;r.searchField=null,r.chromInfo=null,r.animate=u,r.orientation=p,r.isOverlay=v;var y=i;return y||(y=String(s.server)+"/chrom-sizes/?id="+String(s.tilesetUid)),(0,h.default)(y,(function(e){r.chromInfo=e,r.searchField=new d.default(r.chromInfo),r.texts=[],r.lineGraphics=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dH=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dV=new m.GLOBALS.PIXI.Graphics,r.lineGraphics2d=new m.GLOBALS.PIXI.Graphics,r.mask1dH=new m.GLOBALS.PIXI.Graphics,r.mask1dV=new m.GLOBALS.PIXI.Graphics,r.mask2d=new m.GLOBALS.PIXI.Graphics,r.lineGraphics.addChild(r.lineGraphics1dH),r.lineGraphics1dH.addChild(r.mask1dH),r.lineGraphics.addChild(r.lineGraphics1dV),r.lineGraphics1dV.addChild(r.mask1dV),r.lineGraphics.addChild(r.lineGraphics2d),r.lineGraphics2d.addChild(r.mask2d),r.pMain.addChild(r.lineGraphics),r.draw(),r.animate()}),c),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.orientation,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===e&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===e&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===e&&(r=this.lineGraphics2d);var i=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(0)+t,n),r.lineTo(this._xScale(0)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(0)+n),r.lineTo(this.dimensions[0]+t,this._yScale(0)+n));for(var a=0;a<this.chromInfo.cumPositions.length;a++){var s=this.chromInfo.cumPositions[a],l=s.pos+ +this.chromInfo.chromLengths[s.chr]+1;"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(l)+t,n),r.lineTo(this._xScale(l)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(l)+n),r.lineTo(this.dimensions[0]+t,this._yScale(l)+n))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var e=0;e<this.options.orientationsAndPositions.length;e++){var t=this.options.orientationsAndPositions[e].orientation,n=this.options.orientationsAndPositions[e].position,r=n.left,i=n.top,o=n.width,a=n.height;"1d-horizontal"===t&&this.mask1dH.drawRect(r,i,o,a),"1d-vertical"===t&&this.mask1dV.drawRect(r,i,o,a),"2d"===t&&this.mask2d.drawRect(r,i,o,a),this.drawLines(t,r,i)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"createSvgLine",value:function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",t),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}},{key:"drawLinesSvg",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===t||"1d-vertical"===t){var l=this._yScale(0);l>0&&l<o+r&&e.appendChild(this.createSvgLine(i,n+i,l+o,l+o,a,s))}if("2d"===t||"1d-horizontal"===t){var u=this._xScale(0);u>0&&u<i+n&&e.appendChild(this.createSvgLine(u+i,u+i,o,r+o,a,s))}for(var c=0;c<this.chromInfo.cumPositions.length;c++){var f=this.chromInfo.cumPositions[c],h=f.pos+ +this.chromInfo.chromLengths[f.chr]+1;if("2d"===t||"1d-vertical"===t){var d=this._yScale(h);d>0&&d<o+r&&e.appendChild(this.createSvgLine(i,n+i,d+o,d+o,a,s))}if("2d"===t||"1d-horizontal"===t){var p=this._xScale(h);p>0&&p<i+n&&e.appendChild(this.createSvgLine(p+i,p+i,o,r+o,a,s))}}}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");if(e.appendChild(l),n.setAttribute("id","ChromosomeGrid"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[n,e];if(this.isOverlay)for(var c=0;c<this.options.orientationsAndPositions.length;c++){var f=this.options.orientationsAndPositions[c].orientation,h=this.options.orientationsAndPositions[c].position,d=h.left,p=h.top,m=h.width,g=h.height;this.drawLinesSvg(l,f,m,g,d,p)}else this.drawLinesSvg.apply(this,[l,this.orientation].concat((0,r.default)(this.dimensions)));return[n,e]}}]),t}(f.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=n(9),c=d(n(44)),f=d(n(73)),h=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.chromInfoPath,l=e.pubSub;return o.pubSub=l,o.rects={},(0,f.default)(s,(function(e){o.chromInfo=e,o.draw()}),o.pubSub),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=this;if(this.chromInfo){var n=this.options.minRectWidth?this.options.minRectWidth:10,i=this.options.minRectWidth?this.options.minRectHeight:10;(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this);var o=this.pMain;o.clear();var a=performance.now();this.options.regions.forEach((function(t){var r=t.slice(0,6).join("-");e.rects[r]||(e.rects[r]={graphics:new h.GLOBALS.PIXI.Graphics},o.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=a;var s=(0,u.color)(t[6]),l=(0,u.color)(t[7]);l||(l=s);var c=h.GLOBALS.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]),f=h.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);o.lineStyle(1,f,l.opacity),o.beginFill(c,s.opacity);var d=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[1]),p=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[2]),m=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[4]),g=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[5]),v=p-d,y=g-m,b=void 0!==t[8]?t[8]:n,_=void 0!==t[9]?t[9]:i;v<b&&(d=(d+p)/2-b/2,v=b),y<_&&(m=(m+g)/2-_/2,y=_),o.drawRect(d,m,v,y),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,e.rects[r].graphics.hitArea=new h.GLOBALS.PIXI.Rectangle(d,m,v,y),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<300&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}}))}}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=p},function(e,t,n){e.exports={default:n(619),__esModule:!0}},function(e,t,n){n(620),e.exports=n(12).Number.isInteger},function(e,t,n){var r=n(16);r(r.S,"Number",{isInteger:n(176)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.tilesetInfo={},o.errorTextText="Unknown track type: "+String(n.type),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"zoomed",value:function(){this.draw()}}]),t}(l(n(44)).default);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(27)),c=n(83),f=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,f=e.setDomainsCallback,h=u.default.nice();return o.uid=h,o.options=n,o.hasFromView=!e.projectionXDomain||!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=f,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,c.brush)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),s(h,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=f.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.hasFromView||(this.viewportXDomain=t,this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}}]),t}(h(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=n(83),c=n(0),f=h(n(27));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,h=f.default.nice();return o.uid=h,o.options=n,o.hasFromView=!e.projectionXDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:[0,0],o.brush=(0,u.brushX)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),s(h,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0]),this._xScale.invert(e[1])],n=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=t),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}}]),t}(h(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=n(83),c=n(0),f=h(n(27));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,h=f.default.nice();return o.uid=h,o.options=n,o.hasFromView=!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:[0,0],o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,u.brushY)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),s(h,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0]),this._yScale.invert(e[1])];this.hasFromView||(this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}}]),t}(h(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),f=p(n(44)),h=p(n(260)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.HorizontalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalRule",value:function(e){var t=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,d.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.yPosition=e.yPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"mouseMoveHandler",value:function(e){if(this.isWithin(e.x,e.y)&&this.isMouseOverHorizontalLine(e))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}},{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","horizontal-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",0),c.setAttribute("y1",this._yScale(this.yPosition)),c.setAttribute("x2",this.dimensions[0]),c.setAttribute("y2",this._yScale(this.yPosition)),l.appendChild(c),[n,e]}}]),t}((0,c.mix)(f.default).with(h.default,m));t.default=g},function(e,t,n){e.exports={default:n(627),__esModule:!0}},function(e,t,n){n(628),e.exports=n(168).f("hasInstance")},function(e,t,n){var r=n(33),i=n(127),o=n(21)("hasInstance"),a=Function.prototype;o in a||n(32).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){e.exports={default:n(630),__esModule:!0}},function(e,t,n){n(164),n(61),n(76),n(631),n(632),n(633),n(634),e.exports=n(12).Map},function(e,t,n){var r=n(330),i=n(237);e.exports=n(331)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(332)("Map")})},function(e,t,n){n(333)("Map")},function(e,t,n){n(334)("Map")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(19)),i=m(n(5)),o=m(n(3)),a=m(n(4)),s=m(n(6)),l=m(n(14)),u=m(n(7)),c=n(10),f=n(81),h=m(n(44)),d=m(n(260)),p=n(365);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),a=e.x,l=e.y;return r.xPosition=a,r.yPosition=l,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.drawVerticalRule(e)}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&(this.isMouseOverHorizontalLine(e)||this.isMouseOverVerticalLine(e)),this.draw()}},{key:"drawHorizontalRule",value:function(e){var t=(0,c.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,c.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this)){var o=(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");s.setAttribute("class","cross-rule"),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(s);var u=this.options.color||"black",c=document.createElement("line");c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]);var f=document.createElement("line");return f.setAttribute("stroke",u),f.setAttribute("stroke-width",this.strokeWidth),f.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),f.setAttribute("x1",0),f.setAttribute("y1",this._yScale(this.yPosition)),f.setAttribute("x2",this.dimensions[0]),f.setAttribute("y2",this._yScale(this.yPosition)),s.appendChild(c),s.appendChild(f),[n,e]}}]),t}((0,f.mix)(h.default).with(d.default,p.VerticalRuleMixin));t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(253);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initTile",value:function(e){u.initTile.bind(this)(e),this.drawTile(e)}},{key:"drawTile",value:function(e){u.drawTile.bind(this)(e)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this)}}]),t}(c(n(140)).default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.tileSource||(o.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",o.drawError()),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getTileUrl",value:function(e){var t=this.options.tileSource.replace("{z}",e[0]);return(t=t.replace("{x}",e[1])).replace("{y}",e[2])}}]),t}(l(n(140)).default);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(639)),i=s(n(651)),o=s(n(244)),a=n(11);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var s=n[e.type];return s?new s.dataFetcher(a.AVAILABLE_FOR_PLUGINS,e,t):"genbank"===e.type?new r.default(e,t):"local-tiles"===e.type?new i.default(e,t):new o.default(e,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(25)),i=d(n(29)),o=d(n(17)),a=d(n(62)),s=d(n(19)),l=d(n(3)),u=d(n(4)),c=d(n(27)),f=d(n(640)),h=d(n(649));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=[];if(!e.length)return[];for(var r=e[0].start,i=e[0].end,o=1;o<e.length;o++)e[o].start<i+5/t?i=Math.max(i,e[o].end):(n.push({type:"filler",start:r,end:i}),r=e[o].start,i=e[o].end);return n.push({start:r,end:i,type:"filler"}),n}var m=function(e){var t=(0,h.default)(e),n=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(t[0].features.filter((function(e){return"source"!==e.type})).sort((function(e,t){return e.start-t.start})));return[t,n]},g=function(){function e(t){var n=this;if((0,l.default)(this,e),this.dataConfig=t,this.trackUid=c.default.nice(),t.url){var r=".gz"===t.url.slice(t.url.length-3);this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then((function(e){return r?e.arrayBuffer():e.text()})).then((function(e){var t=r?f.default.inflate(e,{to:"string"}):e,i=m(t),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1]}))}else t.text&&(this.dataPromise=new a.default((function(e,r){var i=m(t.text),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1],e()})))}return(0,u.default)(e,[{key:"tilesetInfo",value:function(e){var t=this;return this.tilesetInfoLoading=!0,this.dataPromise.then((function(){var n;return t.tilesetInfoLoading=!1,n={tile_size:1024,max_zoom:Math.ceil(Math.log(t.gbJson[0].size/1024)/Math.log(2)),max_width:t.gbJson[0].size,min_pos:[0],max_pos:[t.gbJson[0].size]},e&&e(n),n})).catch((function(n){t.tilesetInfoLoading=!1,e&&e({error:"Error parsing genbank: "+String(n)})}))}},{key:"fetchTilesDebounced",value:function(e,t){var n={},r=[],s=[],l=!0,u=!1,c=void 0;try{for(var f,h=(0,o.default)(t);!(l=(f=h.next()).done);l=!0){var d=f.value,p=d.split("."),m=parseInt(p[0],10),g=parseInt(p[1],10);(0,i.default)(g)||(0,i.default)(m)?console.warn("Invalid tile zoom or position:",m,g):(r.push(d),s.push(this.tile(m,g)))}}catch(v){u=!0,c=v}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}return a.default.all(s).then((function(t){for(var i=0;i<t.length;i++){var o=r[i];n[o]=t[i],n[o].tilePositionId=o}e(n)})),n}},{key:"tile",value:function(e,t){var n=this;return this.tilesetInfo().then((function(i){var o=+i.max_width/Math.pow(2,+e),a=i.min_pos[0]+t*o,s=i.min_pos[0]+(t+1)*o,l=n.cdss.filter((function(e){return e.end>a&&e.start<s})),u=1024/Math.pow(2,i.max_zoom-e),f=p(l.filter((function(e){return 1===e.strand})),u),h=p(l.filter((function(e){return 1!==e.strand})),u);f.forEach((function(e){e.strand="+"})),h.forEach((function(e){e.strand="-"}));for(var d=[],m=0;m<n.cdss.length&&!(d.length>=20);m++)n.cdss[m].end>=a&&n.cdss[m].start<=s&&d.push(n.cdss[m]);return(d=[].concat((0,r.default)(d),(0,r.default)(f),(0,r.default)(h))).map((function(e){return n=(t=e).end-t.start,r=1===t.strand?"+":"-",i=c.default.nice(),"filler"===t.type?{xStart:t.start,xEnd:t.end,strand:t.strand,fields:[],type:"filler",uid:i}:{xStart:t.start,xEnd:t.end,strand:r,chrOffset:0,importance:t.end-t.start,uid:i,type:t.type,fields:["chrom",t.start,t.end,t.name,n,r,"","",t.type,t.name,t.start.toString(),t.end.toString(),t.start.toString(),t.end.toString()]};var t,n,r,i}))}))}}]),e}();t.default=g},function(e,t,n){var r={};(0,n(82).assign)(r,n(641),n(644),n(371)),e.exports=r},function(e,t,n){var r=n(642),i=n(82),o=n(369),a=n(261),s=n(370),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){var r,i=n(82),o=n(643),a=n(367),s=n(368),l=n(261);function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,f=e.prev,h=e.strstart+258,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=258-(h-o),o=h-258,r>a){if(e.match_start=t,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=f[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,o,l,u,c,f,h,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,f=e.strstart+e.lookahead,h=o,d=void 0,(d=u.avail_in)>h&&(d=h),n=0===d?0:(u.avail_in-=d,i.arraySet(c,u.input,u.next_in,d,f),1===u.state.wrap?u.adler=a(u.adler,c,d,f):2===u.state.wrap&&(u.adler=s(u.adler,c,d,f)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function x(e){var t,n=w(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return u(e,-2);8===r&&(r=9);var l=new E;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,x(e)}r=[new _(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(d(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=x,t.deflateResetKeep=w,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===i.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,h,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(82);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var f=new Array(512);i(f);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,m,g,v=new Array(30);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?f[e]:f[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function x(e,t,n){w(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(o[s]++,s))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function C(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,s,l,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?x(e,i,t):(x(e,(s=h[i])+256+1,t),0!==(l=o[s])&&w(e,i-=d[s],l),x(e,s=_(--r),n),0!==(l=a[s])&&w(e,r-=v[s],l))}while(u<e.last_lit);x(e,256,t)}function M(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)C(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,C(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),S(o,u,e.bl_count)}function R(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function I(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{x(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(x(e,i,e.bl_tree),s--),x(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),w(e,s-3,3)):(x(e,18,e.bl_tree),w(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(v);var D=!1;function N(e,t,n,i){var o,a,s;w(e,0+(i?1:0),3),a=t,s=n,O(o=e),E(o,s),E(o,~s),r.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}t._tr_init=function(e){D||(function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(S(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=T(e,5);p=new y(u,o,257,286,15),m=new y(c,a,0,30,15),g=new y(new Array(0),s,0,19,7)}(),D=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?N(e,t,n,r):4===e.strategy||o===i?(w(e,2+(r?1:0),3),P(e,u,c)):(w(e,4+(r?1:0),3),function(e,t,n,r){var i;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),i=0;i<r;i++)w(e,e.bl_tree[2*l[i]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),P(e,e.dyn_ltree,e.dyn_dtree)),k(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){var t;w(e,2,3),x(e,256,u),16===(t=e).bi_valid?(E(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},function(e,t,n){var r=n(645),i=n(82),o=n(369),a=n(371),s=n(261),l=n(370),u=n(648),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,l,u,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),u=h.next_out-l,f=o.buf2string(h.output,l),h.next_out=u,h.avail_out=d-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){var r=n(82),i=n(367),o=n(368),a=n(646),s=n(647);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function d(e,t){var n,r;return e?(r=new u,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var p,m,g=!0;function v(e){if(g){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=c,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,u,c,f,h,d,p,m,g,b,_,E,w,x,T,S,k,O,A,C,P,M,R,I,D=0,N=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,b=d,_=p,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,P=8+(15&(m>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,n.check=o(n.check,N,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((E=n.length)>d&&(E=d),E&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,f,E,P)),512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;E=0;do{P=u[f+E++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&E<d);if(512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;E=0;do{P=u[f+E++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&E<d);if(512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}e.adler=n.check=l(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(E>d&&(E=d),E>p&&(E=p),0===E)break e;r.arraySet(c,u,f,E,h),d-=E,f+=E,p-=E,h+=E,n.length-=E;break}n.mode=12;break;case 17:for(;g<14;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.lens[L[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(k<16)m>>>=T,g-=T,n.lens[n.have++]=k;else{if(16===k){for(I=T+2;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m>>>=T,g-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],E=3+(3&m),m>>>=2,g-=2}else if(17===k){for(I=T+3;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=T,P=0,E=3+(7&(m>>>=T)),m>>>=3,g-=3}else{for(I=T+7;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=T,P=0,E=11+(127&(m>>>=T)),m>>>=7,g-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},M=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},M=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,a(e,_),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(S&&0==(240&S)){for(O=T,A=S,C=k;S=(D=n.lencode[C+((m&(1<<O+A)-1)>>O)])>>>16&255,k=65535&D,!(O+(T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=O,g-=O,n.back+=O}if(m>>>=T,g-=T,n.back+=T,n.length=k,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(I=n.extra;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(0==(240&S)){for(O=T,A=S,C=k;S=(D=n.distcode[C+((m&(1<<O+A)-1)>>O)])>>>16&255,k=65535&D,!(O+(T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=O,g-=O,n.back+=O}if(m>>>=T,g-=T,n.back+=T,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(I=n.extra;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(E=_-p,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E>n.wnext?(E-=n.wnext,w=n.wsize-E):w=n.wnext-E,E>n.length&&(E=n.length),x=n.window}else x=c,w=h-n.offset,E=n.length;E>p&&(E=p),p-=E,n.length-=E;do{c[h++]=x[w++]}while(--E);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[h++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===d)break e;d--,m|=u[f++]<<g,g+=8}if(_-=p,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,c,_,h-_):i(n.check,c,_,h-_)),_=p,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,c,_,e.next_out-_):i(n.check,c,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,E,w,x,T,S,k;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,k=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];t:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))k[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&b,(_&=15)&&(p<_&&(d+=S[r++]<<p,p+=8),E+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,p<(_&=15)&&(d+=S[r++]<<p,(p+=8)<_&&(d+=S[r++]<<p,p+=8)),(w+=d&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=_,p-=_,w>(_=o-a)){if((_=w-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,T=h,0===f){if(x+=u-_,_<E){E-=_;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}}else if(f<_){if(x+=u+f-_,(_-=f)<E){E-=_;do{k[o++]=h[x++]}while(--_);if(x=0,f<E){E-=_=f;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}}}else if(x+=f-_,_<E){E-=_;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}for(;E>2;)k[o++]=T[x++],k[o++]=T[x++],k[o++]=T[x++],E-=3;E&&(k[o++]=T[x++],E>1&&(k[o++]=T[x++]))}else{x=o-w;do{k[o++]=k[x++],k[o++]=k[x++],k[o++]=k[x++],E-=3}while(E>2);E&&(k[o++]=k[x++],E>1&&(k[o++]=k[x++]))}break}}break}}while(r<i&&o<s);r-=E=p>>3,d&=(1<<(p-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(e,t,n){var r=n(82),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,f,h){var d,p,m,g,v,y,b,_,E,w=h.bits,x=0,T=0,S=0,k=0,O=0,A=0,C=0,P=0,M=0,R=0,I=null,D=0,N=new r.Buf16(16),L=new r.Buf16(16),F=null,j=0;for(x=0;x<=15;x++)N[x]=0;for(T=0;T<l;T++)N[t[n+T]]++;for(O=w,k=15;k>=1&&0===N[k];k--);if(O>k&&(O=k),0===k)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(S=1;S<k&&0===N[S];S++);for(O<S&&(O=S),P=1,x=1;x<=15;x++)if(P<<=1,(P-=N[x])<0)return-1;if(P>0&&(0===e||1!==k))return-1;for(L[1]=0,x=1;x<15;x++)L[x+1]=L[x]+N[x];for(T=0;T<l;T++)0!==t[n+T]&&(f[L[t[n+T]]++]=T);if(0===e?(I=F=f,y=19):1===e?(I=i,D-=257,F=o,j-=257,y=256):(I=a,F=s,y=-1),R=0,T=0,x=S,v=c,A=O,C=0,m=-1,g=(M=1<<O)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){b=x-C,f[T]<y?(_=0,E=f[T]):f[T]>y?(_=F[j+f[T]],E=I[D+f[T]]):(_=96,E=0),d=1<<x-C,S=p=1<<A;do{u[v+(R>>C)+(p-=d)]=b<<24|_<<16|E|0}while(0!==p);for(d=1<<x-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,T++,0==--N[x]){if(x===k)break;x=t[n+f[T]]}if(x>O&&(R&g)!==m){for(0===C&&(C=O),v+=S,P=1<<(A=x-C);A+C<k&&!((P-=N[A+C])<=0);)A++,P<<=1;if(M+=1<<A,1===e&&M>852||2===e&&M>592)return 1;u[m=R&g]=O<<24|A<<16|v-c|0}}return 0!==R&&(u[v+R]=x-C<<24|64<<16|0),h.bits=O,0}},function(e,t,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){const r=n(650);function i(e){var t=/^\s*/.exec(e);return null!==t?t[0].length:0}e.exports=function(e){if("string"!=typeof e)throw new TypeError("sequence must be a string");var t,n,o,a=[],s="LOCUS",l="REFERENCE",u="FEATURES",c="ORIGIN",f=e.split(/\r?\n/);let h;var d;if(null===f)throw new Error("sequence file is empty");var p,m,g=!1;for(let r of f){if(null===r)break;var v=C(r),y=M(r),b=I(r),_=R(r);if("//"===v||_?(o=v,h=null):b&&(h=v),""!==r.trim()&&";"!==v){if(!g&&o!==s)break;switch(o){case s:g=!0,T(r);break;case u:O(r,v,y);break;case c:x(r,v);break;case"DEFINITION":case"ACCESSION":case"VERSION":case"KEYWORDS":P(o,r,o.toLowerCase());break;case"SOURCE":"ORGANISM"===h?P(h,r,"organism"):P(v,r,"source");break;case l:if(v===l){const e=t.references||[];t.references=e,e.push({})}k(r,h);break;case"//":E()}}}return a[a.length-1]!==t&&E(),a;function E(){!function(){if(t&&t.features)for(var e=0;e<t.features.length;e++)t.features[e]=((n=t.features[e]).notes.label?n.name=n.notes.label[0]:n.notes.gene?n.name=n.notes.gene[0]:n.notes.ApEinfo_label?n.name=n.notes.ApEinfo_label[0]:n.notes.name?n.name=n.notes.name[0]:n.notes.organism?n.name=n.notes.organism[0]:n.notes.locus_tag?n.name=n.notes.locus_tag[0]:n.notes.note?n.name=n.notes.note[0]:n.name="Untitled Feature",n.name="string"==typeof n.name?n.name:String(n.name),n);var n}(),a.push(t)}function w(){return t.features[t.features.length-1]}function x(e,n){if(n!==c){var r=e.replace(/[\s]*[0-9]*/g,"");t.sequence+=r}}function T(e){t={features:[],name:"Untitled sequence",sequence:""};const n=(e=S(s,e)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/);let i=n[1],o=+n[2],a=n[3],l="circular"===n[4],u=n[5];const c=t;c.circular=l,c.moleculeType=a,c.genbankDivision=u;const f=n[6].match(/^(\d{2})-(.{3})-(\d{4})$/),h=new Date;h.setFullYear(+f[3]),h.setUTCMonth(r.indexOf(f[2].toUpperCase())),h.setDate(+f[1]),h.setUTCHours(12),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),c.date=h.toISOString(),c.name=i,c.size=o}function S(e,t){return 0===(t=t.replace(/^\s*/,"")).indexOf(e)&&(t=t.replace(e,"")),t.trim()}function k(e,n){const r=t.references;let i=r[r.length-1];n?P(n,e,n.toLowerCase(),i):P(l,e,"description",i)}function O(e,r,o){var a,s;if(r!==u)if(p&&(d=i(e),p=!1),d===i(s=e)||s.trim().charAt(0).match(/\//))if(function(e){var t=!1;return(e.trim().charAt(0).match(/\//)||e.match(/^[\s]*\/[\w]+=[\S]+/))&&(t=!0),t}(e))w()&&(function(e){var t,r=(t=e.trim().replace(/^\/|"$/g,"").split(/="|=/))[1];r&&(r=r.replace(/\\/g," "),e.match(/="/g)?r=r.replace(/".*/g,""):r.match(/^\d+$/g)&&(r=+r));var i=t[0],o=w().notes;o[i]?o[i].push(r):o[i]=[r],n=o[i]}(e),m=!1);else{a=o.match(/complement/g)?-1:1,t.features.push({locations:[],notes:{}});var l=w();l.type=r,l.strand=a,A(o),m=!0}else m?(A(e.trim()),m=!0):(n&&(n[n.length-1]+=e.trim().replace(/"/g,"")),m=!1);else p=!0}function A(e){e=e.trim();var t=[];e.replace(/(\d+)/g,(function(e,n){t.push(n)}));let n=w();n.start=+t[0],n.end=+t[1]}function C(e){return((e=e.replace(/^[\s]*/,"")).indexOf("=")<0?e.split(/[\s]+/):e.split(/=/))[0]}function P(e,n,r,i){i=i||t;let o=S(e,n);i[r]=i[r]?i[r]+" ":"",i[r]+=o}function M(e){return e.indexOf("=")<0?e=(e=e.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():e.split(/=/)[1]}function R(e){var t=!1;return e.substr(0,10).match(/^[\S]+/)&&(t=!0),t}function I(e){var t=!1;return e.substr(0,10).match(/^[\s]+[\S]+/)&&(t=!0),t}}},function(e,t,n){e.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(17)),o=u(n(37)),a=u(n(3)),s=u(n(4)),l=n(180);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,a.default)(this,e),this.dataConfig=t,this.tilesetInfoData=(0,o.default)(this.dataConfig.tilesetInfo)[0]}return(0,s.default)(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1,e(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(e,t){this.tilesData={};var n=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)((0,r.default)(this.dataConfig.tiles));!(n=(s=u.next()).done);n=!0){var c=s.value,f=c.split("."),h="localtile."+String(f.slice(1).join("."));this.tilesData[h]=this.dataConfig.tiles[c]}}catch(E){o=!0,a=E}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var d={},p=t.map((function(e){return"localtile."+String(e)}));(0,l.tileResponseToData)(this.tilesData,"",p);var m=!0,g=!1,v=void 0;try{for(var y,b=(0,i.default)(t);!(m=(y=b.next()).done);m=!0){var _=y.value;d[_]=this.tilesData["localtile."+String(_)]}}catch(E){g=!0,v=E}finally{try{!m&&b.return&&b.return()}finally{if(g)throw v}}e(d)}},{key:"tile",value:function(e,t){}}]),e}();t.default=c},function(e,t,n){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(5)),o=g(n(3)),a=g(n(4)),s=g(n(6)),l=g(n(7)),u=g(n(1)),c=g(n(2)),f=g(n(262)),h=g(n(659)),d=g(n(662)),p=n(11),m=n(10);function g(e){return e&&e.__esModule?e:{default:e}}n(664);var v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getOrientation",value:function(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(e){this.options=e}},{key:"handlePlotTypeSelected",value:function(e){var t=this.state.selectedTilesets,n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(t);!(n=(a=s.next()).done);n=!0)a.value.type=e}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}},{key:"selectedTilesetsChanged",value:function(e){var t,n=!0,i=(t=0===e.length?[{datatype:"none"}]:e)[0].datatype,o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(t);!(o=(l=u.next()).done);o=!0)l.value.datatype!==i&&(n=!1)}catch(O){a=!0,s=O}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(n){var c=!0,f=!1,h=void 0;try{for(var d,g=(0,r.default)(t);!(c=(d=g.next()).done);c=!0)d.value.type=this.selectedPlotType}catch(O){f=!0,h=O}finally{try{!c&&g.return&&g.return()}finally{if(f)throw h}}}else{var v=!0,y=!1,b=void 0;try{for(var _,E=(0,r.default)(t);!(v=(_=E.next()).done);v=!0){var w=_.value,x=[w.datatype],T=this.getOrientation(this.props.position);"cooler"===w.filetype&&(x=[w.datatype,"chromsizes"]);var S=(0,p.AVAILABLE_TRACK_TYPES)([x],T),k=(0,m.getDefaultTrackForDatatype)(x[0],this.props.position,S);w.type=k.type}}catch(O){y=!0,b=O}finally{try{!v&&E.return&&E.return()}finally{if(y)throw b}}}this.setState({selectedTilesets:t,allTracksSameDatatype:n})}},{key:"render",value:function(){var e=this,t=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(h.default,{ref:function(t){e.tilesetFinder=t},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(t){return e.props.onTracksChosen(t,e.props.position)},orientation:t,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(f.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},n,u.default.createElement(d.default,{ref:function(t){e.plotTypeChooser=t},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((function(e){return"cooler"===e.filetype?[e.datatype,"chromsizes"]:[e.datatype]})),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t,position:this.props.position}))}}]),t}(u.default.Component);v.defaultProps={position:"top"},v.propTypes={datatype:c.default.string.isRequired,host:c.default.string.isRequired,onCancel:c.default.func.isRequired,onTracksChosen:c.default.func.isRequired,position:c.default.string,trackSourceServers:c.default.array.isRequired},t.default=v},function(e,t,n){e.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(e,t,n){e.exports={cross:"Cross-module_cross-3WYME"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(30)),i=u(n(1)),o=u(n(2)),a=u(n(181)),s=u(n(372)),l=u(n(141));function u(e){return e&&e.__esModule?e:{default:e}}n(657);var c={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},f=function(e){return i.default.createElement("div",{className:(0,r.default)("modal-background "+(e.hide?"modal-hide":""),c)},i.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},i.default.createElement("div",{className:(0,r.default)("modal-window "+(e.maxHeight?"modal-window-max-height":""),c)},e.closeButton&&i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onClose&&e.onClose()}},i.default.createElement(s.default,null)),i.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},e.children))))};f.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},f.propTypes={children:o.default.element.isRequired,closeButton:o.default.bool,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,onClose:o.default.func},t.default=(0,l.default)(f)},function(e,t,n){e.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(e,t,n){e.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(35)),i=E(n(17)),o=E(n(25)),a=E(n(38)),s=E(n(18)),l=E(n(43)),u=E(n(5)),c=E(n(3)),f=E(n(4)),h=E(n(6)),d=E(n(7)),p=E(n(1)),m=E(n(2)),g=E(n(27)),v=E(n(660)),y=n(24);n(661);var b=E(n(69)),_=n(11);function E(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){(0,c.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));n.localTracks=_.TRACKS_INFO.filter((function(e){return e.local&&!e.hidden})).map((function(e){var t=(0,l.default)({},e);return t.datatype=e.datatype[0],t})),n.augmentedTracksInfo=_.TRACKS_INFO,window.higlassTracksByType&&(0,s.default)(window.higlassTracksByType).forEach((function(e){n.augmentedTracksInfo.push(window.higlassTracksByType[e].config)})),e.datatype?n.localTracks=n.localTracks.filter((function(t){return t.datatype[0]===e.datatype})):n.localTracks=n.localTracks.filter((function(e){return e.orientation===n.props.orientation})),n.localTracks.forEach((function(e){e.uuid=g.default.nice()}));var r=n.prepareNewEntries("",n.localTracks,{}),i=(0,s.default)(r),o=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:o,options:r,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return(0,d.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(e,t,n){var r=this,i=n;return t.map((function(t){return(0,l.default)({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:g.default.nice()})})).forEach((function(e){i[e.serverUidKey]=e})),i}},{key:"serverUidKey",value:function(e,t){return String(e)+"/"+String(t)}},{key:"requestTilesetLists",value:function(){var e=this,t=null;if(this.props.datatype)t="dt="+String(this.props.datatype);else{var n,r=new a.default((n=[]).concat.apply(n,(0,o.default)(this.augmentedTracksInfo.filter((function(e){return e.datatype})).filter((function(t){return t.orientation===e.props.orientation||"1d-vertical"===e.props.orientation&&"1d-horizontal"===t.orientation})).map((function(e){return e.datatype})))));t=[].concat((0,o.default)(r)).map((function(e){return"dt="+String(e)})).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((function(n){y.tileProxy.json(String(n)+"/tilesets/?limit=10000&"+String(t),(function(t,r){if(t)console.error("ERROR:",t);else{var i=e.prepareNewEntries(n,r.results,e.state.options),o=(0,s.default)(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var l=e.state.options[a[0]];e.props.selectedTilesetChanged([l])}e.mounted&&e.setState({selectedUuid:a,options:i})}}),e.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}},{key:"handleOptionDoubleClick",value:function(e){var t=this.state.options[e.target.value];this.props.onDoubleClick(t)}},{key:"handleSelectedOptions",value:function(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}},{key:"handleSelect",value:function(){for(var e=this.multiSelect.selectedOptions,t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.value)}this.handleSelectedOptions(t)}},{key:"handleSearchChange",value:function(){var e=this.searchBox;this.setState({filter:e.value})}},{key:"partitionByGroup",value:function(e,t){var n={"":{name:"",value:"",children:[]}},r=!0,o=!1,a=void 0;try{for(var l,u=(0,i.default)((0,s.default)(e));!(r=(l=u.next()).done);r=!0){var c=l.value,f=e[c];if(f.name.toLowerCase().includes(t))if("project_name"in f){var h=f.project_name;h in n||(n[h]={value:h,label:h,children:[]}),n[h].children.push({label:f.name,value:c})}else n[""].children.push({label:f.name,value:c})}}catch(_){o=!0,a=_}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var d=n[""].children,p=!0,m=!1,g=void 0;try{for(var v,y=(0,i.default)((0,s.default)(n));!(p=(v=y.next()).done);p=!0){var b=v.value;""!==b&&(n[b].children.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),d.push(n[b]))}}catch(_){m=!0,g=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}return d.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),d}},{key:"handleChecked",value:function(e){this.handleSelectedOptions(e),this.setState({checked:e})}},{key:"handleExpanded",value:function(e){this.setState({expanded:e})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var i=this.partitionByGroup(this.state.options,this.state.filter),o={width:15,height:15,top:2,right:2,position:"relative"},a=JSON.parse((0,r.default)(o));a.opacity=.5;var s=p.default.createElement("form",{onSubmit:function(e){e.preventDefault()}},p.default.createElement("div",{className:"tileset-finder-search-bar"},p.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),p.default.createElement("input",{ref:function(t){e.searchBox=t},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),p.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},p.default.createElement(v.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#square_o"})),check:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:p.default.createElement("svg",{style:a},p.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:i,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return p.default.createElement("div",null,s)}}]),t}(p.default.Component);w.propTypes={datatype:m.default.string,orientation:m.default.string,onDoubleClick:m.default.func,pubSub:m.default.object.isRequired,selectedTilesetChanged:m.default.func,trackSourceServers:m.default.array},t.default=(0,b.default)(w)},function(e,t,n){var r;e.exports=(r=n(1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){e.exports=n(96)()},function(e,t){e.exports=r},function(e,t,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(41),i=n(47);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(31),i=n(32),o=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),i=n(43),o=n(44),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(3)(Object,"create");e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r;
/*!
              Copyright (c) 2017 Jed Watson.
              Licensed under the MIT License (MIT), see
              http://jedwatson.github.io/classnames
            */
/*!
              Copyright (c) 2017 Jed Watson.
              Licensed under the MIT License (MIT), see
              http://jedwatson.github.io/classnames
            */!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(3)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6),i=n(17);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(42))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(48),i=n(55),o=n(57),a=n(58),s=n(59);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(60),i=n(63),o=n(64);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var d=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++d<c;){var g=e[d],v=t[d];if(a)var y=u?a(v,g,d,t,e,l):a(g,v,d,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,l)))return m.push(t)}))){p=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t,n){(function(e){var r=n(2),i=n(81),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),i=n(84),o=n(85),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(28);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){e.exports=n(98).default},function(e,t,n){var r=n(29),i=n(9);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(30),i=n(20),o=n(65),a=n(69),s=n(91),l=n(13),u=n(21),c=n(23),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),_=y?h:s(e),E=b?h:s(t),w=(_=_==f?d:_)==d,x=(E=E==f?d:E)==d,T=_==E;if(T&&u(e)){if(!u(t))return!1;y=!0,w=!1}if(T&&!w)return v||(v=new r),y||c(e)?i(e,t,n,m,g,v):o(e,t,_,n,m,g,v);if(!(1&n)){var S=w&&p.call(e,"__wrapped__"),k=x&&p.call(t,"__wrapped__");if(S||k){var O=S?e.value():e,A=k?t.value():t;return v||(v=new r),g(O,A,n,m,v)}}return!!T&&(v||(v=new r),a(e,t,n,m,g,v))}},function(e,t,n){var r=n(4),i=n(36),o=n(37),a=n(38),s=n(39),l=n(40);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(5),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(5);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(5);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(4);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(4),i=n(11),o=n(19);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),i=n(45),o=n(17),a=n(18),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(46),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(49),i=n(4),o=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(50),i=n(51),o=n(52),a=n(53),s=n(54);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(8);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(19),i=n(61),o=n(62);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),i=n(66),o=n(14),a=n(20),s=n(67),l=n(68),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(d(e),d(t),r,u,f,h);return h.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(70),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var h=u[f];if(!(l?h in t:i.call(t,h)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var g=e[h=u[f]],v=t[h];if(o)var y=l?o(v,g,h,t,e,s):o(g,v,h,e,t,s);if(!(void 0===y?g===v||a(g,v,n,o,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var r=n(71),i=n(73),o=n(76);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(72),i=n(13);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(74),i=n(75),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(77),i=n(86),o=n(90);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(78),i=n(79),o=n(13),a=n(21),s=n(82),l=n(23),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(80),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(6),i=n(9);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(6),i=n(24),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(22)(e))},function(e,t,n){var r=n(87),i=n(88),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(89)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),i=n(24);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(92),i=n(11),o=n(93),a=n(94),s=n(95),l=n(6),u=n(18),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(3)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(3)(n(2),"WeakMap");e.exports=r},function(e,t,n){var r=n(97);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){n.r(t);var r=n(10),i=n.n(r),o=n(25),a=n.n(o),s=n(26),l=n.n(s),u=n(0),c=n.n(u),f=n(1),h=n.n(f);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,g(t).apply(this,arguments))}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,h.a.PureComponent),(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","title"]);return h.a.createElement("button",p({"aria-label":n,title:n,type:"button"},r),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();y(b,"propTypes",{children:c.a.node.isRequired,title:c.a.string}),y(b,"defaultProps",{title:null});var _=b;function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.flatNodes=n}var t;return(t=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var i=this.props,o=i.disabled,a=i.noCascade;e.forEach((function(e,i){var s=t.nodeHasChildren(e);t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isParent:s,isLeaf:!s,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,o,a),treeDepth:r,index:i},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)&&e.children.length>0}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n){var r=this,i=this.flatNodes[e.value];if(i.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else i.children.forEach((function(e){r.toggleChecked(e,t,n)}));return this}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,k(t).apply(this,arguments))}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,h.a.PureComponent),(n=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}({},this.props);return delete t.indeterminate,h.a.createElement("input",T({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();A(C,"propTypes",{indeterminate:c.a.bool}),A(C,"defaultProps",{indeterminate:!1});var P=C,M=c.a.shape({check:c.a.node,uncheck:c.a.node,halfCheck:c.a.node,expandClose:c.a.node,expandOpen:c.a.node,expandAll:c.a.node,collapseAll:c.a.node,parentClose:c.a.node,parentOpen:c.a.node,leaf:c.a.node}),R=c.a.shape({collapseAll:c.a.string.isRequired,expandAll:c.a.string.isRequired,toggle:c.a.string.isRequired});function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=!(r=D(t).call(this,e))||"object"!==I(r)&&"function"!=typeof r?L(this):r).onCheck=n.onCheck.bind(L(L(n))),n.onClick=n.onClick.bind(L(L(n))),n.onExpand=n.onExpand.bind(L(L(n))),n}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,h.a.Component),(n=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,i=e.onClick;n&&t&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&i}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?h.a.createElement("span",{className:"rct-collapse"},h.a.createElement("span",{className:"rct-icon"})):h.a.createElement(_,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,i=n.expandOpen;return t?i:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===t?r:1===t?i:o}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=e.isLeaf;return null!==n?n:s?i:t?a:o}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,i=null!==n;return h.a.createElement("span",{className:"rct-bare-label",title:r},i?h.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,i=t.title,o=t.treeId,a=t.value,s=null!==t.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),u=[h.a.createElement("label",{key:0,htmlFor:l,title:i},h.a.createElement(P,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),h.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),s?null:e)];return s&&u.push(h.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),u}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?h.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,h.a.createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.expanded,o=e.isLeaf,a=i()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&r,"rct-node-collapsed":!o&&!r,"rct-disabled":n},t);return h.a.createElement("li",{className:a},h.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();F(j,"propTypes",{checked:c.a.number.isRequired,disabled:c.a.bool.isRequired,expandDisabled:c.a.bool.isRequired,expanded:c.a.bool.isRequired,icons:M.isRequired,isLeaf:c.a.bool.isRequired,isParent:c.a.bool.isRequired,label:c.a.node.isRequired,lang:R.isRequired,optimisticToggle:c.a.bool.isRequired,showNodeIcon:c.a.bool.isRequired,treeId:c.a.string.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,onCheck:c.a.func.isRequired,onExpand:c.a.func.isRequired,children:c.a.node,className:c.a.string,expandOnClick:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string,onClick:c.a.func}),F(j,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var B=j,U=c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.number)]);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={label:c.a.node.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,disabled:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string},G=c.a.oneOfType([c.a.shape(H),c.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z(e,t,n[t])}))}return e}({},H,{children:c.a.arrayOf(H).isRequired}))]);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){K(e,t,n[t])}))}return e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){function t(e){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=!(r=W(t).call(this,e))||"object"!==V(r)&&"function"!=typeof r?q(this):r;var i=new w(e);return i.flattenNodes(e.nodes),i.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||"rct-".concat(l()(7)),model:i,prevProps:e},n.onCheck=n.onCheck.bind(q(q(n))),n.onExpand=n.onExpand.bind(q(q(n))),n.onNodeClick=n.onNodeClick.bind(q(q(n))),n.onExpandAll=n.onExpandAll.bind(q(q(n))),n.onCollapseAll=n.onCollapseAll.bind(q(q(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,h.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,i=e.disabled,o=e.id,s=e.nodes,l=$({},t,{prevProps:e});return n.setProps(e),a()(r.nodes,s)&&r.disabled===i||n.flattenNodes(s),null!==o&&(l=$({},l,{id:o})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],(r=[{key:"onCheck",value:function(e){var t=this.props,n=t.noCascade,r=t.onCheck,i=this.state.model.clone(),o=i.getNode(e.value);i.toggleChecked(e,e.checked,n),r(i.serializeList("checked"),$({},o,e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),$({},r,e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)($({},this.state.model.getNode(e.value),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.props,o=i.expandDisabled,a=i.expandOnClick,s=i.icons,l=i.lang,u=i.noCascade,c=i.onClick,f=i.onlyLeafCheckboxes,d=i.optimisticToggle,p=i.showNodeTitle,m=i.showNodeIcon,g=this.state,v=g.id,y=g.model,b=t.defaultProps.icons,_=e.map((function(e){var t=e.value,i=y.getNode(e.value),g=i.isParent?n.renderTreeNodes(e.children,e):null;i.checkState=n.determineShallowCheckState(e,u);var _=f?i.isLeaf:i.showCheckbox;return!r.value||y.getNode(r.value).expanded?h.a.createElement(B,{key:t,checked:i.checkState,className:e.className,disabled:i.disabled,expandDisabled:o,expandOnClick:a,expanded:i.expanded,icon:e.icon,icons:$({},b,s),label:e.label,lang:l,optimisticToggle:d,isLeaf:i.isLeaf,isParent:i.isParent,showCheckbox:_,showNodeIcon:m,title:p?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:n.onCheck,onClick:c&&n.onNodeClick,onExpand:n.onExpand},g):null}));return h.a.createElement("ol",null,_)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,i=e.lang;return e.showExpandAll?h.a.createElement("div",{className:"rct-options"},h.a.createElement(_,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),h.a.createElement(_,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return h.a.createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return h.a.createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.nodes,r=e.nativeCheckboxes,o=this.renderTreeNodes(n),a=i()({"react-checkbox-tree":!0,"rct-disabled":t,"rct-native-display":r});return h.a.createElement("div",{className:a},this.renderExpandAll(),this.renderHiddenInput(),o)}}])&&X(n.prototype,r),o&&X(n,o),t}();K(Z,"propTypes",{nodes:c.a.arrayOf(G).isRequired,checked:U,disabled:c.a.bool,expandDisabled:c.a.bool,expandOnClick:c.a.bool,expanded:U,icons:M,id:c.a.string,lang:R,name:c.a.string,nameAsArray:c.a.bool,nativeCheckboxes:c.a.bool,noCascade:c.a.bool,onlyLeafCheckboxes:c.a.bool,optimisticToggle:c.a.bool,showExpandAll:c.a.bool,showNodeIcon:c.a.bool,showNodeTitle:c.a.bool,onCheck:c.a.func,onClick:c.a.func,onExpand:c.a.func}),K(Z,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:h.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:h.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:h.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:h.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:h.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:h.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:h.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:h.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:h.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:h.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),t.default=Z}]))},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=n(11),f=n(10);function h(e){return e&&e.__esModule?e:{default:e}}n(663);var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,c.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&e.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var t=(0,f.getDefaultTrackForDatatype)(e.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(t)}}},{key:"handlePlotTypeSelected",value:function(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}},{key:"render",value:function(){var e=this,t="No plot types available for track",n={};return c.TRACKS_INFO.forEach((function(e){n[e.type]=e})),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort((function(e,t){return e.type<t.type})).map((function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type===t.type?"plot-type-item plot-type-selected":"plot-type-item",o=n[t.type].thumbnail?u.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{className:"track-thumbnail"},u.default.createElement("svg",{height:20,width:30}));return u.default.createElement("li",{key:t.type,className:i,onClick:function(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))}))),u.default.createElement("div",null,t.length>0&&this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container"},t),!this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),t}(u.default.Component);d.propTypes={allTracksSameDatatype:l.default.bool,datatypes:l.default.array,orientation:l.default.string,onPlotTypeSelected:l.default.func,position:l.default.string},t.default=d},function(e,t,n){},function(e,t,n){e.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(5)),i=v(n(3)),o=v(n(4)),a=v(n(6)),s=v(n(14)),l=v(n(7)),u=v(n(30)),c=v(n(1)),f=n(81),h=v(n(95)),d=v(n(67)),p=v(n(373)),m=n(182),g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===g.THEME_DARK&&(t+=" context-menu-dark"),c.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,u.default)(t,y)},(0,m.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){return e.props.onLockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Lock Value Scale With"),c.default.createElement(d.default,{contextMenu:this,onClick:function(){return e.props.onUnlockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){return e.props.onAddSeries(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Series"),c.default.createElement(d.default,{onClick:function(){return e.props.onCloseTrack(e.props.tracks[0].uid)}},"Close Track"),c.default.createElement(d.default,{onClick:function(){e.props.onReplaceTrack(e.props.tracks[0].uid,e.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),t}((0,f.mix)(h.default).with(p.default));t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(37)),i=v(n(18)),o=v(n(17)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(7)),f=v(n(30)),h=v(n(1)),d=v(n(95)),p=v(n(67)),m=v(n(374)),g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getConfigureSeriesMenu",value:function(e,t,n){var r=this,a={},s=window.higlassTracksByType&&window.higlassTracksByType[n.type]&&window.higlassTracksByType[n.type].config&&window.higlassTracksByType[n.type].config.optionsInfo;if(s){var l=!0,u=!1,c=void 0;try{for(var f,d=(0,o.default)((0,i.default)(s));!(l=(f=d.next()).done);l=!0){var p=f.value;g.OPTIONS_INFO[p]=s[p]}}catch(x){u=!0,c=x}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}if(!g.TRACKS_INFO_BY_TYPE[n.type]||!g.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var v=function(e){if(e in g.OPTIONS_INFO){if(a[e]={name:g.OPTIONS_INFO[e].name},g.OPTIONS_INFO[e].generateOptions){var t=g.OPTIONS_INFO[e].generateOptions(n);a[e].children||(a[e].children={});var i=function(t){var i={name:t.name,value:t.value,handler:function(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}};a[e].children[t.value]=i},s=!0,l=!1,u=void 0;try{for(var c,f=(0,o.default)(t);!(s=(c=f.next()).done);s=!0)i(c.value)}catch(p){l=!0,u=p}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}if(g.OPTIONS_INFO[e].inlineOptions){var h=function(t){var i=g.OPTIONS_INFO[e].inlineOptions[t];a[e].children||(a[e].children={});var o={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?o.handler=function(){r.props.onConfigureTrack(n,i.componentPickers[n.type]),r.props.closeMenu()}:o.handler=function(){n.options[e]=i.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},a[e].children[t]=o};for(var d in g.OPTIONS_INFO[e].inlineOptions)h(d)}else g.OPTIONS_INFO[e].componentPickers&&g.OPTIONS_INFO[e].componentPickers[n.type]&&(a[e].handler=function(){r.props.onConfigureTrack(n,g.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}},y=!0,b=!1,_=void 0;try{for(var E,w=(0,o.default)(g.TRACKS_INFO_BY_TYPE[n.type].availableOptions);!(y=(E=w.next()).done);y=!0)v(E.value)}catch(x){b=!0,_=x}finally{try{!y&&w.return&&w.return()}finally{if(b)throw _}}return h.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(e,t,n){var o=this;window.higlassTracksByType&&(0,i.default)(window.higlassTracksByType).forEach((function(e){g.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config}));var a=n.datatype,s=null;n.type in g.TRACKS_INFO_BY_TYPE&&(a||(a=g.TRACKS_INFO_BY_TYPE[n.type].datatype[0]),s=g.TRACKS_INFO_BY_TYPE[n.type].orientation);for(var l=(0,r.default)(g.TRACKS_INFO_BY_TYPE).filter((function(e){return e.datatype})).filter((function(e){return e.orientation})).filter((function(e){return e.datatype.includes(a)})).filter((function(e){return e.orientation===s})).map((function(e){return e.type})),u={},c=function(e){u[l[e]]={value:l[e],name:l[e],handler:function(){o.props.onChangeTrackType(n.uid,l[e])}}},f=0;f<l.length;f++)c(f);return h.default.createElement(m.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:u,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return h.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){var e=this;if(this.props.series.data&&"divided"===this.props.series.data.type){var t={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return h.default.createElement(p.default,{onClick:function(){return e.props.onChangeTrackData(e.props.series.uid,t)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return h.default.createElement(p.default,{onClick:function(){return e.props.onAddDivisor(e.props.series)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=null;g.TRACKS_INFO_BY_TYPE[this.props.series.type]&&g.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(t=h.default.createElement(p.default,{onClick:function(){return e.props.onExportData(e.props.hostTrack.uid,e.props.track.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var n=this.props.onAddSeries?h.default.createElement(p.default,{onClick:function(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,r="context-menu";return this.props.theme===g.THEME_DARK&&(r+=" context-menu-dark"),h.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,f.default)(r,y)},h.default.createElement(p.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)}},"Configure Series",h.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},h.default.createElement("use",{xlinkHref:"#play"}))),h.default.createElement(p.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",h.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},h.default.createElement("use",{xlinkHref:"#play"})))),t,this.getDivideByMenuItem(),h.default.createElement(p.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},h.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),n,this.getSubmenu())}}]),t}(d.default);t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),i=s(n(1)),o=s(n(67)),a=n(182);function s(e){return e&&e.__esModule?e:{default:e}}n(68);var l=function(e){return i.default.createElement("div",null,(0,a.getSeriesItems)(e.tracks,null,null,e.onCloseTrack),i.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),i.default.createElement(o.default,{onClick:function(){return e.onCloseTrack(e.tracks[0].uid)}},"Close all series"))};l.propTypes={onCloseTrack:r.default.func.isRequired,tracks:r.default.array.isRequired},t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(124),o=a(n(377));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(25)),i=v(n(34)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(7)),c=v(n(30)),f=n(84),h=n(0),d=v(n(2)),p=v(n(1)),m=v(n(78)),g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}n(670);var y={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dragTopRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,h.select)("body").node(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,h.select)(this.bottomHandle).call(this.dragBottom),(0,h.select)(this.topHandle).call(this.dragTop),(0,h.select)(this.leftHandle).call(this.dragLeft),(0,h.select)(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}},{key:"dragBottomFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight,this.setState({height:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:n,width:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:n,height:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth,this.setState({width:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n,height:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({width:t,height:n}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth,this.setState({top:n,width:r,height:t}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(){var e=(0,h.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:i,left:n,width:t,height:r}),h.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(){this.dragStartMousePos=(0,h.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,h.event.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){var e=this,t=this.props.theme===g.THEME_DARK?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},o={left:this.state.width/2-12,width:24},a={top:this.state.height/2-12,height:24},s={bottom:(0,i.default)({},o,{bottom:1}),top:(0,i.default)({},o,{top:1}),left:(0,i.default)({},a,{left:1}),right:(0,i.default)({},a,{right:1})},l=[].concat((0,r.default)(this.props.resizeHandles)).map((function(n){return p.default.createElement("div",{key:n,ref:function(t){e[String(n)+"Handle"]=t},style:s[n],title:"Resize track",className:(0,c.default)(String(n)+"-draggable-handle",y)},p.default.createElement("div",{style:{borderColor:t},className:(0,c.default)(String(n)+"-draggable-handle-grabber",y)}))}));return p.default.createElement("div",{ref:function(t){e.divContainer=t},className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:n},l)}}]),t}(p.default.Component);b.propTypes={className:d.default.string,height:d.default.number,left:d.default.number,opacity:d.default.number,resizeHandles:d.default.object,sizeChanged:d.default.func,top:d.default.number,trackClosed:d.default.func,trackRotated:d.default.func,uid:d.default.string,width:d.default.number,theme:d.default.symbol},t.default=(0,m.default)(b)},function(e,t,n){e.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=h(n(41)),f=n(124);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={controlsVisible:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){var e,t=this;return e=this.moveable?(0,f.SortableHandle)((function(){return u.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){},style:t.getMoveImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#move"}))})):(0,f.SortableHandle)((function(){return u.default.createElement("div",null)})),u.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},u.default.createElement(e,null),u.default.createElement("svg",{ref:function(e){t.imgConfig=e},className:"no-zoom",height:"10px",onClick:function(){var e=c.default.findDOMNode(t.imgConfig).getBoundingClientRect();t.props.onConfigTrackMenuOpened(t.props.uid,e)},style:this.getSettingsImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(e){t.imgAdd=e},className:"no-zoom",height:"10px",onClick:function(){return t.props.onAddSeries(t.props.uid)},style:this.getAddImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{ref:function(e){t.imgClose=e},className:"no-zoom",height:"10px",onClick:function(){var e=c.default.findDOMNode(t.imgClose).getBoundingClientRect();t.props.onCloseTrackMenuOpened(t.props.uid,e)},style:this.getCloseImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cross"})))}}]),t}(u.default.Component);d.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},t.default=d},function(e,t,n){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(5)),i=E(n(3)),o=E(n(4)),a=E(n(6)),s=E(n(7)),l=E(n(30)),u=E(n(2)),c=E(n(1)),f=n(83),h=n(0),d=E(n(27)),p=E(n(376)),m=E(n(674)),g=E(n(378)),v=n(10),y=n(11),b=(E(n(675)),E(n(174))),_=E(n(173));function E(e){return e&&e.__esModule?e:{default:e}}var w={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},x=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,f.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.moveBrush(e.rangeSelection[n]?e.rangeSelection[n]:null,e.rangeSelectionEnd),this.state!==t}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,v.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(h.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&h.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,h.event.selection&&h.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(h.event.selection)),h.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.width})).reduce(v.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(v.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,h.select)(t)},style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,w)}),c.default.createElement(p.default,{axis:"x",className:String(b.default.list)+" "+String(b.default.stylizedList)+" "+String(b.default.horizontalList),component:g.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:b.default.stylizedHelper,itemClass:String(b.default.stylizedItem)+" "+String(b.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||d.default.nice(),height:e.props.height,width:t.width,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}},{key:"sourceEvent",get:function(){return h.event&&h.event.sourceEvent}}]),t}(c.default.Component);x.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,height:u.default.number,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,tracksControlAlignLeft:u.default.bool},t.default=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(124),o=a(n(379));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(5)),i=y(n(3)),o=y(n(4)),a=y(n(6)),s=y(n(7)),l=y(n(30)),u=y(n(1)),c=y(n(2)),f=n(81),h=n(10),d=n(182),p=y(n(67)),m=y(n(95)),g=y(n(373)),v=n(11);function y(e){return e&&e.__esModule?e:{default:e}}n(68);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},_=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=(0,d.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?u.default.Children.map(this.props.customItems,(function(t){return u.default.cloneElement(t,{onMouseEnter:function(t){e.handleOtherMouseEnter(t)}})})):null,r="context-menu";return this.props.theme===v.THEME_DARK&&(r+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,l.default)(r,b)},n,n&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),t,t&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"horizontal-rule",y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"vertical-rule",x:e.props.coords[0],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"cross-rule",x:e.props.coords[0],y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Cross Rule"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(e){return(0,h.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type})).length>0}},{key:"handleAddHorizontalSection",value:function(){var e=(0,h.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){var e=(0,h.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),t}((0,f.mix)(m.default).with(g.default));_.propTypes={coords:c.default.array,customItems:c.default.array},t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(19)),i=C(n(62)),o=C(n(29)),a=C(n(25)),s=C(n(38)),l=C(n(5)),u=C(n(3)),c=C(n(4)),f=C(n(6)),h=C(n(7)),d=C(n(30)),p=n(0),m=C(n(1)),g=C(n(27)),v=n(329),y=C(n(2)),b=C(n(678)),_=C(n(73)),E=C(n(139)),w=C(n(263)),x=n(24),T=C(n(69)),S=n(10),k=C(n(78)),O=n(11),A=C(n(682));function C(e){return e&&e.__esModule?e:{default:e}}var P={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},M=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.mounted=!1,n.uid=g.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new s.default([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,(0,p.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,(0,_.default)(this.props.chromInfoPath,(function(t){t?(e.chromInfo=t,e.searchField=new E.default(e.chromInfo),e.setPositionText()):e.searchPosition=null}))),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(e,t){var n=this;this.positionText=t,this.setState({value:t,loading:!0}),this.changedPart=null;for(var r=t.split(/ /),i=0,o=[],a=!1,s=0;s<r.length;s++)for(var l=r[s].split(/-/),u=0;u<l.length;u++){if(i+=1,o.push(l[u]),a=0===u,u===this.prevParts.length){this.changedPart=i-1;break}if(l[u]!==this.prevParts[u]){this.changedPart=i-1;break}}if(this.prevParts=o,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});var c=String(this.state.autocompleteServer)+"/suggest/";c+="?d="+String(this.state.autocompleteId)+"&ac="+String(o[this.changedPart].toLowerCase()),x.tileProxy.json(c,(function(e,t){if(e)n.setState({loading:!1,genes:[]});else if(n.changedPart>0&&!a){var r=String(n.state.autocompleteServer)+"/suggest/?d="+String(n.state.autocompleteId)+"&ac="+String(o[n.changedPart-1].toLowerCase())+"-"+String(o[n.changedPart].toLowerCase());x.tileProxy.json(r,(function(e,r){e?n.setState({loading:!1,genes:t}):n.setState({loading:!1,genes:r.concat(t)})}),n.props.pubSub)}else n.setState({loading:!1,genes:t})}),this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){var e=new s.default((0,S.dictKeys)(this.availableChromSizes)),t=new s.default([].concat((0,a.default)(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,a.default)(t))})}},{key:"setSelectedAssembly",value:function(e){if(this.mounted&&this.availableChromSizes[e]){var t=[].concat((0,a.default)(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:t.server});var n=t.server;if(this.availableAutocompletes[e]){var r=[].concat((0,a.default)(this.availableAutocompletes[e]))[0].acId;this.props.onSelectedAssemblyChanged(e,r,n),this.gpsbForm&&this.setState({autocompleteId:r})}else this.props.onSelectedAssemblyChanged(e,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(t.uuid,t.server)}}},{key:"setPositionText",value:function(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&(this.positionText=e,this.origPositionText=e,this.autocompleteMenu.inputEl.value=e)}}},{key:"scalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){x.tileProxy.json(String(t)+"/available-chrom-sizes/",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new s.default),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()})),e.searchField||e.fetchChromInfo(e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].uuid:e.props.chromInfoId,e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].server:e.props.chromInfoServer))}),e.props.pubSub)}))}},{key:"findAvailableAutocompleteSources",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){x.tileProxy.json(String(t)+"/tilesets/?limit=100&dt=gene-annotation",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new s.default),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()})),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat((0,a.default)(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))}),e.props.pubSub)}))}},{key:"fetchChromInfo",value:function(e,t){var n=this;(0,_.default)(String(t)+"/chrom-sizes/?id="+String(e),(function(r){r&&(x.tileProxy.json(String(t)+"/tileset_info/?d="+String(e),(function(t,r){t||n.gpsbForm&&n.setState({selectedAssembly:r[e].coordSystem})}),n.props.pubSub),n.chromInfo=r,n.searchField=new E.default(n.chromInfo),n.setPositionText())}),this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(){13===p.event.keyCode&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(e){}},{key:"replaceGenesWithLoadedPositions",value:function(e){for(var t=this.positionText,n=t.split(" "),r=!1,i=0;i<n.length;i++){for(var o=n[i].split("-"),a=0,s=0,l="";a<o.length;){for(s=o.length;s>a;){var u=o.slice(a,s).join("-");if(e[u.toLowerCase()]){var c=e[u.toLowerCase()],f=Math.floor((c.txEnd-c.txStart)/4);0===a&&s<o.length?l=String(c.chr)+":"+(c.txStart-f):0===a&&s===o.length?l=String(c.chr)+":"+(c.txStart-f)+"-"+String(c.txEnd+f):l+="- "+String(c.chr)+":"+String(c.txEnd+f),r=!0;break}s===a+1&&(l.length&&(l+="-"),l+=u),s-=1}a=s+1}n[i]=l}var h=n.join(" ");return this.prevParts=h.split(/[ -]/),this.positionText=h,this.setState({value:h}),r?t:null}},{key:"replaceGenesWithPositions",value:function(e){for(var t=this,n=this.positionText.split(/[ -]/),r=[],a=0;a<n.length;a++)if(0!==n[a].length){var s=this.searchField.parsePosition(n[a])[2];if(null===s||(0,o.default)(+s)){var l=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String(n[a].toLowerCase());r.push(x.tileProxy.json(l,S.toVoid,this.props.pubSub))}}i.default.all(r).then((function(n){if(n){for(var r={},i=0;i<n.length;i++)if(n[i][0])for(var o=0;o<n[i].length;o++)r[n[i][o].geneName.toLowerCase()]=n[i][o];var a=t.replaceGenesWithLoadedPositions(r);e(a)}})).catch((function(e){return console.error(e)}))}},{key:"buttonClick",value:function(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions((function(t){var n=e.positionText;if(null!==e.searchField){var i=e.searchField.searchPosition(n),a=i[0],s=i[1];if(!a)return void e.setPositionText(e.origPositionText);if(a&&((0,o.default)(+a[0])||(0,o.default)(+a[1]))||s&&((0,o.default)(+s[0])||(0,o.default)(+s[1])))return;s||(s=a);var l=e.xScale.copy().domain(a),u=e.yScale.copy().domain(s),c=(0,S.scalesCenterAndK)(l,u),f=(0,r.default)(c,3),h=f[0],d=f[1],p=f[2];t&&e.props.onGeneSearch({geneSymbol:t,range:a,centerX:h,centerY:d}),e.props.setCenters(h,d,p,O.ZOOM_TRANSITION_DURATION)}}))}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(e,t){var n=t||"/",r=new RegExp(String(n)+"{1,}","g");return e.join(n).replace(r,n)}},{key:"geneSelected",value:function(e,t){for(var n=this.positionText.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-"),a=t.geneName.split("-");if(!(r>o.length-1)){if(o[r]=t.geneName,2===a.length&&r>0&&o[r-1].toLowerCase()===a[0].toLowerCase()){var s=o.slice(0,r-1);s.push(a.join("-")),r<o.length-1&&s.push(o.slice(r+1)),n[i]=s.join("-")}else n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}},{key:"handleRenderMenu",value:function(e){return m.default.createElement(w.default,null,m.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},e))}},{key:"handleAssemblySelect",value:function(e){this.setSelectedAssembly(e),this.setState({selectedAssembly:e})}},{key:"focusHandler",value:function(e){this.setState({isFocused:e})}},{key:"render",value:function(){var e=this,t=this.state.availableAssemblies.map((function(e){return m.default.createElement(v.MenuItem,{key:e,eventKey:e},e)})),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search",r=this.state.isFocused?"styles.genome-position-search-bar-button-focus":"styles.genome-position-search-bar-button";return this.props.theme===O.THEME_DARK&&(n+=" styles.genome-position-search-dark"),m.default.createElement(v.FormGroup,{ref:function(t){e.gpsbForm=t},bsSize:"small",className:(0,d.default)(n,P)},!this.props.hideAvailableAssemblies&&m.default.createElement(v.DropdownButton,{ref:function(t){e.assemblyPickButton=t},bsSize:"small",className:A.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),m.default.createElement(b.default,{ref:function(t){e.autocompleteMenu=t},getItemValue:function(e){return e.geneName},inputProps:{className:A.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(t,n){return e.geneSelected(t,n)},onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(t,n){return m.default.createElement("div",{key:t.refseqid,id:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)},renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),m.default.createElement("button",{onClick:this.buttonClick.bind(this),type:"button",className:(0,d.default)(r,P)},m.default.createElement(v.Glyphicon,{glyph:"search"})))}}]),t}(m.default.Component);M.propTypes={autocompleteId:y.default.string,autocompleteServer:y.default.string,chromInfoId:y.default.string,chromInfoServer:y.default.string,hideAvailableAssemblies:y.default.bool,isFocused:y.default.bool,pubSub:y.default.func,onFocus:y.default.func,onGeneSearch:y.default.func,onSelectedAssemblyChanged:y.default.func,registerViewportChangedListener:y.default.func,removeViewportChangedListener:y.default.func,setCenters:y.default.func,theme:y.default.symbol.isRequired,trackSourceServers:y.default.array,twoD:y.default.bool},t.default=(0,T.default)((0,k.default)(M))},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(35)),i=p(n(34)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=p(n(1)),f=n(41),h=p(n(679)),d=p(n(2));function p(e){return e&&e.__esModule?e:{default:e}}var m=[],g=function(t){function n(e){(0,a.default)(this,n);var t=(0,l.default)(this,(n.__proto__||(0,o.default)(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},Enter:function(e){var t=this;if(!1===this.state.isOpen);else if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.inputEl.select()}));else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)}))}},Escape:function(){this.setState({highlightedIndex:null,isOpen:!1})}},t}return(0,u.default)(n,t),(0,s.default)(n,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+String(this.state.highlightedIndex)],t=this.refs.menu;e&&(0,h.default)((0,f.findDOMNode)(e),(0,f.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter((function(t){return e.props.shouldItemRender(t,e.props.value)}))),this.props.sortItems&&t.sort((function(t,n){return e.props.sortItems(t,n,e.props.value)})),t}},{key:"maybeAutoCompleteText",value:function(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}},{key:"setMenuPositions",value:function(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(n,e),t.inputEl.focus()}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems().map((function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.highlightItemFromMouse(n)},onClick:function(){return e.selectItemFromMouse(t)},ref:"item-"+String(n)})})),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"render",value:function(){var e=this;this.props.debug&&m.push({id:m.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",(0,i.default)({style:(0,i.default)({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",(0,i.default)({},t,{ref:function(t){e.inputEl=t},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},(0,r.default)(m.slice(m.length-5,m.length),null,2)))}}]),n}(c.default.Component);g.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(e,t,n){return c.default.createElement("div",{style:(0,i.default)({},n,this.menuStyle)},e)},shouldItemRender:function(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}},g.propTypes={autoHighlight:d.default.bool,debug:d.default.bool,getItemValue:d.default.func.isRequired,inputProps:d.default.object,items:d.default.array,menuStyle:d.default.object,onChange:d.default.func,onFocus:d.default.func,onMenuVisibilityChange:d.default.func,onSelect:d.default.func,open:d.default.bool,renderItem:d.default.func.isRequired,renderMenu:d.default.func,shouldItemRender:d.default.func,sortItems:d.default.func,value:d.default.any,wrapperProps:d.default.object,wrapperStyle:d.default.object},t.default=g}).call(this,n(26))},function(e,t,n){e.exports=n(680)},function(e,t,n){var r=n(681);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var i=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,c=n.offsetBottom||0,f=n.offsetRight||0;i=void 0===i||i;var h=r.isWindow(t),d=r.offset(e),p=r.outerHeight(e),m=r.outerWidth(e),g=void 0,v=void 0,y=void 0,b=void 0,_=void 0,E=void 0,w=void 0,x=void 0,T=void 0,S=void 0;h?(w=t,S=r.height(w),T=r.width(w),x={left:r.scrollLeft(w),top:r.scrollTop(w)},_={left:d.left-x.left-u,top:d.top-x.top-l},E={left:d.left+m-(x.left+T)+f,top:d.top+p-(x.top+S)+c},b=x):(g=r.offset(t),v=t.clientHeight,y=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},_={left:d.left-(g.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-u,top:d.top-(g.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-l},E={left:d.left+m-(g.left+y+(parseFloat(r.css(t,"borderRightWidth"))||0))+f,top:d.top+p-(g.top+v+(parseFloat(r.css(t,"borderBottomWidth"))||0))+c}),_.top<0||E.top>0?!0===a?r.scrollTop(t,b.top+_.top):!1===a?r.scrollTop(t,b.top+E.top):_.top<0?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+E.top):o||((a=void 0===a||!!a)?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+E.top)),i&&(_.left<0||E.left>0?!0===s?r.scrollLeft(t,b.left+_.left):!1===s?r.scrollLeft(t,b.left+E.left):_.left<0?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+E.left):o||((s=void 0===s||!!s)?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+E.left)))}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function o(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function a(e){return o(e)}function s(e){return o(e,!0)}function l(e){var t,n,r,i,o,l,u,c=(r=void 0,i=void 0,o=(t=e).ownerDocument,l=o.body,u=o&&o.documentElement,r=(n=t.getBoundingClientRect()).left,i=n.top,{left:r-=u.clientLeft||l.clientLeft||0,top:i-=u.clientTop||l.clientTop||0}),f=e.ownerDocument,h=f.defaultView||f.parentWindow;return c.left+=a(h),c.top+=s(h),c}var u=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),c=/^(top|right|bottom|left)$/,f="left",h=void 0;function d(e,t){for(var n=0;n<e.length;n++)t(e[n])}function p(e){return"border-box"===h(e,"boxSizing")}"undefined"!=typeof window&&(h=window.getComputedStyle?function(e,t,n){var r="",i=e.ownerDocument,o=n||i.defaultView.getComputedStyle(e,null);return o&&(r=o.getPropertyValue(t)||o[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(u.test(n)&&!c.test(t)){var r=e.style,i=r[f],o=e.runtimeStyle[f];e.runtimeStyle[f]=e.currentStyle[f],r[f]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[f]=i,e.runtimeStyle[f]=o}return""===n?"auto":n});var m=["margin","border","padding"];function g(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}function v(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(h(e,s))||0}return r}function y(e){return null!=e&&e==e.window}var b={};function _(e,t,n){if(y(e))return"width"===t?b.viewportWidth(e):b.viewportHeight(e);if(9===e.nodeType)return"width"===t?b.docWidth(e):b.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=(h(e),p(e)),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=h(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=o?1:-1);var s=void 0!==i||o,l=i||a;if(-1===n)return s?l-v(e,["border","padding"],r):a;if(s){var u=2===n?-v(e,["border"],r):v(e,["margin"],r);return l+(1===n?0:u)}return a+v(e,m.slice(n),r)}d(["Width","Height"],(function(e){b["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],b["viewport"+e](n))},b["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var E={position:"absolute",visibility:"hidden",display:"block"};function w(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=_.apply(void 0,n):g(e,E,(function(){t=_.apply(void 0,n)})),t}function x(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":i(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):h(e,t);for(var o in t)t.hasOwnProperty(o)&&x(e,o,t[o])}d(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);b["outer"+t]=function(t,n){return t&&w(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];b[e]=function(t,r){return void 0===r?t&&w(t,e,-1):t?(h(t),p(t)&&(r+=v(t,["padding","border"],n)),x(t,e,r)):void 0}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return l(e);!function(e,t){"static"===x(e,"position")&&(e.style.position="relative");var n=l(e),r={},i=void 0,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i=parseFloat(x(e,o))||0,r[o]=i+t[o]-n[o]);x(e,r)}(e,t)},isWindow:y,each:d,css:x,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(y(e)){if(void 0===t)return a(e);window.scrollTo(t,s(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(y(e)){if(void 0===t)return s(e);window.scrollTo(a(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},b)},function(e,t,n){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(2)),c=h(n(181)),f=h(n(262));function h(e){return e&&e.__esModule?e:{default:e}}n(684);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return l.default.createElement(f.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},l.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},l.default.createElement("input",{ref:function(t){t&&(e.input=t,t.focus(),t.select())},onClick:function(e){e.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),l.default.createElement(c.default,{onClick:function(t){e.input.select(),document.execCommand("copy")}},"Copy")))}}]),t}(l.default.Component);d.defaultProps={onDone:function(){},url:""},d.propTypes={onDone:u.default.func,url:u.default.string},t.default=d},function(e,t,n){e.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(5)),i=v(n(3)),o=v(n(4)),a=v(n(6)),s=v(n(7)),l=v(n(30)),u=v(n(1)),c=v(n(2)),f=v(n(263)),h=v(n(95)),d=v(n(686)),p=v(n(687)),m=v(n(78)),g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}n(380);var y={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}},{key:"handleConfigMenuOpened",value:function(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=u.default.createElement(f.default,{onMenuClosed:function(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},u.default.createElement(h.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},u.default.createElement(p.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(t=u.default.createElement(f.default,{onMenuClosed:function(){return e.setState({configMenuUid:null})}},u.default.createElement(d.default,{onClearView:function(){e.setState({configMenuUid:null}),e.props.onClearView()},onEditViewConfig:function(){e.setState({configMenuUid:null}),e.props.onEditViewConfig(e.state.configMenuUid)},onExportPNG:function(){e.setState({configMenuUid:null}),e.props.onExportPNG()},onExportSVG:function(){e.setState({configMenuUid:null}),e.props.onExportSVG()},onExportViewAsJSON:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()},onExportViewAsLink:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()},onLockLocation:function(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)},onLockZoom:function(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)},onLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)},onOptionsChanged:function(t){e.props.onViewOptionsChanged(t),e.setState({configMenuUid:null})},onProjectViewport:function(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)},onTakeAndLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)},onTogglePositionSearchBox:function(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)},onUnlockLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)},onUnlockZoom:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)},onUnlockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)},onYankLocation:function(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)},onYankZoom:function(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)},onYankZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)},onZoomToData:function(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,(function(t){e.setState({isFocused:t})})),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=g.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===g.THEME_DARK&&(i+=" multitrack-header-dark"),u.default.createElement("div",{ref:function(t){e.el=t},className:(0,l.default)(i,y)},u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===g.MOUSE_TOOL_SELECT&&u.default.createElement("svg",{title:"Selection tool active",className:(0,l.default)("mouse-tool-selection "+o,y)},u.default.createElement("use",{xlinkHref:"#select"})),u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),this.state.width>g.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),u.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},u.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add new view (clone this view)"),u.default.createElement("use",{xlinkHref:"#copy"})),u.default.createElement("svg",{ref:function(t){e.configImg=t},onClick:function(){return e.handleConfigMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Configure this view"),u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(t){e.plusImg=t},onClick:function(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add Track"),u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Close View"),u.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}}]),t}(u.default.Component);b.defaultProps={isGenomePositionSearchBoxVisible:!1},b.propTypes={getGenomePositionSearchBox:c.default.func.isRequired,isGenomePositionSearchBoxVisible:c.default.bool,mouseTool:c.default.string.isRequired,onAddView:c.default.func.isRequired,onClearView:c.default.func.isRequired,onCloseView:c.default.func.isRequired,onEditViewConfig:c.default.func.isRequired,onExportSVG:c.default.func.isRequired,onExportPNG:c.default.func.isRequired,onExportViewsAsJSON:c.default.func.isRequired,onExportViewsAsLink:c.default.func.isRequired,onLockLocation:c.default.func.isRequired,onLockZoom:c.default.func.isRequired,onLockZoomAndLocation:c.default.func.isRequired,onProjectViewport:c.default.func.isRequired,onTakeAndLockZoomAndLocation:c.default.func.isRequired,onTogglePositionSearchBox:c.default.func.isRequired,onTrackPositionChosen:c.default.func.isRequired,onUnlockLocation:c.default.func.isRequired,onUnlockZoom:c.default.func.isRequired,onUnlockZoomAndLocation:c.default.func.isRequired,onViewOptionsChanged:c.default.func.isRequired,onYankLocation:c.default.func.isRequired,onYankZoom:c.default.func.isRequired,onYankZoomAndLocation:c.default.func.isRequired,onZoomToData:c.default.func.isRequired,theme:c.default.symbol.isRequired,viewUid:c.default.string.isRequired},t.default=(0,m.default)(b)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(18)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(7)),c=v(n(30)),f=v(n(1)),h=v(n(2)),d=v(n(95)),p=v(n(67)),m=v(n(374));n(68);var g=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={submenuShown:!1},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getConfigureViewMenu",value:function(e,t){var n=this,o={},a={},s=function(e){if(e in(0,i.default)(g.OPTIONS_INFO)&&(o[e]={name:g.OPTIONS_INFO[e].name},g.OPTIONS_INFO[e].inlineOptions)){var t=function(t){var r=g.OPTIONS_INFO[e].inlineOptions[t];o[e].children||(o[e].children={});var i={name:r.name,value:r.value,handler:function(){a[e]=r.value,n.props.onOptionsChanged(a)}};o[e].children[t]=i};for(var r in g.OPTIONS_INFO[e].inlineOptions)t(r)}},l=!0,u=!1,c=void 0;try{for(var h,d=(0,r.default)(["backgroundColor"]);!(l=(h=d.next()).done);l=!0)s(h.value)}catch(p){u=!0,c=p}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}return f.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:o,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(t,e):f.default.createElement("div",null)}return f.default.createElement("div",null)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===g.THEME_DARK&&(t+=" context-menu-dark"),f.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,c.default)(t,y)},f.default.createElement(p.default,{onClick:function(t){return e.props.onTogglePositionSearchBox(t)}},"Toggle position search box"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onZoomToData(t)}},"Zoom to data extent"),f.default.createElement(p.default,{onClick:function(t){return e.props.onClearView(t)}},"Clear View"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoom(t)}},"Take zoom from"),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankLocation(t)}},"Take location from"),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoomAndLocation(t)}},"Take zoom and location from"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:this.props.onLockZoom},"Lock zoom with"),f.default.createElement(p.default,{onClick:this.props.onLockLocation},"Lock location with"),f.default.createElement(p.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoom(t)}},"Unlock zoom"),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockLocation(t)}},"Unlock location"),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoomAndLocation(t)}},"Unlock zoom and location"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onProjectViewport(t)}},"Show this viewport on"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onEditViewConfig(t)}},"Edit view config"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(){return e.props.onExportSVG()}},"Export views as SVG"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportPNG()}},"Export views as PNG"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsJSON()}},"Export views as JSON"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsLink()}},"Export views as Link"),this.getSubmenu())}}]),t}(d.default);b.propTypes={onEditViewConfig:h.default.func.isRequired,onExportSVG:h.default.func,onExportPNG:h.default.func,onExportViewAsJSON:h.default.func,onExportViewAsLink:h.default.func,onLockLocation:h.default.func,onLockZoom:h.default.func,onLockZoomAndLocation:h.default.func,onProjectViewport:h.default.func,onTakeAndLockZoomAndLocation:h.default.func,onTogglePositionSearchBox:h.default.func,onUnlockLocation:h.default.func,onUnlockZoom:h.default.func,onUnlockZoomAndLocation:h.default.func,onYankLocation:h.default.func,onYankZoom:h.default.func,onYankZoomAndLocation:h.default.func,onZoomToData:h.default.func,theme:h.default.symbol},t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(30)),i=l(n(2)),o=l(n(1)),a=l(n(78)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(688);var u={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function c(e){var t="add-track-position-table";return e.theme===s.THEME_DARK&&(t+=" add-track-position-table-dark"),o.default.createElement("div",null,o.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),o.default.createElement("table",{className:(0,r.default)(t,u)},o.default.createElement("tbody",null,o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("top")},className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),o.default.createElement("tr",{style:{height:"80px"}},o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("left")},className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("center")},className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("right")},className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("bottom")},className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}c.propTypes={onTrackPositionChosen:i.default.func.isRequired,theme:i.default.symbol.isRequired},t.default=(0,a.default)(c)},function(e,t,n){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(35)),i=x(n(245)),o=x(n(246)),a=x(n(5)),s=x(n(3)),l=x(n(4)),u=x(n(6)),c=x(n(7)),f=x(n(30)),h=x(n(2)),d=x(n(1)),p=x(n(690)),m=n(691);n(692);var g=x(n(381)),v=x(n(268)),y=x(n(181)),b=x(n(262)),_=x(n(141)),E=x(n(69)),w=n(10);function x(e){return e&&e.__esModule?e:{default:e}}n(725);var T={"../styles/ViewConfigEditor.module.scss":{"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},S=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={code:e.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(e.viewConfig)},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.toggleLogBound=n.toggleLog.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}var n;return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:(n=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editor){e.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),e.next=5,(0,w.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"handleChange",value:function(e){var t=this.getLogMsgs(e);this.setState({code:e,logMsgs:t})}},{key:"handleKeyDown",value:function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code)),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(e){this.setState({hide:!1}),"Escape"===e.key&&(e.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(e){var t=[],n=void 0;try{n=JSON.parse(e)}catch(o){return console.warn(o),t.push({type:"Error",msg:o.toString()}),t}var i=(new g.default).compile(v.default);return i(n)||(console.warn("Invalid viewconf"),t.push({type:"Warning",msg:"Invalid viewconf"})),i.errors&&(console.warn((0,r.default)(i.errors,null,2)),i.errors.forEach((function(e){t.push({type:"Warning",msg:(0,r.default)(e,null,2)})}))),0===t.length&&t.push({type:"Success",msg:"No error or warnings"}),t}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){var e=this,t=this.state.logMsgs.map((function(e,t){var n=String(t)+"-"+String(e.msg);return d.default.createElement("tr",{key:n},d.default.createElement("td",{className:(0,f.default)("title "+String(e.type),T)},"["+String(t)+"] "+String(e.type)),d.default.createElement("td",null,d.default.createElement("pre",null,e.msg)))}));return d.default.createElement(b.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},d.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},d.default.createElement(y.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),d.default.createElement(y.default,{onClick:function(){e.props.onChange(e.state.code)},shortcut:"+S"},"Save")),d.default.createElement("div",{ref:function(t){e.editorWrap=t},className:"ViewConfigEditor-module_view-config-editor-2HAFN"},d.default.createElement(p.default,{ref:function(t){e.editor=t},highlight:function(e){return(0,m.highlight)(e,m.languages.json)},onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),d.default.createElement("div",{style:{height:this.state.showLog?"50%":"30px"},className:"ViewConfigEditor-module_view-config-log-1mYmL"},d.default.createElement("div",{onClick:function(){return e.toggleLogBound()},className:"ViewConfigEditor-module_view-config-log-header-3EbEM"},"Log Messages ("+String(this.state.logMsgs.filter((function(e){return"Success"!==e.type})).length)+")"),d.default.createElement("div",{style:{padding:this.state.showLog?"10px":0},className:"ViewConfigEditor-module_view-config-log-msg-2-CJZ"},d.default.createElement("table",null,d.default.createElement("tbody",null,t)))))}}]),t}(d.default.Component);S.propTypes={modal:h.default.object.isRequired,onCancel:h.default.func.isRequired,onChange:h.default.func.isRequired,onSave:h.default.func.isRequired,pubSub:h.default.object.isRequired,viewConfig:h.default.object.isRequired},t.default=(0,E.default)((0,_.default)(S))},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l="navigator"in e&&/Win/i.test(navigator.platform),u="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),c=function(e){function t(){var e,n,i;a(this,t);for(var o=arguments.length,c=Array(o),f=0;f<o;f++)c[f]=arguments[f];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={capture:!0},i._recordCurrentState=function(){var e=i._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;i._recordChange({value:t,selectionStart:n,selectionEnd:r})}},i._getLines=function(e,t){return e.substring(0,t).split("\n")},i._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>100){var l=s-100;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var u=Date.now();if(t){var c=i._history.stack[i._history.offset];if(c&&u-c.timestamp<3e3){var f=/[^a-z0-9]([a-z0-9]+)$/i,h=i._getLines(c.value,c.selectionStart).pop().match(f),d=i._getLines(e.value,e.selectionStart).pop().match(f);if(h&&d&&d[1].startsWith(h[1]))return void(i._history.stack[i._history.offset]=r({},e,{timestamp:u}))}}i._history.stack.push(r({},e,{timestamp:u})),i._history.offset++},i._updateInput=function(e){var t=i._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,i.props.onValueChange(e.value))},i._applyEdits=function(e){var t=i._input,n=i._history.stack[i._history.offset];n&&t&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),i._recordChange(e),i._updateInput(e)},i._undoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,t.length-1))},i._handleKeyDown=function(e){var t=i.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){var s=e.target,c=s.value,f=s.selectionStart,h=s.selectionEnd,d=(r?" ":"\t").repeat(n);if(9===e.keyCode&&!o&&i.state.capture)if(e.preventDefault(),e.shiftKey){var p=i._getLines(c,f),m=p.length-1,g=i._getLines(c,h).length-1,v=c.split("\n").map((function(e,t){return t>=m&&t<=g&&e.startsWith(d)?e.substring(d.length):e})).join("\n");if(c!==v){var y=p[m];i._applyEdits({value:v,selectionStart:y.startsWith(d)?f-d.length:f,selectionEnd:h-(c.length-v.length)})}}else if(f!==h){var b=i._getLines(c,f),_=b.length-1,E=i._getLines(c,h).length-1,w=b[_];i._applyEdits({value:c.split("\n").map((function(e,t){return t>=_&&t<=E?d+e:e})).join("\n"),selectionStart:/\S/.test(w)?f+d.length:f,selectionEnd:h+d.length*(E-_+1)})}else{var x=f+d.length;i._applyEdits({value:c.substring(0,f)+d+c.substring(h),selectionStart:x,selectionEnd:x})}else if(8===e.keyCode){var T=f!==h;if(c.substring(0,f).endsWith(d)&&!T){e.preventDefault();var S=f-d.length;i._applyEdits({value:c.substring(0,f-d.length)+c.substring(h),selectionStart:S,selectionEnd:S})}}else if(13===e.keyCode){if(f===h){var k=i._getLines(c,f).pop().match(/^\s+/);if(k&&k[0]){e.preventDefault();var O="\n"+k[0],A=f+O.length;i._applyEdits({value:c.substring(0,f)+O+c.substring(h),selectionStart:A,selectionEnd:A})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var C=void 0;57===e.keyCode&&e.shiftKey?C=["(",")"]:219===e.keyCode?C=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?C=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(C=["`","`"]),f!==h&&C&&(e.preventDefault(),i._applyEdits({value:c.substring(0,f)+C[0]+c.substring(f,h)+C[1]+c.substring(h),selectionStart:f,selectionEnd:h+2}))}else!(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(u?e.metaKey&&90===e.keyCode&&e.shiftKey:l?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),i._redoEdit()):77!==e.keyCode||!e.ctrlKey||u&&!e.shiftKey||(e.preventDefault(),i.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),i._undoEdit())}},i._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.style,a=t.padding,s=t.highlight,l=t.textareaId,u=t.autoFocus,c=t.disabled,h=t.form,d=t.maxLength,p=t.minLength,m=t.name,g=t.placeholder,v=t.readOnly,y=t.required,b=t.onClick,_=t.onFocus,E=t.onBlur,w=t.onKeyUp,x=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),T={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},S=s(n);return o.createElement("div",r({},x,{style:r({},f.container,i)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},f.editor,f.textarea,T),className:"npm__react-simple-code-editor__textarea",id:l,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:b,onKeyUp:w,onFocus:_,onBlur:E,disabled:c,form:h,maxLength:d,minLength:p,name:m,placeholder:g,readOnly:v,required:y,autoFocus:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},f.editor,f.highlight,T)},"string"==typeof S?{dangerouslySetInnerHTML:{__html:S+"<br />"}}:{children:S})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);c.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=c;var f={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(26))},function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o,a=r.util.type(t);switch(n=n||{},a){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"!==u||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=i.elements||e.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){for(var a,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a));var u={element:n,language:a,grammar:s,code:n.textContent},c=function(e){u.highlightedCode=e,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){c(e.data)},f.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(e,t,n,o,a,s,l){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==l)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var f=0;f<c.length;++f){var h=c[f],d=h.inside,p=!!h.lookbehind,m=!!h.greedy,g=0,v=h.alias;if(m&&!h.pattern.global){var y=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,y+"g")}h=h.pattern||h;for(var b=o,_=a;b<t.length;_+=t[b].length,++b){var E=t[b];if(t.length>e.length)return;if(!(E instanceof i)){if(m&&b!=t.length-1){if(h.lastIndex=_,!(O=h.exec(e)))break;for(var w=O.index+(p?O[1].length:0),x=O.index+O[0].length,T=b,S=_,k=t.length;T<k&&(S<x||!t[T].type&&!t[T-1].greedy);++T)w>=(S+=t[T].length)&&(++b,_=S);if(t[b]instanceof i)continue;A=T-b,E=e.slice(_,S),O.index-=_}else{h.lastIndex=0;var O=h.exec(E),A=1}if(O){p&&(g=O[1]?O[1].length:0),x=(w=O.index+g)+(O=O[0].slice(g)).length;var C=E.slice(0,w),P=E.slice(x),M=[b,A];C&&(++b,_+=C.length,M.push(C));var R=new i(u,d?r.tokenize(O,d):O,v,O,m);if(M.push(R),P&&M.push(P),Array.prototype.splice.apply(t,M),1!=A&&r.matchGrammar(e,t,n,b,_,!0,u),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(e.Prism=r,i.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return i.stringify(n,t,e)})).join("");var o={type:e.type,content:i.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var a=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(e){return e+'="'+(o.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,a=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),a&&e.close()}),!1),r):r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),void 0!==t&&(t.Prism=n)}).call(this,n(26))},function(e,t){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(e,t,n){var r=n(265),i=n(116),o=n(267),a=n(383),s=n(384),l=i.ucs2length,u=n(266),c=o.Validation;function f(e,t,n){var r=d.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function h(e,t,n){var r=d.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function d(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,d,b){var _=this,E=this._opts,w=[void 0],x={},T=[],S={},k=[],O={},A=[];n=n||{schema:t,refVal:w,refs:x};var C=f.call(this,t,n,b),P=this._compilations[C.index];if(C.compiling)return P.callValidate=function e(){var t=P.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var M=this._formats,R=this.RULES;try{var I=N(t,n,d,b);P.validate=I;var D=P.callValidate;return D&&(D.schema=I.schema,D.errors=null,D.refs=I.refs,D.refVal=I.refVal,D.root=I.root,D.$async=I.$async,E.sourceCode&&(D.source=I.source)),I}finally{h.call(this,t,n,b)}function N(t,a,f,h){var d=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(_,t,a,f,h);var b,S=!0===t.$async,O=s({isTop:!0,schema:t,isRoot:d,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:R,validate:s,util:i,resolve:r,resolveRef:L,usePattern:B,useDefault:U,useCustomRule:z,opts:E,formats:M,logger:_.logger,self:_});O=y(w,g)+y(T,p)+y(k,m)+y(A,v)+O,E.processCode&&(O=E.processCode(O));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O)(_,R,M,n,w,k,A,u,l,c),w[0]=b}catch(C){throw _.logger.error("Error compiling schema, function code:",O),C}return b.schema=t,b.errors=null,b.refs=x,b.refVal=w,b.root=d?b:a,S&&(b.$async=!0),!0===E.sourceCode&&(b.source={code:O,patterns:T,defaults:k}),b}function L(t,i,o){i=r.url(t,i);var a,s,l=x[i];if(void 0!==l)return j(a=w[l],s="refVal["+l+"]");if(!o&&n.refs){var u=n.refs[i];if(void 0!==u)return j(a=n.refVal[u],s=F(i,a))}s=F(i);var c,f,h=r.call(_,N,n,i);if(void 0===h){var p=d&&d[i];p&&(h=r.inlineRef(p,E.inlineRefs)?p:e.call(_,p,n,d,t))}if(void 0!==h)return c=h,f=x[i],w[f]=c,j(h,s);!function(e){delete x[e]}(i)}function F(e,t){var n=w.length;return w[n]=t,x[e]=n,"refVal"+n}function j(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=S[e];return void 0===t&&(t=S[e]=T.length,T[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=O[t];return void 0===n&&(n=O[t]=k.length,k[n]=e),"default"+n}}function z(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(_,t,n,r);else if(c)s=c.call(_,t,n,r),!1!==E.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=A.length;return A[f]=s,{code:"customRule"+f,validate:s}}}},function(e,t,n){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),n(n(i+"|"+t(l,o,"[\\:]"))+"*");var u=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]"),c=n(u+"\\."+u+"\\."+u+"\\."+u),f=n(r+"{1,4}"),h=n(n(f+"\\:"+f)+"|"+c),d=n(n(f+"\\:")+"{6}"+h),p=n("\\:\\:"+n(f+"\\:")+"{5}"+h),m=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+h),g=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+h),v=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+h),y=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+h),b=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+h),_=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),E=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),w=n([d,p,m,g,v,y,b,_,E].join("|")),x=n(n(l+"|"+i)+"+");n("[vV]"+r+"+\\."+t(l,o,"[\\:]")+"+"),n(n(i+"|"+t(l,o))+"*");var T=n(i+"|"+t(l,o,"[\\:\\@]"));return n(n(i+"|"+t(l,o,"[\\@]"))+"+"),n(n(T+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+x+")")+"?\\]?$")}}var a=o(!1),s=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,f=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(d[e])}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(h,".")).split("."),t).join(".")}var y=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))},_=function(e){return v(e,(function(e){return f.test(e)?"xn--"+function(t){var n=[],r=(t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(t)).length,i=128,o=0,a=72,s=!0,l=!1,c=void 0;try{for(var f,h=t[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;d<128&&n.push(m(d))}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var v=n.length,_=v;for(v&&n.push("-");_<r;){var E=u,w=!0,x=!1,T=void 0;try{for(var S,k=t[Symbol.iterator]();!(w=(S=k.next()).done);w=!0){var O=S.value;O>=i&&O<E&&(E=O)}}catch(e){x=!0,T=e}finally{try{!w&&k.return&&k.return()}finally{if(x)throw T}}var A=_+1;E-i>p((u-o)/A)&&g("overflow"),o+=(E-i)*A,i=E;var C=!0,P=!1,M=void 0;try{for(var R,I=t[Symbol.iterator]();!(C=(R=I.next()).done);C=!0){var D=R.value;if(D<i&&++o>u&&g("overflow"),D==i){for(var N=o,L=36;;L+=36){var F=L<=a?1:L>=a+26?26:L-a;if(N<F)break;var j=N-F,B=36-F;n.push(m(y(F+j%B,0))),N=p(j/B)}n.push(m(y(N,0))),a=b(o,A,_==v),o=0,++_}}}catch(e){P=!0,M=e}finally{try{!C&&I.return&&I.return()}finally{if(P)throw M}}++o,++i}return n.join("")}(e):e}))},E=function(e){return v(e,(function(e){return c.test(e)?function(e){var t,n=[],r=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&g("not-basic"),n.push(e.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var f=i,h=1,d=36;;d+=36){c>=r&&g("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>p((u-i)/h))&&g("overflow"),i+=m*h;var v=d<=a?1:d>=a+26?26:d-a;if(m<v)break;var y=36-v;h>p(u/y)&&g("overflow"),h*=y}var _=n.length+1;a=b(i-f,_,0==f),p(i/_)>u-o&&g("overflow"),o+=p(i/_),i%=_,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)}(e.slice(4).toLowerCase()):e}))},w={};function x(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function T(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function S(e,t){function n(e){var n=T(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,i)),e}function k(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(k).join("."):e}function A(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=l(a,2),u=s[0],c=s[1],f=c?c.split(":").map(k):[],h=u.split(":").map(k),d=t.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,m=h.length-p,g=Array(p),v=0;v<p;++v)g[v]=f[v]||h[m+v]||"";d&&(g[p-1]=O(g[p-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=g.slice(0,y.index),E=g.slice(y.index+y.length);b=_.join(":")+"::"+E.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,P=void 0==="".match(/(){0}/)[1];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(C);if(i){P?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=A(O(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=w[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)S(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=_(n.host.replace(r.PCT_ENCODED,T).toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+l}S(n,a)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function R(e,t){var n=!1!==t.iri?s:a,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(A(O(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var I=/^\.\.?\//,D=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function F(e){for(var t=[];e.length;)if(e.match(I))e=e.replace(I,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(N))e=e.replace(N,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(L);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,r=[],i=w[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E(e.host):_(e.host.replace(n.PCT_ENCODED,T).toLowerCase())}catch(u){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+u}S(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=R(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=F(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=M(j(e,n),n),t=M(j(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=F(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=F(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,T)}var z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},G={},V="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",$="[0-9A-Fa-f]",X=n(n("%[EFef]"+$+"%"+$+$+"%"+$+$)+"|"+n("%[89A-Fa-f]"+$+"%"+$+$)+"|"+n("%"+$+$)),W=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(V,"g"),q=new RegExp(X,"g"),K=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',W),"g"),Z=new RegExp(t("[^]",V,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Q=Z;function J(e){var t=T(e);return t.match(Y)?t:e}var ee={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),f=0,h=c.length;f<h;++f)r.push(c[f]);break;case"subject":n.subject=U(u[1],t);break;case"body":n.body=U(u[1],t);break;default:i=!0,o[U(u[0],t)]=U(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=U(m[0]),t.unicodeSupport)m[1]=U(m[1],t).toLowerCase();else try{m[1]=_(U(m[1],t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[d]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var l=String(o[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(q,J).replace(q,i).replace(K,x),f=l.slice(u+1);try{f=t.iri?E(f):_(U(f,t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}o[a]=c+"@"+f}r.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var p in h)h[p]!==G[p]&&d.push(p.replace(q,J).replace(q,i).replace(Z,x)+"="+h[p].replace(q,J).replace(q,i).replace(Q,x));return d.length&&(r.query=d.join("&")),r}},te=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(te),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=w[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=w[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},re=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ie={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(re)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};w[z.scheme]=z,w[H.scheme]=H,w[ee.scheme]=ee,w[ne.scheme]=ne,w[ie.scheme]=ie,e.SCHEMES=w,e.pctEncChar=x,e.pctDecChars=T,e.parse=M,e.removeDotSegments=F,e.serialize=j,e.resolveComponents=B,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return j(B(M(e,r),M(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=j(M(e,t),t):"object"===r(e)&&(e=M(j(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=j(M(e,n),n):"object"===r(e)&&(e=j(e,n)),"string"==typeof t?t=j(M(t,n),n):"object"===r(t)&&(t=j(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,x)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,o,a,s,l,u,c,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,a,s,l,u,c,f),o){var d=o[h];if(Array.isArray(d)){if(h in r.arrayKeywords)for(var p=0;p<d.length;p++)e(t,n,i,d[p],a+"/"+h+"/"+p,s,a,h,o,p)}else if(h in r.propsKeywords){if(d&&"object"==typeof d)for(var m in d)e(t,n,i,d[m],a+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,o,m)}else(h in r.keywords||t.allKeys&&!(h in r.skipKeywords))&&e(t,n,i,d,a+"/"+h,s,a,h,o)}i(o,a,s,l,u,c,f)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){var r=n(116),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function g(e){var t=e.match(i);if(!t)return!1;var n,r=+t[1],a=+t[2],s=+t[3];return a>=1&&a<=12&&s>=1&&s<=(2!=a||(n=r)%4!=0||n%100==0&&n%400!=0?o[a]:29)}function v(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&s.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var y=/t|\s/i,b=/\/|:/,_=/[^\\]\\Z/;function E(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,n){var r=n(700),i=n(116).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){e.exports={$ref:n(701),allOf:n(702),anyOf:n(703),$comment:n(704),const:n(705),contains:n(706),dependencies:n(707),enum:n(708),format:n(709),if:n(710),items:n(711),maximum:n(385),minimum:n(385),maxItems:n(386),minItems:n(386),maxLength:n(387),minLength:n(387),maxProperties:n(388),minProperties:n(388),multipleOf:n(712),not:n(713),oneOf:n(714),pattern:n(715),properties:n(716),propertyNames:n(717),required:n(718),uniqueItems:n(719),validate:n(384)}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),h="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(d.inline){var g=e.util.copy(e);g.level++;var v="valid"+g.level;g.schema=d.schema,g.schemaPath="",g.errSchemaPath=l,o+=" "+e.validate(g).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+v+") { ")}else r=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,f=l.baseId,h=!0,d=i;if(d)for(var p,m=-1,g=d.length-1;m<g;)p=d[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(h=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=f,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=h?" if (true) { ":" "+u.slice(0,-1)+" "),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(a.every((function(t){return e.util.schemaHasRules(t,e.RULES.all)}))){var g=d.baseId;r+=" var "+h+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=a;if(y)for(var b,_=-1,E=y.length-1;_<E;)b=y[_+=1],d.schema=b,d.schemaPath=s+"["+_+"]",d.errSchemaPath=l+"/"+_,r+="  "+e.validate(d)+" ",d.baseId=g,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",p+="}";e.compositeRule=d.compositeRule=v,r+=" "+p+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+c+", schema"+i+"); if (!"+f+") {   ";var d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m="i"+i,g=d.dataLevel=e.dataLevel+1,v="data"+g,y=e.baseId,b=e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+h+" = errors;var "+f+";",b){var _=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var E=c+"["+m+"]";d.dataPathArr[g]=m;var w=e.validate(d);d.baseId=y,e.util.varOccurences(w,v)<2?r+=" "+e.util.varReplace(w,v,E)+" ":r+=" var "+v+" = "+E+"; "+w+" ",r+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=_,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;return r=x.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m={},g={},v=e.opts.ownProperties;for(E in a){var y=a[E],b=Array.isArray(y)?g:m;b[E]=y}r+="var "+f+" = errors;";var _=e.errorPath;for(var E in r+="var missing"+i+";",g)if((b=g[E]).length){if(r+=" if ( "+c+e.util.getProperty(E)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),u){r+=" && ( ";var w=b;if(w)for(var x=-1,T=w.length-1;x<T;)P=w[x+=1],x&&(r+=" || "),r+=" ( ( "+(D=c+(I=e.util.getProperty(P)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:I)+") ) ";r+=")) {  ";var S="missing"+i,k="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,S,!0):_+" + "+S);var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=O.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var C=b;if(C)for(var P,M=-1,R=C.length-1;M<R;){P=C[M+=1];var I=e.util.getProperty(P),D=(k=e.util.escapeQuotes(P),c+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(d+="}",r+=" else { ")}e.errorPath=_;var N=h.baseId;for(var E in m)y=m[E],e.util.schemaHasRules(y,e.RULES.all)&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(E)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),r+=") { ",h.schema=y,h.schemaPath=s+e.util.getProperty(E),h.errSchemaPath=l+"/"+e.util.escapeFragment(E),r+="  "+e.validate(h)+" ",h.baseId=N,r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"));return u&&(r+="   "+d+" if ("+f+" == errors) {"),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="i"+i,p="schema"+i;h||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+f+";",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+f+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+f+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var f,h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var d=e.opts.unknownFormats,p=Array.isArray(d);if(h)r+=" var "+(m="format"+i)+" = formats["+f+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",h&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+f+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==d)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=n)return u&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=h?""+f:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+f+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==g&&e.util.schemaHasRules(g,e.RULES.all),b=d.baseId;if(v||y){var _;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors; var "+f+" = true;  ";var E=e.compositeRule;e.compositeRule=d.compositeRule=!0,r+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=E,v?(r+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g="i"+i,v=d.dataLevel=e.dataLevel+1,y="data"+v,b=e.baseId;if(r+="var "+h+" = errors;var "+f+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){r+=" "+f+" = "+c+".length <= "+a.length+"; ";var E=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=E,u&&(p+="}",r+=" else { ")}var T=a;if(T)for(var S,k=-1,O=T.length-1;k<O;)if(S=T[k+=1],e.util.schemaHasRules(S,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+k+") { ";var A=c+"["+k+"]";d.schema=S,d.schemaPath=s+"["+k+"]",d.errSchemaPath=l+"/"+k,d.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),d.dataPathArr[v]=k;var C=e.validate(d);d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)&&(d.schema=_,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+c+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=c+"["+g+"]",d.dataPathArr[v]=g,C=e.validate(d),d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}"))}else e.util.schemaHasRules(a,e.RULES.all)&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=c+"["+g+"]",d.dataPathArr[v]=g,C=e.validate(d),d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",u&&(r+=" if (!"+m+") break; "),r+=" }");return u&&(r+=" "+p+" if ("+h+" == errors) {"),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+f+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(p=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+e.validate(h)+" ",h.createErrors=!0,p&&(h.opts.allErrors=p),e.compositeRule=h.compositeRule=m,r+=" if ("+d+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g=d.baseId,v="prevValid"+i,y="passingSchemas"+i;r+="var "+h+" = errors , "+v+" = false , "+f+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var _=a;if(_)for(var E,w=-1,x=_.length-1;w<x;)E=_[w+=1],e.util.schemaHasRules(E,e.RULES.all)?(d.schema=E,d.schemaPath=s+"["+w+"]",d.errSchemaPath=l+"/"+w,r+="  "+e.validate(d)+" ",d.baseId=g):r+=" var "+m+" = true; ",w&&(r+=" if ("+m+" && "+v+") { "+f+" = false; "+y+" = ["+y+", "+w+"]; } else { ",p+="}"),r+=" if ("+m+") { "+f+" = "+v+" = true; "+y+" = "+w+"; }";return e.compositeRule=d.compositeRule=b,r+=p+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":e.usePattern(s))+".test("+f+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=h?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m="key"+i,g="idx"+i,v=h.dataLevel=e.dataLevel+1,y="data"+v,b="dataProperties"+i,_=Object.keys(a||{}),E=e.schema.patternProperties||{},w=Object.keys(E),x=e.schema.additionalProperties,T=_.length||w.length,S=!1===x,k="object"==typeof x&&Object.keys(x).length,O=e.opts.removeAdditional,A=S||k||O,C=e.opts.ownProperties,P=e.baseId,M=e.schema.required;if(M&&(!e.opts.$data||!M.$data)&&M.length<e.opts.loopRequired)var R=e.util.toHash(M);if(r+="var "+f+" = errors;var "+p+" = true;",C&&(r+=" var "+b+" = undefined;"),A){if(r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var I=_;if(I)for(var D=-1,N=I.length-1;D<N;)Y=I[D+=1],r+=" || "+m+" == "+e.util.toQuotedString(Y)+" "}if(w.length){var L=w;if(L)for(var F=-1,j=L.length-1;F<j;)ie=L[F+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==O)r+=" delete "+c+"["+m+"]; ";else{var B=e.errorPath,U="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(O)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+U+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var H=r;r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(k)if("failing"==O){r+=" var "+f+" = errors;  ";var G=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=c+"["+m+"]";h.dataPathArr[v]=m;var $=e.validate(h);h.baseId=P,e.util.varOccurences($,y)<2?r+=" "+e.util.varReplace($,y,V)+" ":r+=" var "+y+" = "+V+"; "+$+" ",r+=" if (!"+p+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=h.compositeRule=G}else h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),V=c+"["+m+"]",h.dataPathArr[v]=m,$=e.validate(h),h.baseId=P,e.util.varOccurences($,y)<2?r+=" "+e.util.varReplace($,y,V)+" ":r+=" var "+y+" = "+V+"; "+$+" ",u&&(r+=" if (!"+p+") break; ");e.errorPath=B}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(_.length){var W=_;if(W)for(var Y,q=-1,K=W.length-1;q<K;){var Z=a[Y=W[q+=1]];if(e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(Y),J=(V=c+Q,X&&void 0!==Z.default);if(h.schema=Z,h.schemaPath=s+Q,h.errSchemaPath=l+"/"+e.util.escapeFragment(Y),h.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(Y),$=e.validate(h),h.baseId=P,e.util.varOccurences($,y)<2){$=e.util.varReplace($,y,V);var ee=V}else ee=y,r+=" var "+y+" = "+V+"; ";if(J)r+=" "+$+" ";else{if(R&&R[Y]){r+=" if ( "+ee+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Y)+"') "),r+=") { "+p+" = false; ",B=e.errorPath,z=l;var te,ne=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,Y,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",H=r,r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=B,r+=" } else { "}else u?(r+=" if ( "+ee+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Y)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Y)+"') "),r+=" ) { ");r+=" "+$+" } "}}u&&(r+=" if ("+p+") { ",d+="}")}}if(w.length){var re=w;if(re)for(var ie,oe=-1,ae=re.length-1;oe<ae;)Z=E[ie=re[oe+=1]],e.util.schemaHasRules(Z,e.RULES.all)&&(h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),V=c+"["+m+"]",h.dataPathArr[v]=m,$=e.validate(h),h.baseId=P,e.util.varOccurences($,y)<2?r+=" "+e.util.varReplace($,y,V)+" ":r+=" var "+y+" = "+V+"; "+$+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"))}return u&&(r+=" "+d+" if ("+f+" == errors) {"),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(r+="var "+f+" = errors;",e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=l;var p="key"+i,m="idx"+i,g="i"+i,v="' + "+p+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,E=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=p,x=e.compositeRule;e.compositeRule=h.compositeRule=!0;var T=e.validate(h);h.baseId=E,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,w)+" ":r+=" var "+y+" = "+w+"; "+T+" ",e.compositeRule=h.compositeRule=x,r+=" if (!"+d+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+f+" == errors) {"),e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="schema"+i;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var g,v=-1,y=m.length-1;v<y;){g=m[v+=1];var b=e.schema.properties[g];b&&e.util.schemaHasRules(b,e.RULES.all)||(p[p.length]=g)}}else p=a;if(h||p.length){var _=e.errorPath,E=h||p.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",E){h||(r+=" var "+d+" = validate.schema"+s+"; ");var x="' + "+(C="schema"+i+"["+(O="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),r+=" var "+f+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { "+f+" = "+c+"["+d+"["+O+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+O+"]) "),r+="; if (!"+f+") break; } ",h&&(r+="  }  "),r+="  if (!"+f+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,k=p;if(k)for(var O=-1,A=k.length-1;O<A;)M=k[O+=1],O&&(r+=" || "),r+=" ( ( "+(N=c+(D=e.util.getProperty(M)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:D)+") ) ";r+=") {  ",x="' + "+(C="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,C,!0):_+" + "+C),(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",T=r,r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(E){var C;h||(r+=" var "+d+" = validate.schema"+s+"; "),x="' + "+(C="schema"+i+"["+(O="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),h&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { if ("+c+"["+d+"["+O+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+O+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var P=p;if(P)for(var M,R=-1,I=P.length-1;R<I;){M=P[R+=1];var D=e.util.getProperty(M),N=(x=e.util.escapeQuotes(M),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+N+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(r+=" if (true) {");return r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h="valid"+o,d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var g="checkDataType"+(m?"s":"");i+=" if ("+e.util[g](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+h+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=v.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){var r=n(267).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(i){if(i instanceof r)return function(r){var i=r.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(l,l),a.then((function(e){if(!u(i))return s(e).then((function(){u(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function l(){delete o._loadingSchemas[i]}function u(e){return o._refs[e]||o._schemas[e]}}(i);throw i}}(e)}));return i&&a.then((function(e){i(null,e)}),i),a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(723),o=n(389);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}};var a={definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(s||""),d="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var g,v,y,b,_,E="definition"+a,w=this.definition,x="";if(m&&w.$data){_="keywordValidate"+a;var T=w.validateSchema;o+=" var "+E+" = RULES.custom['"+t+"'].definition; var "+_+" = "+E+".validate;"}else{if(!(b=e.useCustomRule(this,l,e.schema,e)))return;i="validate.schema"+u,_=b.code,g=w.compile,v=w.inline,y=w.macro}var S=_+".errors",k="i"+a,O="ruleErr"+a,A=w.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(o+=S+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&w.$data&&(x+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",T&&(x+="}",o+=" "+d+" = "+E+".validateSchema("+i+"); if ("+d+") { ")),v)w.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(y){var C=e.util.copy(e);x="",C.level++;var P="valid"+C.level;C.schema=b.validate,C.schemaPath="";var M=e.compositeRule;e.compositeRule=C.compositeRule=!0;var R=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=M,o+=" "+R}else{(L=L||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===w.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var I=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+I+" , "+D+" , rootData )  ";o=L.pop(),!1===w.errors?(o+=" "+d+" = ",A&&(o+="await "),o+=N+"; "):o+=A?" var "+(S="customErrors"+a)+" = null; try { "+d+" = await "+N+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+d+" = "+N+"; "}if(w.modifying&&(o+=" if ("+I+") "+h+" = "+I+"["+D+"];"),o+=""+x,w.valid)f&&(o+=" if (true) { ");else{var L;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+P:""+d):o+=" "+!w.valid+" ",o+=") { ",r=this.keyword,(L=L||[]).push(o),o="",(L=L||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var F=o;o=L.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=o;o=L.pop(),v?w.errors?"full"!=w.errors&&(o+="  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } "):!1===w.errors?o+=" "+j+" ":(o+=" if ("+p+" == errors) { "+j+" } else {  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+j+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } } else { "+j+" } "),o+=" } ",f&&(o+=" else { ")}return o}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t,n){e.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach((function(e){return i.append("path").attr("d",e).attr("fill","currentColor")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(112)),i=m(n(37)),o=m(n(35)),a=m(n(62)),s=m(n(728)),l=m(n(41)),u=m(n(132)),c=m(n(381)),f=m(n(268)),h=n(24),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=e,m=[],g=(0,u.default)(),v=function(){m.forEach((function(e){return t.unsubscribe(e)})),m=[]};return{destroy:v,publish:g.publish,stack:g.stack,public:(0,s.default)({setBroadcastMousePositionGlobally:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e)},setShowGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setShowGlobalMousePosition(e)},setGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e),n.setShowGlobalMousePosition(e)},setAuthHeader:function(e){(0,h.setTileProxyAuthHeader)(e),n.reload()},getAuthHeader:function(){return(0,h.setTileProxyAuthHeader)()},getComponent:function(){return n},reload:function(){console.warn("Not implemented yet!")},destroy:function(){v(),l.default.unmountComponentAtNode(n.topDiv.parentNode)},setRangeSelectionToInt:function(){n.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat:function(){n.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;n.setState({rangeSelection1dSize:[e,t]})},setViewConfig:function(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n.processViewConfig(e),s=new a.default((function(a){r.requestsInFlight=0,m.push(t.subscribe("requestSent",(function(){r.requestsInFlight+=1}))),m.push(t.subscribe("requestReceived",(function(){r.requestsInFlight-=1,0===r.requestsInFlight&&a()}))),n.setState({viewConfig:e,views:o},(function(){i&&a()}))}));return s},getViewConfig:function(){return n.getViewsAsJson()},validateViewConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.verbose,r=void 0!==n&&n,i=(new c.default).compile(f.default),a=i(e);return r&&i.errors&&console.warn((0,o.default)(i.errors,null,2)),a},getMinMaxValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.getMinMaxValue(e,t,r,i)},shareViewConfigAsLink:function(e){return n.handleExportViewsAsLink(e,!0)},showAvailableTrackPositions:function(e){n.setState({draggingHappening:e})},hideAvailableTrackPositions:function(){n.setState({draggingHappening:null})},showTrackChooser:function(e){n.setState({chooseTrackHandler:function(){n.setState({chooseTrackHandler:null}),e.apply(void 0,arguments)}})},hideTrackChooser:function(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits:function(e,t,r,i){n.setTrackValueScaleLimits(e,t,r,i)},setDarkTheme:function(e){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var t=e?"dark":"light";n.setTheme(t)},setTheme:function(e){console.warn("Please note that theming is still in beta!"),n.setTheme(e)},zoomTo:function(e,t,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n.zoomTo(e,t,r,i,o,a)},zoomToGene:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n.zoomToGene(e,t,r)},suggestGene:function(e,t,r){return n.suggestGene(e,t,r)},zoomToDataExtent:function(e){n.handleZoomToData(e)},resetViewport:function(e){n.resetViewport(e)},activateTool:function(e){switch(e){case"select":n.setMouseTool(p.MOUSE_TOOL_SELECT);break;default:n.setMouseTool(p.MOUSE_TOOL_MOVE)}},exportAsPngBlobPromise:function(){return n.createPNGBlobPromise()},exportAsSvg:function(){return n.createSVGString()},exportAsViewConfString:function(){return n.getViewsAsString()},getRangeSelection:function(){return n.rangeSelection},getLocation:function(e){var t=e?n.xScales[e]&&n.yScales[e]&&e:(0,i.default)(n.tiledPlots)[0]&&(0,i.default)(n.tiledPlots)[0].props.uid;return t?{xDomain:n.xScales[t].domain(),yDomain:n.yScales[t].domain(),xRange:n.xScales[t].range(),yRange:n.yScales[t].range()}:"Please provide a valid view UUID sweetheart "},getTrackObject:function(e,t){var r=e,o=t;return t||(r=(0,i.default)(n.state.views)[0].uid,o=e),(0,d.getTrackObjectFromHGC)(n,r,o)},option:function(e,t){if(void 0===t)return n.props.options[e];switch(e){case"sizeMode":n.props.options[e]=t,(r=n).setState(r.state);break;default:console.warn('This option "'+String(e)+'" is either unknown or not settable.')}var r},off:function(e,t,i){var o="object"===(void 0===t?"undefined":(0,r.default)(t))?t.callback:t;switch(e){case"click":g.unsubscribe("click",o);break;case"cursorLocation":g.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(i,t);break;case"mouseMoveZoom":g.unsubscribe("mouseMoveZoom",o);break;case"wheel":g.unsubscribe("wheel",o);break;case"rangeSelection":g.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(t);break;case"createSVG":n.offPostCreateSVG();break;case"geneSearch":g.unsubscribe("geneSearch",o)}},on:function(e,t,r,i){switch(e){case"click":return g.subscribe("click",t);case"cursorLocation":return g.subscribe("cursorLocation",t);case"location":return n.onLocationChange(r,t,i);case"mouseMoveZoom":return g.subscribe("mouseMoveZoom",t);case"wheel":return g.subscribe("wheel",t);case"rangeSelection":return g.subscribe("rangeSelection",t);case"viewConfig":return n.onViewChange(t);case"createSVG":return n.onPostCreateSVG(t);case"geneSearch":return g.subscribe("geneSearch",t);default:return}}},{version:{get:function(){return"1.11.7"},configurable:!0,enumerable:!0}})}}},function(e,t,n){e.exports={default:n(729),__esModule:!0}},function(e,t,n){n(730);var r=n(12).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperties:n(162)})},function(e,t,n){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=n(9),c=d(n(1)),f=d(n(13)),h=n(823);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),o=(0,u.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:o.r,g:o.g,b:o.b,a:o.opacity}},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){this.setState((function(e){return{displayColorPicker:!e.displayColorPicker}}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){var t=e.rgb,n="rgba("+String(t.r)+","+String(t.g)+","+String(t.b)+","+String(t.a)+")";this.props.onChange(n),this.setState({color:e.rgb})}},{key:"render",value:function(){var e=(0,f.default)({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{onClick:this.handleClick.bind(this),style:e.swatch},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{onClick:this.handleClose.bind(this),style:e.cover}),c.default.createElement(h.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),t}(c.default.Component);p.propTypes={color:l.default.string,onChange:l.default.func},t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(735)),i=s(n(269)),o=s(n(397)),a=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},function(e,t,n){var r=n(96),i=n(31),o=n(56);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(117),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(96),i=n(56);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(96),i=n(271),o=n(56),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(185),i=n(744),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(395)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(746),i=n(785),o=n(409);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(186),i=n(400);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],h=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var d=new r;if(o)var p=o(f,h,c,e,t,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(188),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(188);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(188);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(188);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(187);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(187),i=n(276),o=n(277);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(274),i=n(758),o=n(45),a=n(399),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r,i=n(759),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(40)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(762),i=n(187),o=n(276);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(763),i=n(764),o=n(765),a=n(766),s=n(767);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(189);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(189),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(189),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(189);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(190);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(190);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(190);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(190);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(186),i=n(401),o=n(778),a=n(781),s=n(191),l=n(31),u=n(184),c=n(270),f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,p,m){var g=l(e),v=l(t),y=g?"[object Array]":s(e),b=v?"[object Array]":s(t),_=(y="[object Arguments]"==y?f:y)==f,E=(b="[object Arguments]"==b?f:b)==f,w=y==b;if(w&&u(e)){if(!u(t))return!1;g=!0,_=!1}if(w&&!_)return m||(m=new r),g||c(e)?i(e,t,n,d,p,m):o(e,t,y,n,d,p,m);if(!(1&n)){var x=_&&h.call(e,"__wrapped__"),T=E&&h.call(t,"__wrapped__");if(x||T){var S=x?e.value():e,k=T?t.value():t;return m||(m=new r),p(S,k,n,d,m)}}return!!w&&(m||(m=new r),a(e,t,n,d,p,m))}},function(e,t,n){var r=n(277),i=n(775),o=n(776);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(117),i=n(403),o=n(119),a=n(401),s=n(779),l=n(780),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(d(e),d(t),r,u,f,h);return h.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(404),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var h=u[f];if(!(l?h in t:i.call(t,h)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var g=e[h=u[f]],v=t[h];if(o)var y=l?o(v,g,h,t,e,s):o(g,v,h,e,t,s);if(!(void 0===y?g===v||a(g,v,n,o,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var r=n(98)(n(40),"DataView");e.exports=r},function(e,t,n){var r=n(98)(n(40),"Promise");e.exports=r},function(e,t,n){var r=n(98)(n(40),"Set");e.exports=r},function(e,t,n){var r=n(408),i=n(118);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(400),i=n(787),o=n(410),a=n(282),s=n(408),l=n(409),u=n(145);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(281);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(789),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(790);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(277);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(792);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(117),i=n(398),o=n(31),a=n(193),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(192),i=n(183),o=n(31),a=n(142),s=n(271),l=n(145);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var h=l(t[u]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(796),i=n(797),o=n(282),a=n(145);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(281);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(146),i=n(97);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(97);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(269)),i=a(n(801)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(802);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(186),i=n(283),o=n(194),a=n(803),s=n(804),l=n(412),u=n(195),c=n(807),f=n(808),h=n(404),d=n(809),p=n(191),m=n(810),g=n(811),v=n(415),y=n(31),b=n(184),_=n(815),E=n(45),w=n(817),x=n(118),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,S,k,O,A){var C,P=1&n,M=2&n,R=4&n;if(S&&(C=O?S(t,k,O,A):S(t)),void 0!==C)return C;if(!E(t))return t;var I=y(t);if(I){if(C=m(t),!P)return u(t,C)}else{var D=p(t),N="[object Function]"==D||"[object GeneratorFunction]"==D;if(b(t))return l(t,P);if("[object Object]"==D||"[object Arguments]"==D||N&&!O){if(C=M||N?{}:v(t),!P)return M?f(t,s(C,t)):c(t,a(C,t))}else{if(!T[D])return O?t:{};C=g(t,D,P)}}A||(A=new r);var L=A.get(t);if(L)return L;A.set(t,C),w(t)?t.forEach((function(r){C.add(e(r,n,S,r,t,A))})):_(t)&&t.forEach((function(r,i){C.set(i,e(r,n,S,i,t,A))}));var F=R?M?d:h:M?keysIn:x,j=I?void 0:F(t);return i(j||t,(function(r,i){j&&(r=t[i=r]),o(C,i,e(r,n,S,i,t,A))})),C}},function(e,t,n){var r=n(99),i=n(118);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(99),i=n(120);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(45),i=n(185),o=n(806),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(99),i=n(279);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(99),i=n(413);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(405),i=n(413),o=n(120);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(285),i=n(812),o=n(813),a=n(814),s=n(414);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(285);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(117),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(816),i=n(272),o=n(273),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(191),i=n(56);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(818),i=n(272),o=n(273),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(191),i=n(56);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=(r=n(269))&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,n){var r={};(0,i.default)(e,(function(e,t){var n=a[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(1))&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,l,u;a(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return l=u=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return o.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},o.default.createElement(e,i({},u.props,u.state)))},s(u,l)}return l(r,n),r}(o.default.Component)};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(1))&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,l,u;a(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return l=u=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return o.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},o.default.createElement(e,i({},u.props,u.state)))},s(u,l)}return l(r,n),r}(o.default.Component)};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(824);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var i=n(847);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return y(i).default}});var o=n(849);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(851);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return y(a).default}});var s=n(856);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return y(s).default}});var l=n(859);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return y(l).default}});var u=n(861);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(863);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var f=n(864);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return y(f).default}});var h=n(870);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return y(h).default}});var d=n(873);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return y(d).default}});var p=n(877);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return y(p).default}});var m=n(881);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return y(m).default}});var g=n(422);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return y(g).default}});var v=y(a);function y(e){return e&&e.__esModule?e:{default:e}}t.default=v.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(22),s=l(n(846));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,u=e.onChange,c=e.direction,f=e.style,h=e.renderers,d=e.pointer,p=e.className,m=void 0===p?"":p,g=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:f}}});return i.default.createElement("div",{style:g.picker,className:"alpha-picker "+m},i.default.createElement(a.Alpha,r({},g.alpha,{rgb:t,hsl:n,pointer:d,renderers:h,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=c(o),s=c(n(13)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(826)),u=c(n(286));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(u.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i,o,a=r.clientWidth,s=r.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=l-(r.getBoundingClientRect().left+window.pageXOffset),f=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){if(i=f<0?0:f>s?1:Math.round(100*f/s)/100,n.hsl.a!==i)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:i,source:"rgb"}}else if(o=c<0?0:c>a?1:Math.round(100*c/a)/100,n.a!==o)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:o,source:"rgb"};return null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i+o),e):n.props.onChange&&n.props.onChange(i+o,e),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i-o),e):n.props.onChange&&n.props.onChange(i-o,e),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(13)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(830));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.Hue=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i,o,a=r.clientWidth,s=r.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=l-(r.getBoundingClientRect().left+window.pageXOffset),f=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){if(i=f<0?359:f>s?0:360*(-100*f/s+100)/100,n.hsl.h!==i)return{h:i,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else if(o=c<0?0:c>a?359:100*c/a*360/100,n.hsl.h!==o)return{h:o,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"};return null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=s(n(1)),i=s(n(2)),o=s(n(13)),a=s(n(46));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,n=e.radius,i=e.background,s=e.children,l=e.styles,u=void 0===l?{}:l,c=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return r.default.createElement("div",{style:c.wrap},r.default.createElement("div",{style:c.bg}),r.default.createElement("div",{style:c.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=l},function(e,t,n){var r=n(186),i=n(416),o=n(393),a=n(833),s=n(45),l=n(120),u=n(417);e.exports=function e(t,n,c,f,h){t!==n&&o(n,(function(o,l){if(h||(h=new r),s(o))a(t,n,l,c,e,f,h);else{var d=f?f(u(t,l),o,l+"",t,n,h):void 0;void 0===d&&(d=o),i(t,l,d)}}),l)}},function(e,t,n){var r=n(416),i=n(412),o=n(414),a=n(195),s=n(415),l=n(183),u=n(31),c=n(834),f=n(184),h=n(274),d=n(45),p=n(397),m=n(270),g=n(417),v=n(835);e.exports=function(e,t,n,y,b,_,E){var w=g(e,n),x=g(t,n),T=E.get(x);if(T)r(e,n,T);else{var S=_?_(w,x,n+"",e,t,E):void 0,k=void 0===S;if(k){var O=u(x),A=!O&&f(x),C=!O&&!A&&m(x);S=x,O||A||C?u(w)?S=w:c(w)?S=a(w):A?(k=!1,S=i(x,!0)):C?(k=!1,S=o(x,!0)):S=[]:p(x)||l(x)?(S=w,l(w)?S=v(w):d(w)&&!h(w)||(S=s(x))):k=!1}k&&(E.set(x,S),b(S,x,y,_,E),E.delete(x)),r(e,n,S)}}},function(e,t,n){var r=n(97),i=n(56);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(99),i=n(120);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(837),i=n(411),o=n(143),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(13)),s=u(n(839)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(841));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,s=t.pointer,l=t.circle,u=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,n){var r=n(420),i=n(45);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){var r=n(40);e.exports=function(){return r.Date.now()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var f=100*u/o,h=-100*c/a+100;return{h:n.hsl.h,s:f,v:h,a:n.hsl.a,source:"rgb"}}},function(e,t,n){e.exports=n(147)},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,f=i.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n,r,f,d,p,m,g,v,y,b,_,E=(p={r:0,g:0,b:0},m=1,g=null,v=null,y=null,b=!1,_=!1,"string"==typeof(n=e)&&(n=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=G.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=G.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=G.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=G.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=G.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=G.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=G.hex8.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:B(t[4]),format:n?"name":"hex8"}:(t=G.hex6.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"}:(t=G.hex4.exec(e))?{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=G.hex3.exec(e))&&{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"}}(n)),"object"==typeof n&&(V(n.r)&&V(n.g)&&V(n.b)?(r=n.r,f=n.g,d=n.b,p={r:255*I(r,255),g:255*I(f,255),b:255*I(d,255)},b=!0,_="%"===String(n.r).substr(-1)?"prgb":"rgb"):V(n.h)&&V(n.s)&&V(n.v)?(g=F(n.s),v=F(n.v),p=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}(n.h,g,v),b=!0,_="hsv"):V(n.h)&&V(n.s)&&V(n.l)&&(g=F(n.s),y=F(n.l),p=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(n.h,g,y),b=!0,_="hsl"),n.hasOwnProperty("a")&&(m=n.a)),m=R(m),{ok:b,format:n.format||_,r:u(255,c(p.r,0)),g:u(255,c(p.g,0)),b:u(255,c(p.b,0)),a:m});this._originalInput=e,this._r=E.r,this._g=E.g,this._b=E.b,this._a=E.a,this._roundA=l(100*this._a)/100,this._format=t.format||E.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=E.ok,this._tc_id=s++}function d(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function m(e,t,n,r){var i=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r){return[L(j(r)),L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=D(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=D(n.s),h(n)}function b(e){return h(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=D(n.l),h(n)}function E(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),h(n)}function w(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=D(n.l),h(n)}function x(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function T(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function O(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),i=360/n,o=[h(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(h(r));return o}function C(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return t=this._r,n=this._g,r=this._b,i=this._a,o=e,a=[L(l(t).toString(16)),L(l(n).toString(16)),L(l(r).toString(16)),L(j(i))],o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("");var t,n,r,i,o,a},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*I(this._r,255))+"%",g:l(100*I(this._g,255))+"%",b:l(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%)":"rgba("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=h(e);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),i=h(t).toRgb(),o=n/100;return h({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,i,o,a,s,l=h.readability(e,t);switch(i=!1,(o=n,a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),s=(o.size||"small").toLowerCase(),"AA"!==a&&"AAA"!==a&&(a="AA"),"small"!==s&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=l>=4.5;break;case"AAlarge":i=l>=3;break;case"AAAsmall":i=l>=7}return i},h.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=h.readability(e,t[u]))>l&&(l=r,s=h(t[u]));return h.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var P=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){var n;"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return u(1,c(0,e))}function N(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function j(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return N(e)/255}var U,z,H,G=(z="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",H="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!G.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(845),s=l(n(286));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,l=void 0===a?function(){}:a,u=e.onHover,c=e.title,f=void 0===c?t:c,h=e.children,d=e.focus,p=e.focusStyle,m=void 0===p?{}:p,g="transparent"===t,v=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?m:{})}}),y={};return u&&(y.onMouseOver=function(e){return u(t,e)}),i.default.createElement("div",r({style:v.swatch,onClick:function(e){return l(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},y),h,g&&i.default.createElement(s.default,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(1))&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;s(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return u(r,n),o(r,[{key:"render",value:function(){return a.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},a.default.createElement(e,i({},this.props,this.state)))}}]),r}(a.default.Component)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=c(n(57)),l=n(22),u=c(n(848));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,h=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,g=void 0===m?"":m,v="transparent"===i,y=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)((0,a.default)({default:{card:{width:f,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},p),{"hide-triangle":"hide"===h});return r.default.createElement("div",{style:b.card,className:"block-picker "+g},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},v&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},i)),r.default.createElement("div",{style:b.body},r.default.createElement(u.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:b.input},value:i,onChange:y})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},f.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(a.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(70)),s=f(n(46)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(423)),u=n(22),c=f(n(850));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Circle=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,l=e.colors,u=e.hex,f=e.circleSize,h=e.styles,d=void 0===h?{}:h,p=e.circleSpacing,m=e.className,g=void 0===m?"":m,v=(0,o.default)((0,s.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},d)),y=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:v.card,className:"circle-picker "+g},(0,a.default)(l,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:y,onSwatchHover:i,active:u===e.toLowerCase(),circleSize:f,circleSpacing:p})})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},h.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]],styles:{}},t.default=(0,u.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,s=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,f=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:f.swatch},r.default.createElement(a.Swatch,{style:f.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(l)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(46)),s=n(22),l=f(n(852)),u=f(n(854)),c=f(n(855));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,i=e.rgb,f=e.hsl,h=e.hsv,d=e.hex,p=e.renderers,m=e.styles,g=void 0===m?{}:m,v=e.className,y=void 0===v?"":v,b=(0,o.default)((0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},g),{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+y},r.default.createElement("div",{style:b.saturation},r.default.createElement(s.Saturation,{style:b.Saturation,hsl:f,hsv:h,pointer:c.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(s.Checkboard,{renderers:p}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(s.Hue,{style:b.Hue,hsl:f,pointer:u.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(s.Alpha,{style:b.Alpha,rgb:i,hsl:f,pointer:u.default,renderers:p,onChange:t})))),r.default.createElement(l.default,{rgb:i,hsl:f,hex:d,onChange:t,disableAlpha:n})))};h.propTypes={disableAlpha:i.default.bool,styles:i.default.object},h.defaultProps={disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(13)),a=u(n(57)),s=n(22),l=u(n(853));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(l.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(i.default.Component);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(1))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:a,height:l},c)},f),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(70)),s=h(n(46)),l=h(n(57)),u=n(22),c=h(n(857)),f=h(n(858));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,h=e.hex,d=e.rgb,p=e.styles,m=void 0===p?{}:p,g=e.className,v=void 0===g?"":g,y=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},m)),b=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(u.Raised,{style:y.Compact,styles:m},r.default.createElement("div",{style:y.compact,className:"compact-picker "+v},r.default.createElement("div",null,(0,a.default)(i,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===h,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:y.clear})),r.default.createElement(f.default,{hex:h,rgb:d,onChange:b})))};d.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},d.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,u.ColorWrap)(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.active,c=(0,i.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{style:c.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(n(1)),i=a(n(13)),o=n(22);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,a=e.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=n(22),u=c(n(860));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Github=function(e){var t=e.width,n=e.colors,i=e.onChange,l=e.onSwatchHover,c=e.triangle,f=e.styles,h=void 0===f?{}:f,d=e.className,p=void 0===d?"":d,m=(0,o.default)((0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},h),{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),g=function(e,t){return i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:m.card,className:"github-picker "+p},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),(0,a.default)(n,(function(e){return r.default.createElement(u.default,{color:e,key:e,onClick:g,onSwatchHover:l})})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},f.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,i=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(a.Swatch,{color:n,onClick:i,onHover:s,focusStyle:l}))};t.default=(0,i.handleHover)(l)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(13)),s=c(n(46)),l=n(22),u=c(n(862));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.HuePicker=function(e){var t=e.width,n=e.height,o=e.onChange,u=e.hsl,c=e.direction,f=e.pointer,h=e.styles,d=void 0===h?{}:h,p=e.className,m=void 0===p?"":p,g=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},d));return i.default.createElement("div",{style:g.picker,className:"hue-picker "+m},i.default.createElement(l.Hue,r({},g.hue,{hsl:u,pointer:f,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:c})))};f.propTypes={styles:o.default.object},f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:u.default,styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(46)),a=l(n(57)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Material=function(e){var t=e.onChange,n=e.hex,l=e.rgb,u=e.styles,c=void 0===u?{}:u,f=e.className,h=void 0===f?"":f,d=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(e,n){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||l.r,g:e.g||l.g,b:e.b||l.b,source:"rgb"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement("div",{style:d.material,className:"material-picker "+h},r.default.createElement(s.EditableInput,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:d.split,className:"flexbox-fix"},r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:l.b,onChange:p})))))};t.default=(0,s.ColorWrap)(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),o=p(n(2)),a=p(n(13)),s=p(n(46)),l=n(22),u=p(n(865)),c=p(n(866)),f=p(n(867)),h=p(n(868)),d=p(n(869));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,p=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.default.createElement("div",{style:p.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:p.head},this.props.header),i.default.createElement("div",{style:p.body,className:"flexbox-fix"},i.default.createElement("div",{style:p.saturation},i.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.hue},i.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:f.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.controls},i.default.createElement("div",{style:p.top,className:"flexbox-fix"},i.default.createElement("div",{style:p.previews},i.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:p.actions},i.default.createElement(h.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(h.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);m.propTypes={header:o.default.string,styles:o.default.object},m.defaultProps={header:"Color Picker",styles:{}},t.default=(0,l.ColorWrap)(m)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,u=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},""),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,a=e.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(1)),o=f(n(2)),a=f(n(13)),s=f(n(46)),l=n(22),u=f(n(871)),c=f(n(872));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,f=e.hsv,h=e.hsl,d=e.onChange,p=e.onSwatchHover,m=e.disableAlpha,g=e.presetColors,v=e.renderers,y=e.styles,b=void 0===y?{}:y,_=e.className,E=void 0===_?"":_,w=(0,a.default)((0,s.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:m});return i.default.createElement("div",{style:w.picker,className:"sketch-picker "+E},i.default.createElement("div",{style:w.saturation},i.default.createElement(l.Saturation,{style:w.Saturation,hsl:h,hsv:f,onChange:d})),i.default.createElement("div",{style:w.controls,className:"flexbox-fix"},i.default.createElement("div",{style:w.sliders},i.default.createElement("div",{style:w.hue},i.default.createElement(l.Hue,{style:w.Hue,hsl:h,onChange:d})),i.default.createElement("div",{style:w.alpha},i.default.createElement(l.Alpha,{style:w.Alpha,rgb:n,hsl:h,renderers:v,onChange:d}))),i.default.createElement("div",{style:w.color},i.default.createElement(l.Checkboard,null),i.default.createElement("div",{style:w.activeColor}))),i.default.createElement(u.default,{rgb:n,hsl:h,hex:o,onChange:d,disableAlpha:m}),i.default.createElement(c.default,{colors:g,onClick:d,onSwatchHover:p}))};h.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},h.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,l.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,u=e.disableAlpha,c=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),f=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:f})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:f,dragLabel:"true",dragMax:"100"})))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=l(n(13)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,u=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){o({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.default.createElement("div",{key:n,style:u.swatchWrap},i.default.createElement(s.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=n(22),l=c(n(874)),u=c(n(876));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Slider=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,u=e.styles,c=void 0===u?{}:u,f=e.className,h=void 0===f?"":f,d=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return r.default.createElement("div",{style:d.wrap||"",className:"slider-picker "+h},r.default.createElement("div",{style:d.hue},r.default.createElement(s.Hue,{style:d.Hue,hsl:t,pointer:i,onChange:n})),r.default.createElement("div",{style:d.swatches},r.default.createElement(l.default,{hsl:t,onClick:n})))};f.propTypes={styles:i.default.object},f.defaultProps={pointer:u.default,styles:{}},t.default=(0,s.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(n(1)),i=a(n(13)),o=a(n(875));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,a=void 0===o?function(){}:o,s=e.active,l=e.first,u=e.last,c=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(70)),s=h(n(46)),l=h(n(57)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(423)),c=n(22),f=h(n(878));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Swatches=function(e){var t=e.width,n=e.height,i=e.onChange,u=e.onSwatchHover,h=e.colors,d=e.hex,p=e.styles,m=void 0===p?{}:p,g=e.className,v=void 0===g?"":g,y=(0,o.default)((0,s.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),b=function(e,t){l.default.isValidHex(e)&&i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:y.picker,className:"swatches-picker "+v},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:y.overflow},r.default.createElement("div",{style:y.body},(0,a.default)(h,(function(e){return r.default.createElement(f.default,{key:e.toString(),group:e,active:d,onClick:b,onSwatchHover:u})})),r.default.createElement("div",{style:y.clear})))))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},d.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,c.ColorWrap)(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=s(n(879));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,u=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,(function(e,i){return r.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(57)),a=n(22),s=l(n(880));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,u=e.onSwatchHover,c=e.first,f=e.last,h=e.active,d=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:f,active:h,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{color:t,style:d.color,onClick:l,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:d.check},r.default.createElement(s.default,null)))};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(1))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:a,height:l},c)},f),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=c(n(57)),u=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,h=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,g=void 0===m?"":m,v=(0,o.default)((0,s.default)({default:{card:{width:f,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},p),{"hide-triangle":"hide"===h,"top-left-triangle":"top-left"===h,"top-right-triangle":"top-right"===h}),y=function(e,n){l.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:v.card,className:"twitter-picker "+g},r.default.createElement("div",{style:v.triangleShadow}),r.default.createElement("div",{style:v.triangle}),r.default.createElement("div",{style:v.body},(0,a.default)(c,(function(e,t){return r.default.createElement(u.Swatch,{key:t,color:e,hex:e,style:v.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:v.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:v.input},value:i.replace("#",""),onChange:y}),r.default.createElement("div",{style:v.clear})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},f.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=s(n(884)),i=s(n(43)),o=n(324),a=n(390);function s(e){return e&&e.__esModule?e:{default:e}}var l={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},u={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},c=t.TRACKS_INFO=[l,(0,i.default)({},l,{type:"osm"}),u,(0,i.default)({},u,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:a.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:a.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:a.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:a.svg2DTilesIcon},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:a.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:a.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:a.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:a.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];t.default=c},function(e,t,n){t.__esModule=!0;var r,i=(r=n(130))&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(11),a=t.TRACKS_INFO_BY_TYPE=o.TRACKS_INFO.reduce((function(e,t){if(e[t.type]=t,t.aliases){var n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(t.aliases);!(n=(a=s.next()).done);n=!0)e[a.value]=t}catch(l){r=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}return e}),{});t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.POSITIONS_BY_DATATYPE=void 0;var r,i=(r=n(38))&&r.__esModule?r:{default:r},o=n(11),a=t.POSITIONS_BY_DATATYPE=o.TRACKS_INFO.reduce((function(e,t){for(var n=0;n<t.datatype.length;n++){var r=t.datatype[n];return e[r]?e[r].add(t.orientation):e[r]=new i.default,e}return{}}),{});t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=le(n(8)),i=le(n(313)),o=le(n(83)),a=le(n(9)),s=le(n(84)),l=le(n(103)),u=le(n(20)),c=le(n(1087)),f=le(n(1089)),h=le(n(1088)),d=le(n(28)),p=le(n(0)),m=le(n(85)),g=le(n(157)),v=se(n(27)),y=n(81),b=le(n(11)),_=le(n(10)),E=se(n(359)),w=se(n(358)),x=se(n(258)),T=se(n(349)),S=se(n(357)),k=se(n(255)),O=se(n(356)),A=se(n(133)),C=se(n(360)),P=se(n(362)),M=se(n(259)),R=se(n(363)),I=se(n(115)),D=se(n(355)),N=se(n(354)),L=se(n(375)),F=se(n(377)),j=se(n(253)),B=se(n(344)),U=se(n(345)),z=se(n(348)),H=se(n(366)),G=se(n(264)),V=se(n(140)),$=se(n(44)),X=se(n(80)),W=se(n(361)),Y=se(n(254)),q=se(n(79)),K=se(n(347)),Z=se(n(175)),Q=se(n(364)),J=se(n(346)),ee=se(n(379)),te=se(n(67)),ne=se(n(244)),re=se(n(889)),ie=le(n(24)),oe=se(n(73)),ae=se(n(139));function se(e){return e&&e.__esModule?e:{default:e}}function le(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var ue={d3Array:r,d3Axis:i,d3Brush:o,d3Color:a,d3Drag:s,d3Dsv:l,d3Format:u,d3Geo:c,d3Queue:f,d3Request:h,d3Scale:d,d3Selection:p,d3Transition:m,d3Zoom:g,PIXI:b.GLOBALS.PIXI,mix:y.mix,slugid:v.default},ce={Annotations2dTrack:E.default,ArrowheadDomainsTrack:w.default,BarTrack:x.default,BedLikeTrack:T.default,CNVIntervalTrack:S.default,CombinedTrack:k.default,DivergentBarTrack:O.default,HeatmapTiledPixiTrack:A.default,Horizontal2DDomainsTrack:C.default,HorizontalChromosomeLabels:P.default,HorizontalGeneAnnotationsTrack:M.default,HorizontalHeatmapTrack:R.default,HorizontalLine1DPixiTrack:I.default,HorizontalMultivecTrack:D.default,HorizontalPoint1DPixiTrack:N.default,HorizontalTiledPlot:L.default,HorizontalTrack:F.default,Id2DTiledPixiTrack:j.default,IdHorizontal1DTiledPixiTrack:B.default,IdVertical1DTiledPixiTrack:U.default,LeftAxisTrack:z.default,MapboxTilesTrack:H.default,MoveableTrack:G.default,OSMTilesTrack:V.default,PixiTrack:$.default,SVGTrack:X.default,SquareMarkersTrack:W.default,Tiled1DPixiTrack:Y.default,TiledPixiTrack:q.default,TopAxisTrack:K.default,Track:Z.default,ValueIntervalTrack:Q.default,VerticalTiled1DPixiTrack:J.default,VerticalTrack:ee.default},fe={ContextMenuItem:te.default,DataFetcher:ne.default,LruCache:re.default},he={ChromosomeInfo:oe.default,SearchField:ae.default};t.default={chromosomes:he,libraries:ue,tracks:ce,factories:fe,services:ie,utils:_,configs:b,VERSION:"1.11.7"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(890);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(43)),i=a(n(112)),o=a(n(18));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.size=0,this.limit=e,this._keymap={}}(0,r.default)(s.prototype,{put:function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1},get:function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},find:function(e){return this._keymap[e]},keys:function(){return(0,o.default)(this._keymap)},set:function(e,t){var n=this.get(e,!0),r=void 0;return n?(r=n.value,n.value=t):(r=this.put(e,t))&&(r=r.value),r},shift:function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e},remove:function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value},removeAll:function(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}},forEach:function(e,t,n){var r=void 0;if(!0===t?(n=!0,t=void 0):"object"!==(void 0===t?"undefined":(0,i.default)(t))&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer},toJSON:function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},toString:function(){for(var e="",t=this.head;t;)e+=String(String(t.key))+":"+String(t.value),(t=t.newer)&&(e+=" < ");return e}}),t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=l(n(17)),i=l(n(25)),o=l(n(37)),a=l(n(38)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AVAILABLE_TRACK_TYPES=function(e,t){var n=(0,s.DATATYPE_TO_TRACK_TYPE)(t),l=new a.default((0,o.default)(n).flatMap((function(e){return e}))),u=function(e){var t=new a.default(e);l=new a.default([].concat((0,i.default)(l)).filter((function(e){return e.datatype.filter((function(e){return t.has(e)})).length>0})))},c=!0,f=!1,h=void 0;try{for(var d,p=(0,r.default)(e);!(c=(d=p.next()).done);c=!0)u(d.value)}catch(m){f=!0,h=m}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}return[].concat((0,i.default)(l))};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(0,((r=n(424))&&r.__esModule?r:{default:r}).default)((function(e,t){return e.concat(t)}),[]);t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.forEach.call(t,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(320))&&r.__esModule?r:{default:r};t.default=function(e,t){t.dispatchEvent((0,i.default)(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(19))&&r.__esModule?r:{default:r};t.default=function(e,t,n,r,o){var a=t.chr,s=t.pos,l=n.chr,u=n.pos,c=[];if(a===l){var f=a,h=Math.floor(s/r),d=Math.min(h+o,Math.ceil(u/r));c.push([f,h,d])}else for(var p=o,m=e.findIndex((function(e){return(0,i.default)(e,1)[0]===a})),g=e.findIndex((function(e){return(0,i.default)(e,1)[0]===l})),v=m;v<=g;v++){var y=void 0,b=void 0,_=(0,i.default)(e[v],2),E=_[0],w=_[1];v<g?(y=v===m?s:0,b=w):(y=0,b=u);var x=Math.floor(y/r),T=Math.min(x+p,Math.ceil(b/r));c.push([E,x,T]),p-=T-x}return c}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.default=function(e,t,n){if(0!==n.length){if(1===n.length)return n[0];var i=n[0],o=void 0!==r.DEFAULT_TRACKS_FOR_DATATYPE[e]?r.DEFAULT_TRACKS_FOR_DATATYPE[e][t]:void 0;return void 0!==o&&(i=n.find((function(e){return e.type===o}))||i),i}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(425))&&r.__esModule?r:{default:r};t.default=function(e){return i.default.listen(),[e.clientWidth,e.clientHeight]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,i.default)(e).map((function(t){return e[t]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(r){return r.uid===t&&(n=r),"combined"===r.type.substr(0,8)&&r.contents.forEach(e),null})),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=e.state.views[t];if(!r)return null;var o=null,a=r.tracks;return(0,i.default)(a).map((function(e){return a[e]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(t){return t.uid===n&&(o=t),"combined"===t.type.substr(0,8)&&t.contents.forEach(e),null})),o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(37))&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?e[t]:(0,i.default)(e)[0];if(r){var o=r.trackRenderer.trackDefObjects[n];return o?o=o.trackObject:(0,i.default)(r.trackRenderer.trackDefObjects).map((function(e){return e.trackObject})).filter((function(e){return e.childTracks})).forEach((function(e){e.createdTracks[n]&&(o=e.createdTracks[n])})),o}t?console.warn("Could't find view with id \""+String(t)+'"'):console.warn("No views available.")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(428))&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,i.default)(e,(function(e,r){e.uid===t&&(n=r)})),n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,s=document.createElement("canvas");s.width=t,s.height=n;var l=s.getContext("2d"),u=l.createLinearGradient(r,i,o,a);return e.forEach((function(e){u.addColorStop(e.from,e.color)})),l.fillStyle=u,l.fillRect(0,0,t,n),s}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e;n&&n!==t&&"HTML"!==n.tagName;)n=n.parentNode;return n===t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return parseInt(e.replace(/^#/,""),16)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(255));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n){return n===t||n instanceof i.default&&(0,r.default)(n.createdTracks).map((function(e){return n.createdTracks[e]})).some((function(n){return e(t,n)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return a?e>=n&&e<=r||t>=i&&t<=o:e>=n&&e<=r&&t>=i&&t<=o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.invGudermannian=function(e){return Math.log(Math.tan((e+Math.PI/2)/2))};t.default=function(e,t){var n=e*Math.PI/180;return n=r(n),Math.pow(2,t)*(Math.PI-n)/(2*Math.PI)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(10);t.default=function(e){return(0,i.objVals)(e).map((function(e){return e.chromInfoPath})).forEach((function(e){return r.chromInfo.get(e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Math.pow(2,t)*(e+180)/360}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e>t?e:t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(63))&&r.__esModule?r:{default:r};t.default=function(e){for(var t=i.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r>t&&(t=r)}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e<t?e:t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(55))&&r.__esModule?r:{default:r};t.default=function(e){for(var t=i.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r<t&&(t=r)}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(e%t+t)%t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(430));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=+t;if((0,r.default)(n)){var o=e.shape[0],a=e.shape[1],s=t.shape[0],l=t.shape[1];if(o!==s||a!==l)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",o,s,a,l);(0,i.default)({args:["array","array"],body:"function assign(a, b) { a = b; }"})(e,t)}else(0,i.default)({args:["array","scalar"],body:"function assigns(a, s) { a = s; }"})(e,n)}},function(e,t,n){(function(t){var r=n(919),i=n(431),o=0;function a(e,t,n){this.name=e,this.lvalue=t,this.rvalue=n,this.count=0}function s(e,t,n,r){this.body=e,this.args=t,this.thisVars=n,this.localVars=r}e.exports=function(e){for(var n=["(",e,")()"].join(""),l=r.parse(n,{range:!0}),u="_inline_"+o+++"_",c=function(e){for(var t=e.body[0].expression.callee.params,n=new Array(t.length),r=0;r<t.length;++r)n[r]=t[r].name;return n}(l),f=new Array(c.length),h=0;h<c.length;++h)f[h]=new a([u,"arg",h,"_"].join(""),!1,!1);for(var d=new Array(n.length),p=(h=0,n.length);h<p;++h)d[h]=n.charAt(h);var m,g=[],v=[];function y(e,t){for(var n=e.range[0],r=e.range[1],i=n+1;i<r;++i)d[i]="";d[n]=t}return function e(n,r){if(n.parent=r,"MemberExpression"===n.type)n.computed?(e(n.object,n),e(n.property,n)):"ThisExpression"===n.object.type?y(n,(_="this_"+n.property.name.replace(/\_/g,"__"),v.push(_),_)):e(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var i=n.name,o=c.indexOf(i);if(o>=0){var a=f[o],s="AssignmentExpression"===(b=n).parent.type&&b.parent.left===b?"="===b.parent.operator?1:3:"UpdateExpression"===b.parent.type?3:2;1&s&&(a.lvalue=!0),2&s&&(a.rvalue=!0),++a.count,y(n,a.name)}else(function(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:void 0!==t?e in t:"undefined"!=typeof self&&e in self})(i)||y(n,function(e){var t=u+e.replace(/\_/g,"__");return g.push(t),t}(i))}else if("Literal"===n.type)"string"==typeof n.value&&y(n,"'"+n.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var l=Object.keys(n),h=0,d=l.length;h<d;++h)if("parent"!==l[h]){var p=n[l[h]];if(p)if(p instanceof Array)for(var m=0;m<p.length;++m)p[m]&&"string"==typeof p[m].type&&e(p[m],n);else"string"==typeof p.type&&e(p,n)}}}var b,_}(l.body[0].expression.callee.body,void 0),i(g),i(v),new s((m=l.body[0].expression.callee.body,d.slice(m.range[0],m.range[1]).join("")),f,v,g)}}).call(this,n(26))},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(e){var t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y;function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function _(e){return e>=48&&e<=57}function E(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function w(e){return"01234567".indexOf(e)>=0}function x(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function T(e){return 10===e||13===e||8232===e||8233===e}function S(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function k(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function O(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function A(e){return"eval"===e||"arguments"===e}function C(e,t,n,r,i){var o;b("number"==typeof n,"Comment must have valid position"),v.lastCommentStart>=n||(v.lastCommentStart=n,o={type:e,value:t},y.range&&(o.range=[n,r]),y.loc&&(o.loc=i),y.comments.push(o),y.attachComment&&(y.leadingComments.push(o),y.trailingComments.push(o)))}function P(e){var t,n,r,i;for(t=f-e,n={start:{line:h,column:f-d-e}};f<p;)if(r=u.charCodeAt(f),++f,T(r))return y.comments&&(i=u.slice(t+e,f-1),n.end={line:h,column:f-d-1},C("Line",i,t,f-1,n)),13===r&&10===u.charCodeAt(f)&&++f,++h,void(d=f);y.comments&&(i=u.slice(t+e,f),n.end={line:h,column:f-d},C("Line",i,t,f,n))}function M(){var e,t,n,r;for(y.comments&&(e=f-2,t={start:{line:h,column:f-d-2}});f<p;)if(T(n=u.charCodeAt(f)))13===n&&10===u.charCodeAt(f+1)&&++f,++h,++f,d=f,f>=p&&X({},a.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===u.charCodeAt(f+1))return++f,++f,void(y.comments&&(r=u.slice(e+2,f-2),t.end={line:h,column:f-d},C("Block",r,e,f,t)));++f}else++f;X({},a.UnexpectedToken,"ILLEGAL")}function R(){var e,t;for(t=0===f;f<p;)if(x(e=u.charCodeAt(f)))++f;else if(T(e))++f,13===e&&10===u.charCodeAt(f)&&++f,++h,d=f,t=!0;else if(47===e)if(47===(e=u.charCodeAt(f+1)))++f,++f,P(2),t=!0;else{if(42!==e)break;++f,++f,M()}else if(t&&45===e){if(45!==u.charCodeAt(f+1)||62!==u.charCodeAt(f+2))break;f+=3,P(3)}else{if(60!==e)break;if("!--"!==u.slice(f+1,f+4))break;++f,++f,++f,++f,P(4)}}function I(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(f<p&&E(u[f])))return"";r=u[f++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function D(){var e,t;for(e=u.charCodeAt(f++),t=String.fromCharCode(e),92===e&&(117!==u.charCodeAt(f)&&X({},a.UnexpectedToken,"ILLEGAL"),++f,(e=I("u"))&&"\\"!==e&&S(e.charCodeAt(0))||X({},a.UnexpectedToken,"ILLEGAL"),t=e);f<p&&k(e=u.charCodeAt(f));)++f,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==u.charCodeAt(f)&&X({},a.UnexpectedToken,"ILLEGAL"),++f,(e=I("u"))&&"\\"!==e&&k(e.charCodeAt(0))||X({},a.UnexpectedToken,"ILLEGAL"),t+=e);return t}function N(){var e,n,r,i,o=f,s=u.charCodeAt(f),l=u[f];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,y.tokenize&&(40===s?y.openParenToken=y.tokens.length:123===s&&(y.openCurlyToken=y.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(s),lineNumber:h,lineStart:d,start:o,end:f};default:if(61===(e=u.charCodeAt(f+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:t.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(e),lineNumber:h,lineStart:d,start:o,end:f};case 33:case 61:return f+=2,61===u.charCodeAt(f)&&++f,{type:t.Punctuator,value:u.slice(o,f),lineNumber:h,lineStart:d,start:o,end:f}}}return">>>="===(i=u.substr(f,4))?{type:t.Punctuator,value:i,lineNumber:h,lineStart:d,start:o,end:f+=4}:">>>"===(r=i.substr(0,3))||"<<="===r||">>="===r?{type:t.Punctuator,value:r,lineNumber:h,lineStart:d,start:o,end:f+=3}:l===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===n?{type:t.Punctuator,value:n,lineNumber:h,lineStart:d,start:o,end:f+=2}:"<>=!+-*%&|^/".indexOf(l)>=0?(++f,{type:t.Punctuator,value:l,lineNumber:h,lineStart:d,start:o,end:f}):void X({},a.UnexpectedToken,"ILLEGAL")}function L(){var e,n,r;if(b(_((r=u[f]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=f,e="","."!==r){if(e=u[f++],r=u[f],"0"===e){if("x"===r||"X"===r)return++f,function(e){for(var n="";f<p&&E(u[f]);)n+=u[f++];return 0===n.length&&X({},a.UnexpectedToken,"ILLEGAL"),S(u.charCodeAt(f))&&X({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:d,start:e,end:f}}(n);if(w(r)&&function(){var e,t;for(e=f+1;e<p;++e){if("8"===(t=u[e])||"9"===t)return!1;if(!w(t))return!0}return!0}())return function(e){for(var n="0"+u[f++];f<p&&w(u[f]);)n+=u[f++];return(S(u.charCodeAt(f))||_(u.charCodeAt(f)))&&X({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:d,start:e,end:f}}(n)}for(;_(u.charCodeAt(f));)e+=u[f++];r=u[f]}if("."===r){for(e+=u[f++];_(u.charCodeAt(f));)e+=u[f++];r=u[f]}if("e"===r||"E"===r)if(e+=u[f++],"+"!==(r=u[f])&&"-"!==r||(e+=u[f++]),_(u.charCodeAt(f)))for(;_(u.charCodeAt(f));)e+=u[f++];else X({},a.UnexpectedToken,"ILLEGAL");return S(u.charCodeAt(f))&&X({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:d,start:n,end:f}}function F(){var e,n,r,i;return g=null,R(),e=f,n=function(){var e,t,n,r;for(b("/"===(e=u[f]),"Regular expression literal must start with a slash"),t=u[f++],n=!1,r=!1;f<p;)if(t+=e=u[f++],"\\"===e)T((e=u[f++]).charCodeAt(0))&&X({},a.UnterminatedRegExp),t+=e;else if(T(e.charCodeAt(0)))X({},a.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||X({},a.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}(),r=function(){var e,t,n,r;for(t="",n="";f<p&&k((e=u[f]).charCodeAt(0));)if(++f,"\\"===e&&f<p)if("u"===(e=u[f])){if(r=++f,e=I("u"))for(n+=e,t+="\\u";r<f;++r)t+=u[r];else f=r,n+="u",t+="\\u";W({},a.UnexpectedToken,"ILLEGAL")}else t+="\\",W({},a.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}(),i=function(e,t){var n;try{n=new RegExp(e,t)}catch(r){X({},a.InvalidRegExp)}return n}(n.value,r.value),y.tokenize?{type:t.RegularExpression,value:i,lineNumber:h,lineStart:d,start:e,end:f}:{literal:n.literal+r.literal,value:i,start:e,end:f}}function j(){var e,t,n,r;return R(),e=f,t={start:{line:h,column:f-d}},n=F(),t.end={line:h,column:f-d},y.tokenize||(y.tokens.length>0&&(r=y.tokens[y.tokens.length-1]).range[0]===e&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||y.tokens.pop()),y.tokens.push({type:"RegularExpression",value:n.literal,range:[e,f],loc:t})),n}function B(){var e;return R(),f>=p?{type:t.EOF,lineNumber:h,lineStart:d,start:f,end:f}:S(e=u.charCodeAt(f))?function(){var e,n;return e=f,{type:1===(n=92===u.charCodeAt(f)?D():function(){var e,t;for(e=f++;f<p;){if(92===(t=u.charCodeAt(f)))return f=e,D();if(!k(t))break;++f}return u.slice(e,f)}()).length?t.Identifier:function(e){if(c&&O(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:h,lineStart:d,start:e,end:f}}():40===e||41===e||59===e?N():39===e||34===e?function(){var e,n,r,i,o,s,l,c,m="",g=!1;for(l=h,c=d,b("'"===(e=u[f])||'"'===e,"String literal must starts with a quote"),n=f,++f;f<p;){if((r=u[f++])===e){e="";break}if("\\"===r)if((r=u[f++])&&T(r.charCodeAt(0)))++h,"\r"===r&&"\n"===u[f]&&++f,d=f;else switch(r){case"u":case"x":s=f,(o=I(r))?m+=o:(f=s,m+=r);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:w(r)?(0!==(i="01234567".indexOf(r))&&(g=!0),f<p&&w(u[f])&&(g=!0,i=8*i+"01234567".indexOf(u[f++]),"0123".indexOf(r)>=0&&f<p&&w(u[f])&&(i=8*i+"01234567".indexOf(u[f++]))),m+=String.fromCharCode(i)):m+=r}else{if(T(r.charCodeAt(0)))break;m+=r}}return""!==e&&X({},a.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:g,startLineNumber:l,startLineStart:c,lineNumber:h,lineStart:d,start:n,end:f}}():46===e?_(u.charCodeAt(f+1))?L():N():_(e)?L():y.tokenize&&47===e?function(){var e,t;if(!(e=y.tokens[y.tokens.length-1]))return j();if("Punctuator"===e.type){if("]"===e.value)return N();if(")"===e.value)return!(t=y.tokens[y.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?N():j();if("}"===e.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(!(t=y.tokens[y.openCurlyToken-4]))return N()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return N();if(!(t=y.tokens[y.openCurlyToken-5]))return j()}return r.indexOf(t.value)>=0?N():j()}return j()}return"Keyword"===e.type&&"this"!==e.value?j():N()}():N()}function U(){var e,r,i;return R(),e={start:{line:h,column:f-d}},r=B(),e.end={line:h,column:f-d},r.type!==t.EOF&&(i=u.slice(r.start,r.end),y.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:e})),r}function z(){var e;return f=(e=g).end,h=e.lineNumber,d=e.lineStart,g=void 0!==y.tokens?U():B(),f=e.end,h=e.lineNumber,d=e.lineStart,e}function H(){var e,t,n;e=f,t=h,n=d,g=void 0!==y.tokens?U():B(),f=e,h=t,d=n}function G(e,t){this.line=e,this.column=t}function V(e,t,n,r){this.start=new G(e,t),this.end=new G(n,r)}function $(){var e,t,n,r;return e=f,t=h,n=d,R(),r=h!==t,f=e,h=t,d=n,r}function X(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return b(t<r.length,"Message reference must be in range"),r[t]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+i)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-d+1):((n=new Error("Line "+h+": "+i)).index=f,n.lineNumber=h,n.column=f-d+1),n.description=i,n}function W(){try{X.apply(null,arguments)}catch(e){if(!y.errors)throw e;y.errors.push(e)}}function Y(e){if(e.type===t.EOF&&X(e,a.UnexpectedEOS),e.type===t.NumericLiteral&&X(e,a.UnexpectedNumber),e.type===t.StringLiteral&&X(e,a.UnexpectedString),e.type===t.Identifier&&X(e,a.UnexpectedIdentifier),e.type===t.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(e.value))X(e,a.UnexpectedReserved);else if(c&&O(e.value))return void W(e,a.StrictReservedWord);X(e,a.UnexpectedToken,e.value)}X(e,a.UnexpectedToken,e.value)}function q(e){var n=z();n.type===t.Punctuator&&n.value===e||Y(n)}function K(e){var n=z();n.type===t.Keyword&&n.value===e||Y(n)}function Z(e){return g.type===t.Punctuator&&g.value===e}function Q(e){return g.type===t.Keyword&&g.value===e}function J(){var e,n=f,r=h,i=d,o=g;if(59===u.charCodeAt(f)||Z(";"))z();else{if(e=h,R(),h!==e)return f=n,h=r,d=i,void(g=o);g.type===t.EOF||Z("}")||Y(g)}}function ee(e){return e.type===i.Identifier||e.type===i.MemberExpression}function te(e,t){var n,r,i;return n=c,i=g,r=_e(),t&&c&&A(e[0].name)&&W(t,a.StrictParamName),c=n,m.markEnd(m.createFunctionExpression(null,e,[],r),i)}function ne(){var e,n;return n=g,(e=z()).type===t.StringLiteral||e.type===t.NumericLiteral?(c&&e.octal&&W(e,a.StrictOctalLiteral),m.markEnd(m.createLiteral(e),n)):m.markEnd(m.createIdentifier(e.value),n)}function re(){var e,n,r,i,o,s;return s=g,(e=g).type===t.Identifier?(r=ne(),"get"!==e.value||Z(":")?"set"!==e.value||Z(":")?(q(":"),i=he(),m.markEnd(m.createProperty("init",r,i),s)):(n=ne(),q("("),(e=g).type!==t.Identifier?(q(")"),W(e,a.UnexpectedToken,e.value),i=te([])):(o=[me()],q(")"),i=te(o,e)),m.markEnd(m.createProperty("set",n,i),s)):(n=ne(),q("("),q(")"),i=te([]),m.markEnd(m.createProperty("get",n,i),s))):e.type!==t.EOF&&e.type!==t.Punctuator?(n=ne(),q(":"),i=he(),m.markEnd(m.createProperty("init",n,i),s)):void Y(e)}function ie(){var e,n,r,s,l;if(Z("("))return q("("),l=de(),q(")"),l;if(Z("["))return function(){var e,t=[];for(e=g,q("[");!Z("]");)Z(",")?(z(),t.push(null)):(t.push(he()),Z("]")||q(","));return z(),m.markEnd(m.createArrayExpression(t),e)}();if(Z("{"))return function(){var e,t,n,r,s,l=[],u={},f=String;for(s=g,q("{");!Z("}");)t=(e=re()).key.type===i.Identifier?e.key.name:f(e.key.value),r="init"===e.kind?o.Data:"get"===e.kind?o.Get:o.Set,n="$"+t,Object.prototype.hasOwnProperty.call(u,n)?(u[n]===o.Data?c&&r===o.Data?W({},a.StrictDuplicateProperty):r!==o.Data&&W({},a.AccessorDataProperty):r===o.Data?W({},a.AccessorDataProperty):u[n]&r&&W({},a.AccessorGetSet),u[n]|=r):u[n]=r,l.push(e),Z("}")||q(",");return q("}"),m.markEnd(m.createObjectExpression(l),s)}();if(e=g.type,s=g,e===t.Identifier)r=m.createIdentifier(z().value);else if(e===t.StringLiteral||e===t.NumericLiteral)c&&g.octal&&W(g,a.StrictOctalLiteral),r=m.createLiteral(z());else if(e===t.Keyword){if(Q("function"))return function(){var e,t,n,r,i,o,s,l,u,f=null;return u=g,K("function"),Z("(")||(e=g,f=me(),c?A(e.value)&&W(e,a.StrictFunctionName):A(e.value)?(n=e,r=a.StrictFunctionName):O(e.value)&&(n=e,r=a.StrictReservedWord)),o=(i=Ee(n)).params,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),l=c,s=_e(),c&&n&&X(n,r),c&&t&&W(t,r),c=l,m.markEnd(m.createFunctionExpression(f,o,[],s),u)}();Q("this")?(z(),r=m.createThisExpression()):Y(z())}else e===t.BooleanLiteral?((n=z()).value="true"===n.value,r=m.createLiteral(n)):e===t.NullLiteral?((n=z()).value=null,r=m.createLiteral(n)):Z("/")||Z("/=")?(r=void 0!==y.tokens?m.createLiteral(j()):m.createLiteral(F()),H()):Y(z());return m.markEnd(r,s)}function oe(){var e=[];if(q("("),!Z(")"))for(;f<p&&(e.push(he()),!Z(")"));)q(",");return q(")"),e}function ae(){return q("."),n=g,(r=e=z()).type===t.Identifier||r.type===t.Keyword||r.type===t.BooleanLiteral||r.type===t.NullLiteral||Y(e),m.markEnd(m.createIdentifier(e.value),n);var e,n,r}function se(){var e;return q("["),e=de(),q("]"),e}function le(){var e,t,n;return n=g,K("new"),e=function(){var e,t,n;for(b(v.allowIn,"callee of new expression always allow in keyword."),n=g,e=Q("new")?le():ie();Z(".")||Z("[");)Z("[")?(t=se(),e=m.createMemberExpression("[",e,t)):(t=ae(),e=m.createMemberExpression(".",e,t)),m.markEnd(e,n);return e}(),t=Z("(")?oe():[],m.markEnd(m.createNewExpression(e,t),n)}function ue(){var e,n,r=g;return e=function(){var e,t,n,r,i=v.allowIn;for(r=g,v.allowIn=!0,e=Q("new")?le():ie();;){if(Z("."))n=ae(),e=m.createMemberExpression(".",e,n);else if(Z("("))t=oe(),e=m.createCallExpression(e,t);else{if(!Z("["))break;n=se(),e=m.createMemberExpression("[",e,n)}m.markEnd(e,r)}return v.allowIn=i,e}(),g.type===t.Punctuator&&(!Z("++")&&!Z("--")||$()||(c&&e.type===i.Identifier&&A(e.name)&&W({},a.StrictLHSPostfix),ee(e)||W({},a.InvalidLHSInAssignment),n=z(),e=m.markEnd(m.createPostfixExpression(n.value,e),r))),e}function ce(){var e,n,r;return g.type!==t.Punctuator&&g.type!==t.Keyword?n=ue():Z("++")||Z("--")?(r=g,e=z(),n=ce(),c&&n.type===i.Identifier&&A(n.name)&&W({},a.StrictLHSPrefix),ee(n)||W({},a.InvalidLHSInAssignment),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):Z("+")||Z("-")||Z("~")||Z("!")?(r=g,e=z(),n=ce(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):Q("delete")||Q("void")||Q("typeof")?(r=g,e=z(),n=ce(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r),c&&"delete"===n.operator&&n.argument.type===i.Identifier&&W({},a.StrictDelete)):n=ue(),n}function fe(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function he(){var e,n,r,o,s,l;return e=g,s=g,o=n=function(){var e,t,n,r,i;return i=g,e=function(){var e,t,n,r,i,o,a,s,l,u;if(e=g,l=ce(),0===(i=fe(r=g,v.allowIn)))return l;for(r.prec=i,z(),t=[e,g],o=[l,r,a=ce()];(i=fe(g,v.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),n=m.createBinaryExpression(s,l,a),t.pop(),e=t[t.length-1],m.markEnd(n,e),o.push(n);(r=z()).prec=i,o.push(r),t.push(g),n=ce(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)n=m.createBinaryExpression(o[u-1].value,o[u-2],n),u-=2,e=t.pop(),m.markEnd(n,e);return n}(),Z("?")&&(z(),t=v.allowIn,v.allowIn=!0,n=he(),v.allowIn=t,q(":"),r=he(),e=m.createConditionalExpression(e,n,r),m.markEnd(e,i)),e}(),g.type!==t.Punctuator||"="!==(l=g.value)&&"*="!==l&&"/="!==l&&"%="!==l&&"+="!==l&&"-="!==l&&"<<="!==l&&">>="!==l&&">>>="!==l&&"&="!==l&&"^="!==l&&"|="!==l||(ee(n)||W({},a.InvalidLHSInAssignment),c&&n.type===i.Identifier&&A(n.name)&&W(e,a.StrictLHSAssignment),e=z(),r=he(),o=m.markEnd(m.createAssignmentExpression(e.value,n,r),s)),o}function de(){var e,t=g;if(e=he(),Z(",")){for(e=m.createSequenceExpression([e]);f<p&&Z(",");)z(),e.expressions.push(he());m.markEnd(e,t)}return e}function pe(){var e,t;return t=g,q("{"),e=function(){for(var e,t=[];f<p&&!Z("}")&&void 0!==(e=xe());)t.push(e);return t}(),q("}"),m.markEnd(m.createBlockStatement(e),t)}function me(){var e,n;return n=g,(e=z()).type!==t.Identifier&&Y(e),m.markEnd(m.createIdentifier(e.value),n)}function ge(e){var t,n,r=null;return n=g,t=me(),c&&A(t.name)&&W({},a.StrictVarName),"const"===e?(q("="),r=he()):Z("=")&&(z(),r=he()),m.markEnd(m.createVariableDeclarator(t,r),n)}function ve(e){var t=[];do{if(t.push(ge(e)),!Z(","))break;z()}while(f<p);return t}function ye(){var e,t,n,r=[];for(n=g,Q("default")?(z(),e=null):(K("case"),e=de()),q(":");f<p&&!(Z("}")||Q("default")||Q("case"));)t=be(),r.push(t);return m.markEnd(m.createSwitchCase(e,r),n)}function be(){var e,n,r,o,s,l,h,d,y,b,_=g.type;if(_===t.EOF&&Y(g),_===t.Punctuator&&"{"===g.value)return pe();if(o=g,_===t.Punctuator)switch(g.value){case";":return m.markEnd((q(";"),m.createEmptyStatement()),o);case"(":return m.markEnd((b=de(),J(),m.createExpressionStatement(b)),o)}if(_===t.Keyword)switch(g.value){case"break":return m.markEnd(function(){var e,n=null;return K("break"),59===u.charCodeAt(f)?(z(),v.inIteration||v.inSwitch||X({},a.IllegalBreak),m.createBreakStatement(null)):$()?(v.inIteration||v.inSwitch||X({},a.IllegalBreak),m.createBreakStatement(null)):(g.type===t.Identifier&&(e="$"+(n=me()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||X({},a.UnknownLabel,n.name)),J(),null!==n||v.inIteration||v.inSwitch||X({},a.IllegalBreak),m.createBreakStatement(n))}(),o);case"continue":return m.markEnd(function(){var e,n=null;return K("continue"),59===u.charCodeAt(f)?(z(),v.inIteration||X({},a.IllegalContinue),m.createContinueStatement(null)):$()?(v.inIteration||X({},a.IllegalContinue),m.createContinueStatement(null)):(g.type===t.Identifier&&(e="$"+(n=me()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||X({},a.UnknownLabel,n.name)),J(),null!==n||v.inIteration||X({},a.IllegalContinue),m.createContinueStatement(n))}(),o);case"debugger":return m.markEnd((K("debugger"),J(),m.createDebuggerStatement()),o);case"do":return m.markEnd((K("do"),y=v.inIteration,v.inIteration=!0,h=be(),v.inIteration=y,K("while"),q("("),d=de(),q(")"),Z(";")&&z(),m.createDoWhileStatement(h,d)),o);case"for":return m.markEnd(function(){var e,t,n,r,i,o,s,l,u,c,f=v.allowIn;return e=t=n=null,K("for"),q("("),Z(";")?z():(Q("var")||Q("let")?(v.allowIn=!1,c=g,l=z(),u=ve(),e=m.markEnd(m.createVariableDeclaration(u,l.value),c),v.allowIn=f,1===e.declarations.length&&Q("in")&&(z(),r=e,i=de(),e=null)):(v.allowIn=!1,e=de(),v.allowIn=f,Q("in")&&(ee(e)||W({},a.InvalidLHSInForIn),z(),r=e,i=de(),e=null)),void 0===r&&q(";")),void 0===r&&(Z(";")||(t=de()),q(";"),Z(")")||(n=de())),q(")"),s=v.inIteration,v.inIteration=!0,o=be(),v.inIteration=s,void 0===r?m.createForStatement(e,t,n,o):m.createForInStatement(r,i,o)}(),o);case"function":return m.markEnd(we(),o);case"if":return m.markEnd(function(){var e,t,n;return K("if"),q("("),e=de(),q(")"),t=be(),Q("else")?(z(),n=be()):n=null,m.createIfStatement(e,t,n)}(),o);case"return":return m.markEnd((l=null,K("return"),v.inFunctionBody||W({},a.IllegalReturn),32===u.charCodeAt(f)&&S(u.charCodeAt(f+1))?(l=de(),J(),m.createReturnStatement(l)):$()?m.createReturnStatement(null):(Z(";")||Z("}")||g.type===t.EOF||(l=de()),J(),m.createReturnStatement(l))),o);case"switch":return m.markEnd(function(){var e,t,n,r,i;if(K("switch"),q("("),e=de(),q(")"),q("{"),t=[],Z("}"))return z(),m.createSwitchStatement(e,t);for(r=v.inSwitch,v.inSwitch=!0,i=!1;f<p&&!Z("}");)null===(n=ye()).test&&(i&&X({},a.MultipleDefaultsInSwitch),i=!0),t.push(n);return v.inSwitch=r,q("}"),m.createSwitchStatement(e,t)}(),o);case"throw":return m.markEnd(function(){var e;return K("throw"),$()&&X({},a.NewlineAfterThrow),e=de(),J(),m.createThrowStatement(e)}(),o);case"try":return m.markEnd(function(){var e,t,n,r,i=[],o=null;return K("try"),e=pe(),Q("catch")&&i.push((r=g,K("catch"),q("("),Z(")")&&Y(g),t=me(),c&&A(t.name)&&W({},a.StrictCatchVariable),q(")"),n=pe(),m.markEnd(m.createCatchClause(t,n),r))),Q("finally")&&(z(),o=pe()),0!==i.length||o||X({},a.NoCatchOrFinally),m.createTryStatement(e,[],i,o)}(),o);case"var":return m.markEnd((K("var"),s=ve(),J(),m.createVariableDeclaration(s,"var")),o);case"while":return m.markEnd(function(){var e,t,n;return K("while"),q("("),e=de(),q(")"),n=v.inIteration,v.inIteration=!0,t=be(),v.inIteration=n,m.createWhileStatement(e,t)}(),o);case"with":return m.markEnd(function(){var e,t;return c&&(R(),W({},a.StrictModeWith)),K("with"),q("("),e=de(),q(")"),t=be(),m.createWithStatement(e,t)}(),o)}return(e=de()).type===i.Identifier&&Z(":")?(z(),r="$"+e.name,Object.prototype.hasOwnProperty.call(v.labelSet,r)&&X({},a.Redeclaration,"Label",e.name),v.labelSet[r]=!0,n=be(),delete v.labelSet[r],m.markEnd(m.createLabeledStatement(e,n),o)):(J(),m.markEnd(m.createExpressionStatement(e),o))}function _e(){var e,n,r,o,s,l,h,d,y=[];for(d=g,q("{");f<p&&g.type===t.StringLiteral&&(n=g,e=xe(),y.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(c=!0,r&&W(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(o=v.labelSet,s=v.inIteration,l=v.inSwitch,h=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;f<p&&!Z("}")&&void 0!==(e=xe());)y.push(e);return q("}"),v.labelSet=o,v.inIteration=s,v.inSwitch=l,v.inFunctionBody=h,m.markEnd(m.createBlockStatement(y),d)}function Ee(e){var t,n,r,i,o,s,l=[];if(q("("),!Z(")"))for(i={};f<p&&(n=g,t=me(),o="$"+n.value,c?(A(n.value)&&(r=n,s=a.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,s=a.StrictParamDupe)):e||(A(n.value)?(e=n,s=a.StrictParamName):O(n.value)?(e=n,s=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(e=n,s=a.StrictParamDupe)),l.push(t),i[o]=!0,!Z(")"));)q(",");return q(")"),{params:l,stricted:r,firstRestricted:e,message:s}}function we(){var e,t,n,r,i,o,s,l,u,f;return f=g,K("function"),r=g,e=me(),c?A(r.value)&&W(r,a.StrictFunctionName):A(r.value)?(s=r,l=a.StrictFunctionName):O(r.value)&&(s=r,l=a.StrictReservedWord),t=(o=Ee(s)).params,i=o.stricted,s=o.firstRestricted,o.message&&(l=o.message),u=c,n=_e(),c&&s&&X(s,l),c&&i&&W(i,l),c=u,m.markEnd(m.createFunctionDeclaration(e,t,[],n),f)}function xe(){if(g.type===t.Keyword)switch(g.value){case"const":case"let":return e=g.value,r=g,K(e),n=ve(e),J(),m.markEnd(m.createVariableDeclaration(n,e),r);case"function":return we();default:return be()}var e,n,r;if(g.type!==t.EOF)return be()}function Te(){var e,t,n,r=[];for(e=0;e<y.tokens.length;++e)n={type:(t=y.tokens[e]).type,value:t.value},y.range&&(n.range=t.range),y.loc&&(n.loc=t.loc),r.push(n);y.tokens=r}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},l={name:"SyntaxTree",processComment:function(e){var t,n;if(!(e.type===i.Program&&e.body.length>0)){for(y.trailingComments.length>0?y.trailingComments[0].range[0]>=e.range[1]?(n=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(n=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=e.range[0];)t=y.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=y.leadingComments,y.leadingComments=[]),n&&(e.trailingComments=n),y.bottomRightStack.push(e)}},markEnd:function(e,t){return y.range&&(e.range=[t.start,f]),y.loc&&(e.loc=new V(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),h,f-d),this.postProcess(e)),y.attachComment&&this.processComment(e),e},postProcess:function(e){return y.source&&(e.loc.source=y.source),e},createArrayExpression:function(e){return{type:i.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,n){return{type:i.AssignmentExpression,operator:e,left:t,right:n}},createBinaryExpression:function(e,t,n){return{type:"||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,operator:e,left:t,right:n}},createBlockStatement:function(e){return{type:i.BlockStatement,body:e}},createBreakStatement:function(e){return{type:i.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:i.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:i.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,n){return{type:i.ConditionalExpression,test:e,consequent:t,alternate:n}},createContinueStatement:function(e){return{type:i.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:i.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(e){return{type:i.ExpressionStatement,expression:e}},createForStatement:function(e,t,n,r){return{type:i.ForStatement,init:e,test:t,update:n,body:r}},createForInStatement:function(e,t,n){return{type:i.ForInStatement,left:e,right:t,body:n,each:!1}},createFunctionDeclaration:function(e,t,n,r){return{type:i.FunctionDeclaration,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,n,r){return{type:i.FunctionExpression,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:i.Identifier,name:e}},createIfStatement:function(e,t,n){return{type:i.IfStatement,test:e,consequent:t,alternate:n}},createLabeledStatement:function(e,t){return{type:i.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:i.Literal,value:e.value,raw:u.slice(e.start,e.end)}},createMemberExpression:function(e,t,n){return{type:i.MemberExpression,computed:"["===e,object:t,property:n}},createNewExpression:function(e,t){return{type:i.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:i.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:i.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:i.Program,body:e}},createProperty:function(e,t,n){return{type:i.Property,key:t,value:n,kind:e}},createReturnStatement:function(e){return{type:i.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:i.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:i.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:i.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(e){return{type:i.ThrowStatement,argument:e}},createTryStatement:function(e,t,n,r){return{type:i.TryStatement,block:e,guardedHandlers:t,handlers:n,finalizer:r}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:i.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:i.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:i.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:i.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:i.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:i.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=function(e,n){var r;"string"==typeof e||e instanceof String||(e=String(e)),m=l,f=0,h=(u=e).length>0?1:0,d=0,p=u.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},(n=n||{}).tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"==typeof n.range&&n.range,y.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(y.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(y.errors=[]);try{if(H(),g.type===t.EOF)return y.tokens;for(z();g.type!==t.EOF;)try{z()}catch(i){if(y.errors){y.errors.push(i);break}throw i}Te(),r=y.tokens,void 0!==y.comments&&(r.comments=y.comments),void 0!==y.errors&&(r.errors=y.errors)}catch(i){throw i}finally{y={}}return r},e.parse=function(e,n){var r,o;o=String,"string"==typeof e||e instanceof String||(e=o(e)),m=l,f=0,h=(u=e).length>0?1:0,d=0,p=u.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},void 0!==n&&(y.range="boolean"==typeof n.range&&n.range,y.loc="boolean"==typeof n.loc&&n.loc,y.attachComment="boolean"==typeof n.attachComment&&n.attachComment,y.loc&&null!==n.source&&void 0!==n.source&&(y.source=o(n.source)),"boolean"==typeof n.tokens&&n.tokens&&(y.tokens=[]),"boolean"==typeof n.comment&&n.comment&&(y.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{r=function(){var e,n;return R(),H(),n=g,c=!1,e=function(){for(var e,n,r,o=[];f<p&&(n=g).type===t.StringLiteral&&(e=xe(),o.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(c=!0,r&&W(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;f<p&&void 0!==(e=xe());)o.push(e);return o}(),m.markEnd(m.createProgram(e),n)}(),void 0!==y.comments&&(r.comments=y.comments),void 0!==y.tokens&&(Te(),r.tokens=y.tokens),void 0!==y.errors&&(r.errors=y.errors)}catch(s){throw s}finally{y={}}return r},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})?r.apply(t,[t]):r)||(e.exports=i)},function(e,t,n){var r=n(921);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(t.argTypes[o]="array",t.arrayArgs.push(o),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(o),t.shimArgs.push("scalar"+o);else if("index"===a){if(t.indexArgs.push(o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(o),o<t.pre.args.length&&t.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<t.post.args.length&&t.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);t.argTypes[o]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(o)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},function(e,t,n){var r=n(922);e.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},function(e,t,n){var r=n(431);function i(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<o;++r)u.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=c,c=e[r],0===r?u.push(["d",i,"s",r,"=t",i,"p",c].join("")):u.push(["d",i,"s",r,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=o-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(f=c,c=e[r],i=0;i<a;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var f=t.offsetArgIndex.indexOf(a);c=t.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var h="l"+a,d="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),o.push([d,".set(",u,",",h,")"].join(""))):r=r.replace(l,[d,".get(",u,")"].join("")):r=r.replace(l,[d,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",h,"=",d,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&o.push([d,".set(",u,",",h,")"].join(""))):(i.push(["var ",h,"=",d,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&o.push([d,"[",u,"]=",h].join("")));else{for(var p=[s.name],m=[u],g=0;g<Math.abs(t.arrayBlockIndices[c]);g++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+c+"b"+g);if(l=new RegExp(p.join(""),"g"),u=m.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[d,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}e.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),u=0;u<e.arrayArgs.length;++u)l[u]=t[2*u],s[u]=t[2*u+1];var c=[],f=[],h=[],d=[],p=[];for(u=0;u<e.arrayArgs.length;++u){e.arrayBlockIndices[u]<0?(h.push(0),d.push(n),c.push(n),f.push(n+e.arrayBlockIndices[u])):(h.push(e.arrayBlockIndices[u]),d.push(e.arrayBlockIndices[u]+n),c.push(0),f.push(e.arrayBlockIndices[u]));for(var m=[],g=0;g<s[u].length;g++)h[u]<=s[u][g]&&s[u][g]<d[u]&&m.push(s[u][g]-h[u]);p.push(m)}var v=["SS"],y=["'use strict'"],b=[];for(g=0;g<n;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(u=0;u<e.arrayArgs.length;++u){for(v.push("a"+u),v.push("t"+u),v.push("p"+u),g=0;g<n;++g)b.push(["t",u,"p",g,"=t",u,"[",h[u]+g,"]"].join(""));for(g=0;g<Math.abs(e.arrayBlockIndices[u]);++g)b.push(["t",u,"b",g,"=t",u,"[",c[u]+g,"]"].join(""))}for(u=0;u<e.scalarArgs.length;++u)v.push("Y"+u);if(e.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),e.indexArgs.length>0){var _=new Array(n);for(u=0;u<n;++u)_[u]="0";b.push(["index=[",_.join(","),"]"].join(""))}for(u=0;u<e.offsetArgs.length;++u){var E=e.offsetArgs[u],w=[];for(g=0;g<E.offset.length;++g)0!==E.offset[g]&&(1===E.offset[g]?w.push(["t",E.array,"p",g].join("")):w.push([E.offset[g],"*t",E.array,"p",g].join("")));0===w.length?b.push("q"+u+"=0"):b.push(["q",u,"=",w.join("+")].join(""))}var x=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((b=b.concat(x)).length>0&&y.push("var "+b.join(",")),u=0;u<e.arrayArgs.length;++u)y.push("p"+u+"|=0");e.pre.body.length>3&&y.push(o(e.pre,e,l));var T=o(e.body,e,l),S=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(p);S<n?y.push(function(e,t,n,r){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(c=e;c<o;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<a;++c){for(var f=["offset"+c],h=e;h<o;++h)f.push(["j",h,"*t",c,"p",t[h]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}for(u.push(i(t,n,r)),c=e;c<o;++c)u.push("}");return u.join("\n")}(S,p[0],e,T)):y.push(i(p[0],e,T)),e.post.body.length>3&&y.push(o(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var k=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",S,a(l)].join("");return new Function(["function ",k,"(",v.join(","),"){",y.join("\n"),"} return ",k].join(""))()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(134)),i=o(n(432));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return 1===e.shape.length?e:(0,r.default)((0,i.default)(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.split("."),n=t.slice(1).join("").length;return+t.join("")/Math.pow(10,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&r.__esModule?r:{default:r},o=n(10);t.default=function(e){return(0,o.map)((function(t){return e[t]}))((0,i.default)(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e||t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n={},r={},i=0,o=0;o<e.length;o++){var a=Number(e[o][1]);i+=a;var s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.pixiTextToSvg=function(e){var t=document.createElement("g"),n=document.createElement("text");return 0===e.anchor.x?n.setAttribute("text-anchor","start"):1===e.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+String(e.scale.x)+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+String(e.x)+","+String(e.y)+")scale("+String(e.scale.x)+",1)"),t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{var t=e.split(".");return function(e){var n=e;return t.forEach((function(e){n=n[e]})),n}}catch(n){return}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments[8],c=a?o:i,f=a?i:o,h=a?l:s,d=a?s:l,p=Math.max(0,+c[0]||0),m=Math.max(0,+c[1]||0),g=Math.max(0,+f[0]||0),v=Math.max(0,+f[1]||0),y=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{for(var b=new u.constructor(u.length),_=0+d,E=g;E<v;E++)b.set(e.slice(E*t+p,E*t+m),h+_*n),_+=1;var w=a?(0,r.accessorTransposition)(n,n):void 0;y=(0,r.addArrays)(u,b,w)}catch(x){}return y}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(220))&&r.__esModule?r:{default:r};t.default=function(e,t){var n=new RegExp("(\\s|^)"+String(t)+"(\\s|$)");if("http://www.w3.org/2000/svg"===e.namespaceURI){var r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n," "))}else e.classList?e.classList.remove(t):(0,i.default)(e,t)&&(e.className=e.className.replace(n," "))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.toString(16);return 1===t.length?"0"+String(t):t};t.default=function(e,t,n){return"#"+String(r(e))+String(r(t))+String(r(n))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var r=o(n(25)),i=o(n(323));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.scalesToGenomeLoci=function(e,t,n){if(null!==n&&e&&t){var o=e.domain()[0],a=e.domain()[1],s=t.domain()[0],l=t.domain()[1];return[].concat((0,r.default)((0,i.default)(o,a,n)),(0,r.default)((0,i.default)(s,l,n)))}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(132),i=n(10),o=n(11),a=function(e,t,n,a,s,l,u,c,f){e.publish("app.animateOnMouseMove",!0);var h=n.mousePositionColor?(0,i.hexStrToInt)(n.mousePositionColor):11184810,d=n.mousePositionAlpha||1,p=new o.GLOBALS.PIXI.Graphics,m=function(){p.clear()},g=function(e,t,n){if(n||m(),p.lineStyle(1,h,d),t){var r=c?s()[0]:0;p.moveTo(0,e),p.lineTo(l()[0]+r,e)}else{var i=c?s()[1]:0;p.moveTo(e,0),p.lineTo(e,l()[1]+i)}},v=function(e){if(e.noHoveredTracks)return m(),p;var t=void 0,n=void 0;e.isFromVerticalTrack?(t=e.dataY,n=e.dataY):(t=e.dataX,n=e.isFrom2dTrack?e.dataY:e.dataX);var r=c?s():[0,0],i=u()?a()[0](n)+r[1]:a()[0](t)+r[0];return g(i),c&&g(a()[1](n)+r[1],!0,!0),p};return t.push(e.subscribe("app.mouseMove",v)),t.push(e.subscribe("app.mouseLeave",m)),t.push(e.subscribe("blur",m)),f&&t.push(r.globalPubSub.subscribe("higlass.mouseMove",v)),p};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?e.pMasked:e.pForeground||e.pMain,i=function(){return[e.xScale(),e.yScale()]},o=a(e.pubSub,e.pubSubs,e.options,i,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,n);return r.addChild(o),function(){r.removeChild(o)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.some.call(t,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e+t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.svgLine=function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,i=0,o=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=function(){i>0&&(e.apply(void 0,o),i=0)};clearTimeout(r),r=setTimeout(s,n)};o.cancel=function(){clearTimeout(r),r=null},o.immediate=function(){e.apply(void 0,arguments)};var a=!1;return function(n){for(var r=arguments.length,s=Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];a?i++:(e.apply(void 0,s),o.apply(void 0,s),a=!0,i=0,setTimeout((function(){a=!1}),t))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);var o=new ImageData(e,r.width,r.height);return i.putImageData(o,0,0),r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(62))&&r.__esModule?r:{default:r};t.default=function(e){return new i.default((function(t){return setTimeout(t,e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.tracks)return 0;var t=0;return e.tracks.top&&(t+=e.tracks.top.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.center&&(t+=e.tracks.center.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.bottom&&(t+=e.tracks.bottom.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e||"").replace(/\/$/,"")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return function(i){var o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(e(i+n))))),t[o]}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e.length;n++)e[n].contents?t=t.concat(e[n].contents):t.push(e[n]);return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(949))&&r.__esModule?r:{default:r};t.default=function(e){e.sort((function(e,t){return t.to-t.from-(e.to-e.from)}));for(var t=[[]],n=[new i.default],r=0;r<e.length;r++){for(var o=!1,a=0;a<t.length;a++){var s=n[a],l=[+e[r].from,+e[r].to];if(!s.intersects(l)){s.add(l),t[a].push(e[r]),o=!0;break}}if(!o){var u=new i.default;u.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(u)}}return t}},function(e,t,n){function r(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function i(){this.root=null}function o(e,t,n){var i=new r(n[0],n[1]);if(i.max=n[1],i.parentNode=e,e[t]=i,e.max<n[1])for(;i;)i.max<n[1]&&(i.max=n[1]),i=i.parentNode}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.add=function(e){if(!this.root)return this.root=new r(e[0],e[1]),void(this.root.max=e[1]);!function e(t,n){t.interval[0]>n[0]?t.left?e(t.left,n):o(t,"left",n):t.right?e(t.right,n):o(t,"right",n)}(this.root,e)},i.prototype.contains=function(e){return function e(t,n){if(!n)return!1;if(n.interval[0]<=t&&n.interval[1]>=t)return!0;var r=!1,i=void 0;return["left","right"].forEach((function(o){(i=n[o])&&i.max>t&&(r=r||e(t,i))})),r}(e,this.root)},i.prototype.intersects=function(e){return function e(t,n){if(!n)return!1;if(r=n.interval,i=t,r[0]===i[0]&&r[1]===i[1]||r[0]<i[0]&&r[1]>i[0]||r[0]<i[1]&&r[1]>i[1]||i[0]<r[0]&&i[1]>r[0]||i[0]<r[1]&&i[1]>r[1])return!0;var r,i,o=!1,a=void 0;return["left","right"].forEach((function(r){(a=n[r])&&a.max>=t[0]&&(o=o||e(t,a))})),o}(e,this.root)},i.prototype.height=function(){return function e(t){return t?1+Math.max(e(t.left),e(t.right)):0}(this.root)},i.prototype.findMax=function(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)(n=t.pop()).left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i},i.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===t.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},i.prototype.remove=function(e){return this._removeHelper(e,this.root)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(17)),i=l(n(37)),o=l(n(55)),a=n(157),s=l(n(177));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},c=function(e,t,n){var r,i,a,s,l,u;if(void 0===n&&(n=o.default),e.resolutions)return r=e.resolutions,i=t,e.min_pos[0],e.max_pos[0],a=r.map((function(e){return+e})).sort((function(e,t){return t-e})),s=i.range()[1]-i.range()[0],0===(u=(l=a.map((function(e){return(i.domain()[1]-i.domain()[0])/e})).map((function(e){return e/s}))).filter((function(e){return e<1}))).length?0:l.indexOf(u[u.length-1]);var c,f,h,d,p,m,g,v,y,b=(c=t,f=e.min_pos[0],h=e.max_pos[0],d=e.bins_per_dimension||e.tile_size,p=c.range()[1]-c.range()[0],m=Math.max((h-f)/(c.domain()[1]-c.domain()[0]),1),g=Math.max(0,Math.ceil(Math.log(p/384)/Math.LN2)),v=Math.round(Math.log(m)/Math.LN2)+g,y=0,d&&(y=Math.floor(Math.log(256)/Math.log(2)-Math.log(d)/Math.log(2))),v+y),_=Math.min(b,n);return Math.max(_,0)},f={calculate1DVisibleTiles:function(e,t){if(!e)return[];var n,r,i,o,a,s,l,f=c(e,t,e.max_zoom);return e.resolutions?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:256,o=1e-7,a=e*i,s=20,l=Math.max(0,Math.floor((t.domain()[0]-n)/a)),c=Math.ceil(Math.min(r,t.domain()[1]-n-o)/a),f=u(l,c);return f.length>s&&(console.warn("Too many visible tiles: "+String(f.length)+" truncating to "+s),f=f.slice(0,s)),f}(e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[f],t,e.min_pos[0],e.max_pos[0]).map((function(e){return[f,e]})):(n=f,r=t,i=e.min_pos[0],e.max_pos[0],o=e.max_zoom,a=e.max_width,s=Math.min(n,o),l=a/Math.pow(2,s),u(Math.max(0,Math.floor((r.domain()[0]-i)/l)),Math.min(Math.pow(2,s),Math.ceil((r.domain()[1]-i-1e-7)/l)))).map((function(e){return[f,e]}))},calculate1DZoomLevel:c,drawAxis:function(e,t){if(e.axis||(e.axis=new s.default(e),e.pBase.addChild(e.axis.pAxis)),e.options.axisPositionVertical||e.options.axisPositionHorizontal)if(e.options.axisPositionVertical&&"hidden"===e.options.axisPositionVertical)e.axis.clearAxis();else if(e.options.axisPositionHorizontal&&"hidden"===e.options.axisPositionHorizontal)e.axis.clearAxis();else{var n=e.options.axisMargin||0;"left"===e.options.axisPositionHorizontal||"top"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):"outsideLeft"===e.options.axisPositionHorizontal||"outsideTop"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"right"===e.options.axisPositionHorizontal||"bottom"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"outsideRight"!==e.options.axisPositionHorizontal&&"outsideBottom"!==e.options.axisPositionVertical||(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))}else e.axis.clearAxis()},movedY:function(e,t){var n=e.valueScaleTransform,r=n.y,o=n.k;r+t/o>-(o-1)*e.dimensions[1]&&r+t/o<0&&(e.valueScaleTransform=n.translate(0,t/o)),(0,i.default)(e.fetchedTiles).forEach((function(t){t.graphics.position.y=e.valueScaleTransform.y})),e.animate()},getTilePosAndDimensions:function(e,t){var n=+t.split(".")[0],r=+t.split(".")[1],i=e.max_width,o=e.min_pos[0],a=i/Math.pow(2,n);return{tileX:o+r*a,tileWidth:a}},stretchRects:function(e,t){(0,i.default)(e.fetchedTiles).forEach((function(n){if(n.drawnAtScale){var i=n.drawnAtScale.range(),o=e._xScale.range();if(i[0]===o[0]&&i[1]===o[1]){var a=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(a>2||a<.5)e.renderTile(n);else{var s=e._xScale.domain().map(n.drawnAtScale)[0],l=!0,u=!1,c=void 0;try{for(var f,h=(0,r.default)(t);!(l=(f=h.next()).done);l=!0){var d=f.value;d(n).scale.x=a,d(n).x=-s*a}}catch(p){u=!0,c=p}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}}else e.renderTile(n)}}))},zoomedY:function(e,t,n,r){var i=n.k,o=n.y,s=(e-o)/i,l=Math.max(i/t,1),u=i*s+o-l*s;return u=Math.max(u,-(l-1)*r),u=Math.min(u,0),a.zoomIdentity.translate(0,u).scale(l)}};t.default=f},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.removeHGComponent=t.mountHGComponent=t.waitForTilesLoaded=t.isWaitingOnTiles=t.waitForJsonComplete=t.waitForTransitionsFinished=t.areTransitionsActive=t.changeOptions=void 0;var r=f(n(34)),i=f(n(17)),o=f(n(1)),a=f(n(41)),s=n(952),l=n(24),u=n(433),c=f(n(231));function f(e){return e&&e.__esModule?e:{default:e}}t.changeOptions=function(e,t,n,o){var a=!0,s=!1,l=void 0;try{for(var u,c=(0,i.default)(e.instance().iterateOverTracks());!(a=(u=c.next()).done);a=!0){var f=u.value,h=f.viewId,d=f.trackId,p=f.track;h===t&&d===n&&(p.options=(0,r.default)({},p.options,o))}}catch(m){s=!0,l=m}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}e.setState(e.instance().state)};var h=t.areTransitionsActive=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value;if((0,u.getTrackRenderer)(e,s.viewId,s.trackId).activeTransitions>0)return!0}}catch(l){n=!0,r=l}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1},d=(t.waitForTransitionsFinished=function e(t,n){h(t)?setTimeout((function(){e(t,n)}),100):n()},t.waitForJsonComplete=function e(t){l.requestsInFlight>0?setTimeout((function(){return e(t)}),100):t()}),p=t.isWaitingOnTiles=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value,l=(0,u.getTrackObjectFromHGC)(e,s.viewId,s.trackId);if(s.track.server||s.track.tilesetUid||s.track.data&&"divided"===s.track.data.type){if(!(s.track.data&&"divided"===s.track.data.type||s.track.server&&s.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(l.originalTrack&&(l=l.originalTrack),!l.tilesetInfo&&!l.chromInfo)return!0;if(l.fetching&&l.fetching.size)return!0}}}catch(c){n=!0,r=c}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1},m=t.waitForTilesLoaded=function e(t,n){p(t)?setTimeout((function(){e(t,n)}),100):n()};t.mountHGComponent=function(t,n,r,i,a){n&&(n.unmount(),n.detach()),t&&e.document.body.removeChild(t);var l=a&&a.style||"width:800px; background-color: lightgreen;",u=a&&a.bounded||!1,f=e.document.createElement("div");e.document.body.appendChild(f),f.setAttribute("style",l),f.setAttribute("id","simple-hg-component");var h=(0,s.mount)(o.default.createElement(c.default,{options:{bounded:u},viewConfig:r}),{attachTo:f});return h.update(),d((function(){a&&a.extendedDelay?m(h.instance(),(function(){return setTimeout((function(){i()}),1e3)})):m(h.instance(),i)})),[f,h]},t.removeHGComponent=function(e){e&&(a.default.unmountComponentAtNode(e),document.body.removeChild(e))}}).call(this,n(26))},function(e,t,n){var r=c(n(434)),i=c(n(502)),o=c(n(497)),a=c(n(1081)),s=c(n(1082)),l=c(n(1083)),u=n(312);function c(e){return e&&e.__esModule?e:{default:e}}e.exports={render:l.default,shallow:s.default,mount:a.default,ShallowWrapper:i.default,ReactWrapper:r.default,configure:u.merge,EnzymeAdapter:o.default}},function(e,t,n){var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(435),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)p&&"prototype"===v||!i.call(e,v)||h.push(String(v));if(l)for(var y=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||h.push(c[b]);return h}}e.exports=r},function(e,t,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},l=Math.max(0,t.length-a.length),u=[],c=0;c<l;c++)u.push("$"+c);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){var r=n(52),i=n(438);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var r=n(445),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){var r=n(444),i=n(100);function o(e,t){this.init(e,t)}function a(e,t){return i.getElementsByTagName(e,t,!0)}function s(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var o=l(n,r,i);o&&(e[t]=o)}n(58)(o,r),o.prototype.init=r;var c=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,n={},i=s(c,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=a("entry",t).map((function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=s("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=a("item",i.children).map((function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=o},function(e,t,n){var r=n(122),i=n(296),o=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return i(e,t)})).join(""):""},getOuterHTML:i,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):o(t)||t.type===r.CDATA?e(t.children):t.type===r.Text?t.data:""}}},function(e,t,n){var r=n(961),i=n(962);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(295)),i=l(r);t.XML=d(r,i);var o=s(n(294)),a=l(o);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function l(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=d(o,a);var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function f(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function h(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function d(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(c,h).replace(u,f)}}var p=l(r);t.escape=function(e){return e.replace(p,f).replace(c,h).replace(u,f)}},function(e,t,n){var r=n(294),i=n(443),o=n(295),a=n(442),s=u(o),l=u(r);function u(e){var t=Object.keys(e).join("|"),n=h(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var c=function(){for(var e=Object.keys(i).sort(f),t=Object.keys(r).sort(f),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=h(r);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}();function f(e,t){return e<t?1:-1}function h(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?a(parseInt(t.substr(3),16)):a(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(122).isTag;function i(e,t,n,r){for(var o,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--r<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=i(e,o,n,r),a=a.concat(o),(r-=o.length)<=0)));s++);return a}e.exports={filter:function(e,t,n,r){return Array.isArray(t)||(t=[t]),"number"==typeof r&&isFinite(r)||(r=1/0),i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,o=0,a=n.length;o<a&&!i;o++)r(n[o])&&(t(n[o])?i=n[o]:n[o].children.length>0&&(i=e(t,n[o].children)));return i},existsOne:function e(t,n){for(var i=0,o=n.length;i<o;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function e(t,n){for(var i=[],o=0,a=n.length;o<a;o++)r(n[o])&&(t(n[o])&&i.push(n[o]),n[o].children.length>0&&(i=i.concat(e(t,n[o].children))));return i}}},function(e,t,n){var r=n(122),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function a(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in o?o[t](n):a(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n=t.compareDocumentPosition=function(e,t){var n,r,i,o,a,s,l=[],u=[];if(e===t)return 0;for(n=e;n;)l.unshift(n),n=n.parent;for(n=t;n;)u.unshift(n),n=n.parent;for(s=0;l[s]===u[s];)s++;return 0===s?1:(i=(r=l[s-1]).children,o=l[s],a=u[s],i.indexOf(o)>i.indexOf(a)?r===t?20:4:r===e?10:2)};t.uniqueSort=function(e){var t,r,i=e.length;for(e=e.slice();--i>-1;)t=e[i],(r=e.indexOf(t))>-1&&r<i&&e.splice(i,1);return e.sort((function(e,t){var r=n(e,t);return 2&r?-1:4&r?1:0})),e}},function(e,t,n){e.exports=i;var r=n(446);function i(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n(58)(i,r),i.prototype.readable=!0;var a=n(148).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])o.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])o.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");o.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){var r=n(447),i=n(451);t.parse=function(e,t){return new r(t).parse(e)},t.parseFragment=function(e,t,n){return"string"==typeof e&&(n=t,t=e,e=null),new r(n).parseFragment(t,e)},t.serialize=function(e,t){return new i(e,t).serialize()},t.treeAdapters={default:n(298),htmlparser2:n(980)},t.ParserStream=n(452),t.PlainTextConversionStream=n(992),t.SerializerStream=n(993),t.SAXParser=n(994)},function(e,t,n){var r=n(149).CODE_POINTS,i=e.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536};i.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},i.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},i.prototype._processHighRangeCodePoint=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);i=t,(n=e)>=55296&&n<=56319&&i>=56320&&i<=57343&&(this.pos++,e=1024*(e-55296)+9216+t,this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;var n,i;return e},i.prototype.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},i.prototype.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},i.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,e>=55296?this._processHighRangeCodePoint(e):e)},i.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(e,t,n){e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(e,t,n){var r=n(64),i=r.TAG_NAMES,o=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP||e===i.MENUITEM}return!1}function s(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===o.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===o.MATHML;break;case 4:if(e===i.HTML)return t===o.HTML;if(e===i.DESC)return t===o.SVG;break;case 5:if(e===i.TABLE)return t===o.HTML;if(e===i.MTEXT)return t===o.MATHML;if(e===i.TITLE)return t===o.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===o.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===o.HTML;case 8:return e===i.TEMPLATE&&t===o.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===o.SVG;case 14:return e===i.ANNOTATION_XML&&t===o.MATHML}return!1}var l=e.exports=function(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t};l.prototype._indexOf=function(e){for(var t=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t},l.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},l.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},l.prototype.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},l.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},l.prototype.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},l.prototype.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},l.prototype.popUntilTagNamePopped=function(e){for(;this.stackTop>-1;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===o.HTML)break}},l.prototype.popUntilElementPopped=function(e){for(;this.stackTop>-1;){var t=this.current;if(this.pop(),t===e)break}},l.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===o.HTML)break}},l.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===o.HTML)break}},l.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},l.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.remove=function(e){for(var t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},l.prototype.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null},l.prototype.contains=function(e){return this._indexOf(e)>-1},l.prototype.getCommonAncestor=function(e){var t=this._indexOf(e);return--t>=0?this.items[t]:null},l.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},l.prototype.hasInScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},l.prototype.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===o.HTML)return!0;if(s(t,n))return!1}return!0},l.prototype.hasInListItemScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInButtonScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInTableScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},l.prototype.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0},l.prototype.hasInSelectScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},l.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},l.prototype.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()}},function(e,t,n){var r=e.exports=function(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null};r.MARKER_ENTRY="MARKER_ENTRY",r.ELEMENT_ENTRY="ELEMENT_ENTRY",r.prototype._getNoahArkConditionCandidates=function(e){var t=[];if(this.length>=3)for(var n=this.treeAdapter.getAttrList(e).length,i=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e),a=this.length-1;a>=0;a--){var s=this.entries[a];if(s.type===r.MARKER_ENTRY)break;var l=s.element,u=this.treeAdapter.getAttrList(l);this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===o&&u.length===n&&t.push({idx:a,attrs:u})}return t.length<3?[]:t},r.prototype._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var r=this.treeAdapter.getAttrList(e),i=r.length,o=Object.create(null),a=0;a<i;a++){var s=r[a];o[s.name]=s.value}for(a=0;a<i;a++)for(var l=0;l<n;l++){var u=t[l].attrs[a];if(o[u.name]!==u.value&&(t.splice(l,1),n--),t.length<3)return}for(a=n-1;a>=2;a--)this.entries.splice(t[a].idx,1),this.length--}},r.prototype.insertMarker=function(){this.entries.push({type:r.MARKER_ENTRY}),this.length++},r.prototype.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.insertElementAfterBookmark=function(e,t){for(var n=this.length-1;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.removeEntry=function(e){for(var t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},r.prototype.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===r.MARKER_ENTRY)break}},r.prototype.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null},r.prototype.getElementEntry=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.ELEMENT_ENTRY&&n.element===e)return n}return null}},function(e,t,n){var r=n(200),i=n(123),o=n(448),a=n(449),s=n(979),l=n(64),u=n(71).inherits,c=l.TAG_NAMES,f=e.exports=function(e){r.call(this,e),this.parser=e,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(f,r),f.prototype._setStartLocation=function(e){this.lastStartTagToken?(e.__location=Object.create(this.lastStartTagToken.location),e.__location.startTag=this.lastStartTagToken.location):e.__location=null},f.prototype._setEndLocation=function(e,t){var n=e.__location;if(n)if(t.location){var r=t.location,o=this.parser.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&o===t.tagName?(n.endTag=Object.create(r),n.endOffset=r.endOffset):n.endOffset=r.startOffset}else t.type===i.EOF_TOKEN&&(n.endOffset=this.posTracker.offset)},f.prototype._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null,e.posTracker=new a(this.tokenizer.preprocessor),new o(this.tokenizer),new s(this.openElements,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop:function(n){t._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent:function(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===c.HTML||n.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType:function(e){t._setDocumentType.call(this,e);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,i=0;i<r;i++){var o=n[i];if(this.treeAdapter.isDocumentTypeNode(o)){o.__location=e.location;break}}},_attachElementToTree:function(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement:function(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement:function(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate:function(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){t._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(e,n){t._appendCommentNode.call(this,e,n);var r=this.treeAdapter.getChildNodes(n);r[r.length-1].__location=e.location},_findFosterParentingLocation:function(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters:function(n){t._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),i=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,o=this.treeAdapter.getChildNodes(i),a=r&&e.lastFosterParentingLocation.beforeElement?o.indexOf(e.lastFosterParentingLocation.beforeElement)-1:o.length-1,s=o[a];s.__location?s.__location.endOffset=n.location.endOffset:s.__location=n.location}}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){var r=n(200),i=n(71).inherits,o=e.exports=function(e,t){r.call(this,e),this.onItemPop=t.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(e,t){return{pop:function(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)e.onItemPop(this.items[n]);t.popAllUpToHtmlElement.call(this)},remove:function(n){e.onItemPop(this.current),t.remove.call(this,n)}}}},function(e,t,n){var r=n(300),i=n(64).DOCUMENT_MODE,o={element:1,text:3,cdata:4,comment:8},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};s.prototype={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(s.prototype,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})),t.createDocument=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":i.NO_QUIRKS})},t.createDocumentFragment=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},t.createElement=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var l=n[a].name;r[l]=n[a].value,i[l]=n[a].namespace,o[l]=n[a].prefix}return new s({type:"script"===e||"style"===e?e:"tag",name:e,namespace:t,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},t.createCommentNode=function(e){return new s({type:"comment",data:e,parent:null,prev:null,next:null})};var l=function(e){return new s({type:"text",data:e,parent:null,prev:null,next:null})},u=t.appendChild=function(e,t){var n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},c=t.insertBefore=function(e,t,n){var r=e.children.indexOf(n),i=n.prev;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e};t.setTemplateContent=function(e,t){u(e,t)},t.getTemplateContent=function(e){return e.children[0]},t.setDocumentType=function(e,t,n,i){for(var o=r.serializeContent(t,n,i),a=null,l=0;l<e.children.length;l++)if("directive"===e.children[l].type&&"!doctype"===e.children[l].name){a=e.children[l];break}a?(a.data=o,a["x-name"]=t,a["x-publicId"]=n,a["x-systemId"]=i):u(e,new s({type:"directive",name:"!doctype",data:o,"x-name":t,"x-publicId":n,"x-systemId":i}))},t.setDocumentMode=function(e,t){e["x-mode"]=t},t.getDocumentMode=function(e){return e["x-mode"]},t.detachNode=function(e){if(e.parent){var t=e.parent.children.indexOf(e),n=e.prev,r=e.next;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},t.insertText=function(e,t){var n=e.children[e.children.length-1];n&&"text"===n.type?n.data+=t:u(e,l(t))},t.insertTextBefore=function(e,t,n){var r=e.children[e.children.indexOf(n)-1];r&&"text"===r.type?r.data+=t:c(e,l(t),n)},t.adoptAttributes=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},t.getFirstChild=function(e){return e.children[0]},t.getChildNodes=function(e){return e.children},t.getParentNode=function(e){return e.parent},t.getAttrList=function(e){var t=[];for(var n in e.attribs)t.push({name:n,value:e.attribs[n],namespace:e["x-attribsNamespace"][n],prefix:e["x-attribsPrefix"][n]});return t},t.getTagName=function(e){return e.name},t.getNamespaceURI=function(e){return e.namespace},t.getTextNodeContent=function(e){return e.data},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e["x-name"]},t.getDocumentTypeNodePublicId=function(e){return e["x-publicId"]},t.getDocumentTypeNodeSystemId=function(e){return e["x-systemId"]},t.isTextNode=function(e){return"text"===e.type},t.isCommentNode=function(e){return"comment"===e.type},t.isDocumentTypeNode=function(e){return"directive"===e.type&&"!doctype"===e.name},t.isElementNode=function(e){return!!e.attribs}},function(e,t){},function(e,t,n){var r=n(199).Buffer,i=n(983);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,n=a,o.data.copy(t,n),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(985),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(26))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},h.clearImmediate=d}function d(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(26),n(150))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(26))},function(e,t,n){e.exports=o;var r=n(456),i=n(151);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(58),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(302)},function(e,t,n){e.exports=n(101)},function(e,t,n){e.exports=n(301).Transform},function(e,t,n){e.exports=n(301).PassThrough},function(e,t,n){var r=n(452),i=n(71).inherits,o=n(64).TAG_NAMES;i(e.exports=function(e){r.call(this,e),this.parser._insertFakeElement(o.HTML),this.parser._insertFakeElement(o.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(o.BODY),this.parser._insertFakeElement(o.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},r)},function(e,t,n){var r=n(201).Readable,i=n(71).inherits,o=n(451),a=e.exports=function(e,t){r.call(this),this.serializer=new o(e,t),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};i(a,r),a.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(e,t,n){var r=n(201).Transform,i=n(995),o=n(71).inherits,a=n(123),s=n(448),l=n(996),u=n(299),c={locationInfo:!1},f=e.exports=function(e){r.call(this),this.options=u(c,e),this.tokenizer=new a(e),this.options.locationInfo&&new s(this.tokenizer),this.parserFeedbackSimulator=new l(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new i)};o(f,r),f.prototype._transform=function(e,t,n){this.stopped||(this.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(e),n()},f.prototype._flush=function(e){e()},f.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e,t,n)},f.prototype.stop=function(){this.stopped=!0},f.prototype._runParsingLoop=function(){do{var e=this.parserFeedbackSimulator.getNextToken();if(e.type===a.HIBERNATION_TOKEN)break;e.type===a.CHARACTER_TOKEN||e.type===a.WHITESPACE_CHARACTER_TOKEN||e.type===a.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=e.location:this.currentTokenLocation.endOffset=e.location.endOffset),this.pendingText=(this.pendingText||"")+e.chars):(this._emitPendingText(),this._handleToken(e))}while(!this.stopped&&e.type!==a.EOF_TOKEN)},f.prototype._handleToken=function(e){this.options.locationInfo&&(this.currentTokenLocation=e.location),e.type===a.START_TAG_TOKEN?this.emit("startTag",e.tagName,e.attrs,e.selfClosing,this.currentTokenLocation):e.type===a.END_TAG_TOKEN?this.emit("endTag",e.tagName,this.currentTokenLocation):e.type===a.COMMENT_TOKEN?this.emit("comment",e.data,this.currentTokenLocation):e.type===a.DOCTYPE_TOKEN&&this.emit("doctype",e.name,e.publicId,e.systemId,this.currentTokenLocation)},f.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(e,t,n){var r=n(201).Writable,i=n(71),o=e.exports=function(){r.call(this)};i.inherits(o,r),o.prototype._write=function(e,t,n){n()}},function(e,t,n){var r=n(123),i=n(450),o=n(149),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u=e.exports=function(e){this.tokenizer=e,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)};u.prototype.getNextToken=function(){var e=this.tokenizer.getNextToken();if(e.type===r.START_TAG_TOKEN)this._handleStartTagToken(e);else if(e.type===r.END_TAG_TOKEN)this._handleEndTagToken(e);else if(e.type===r.NULL_CHARACTER_TOKEN&&this.inForeignContent)e.type=r.CHARACTER_TOKEN,e.chars=o.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(e.type!==r.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),e.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)return this.getNextToken();e.chars=e.chars.substr(1)}return e},u.prototype._enterNamespace=function(e){this.namespaceStackTop++,this.namespaceStack.push(e),this.inForeignContent=e!==l.HTML,this.currentNamespace=e,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(e){e===s.TEXTAREA||e===s.TITLE?this.tokenizer.state=r.MODE.RCDATA:e===s.PLAINTEXT?this.tokenizer.state=r.MODE.PLAINTEXT:e===s.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e!==s.STYLE&&e!==s.IFRAME&&e!==s.XMP&&e!==s.NOEMBED&&e!==s.NOFRAMES&&e!==s.NOSCRIPT||(this.tokenizer.state=r.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(e){var t=e.tagName;if(t===s.SVG?this._enterNamespace(l.SVG):t===s.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(e))return void this._leaveCurrentNamespace();var n=this.currentNamespace;n===l.MATHML?i.adjustTokenMathMLAttrs(e):n===l.SVG&&(i.adjustTokenSVGTagName(e),i.adjustTokenSVGAttrs(e)),i.adjustTokenXMLAttrs(e),t=e.tagName,!e.selfClosing&&i.isIntegrationPoint(t,n,e.attrs)&&this._enterNamespace(l.HTML)}else t===s.PRE||t===s.TEXTAREA||t===s.LISTING?this.skipNextNewLine=!0:t===s.IMAGE&&(e.tagName=s.IMG),this._ensureTokenizerMode(t)},u.prototype._handleEndTagToken=function(e){var t=e.tagName;if(this.inForeignContent)(t===s.SVG&&this.currentNamespace===l.SVG||t===s.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{var n=this.namespaceStack[this.namespaceStackTop-1];n===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]&&(t=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]),i.isIntegrationPoint(t,n,e.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(e)}},function(e,t,n){var r=n(459),i=n(998),o=n(999),a=n(461),s=n(1016),l=n(465),u=n(1017),c=n(467),f=n(468),h=n(1018),d=Math.max;e.exports=function(e,t,n,p,m,g,v,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var _=p?p.length:0;if(_||(t&=-97,p=m=void 0),v=void 0===v?v:d(h(v),0),y=void 0===y?y:h(y),_-=m?m.length:0,64&t){var E=p,w=m;p=m=void 0}var x=b?void 0:l(e),T=[e,t,n,p,m,E,w,g,v,y];if(x&&u(T,x),e=T[0],t=T[1],n=T[2],p=T[3],m=T[4],!(y=T[9]=void 0===T[9]?b?0:e.length:d(T[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?o(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,T):s(e,t,n,p);else var S=i(e,t,n);return f((x?r:c)(S,T),e,t)}},function(e,t,n){var r=n(204),i=n(40);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},function(e,t,n){var r=n(289),i=n(204),o=n(461),a=n(464),s=n(306),l=n(205),u=n(40);e.exports=function(e,t,n){var c=i(e);return function i(){for(var f=arguments.length,h=Array(f),d=f,p=s(i);d--;)h[d]=arguments[d];var m=f<3&&h[0]!==p&&h[f-1]!==p?[]:l(h,p);if((f-=m.length)<n)return a(e,t,o,i.placeholder,void 0,h,m,void 0,void 0,n-f);var g=this&&this!==u&&this instanceof i?c:e;return r(g,this,h)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(304),i=n(465),o=n(1003),a=n(1005);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(1004),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(304),i=n(466),o=n(305),a=n(31),s=n(56),l=n(1006),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},function(e,t,n){var r=n(304),i=n(466),o=n(195);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(283),i=n(1010),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(1011);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(1012),i=n(1013),o=n(1014);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(195),i=n(142),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},function(e,t,n){var r=n(289),i=n(204),o=n(40);e.exports=function(e,t,n,a){var s=1&t,l=i(e);return function t(){for(var i=-1,u=arguments.length,c=-1,f=a.length,h=Array(f+u),d=this&&this!==o&&this instanceof t?l:e;++c<f;)h[c]=a[c];for(;u--;)h[c++]=arguments[++i];return r(d,s?n:this,h)}}},function(e,t,n){var r=n(462),i=n(463),o=n(205),a=Math.min;e.exports=function(e,t){var n=e[1],s=t[1],l=n|s,u=l<131,c=128==s&&8==n||128==s&&256==n&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==n;if(!u&&!c)return e;1&s&&(e[2]=t[2],l|=1&n?0:4);var f=t[3];if(f){var h=e[3];e[3]=h?r(h,f,t[4]):f,e[4]=h?o(e[3],"__lodash_placeholder__"):t[4]}return(f=t[5])&&(h=e[5],e[5]=h?i(h,f,t[6]):f,e[6]=h?o(e[5],"__lodash_placeholder__"):t[6]),(f=t[7])&&(e[7]=f),128&s&&(e[8]=null==e[8]?t[8]:a(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},function(e,t,n){var r=n(1019);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(421);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(307),i=n(152),o=i.isTag,a=i.domEach,s=Object.prototype.hasOwnProperty,l=i.camelCase,u=i.cssCase,c=/\s+/,f={forEach:n(147),extend:n(458),some:n(1028)},h={null:null,true:!0,false:!1},d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,m=function(e,t){if(e&&o(e))return e.attribs||(e.attribs={}),t?s.call(e.attribs,t)?d.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?r.text(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs},g=function(e,t,n){null===n?_(e,t):e.attribs[t]=n+""};t.attr=function(e,t){return"object"==typeof e||void 0!==t?a(this,"function"==typeof t?function(n,r){g(r,e,t.call(r,n,r.attribs[e]))}:function(n,r){o(r)&&("object"==typeof e?f.forEach(e,(function(e,t){g(r,t,e)})):g(r,e,t))}):m(this[0],e)};var v=function(e,t){if(e&&o(e))return s.call(e,t)?e[t]:d.test(t)?void 0!==m(e,t):m(e,t)},y=function(e,t,n){e[t]=d.test(t)?!!n:n};t.prop=function(e,t){var n,r=0;if("string"==typeof e&&void 0===t){switch(e){case"style":n=this.css(),f.forEach(n,(function(e,t){n[r++]=t})),n.length=r;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=v(this[0],e)}return n}if("object"==typeof e||void 0!==t)return a(this,"function"==typeof t?function(n,r){y(r,e,t.call(r,n,v(r,e)))}:function(n,r){o(r)&&("object"==typeof e?f.forEach(e,(function(e,t){y(r,t,e)})):y(r,e,t))})};var b=function(e,t){var n,r,i,o,a,c,f,d=1===arguments.length;for(d?i=(n=Object.keys(e.attribs).filter((function(e){return"data-"===e.slice(0,"data-".length)}))).map((function(e){return l(e.slice("data-".length))})):(n=["data-"+u(t)],i=[t]),c=0,f=n.length;c<f;++c)if(r=n[c],o=i[c],s.call(e.attribs,r)){if(a=e.attribs[r],s.call(h,a))a=h[a];else if(a===String(Number(a)))a=Number(a);else if(p.test(a))try{a=JSON.parse(a)}catch(m){}e.data[o]=a}return d?e.data:a};t.data=function(e,t){var n=this[0];if(n&&o(n))return n.data||(n.data={}),e?"object"==typeof e||void 0!==t?(a(this,(function(n,r){!function(e,t,n){if(e.data||(e.data={}),"object"==typeof t)return f.extend(e.data,t);"string"==typeof t&&void 0!==n&&(e.data[t]=n)}(r,e,t)})),this):s.call(n.data,e)?n.data[e]:b(n,e):b(n)},t.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":switch(this.attr("type")){case"radio":return t?this.attr("value"):(this.attr("value",e),this);default:return this.attr("value",e)}case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!t){if(!s.call(this.attr(),"multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var o=0;o<e.length;o++)this.find('option[value="'+e[o]+'"]').attr("selected","");return this}return r=i.attr("value"),s.call(this.attr(),"multiple")&&(r=[],a(i,(function(e,t){r.push(m(t,"value"))}))),r;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var _=function(e,t){e.attribs&&s.call(e.attribs,t)&&delete e.attribs[t]};t.removeAttr=function(e){return a(this,(function(t,n){_(n,e)})),this},t.hasClass=function(e){return f.some(this,(function(t){var n,r=t.attribs,i=r&&r.class,o=-1;if(i&&e.length)for(;(o=i.indexOf(e,o+1))>-1;)if(n=o+e.length,(0===o||c.test(i[o-1]))&&(n===i.length||c.test(i[n])))return!0}))},t.addClass=function(e){if("function"==typeof e)return a(this,(function(n,r){var i=r.attribs.class||"";t.addClass.call([r],e.call(r,n,i))}));if(!e||"string"!=typeof e)return this;for(var n=e.split(c),r=this.length,i=0;i<r;i++)if(o(this[i])){var s,l,u=m(this[i],"class");if(u){l=" "+u+" ",s=n.length;for(var f=0;f<s;f++){var h=n[f]+" ";l.indexOf(" "+h)<0&&(l+=h)}g(this[i],"class",l.trim())}else g(this[i],"class",n.join(" ").trim())}return this};var E=function(e){return e?e.trim().split(c):[]};t.removeClass=function(e){var n,r,i;return"function"==typeof e?a(this,(function(n,r){t.removeClass.call([r],e.call(r,n,r.attribs.class||""))})):(n=E(e),r=n.length,i=0===arguments.length,a(this,(function(e,t){if(o(t))if(i)t.attribs.class="";else{for(var a,s,l=E(t.attribs.class),u=0;u<r;u++)(a=l.indexOf(n[u]))>=0&&(l.splice(a,1),s=!0,u--);s&&(t.attribs.class=l.join(" "))}})))},t.toggleClass=function(e,n){if("function"==typeof e)return a(this,(function(r,i){t.toggleClass.call([i],e.call(i,r,i.attribs.class||"",n),n)}));if(!e||"string"!=typeof e)return this;for(var r,i,s=e.split(c),l=s.length,u="boolean"==typeof n?n?1:-1:0,f=this.length,h=0;h<f;h++)if(o(this[h])){r=E(this[h].attribs.class);for(var d=0;d<l;d++)i=r.indexOf(s[d]),u>=0&&i<0?r.push(s[d]):u<=0&&i>=0&&r.splice(i,1);this[h].attribs.class=r.join(" ")}return this},t.is=function(e){return!!e&&this.filter(e).length>0}},function(e,t,n){var r=n(1022),i=n(1023);e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},function(e,t){e.exports=function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,r=e.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return r[1]?(t=parseInt(r[1],10),isNaN(t)&&(t="-"===r[1].charAt(0)?-1:1)):t=0,[t,r[3]?parseInt((r[2]||"")+r[3],10):0]};var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(e,t,n){e.exports=function(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return o;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return e>=n};var r=n%t;return r<0&&(r+=t),t>1?function(e){return e>=n&&e%t===r}:(t*=-1,function(e){return e<=n&&e%t===r})};var r=n(153),i=r.trueFunc,o=r.falseFunc},function(e,t,n){e.exports=function(e,t,n){return h(d(e,t,n))},e.exports.compileUnsafe=d,e.exports.compileToken=b;var r=n(1025),i=n(100),o=i.isTag,a=n(1026),s=n(1027),l=n(153),u=l.trueFunc,c=l.falseFunc,f=n(472);function h(e){return function(t){return o(t)&&e(t)}}function d(e,t,n){return b(r(e,t),t,n)}function p(e){return"pseudo"===e.type&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((function(e){return e.some(p)})))}var m={type:"descendant"},g={type:"pseudo",name:"scope"},v={},y=i.getParent;function b(e,t,n){(e=e.filter((function(e){return e.length>0}))).forEach(s);var r,i,o,l=Array.isArray(n);return(n=t&&t.context||n)&&!l&&(n=[n]),r=e,o=!!(i=n)&&!!i.length&&i.every((function(e){return e===v||!!y(e)})),r.forEach((function(e){if(e.length>0&&_(e[0])&&"descendant"!==e[0].type);else{if(!o||p(e))return;e.unshift(m)}e.unshift(g)})),e.map((function(e){return function(e,t,n,r){var i=r&&"scope"===e[0].name&&"descendant"===e[1].type;return e.reduce((function(e,r,o){return e===c?e:a[r.type](e,r,t,n,i&&1===o)}),t&&t.rootFunc||u)}(e,t,n,l)})).reduce(E,c)}function _(e){return f[e.type]<0}function E(e,t){return t===c||e===u?e:e===c||t===u?t:function(n){return e(n)||t(n)}}var w=n(308).filters,x=i.existsOne,T=(o=i.isTag,i.getChildren);function S(e){return e.some(_)}w.not=function(e,t,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(t.length>1||t.some(S)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=b(t,i,r);return o===c?e:o===u?c:function(t){return!o(t)&&e(t)}},w.has=function(e,t,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=t.some(S)?[v]:null,a=b(t,r,i);return a===c?c:a===u?function(t){return T(t).some(o)&&e(t)}:(a=h(a),i?function(t){return e(t)&&(i[0]=t,x(a,T(t)))}:function(t){return e(t)&&x(a,T(t))})},w.matches=function(e,t,n,r){return b(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e},r)}},function(e,t,n){e.exports=function(e,t){var n=[];if(""!==(e=function e(t,n,i){var h,g,v,y,b=[],_=!1;function E(){var e=n.match(r)[0];return n=n.substr(e.length),d(e)}function w(e){for(;p(n.charAt(e));)e++;n=n.substr(e)}function x(e){for(var t=0;"\\"===n.charAt(--e);)t++;return 1==(1&t)}for(w(0);""!==n;)if(p(g=n.charAt(0)))_=!0,w(1);else if(g in s)b.push({type:s[g]}),_=!1,w(1);else if(","===g){if(0===b.length)throw new SyntaxError("empty sub-selector");t.push(b),b=[],_=!1,w(1)}else if(_&&(b.length>0&&b.push({type:"descendant"}),_=!1),"*"===g)n=n.substr(1),b.push({type:"universal"});else if(g in l)n=n.substr(1),b.push({type:"attribute",name:l[g][0],action:l[g][1],value:E(),ignoreCase:!1});else if("["===g){if(!(h=(n=n.substr(1)).match(o)))throw new SyntaxError("Malformed attribute selector: "+n);n=n.substr(h[0].length),v=d(h[1]),i&&("lowerCaseAttributeNames"in i?!i.lowerCaseAttributeNames:i.xmlMode)||(v=v.toLowerCase()),b.push({type:"attribute",name:v,action:a[h[2]],value:d(h[4]||h[5]||""),ignoreCase:!!h[6]})}else if(":"===g){if(":"===n.charAt(1)){n=n.substr(2),b.push({type:"pseudo-element",name:E().toLowerCase()});continue}if(n=n.substr(1),v=E().toLowerCase(),h=null,"("===n.charAt(0))if(v in u){var T=(y=n.charAt(1))in f;if(n=e(h=[],n=n.substr(T+1),i),T){if(n.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+v);n=n.substr(1)}if(")"!==n.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+v+" "+n);n=n.substr(1)}else{for(var S=1,k=1;k>0&&S<n.length;S++)"("!==n.charAt(S)||x(S)?")"!==n.charAt(S)||x(S)||k--:k++;if(k)throw new SyntaxError("parenthesis not matched");h=n.substr(1,S-2),n=n.substr(S),v in c&&((y=h.charAt(0))===h.slice(-1)&&y in f&&(h=h.slice(1,-1)),h=d(h))}b.push({type:"pseudo",name:v,data:h})}else{if(!r.test(n))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),m(t,b),n;v=E(),i&&("lowerCaseTags"in i?!i.lowerCaseTags:i.xmlMode)||(v=v.toLowerCase()),b.push({type:"tag",name:v})}return m(t,b),n}(n,e+"",t)))throw new SyntaxError("Unmatched selector: "+e);return n};var r=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},f={__proto__:null,'"':!0,"'":!0};function h(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function d(e){return e.replace(i,h)}function p(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function m(e,t){if(e.length>0&&0===t.length)throw new SyntaxError("empty sub-selector");e.push(t)}},function(e,t,n){var r=n(100),i=r.isTag,o=r.getParent,a=r.getChildren,s=r.getSiblings,l=r.getName;e.exports={__proto__:null,attribute:n(471).compile,pseudo:n(308).compile,tag:function(e,t){var n=t.name;return function(t){return l(t)===n&&e(t)}},descendant:function(e,t,n,r,i){return function(t){if(i&&e(t))return!0;for(var n=!1;!n&&(t=o(t));)n=e(t);return n}},parent:function(e,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return a(e).some(r)};function r(t){return i(t)&&e(t)}},child:function(e){return function(t){var n=o(t);return!!n&&e(n)}},sibling:function(e){return function(t){for(var n=s(t),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===t)break;if(e(n[r]))return!0}return!1}},adjacent:function(e){return function(t){for(var n,r=s(t),o=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;n=r[o]}return!!n&&e(n)}},universal:function(e){return e}}},function(e,t,n){e.exports=function(e){for(var t=e.map(o),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;i>=0&&r<t[i];i--){var a=e[i+1];e[i+1]=e[i],e[i]=a,t[i+1]=t[i],t[i]=r}}};var r=n(472),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(e){var t=r[e.type];if(t===r.attribute)(t=i[e.action])===i.equals&&"id"===e.name&&(t=9),e.ignoreCase&&(t>>=1);else if(t===r.pseudo)if(e.data)if("has"===e.name||"contains"===e.name)t=0;else if("matches"===e.name||"not"===e.name){t=0;for(var n=0;n<e.data.length;n++)if(1===e.data[n].length){var a=o(e.data[n][0]);if(0===a){t=0;break}a>t&&(t=a)}e.data.length>1&&t>0&&(t-=1)}else t=1;else t=3;return t}},function(e,t,n){var r=n(402),i=n(144),o=n(1029),a=n(31),s=n(291);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},function(e,t,n){var r=n(146);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){var r=n(470),i=n(152),o=i.domEach,a=n(148).DomUtils.uniqueSort,s=i.isTag,l={bind:n(303),forEach:n(147),reject:n(1031),filter:n(1033),reduce:n(1034)};t.find=function(e){var t,n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]),i=this.constructor.contains;if(e&&"string"!=typeof e)return t=e.cheerio?e.get():[e],this._make(t.filter((function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(i(this[t],e))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(r(e,n,o))},t.parent=function(e){var n=[];return o(this,(function(e,t){var r=t.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=t.filter.call(n,e,this)),this._make(n)},t.parents=function(e){var t=[];return this.get().reverse().forEach((function(n){c(this,n.parent,e,1/0).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}),this),this._make(t)},t.parentsUntil=function(e,t){var n,i,o=[];return"string"==typeof e?n=r(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?i=e.toArray():e&&(n=e),this.toArray().reverse().forEach((function(e){for(;(e=e.parent)&&(n&&e!==n||i&&-1===i.indexOf(e)||!n&&!i);)s(e)&&-1===o.indexOf(e)&&o.push(e)}),this),this._make(t?r(t,o,this.options):o)},t.closest=function(e){var t=[];return e?(o(this,function(n,r){var i=c(this,r,e,1)[0];i&&t.indexOf(i)<0&&t.push(i)}.bind(this)),this._make(t)):this._make(t)},t.next=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.next)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.prev=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.prev)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.siblings=function(e){var n=this.parent(),r=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(e){return s(e)&&!this.is(e)}),this));return void 0!==e?t.filter.call(r,e,this):this._make(r)},t.children=function(e){var n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]);return void 0===e?this._make(n):t.filter.call(n,e,this)},t.contents=function(){return this._make(l.reduce(this,(function(e,t){return e.push.apply(e,t.children),e}),[]))},t.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},t.map=function(e){return this._make(l.reduce(this,(function(t,n,r){var i=e.call(n,r,n);return null==i?t:t.concat(i)}),[]))};var u=function(e){return function(t,n){var i;return n=n||this,i="string"==typeof t?r.compile(t,n.options):"function"==typeof t?function(e,n){return t.call(e,n,e)}:t.cheerio?t.is.bind(t):function(e){return t===e},n._make(e(this,i))}};function c(e,n,r,i){for(var o=[];n&&o.length<i;)r&&!t.filter.call([n],r,e).length||o.push(n),n=n.parent;return o}t.filter=u(l.filter),t.not=u(l.reject),t.has=function(e){var n=this;return t.filter.call(this,(function(){return n._make(this).find(e).length>0}))},t.first=function(){return this.length>1?this._make(this[0]):this},t.last=function(){return this.length>1?this._make(this[this.length-1]):this},t.eq=function(e){return 0==(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},t.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},t.index=function(e){var t,n;return 0===arguments.length?(t=this.parent().children(),n=this[0]):"string"==typeof e?(t=this._make(e),n=this[0]):(t=this,n=e.cheerio?e[0]:e),t.get().indexOf(n)},t.slice=function(){return this._make([].slice.apply(this,arguments))},t.end=function(){return this.prevObject||this._make([])},t.add=function(e,t){for(var n=this._make(e,t),r=a(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},t.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},function(e,t,n){var r=n(280),i=n(473),o=n(144),a=n(31),s=n(1032);e.exports=function(e,t){return(a(e)?r:i)(e,s(o(t,3)))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(280),i=n(473),o=n(144),a=n(31);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(1035),i=n(146),o=n(144),a=n(1036),s=n(31);e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,o(t,4),n,u,i)}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},function(e,t,n){var r=n(197),i=n(307),o=r.update,a=r.evaluate,s=n(152),l=s.domEach,u=s.cloneDom,c=s.isHtml,f=Array.prototype.slice,h={flatten:n(474),bind:n(303),forEach:n(147)};t._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?u(e.get(),e.options):e.get():Array.isArray(e)?h.flatten(e.map((function(e){return this._makeDomArray(e,t)}),this)):"string"==typeof e?a(e,this.options,!1):t?u([e]):[e]};var d=function(e){return function(){var t=f.call(arguments),n=this.length-1;return l(this,(function(r,o){var a,s;s="function"==typeof t[0]?t[0].call(o,r,i.html(o.children)):t,a=this._makeDomArray(s,r<n),e(a,o.children,o)}))}},p=function(e,t,n,r,i){var o,a,s,l,u,c=[t,n].concat(r),f=e[t-1]||null,h=e[t]||null;for(o=0,a=r.length;o<a;++o)s=(u=(l=r[o]).parent||l.root)&&u.children.indexOf(r[o]),u&&s>-1&&(u.children.splice(s,1),i===u&&t>s&&c[0]--),l.root=null,l.parent=i,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=r[o-1]||f,l.next=r[o+1]||h;return f&&(f.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice.apply(e,c)};t.appendTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.append(this),this},t.prependTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.prepend(this),this},t.append=d((function(e,t,n){p(t,t.length,0,e,n)})),t.prepend=d((function(e,t,n){p(t,0,0,e,n)})),t.wrap=function(e){var t="function"==typeof e&&e,n=this.length-1;return h.forEach(this,h.bind((function(r,i){var a,s,l,u,f=r.parent||r.root,h=f.children;if(f){for(t&&(e=t.call(r,i)),"string"!=typeof e||c(e)||(e=this.parents().last().find(e).clone()),s=(a=this._makeDomArray(e,i<n).slice(0,1))[0],l=0;s&&s.children&&!(l>=s.children.length);)"tag"===s.children[l].type?(s=s.children[l],l=0):l++;u=h.indexOf(r),o([r],s),p(h,u,0,a,f)}}),this)),this},t.after=function(){var e=f.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u+1,0,s,o))}})),this},t.insertAfter=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s+1,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.before=function(){var e=f.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u,0,s,o))}})),this},t.insertBefore=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,(function(e,t){var n=t.parent||t.root;if(n){var r=n.children,i=r.indexOf(t);i<0||(r.splice(i,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null)}})),this},t.replaceWith=function(e){var t=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,l=t._makeDomArray("function"==typeof e?e.call(r,n,r):e);o(l,null),a=s.indexOf(r),p(s,a,1,l,i),r.parent=r.prev=r.next=r.root=null}})),this},t.empty=function(){return l(this,(function(e,t){h.forEach(t.children,(function(e){e.next=e.prev=e.parent=null})),t.children.length=0})),this},t.html=function(e){if(void 0===e)return this[0]&&this[0].children?i.html(this[0].children,this.options):null;var t=this.options;return l(this,(function(n,r){h.forEach(r.children,(function(e){e.next=e.prev=e.parent=null}));var i=e.cheerio?e.clone().get():a(""+e,t,!1);o(i,r)})),this},t.toString=function(){return i.html(this,this.options)},t.text=function(e){return void 0===e?i.text(this):"function"==typeof e?l(this,(function(n,r){var o=[r];return t.text.call(o,e.call(r,n,i.text(o)))})):(l(this,(function(t,n){h.forEach(n.children,(function(e){e.next=e.prev=e.parent=null})),o({data:""+e,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},t.clone=function(){return this._make(u(this.get(),this.options))}},function(e,t,n){var r=n(278),i=n(1039);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(e,t,n){var r=n(117),i=n(183),o=n(31),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(152).domEach,i={pick:n(1041)},o=Object.prototype.toString;function a(e,t,n,r){if("string"==typeof t){var i=s(e);"function"==typeof n&&(n=n.call(e,r,i[t])),""===n?delete i[t]:null!=n&&(i[t]=n),e.attribs.style=(o=i,Object.keys(o||{}).reduce((function(e,t){return e+(e?" ":"")+t+": "+o[t]+";"}),""))}else"object"==typeof t&&Object.keys(t).forEach((function(n){a(e,n,t[n])}));var o}function s(e,t){var n,r=(n=((n=e.attribs.style)||"").trim())?n.split(";").reduce((function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e}),{}):{};return"string"==typeof t?r[t]:Array.isArray(t)?i.pick(r,t):r}t.css=function(e,t){return 2===arguments.length||"[object Object]"===o.call(e)?r(this,(function(n,r){a(r,e,t,n)})):s(this[0],e)}},function(e,t,n){var r=n(1042),i=n(1045)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(1043),i=n(410);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(281),i=n(1044),o=n(192);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},function(e,t,n){var r=n(194),i=n(192),o=n(142),a=n(45),s=n(145);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,h=e;null!=h&&++u<c;){var d=s(t[u]),p=n;if(u!=f){var m=h[d];void 0===(p=l?l(m,d,h):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(h,d,p),h=h[d]}return e}},function(e,t,n){var r=n(474),i=n(418),o=n(290);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=/%20/g,i=/\r?\n/g,o={map:n(70)};t.serialize=function(){var e=this.serializeArray();return o.map(e,(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)})).join("&").replace(r,"+")},t.serializeArray=function(){var e=this.constructor;return this.map((function(){var t=e(this);return"form"===this.name?t.find("input,select,textarea,keygen").toArray():t.filter("input,select,textarea,keygen").toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(t,n){var r=e(n),a=r.attr("name"),s=r.val();return null==s&&(s=""),Array.isArray(s)?o.map(s,(function(e){return{name:a,value:e.replace(i,"\r\n")}})):{name:a,value:s.replace(i,"\r\n")}})).get()}},function(e){e.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(e,t,n){var r=n(53),i=n(476),o=n(309),a=n(1057),s=n(206),l=s("%TypeError%"),u=r.call(Function.call,s("%ObjectPrototype%").propertyIsEnumerable),c=r.call(Function.apply,s("%ArrayPrototype%").push),f=o(o({},i),{ToIndex:function(e){if(void 0===e)return 0;var t=this.ToInteger(e);if(t<0)throw new RangeError("index must be >= 0");var n=this.ToLength(t);if(!this.SameValueZero(t,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(e,t){var n=i.EnumerableOwnNames(e);if("key"===t)return n;if("value"===t||"key+value"===t){var r=[];return a(n,(function(n){u(e,n)&&c(r,["value"===t?e[n]:[n,e[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+t)}});delete f.EnumerableOwnNames,e.exports=f},function(e,t,n){var r=n(59),i=n(1050),o=n(292),a=n(206),s=a("%TypeError%"),l=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),f=a("%Object%"),h=a("%Number%"),d=a("%Symbol%",!0),p=a("%RegExp%"),m=!!d,g=n(478),v=n(479),y=n(480),b=h.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(309),E=n(481),w=n(482),x=n(1055),T=parseInt,S=n(53),k=S.call(Function.call,u.prototype.slice),O=S.call(Function.call,c.prototype.slice),A=S.call(Function.call,p.prototype.test,/^0b[01]+$/i),C=S.call(Function.call,p.prototype.test,/^0o[0-7]+$/i),P=S.call(Function.call,p.prototype.exec),M=new p("["+["","",""].join("")+"]","g"),R=S.call(Function.call,p.prototype.test,M),I=S.call(Function.call,p.prototype.test,/^[-+]0x[0-9a-f]+$/i),D=S.call(Function.call,c.prototype.charCodeAt),N=S.call(Function.call,Object.prototype.toString),L=S.call(Function.call,a("%NumberPrototype%").valueOf),F=S.call(Function.call,a("%BooleanPrototype%").valueOf),j=S.call(Function.call,a("%StringPrototype%").valueOf),B=S.call(Function.call,a("%DatePrototype%").valueOf),U=Math.floor,z=Math.abs,H=Object.create,G=f.getOwnPropertyDescriptor,V=f.isExtensible,$=f.defineProperty,X=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),W=new RegExp("(^["+X+"]+)|(["+X+"]+$)","g"),Y=S.call(Function.call,c.prototype.replace),q=n(483),K=n(484),Z=_(_({},q),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:i,ToNumber:function(e){var t=x(e)?e:i(e,h);if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof t){if(A(t))return this.ToNumber(T(O(t,2),2));if(C(t))return this.ToNumber(T(O(t,2),8));if(R(t)||I(t))return NaN;var n=Y(t,W,"");if(n!==t)return this.ToNumber(n)}return h(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(v(t)||0===t||!y(t))return 0;var n=E(t)*U(z(t));return w(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(v(t)||t<=0)return 0;if(t>=255)return 255;var n=U(e);return n+.5<t?n+1:t<n+.5?n:n%2!=0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return c(e)},ToObject:function(e){return this.RequireObjectCoercible(e),f(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,c);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==N(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:q.CheckObjectCoercible,IsArray:u.isArray||function(e){return"[object Array]"===N(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!x(e)&&V(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||v(e)||!y(e))return!1;var t=z(e);return U(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(m){var t=e[d.match];if(void 0!==t)return q.ToBoolean(t)}return K(e)},SameValueZero:function(e,t){return e===t||v(e)&&v(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new s(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":q.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if(void 0===n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&d.species?n[d.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return g(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(i){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(m&&"symbol"==typeof d.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if(void 0!==t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=k(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,d.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e);return!0!==this.IteratorComplete(t)&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,i=this.GetMethod(e,"return");if(void 0===i)return r();try{var o=this.Call(i,e,[])}catch(a){throw n=r(),r=null,a}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return P(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&m&&d.species&&null===(n=this.Get(n,d.species))&&(n=void 0)),void 0===n)return u(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=G(e,t),i=r||"function"!=typeof V||V(e);return!(!(!r||r.writable&&r.configurable)||!i||($(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}),0))},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new l("es-abstract does not yet support internal slots");if(null===e&&!H)throw new l("native Object.create support is required to create null objects");return H(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||t<0||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=D(e,t);if(r<55296||r>56319)return t+1;var i=D(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!$(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!$(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return o(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:L(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:F(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:j(e)},thisTimeValue:function(e){return B(e)}});delete Z.CheckObjectCoercible,e.exports=Z},function(e,t,n){e.exports=n(1051)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(477),o=n(155),a=n(1052),s=n(1053),l=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],o(n)&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")},u=function(e,t){var n=e[t];if(null!=n){if(!o(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=u(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var o=t.call(e,n);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),l(e,"default"===n?"number":n)}},function(e,t,n){var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){var r=Object.prototype.toString;if(n(1054)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return"symbol"==typeof(t=e).valueOf()&&o.test(i.call(t))}catch(t){return!1}var t}}else e.exports=function(e){return!1}},function(e,t,n){(function(t){var r=t.Symbol,i=n(437);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}}).call(this,n(26))},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){var r=Object.prototype.toString,i=n(477),o=n(155),a=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return i(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},function(e,t,n){e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},function(e,t,n){var r=n(52),i=n(485);e.exports=function(){var e=i();return r(Array.prototype,{flat:e},{flat:function(){return Array.prototype.flat!==e}}),e}},function(e,t,n){var r=n(490),i=n(52);e.exports=function(){var e=r();return i(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},function(e,t,n){var r=n(52).supportsDescriptors,i=n(492),o=n(493),a=Object.defineProperty,s=TypeError;e.exports=function(){var e=o();if(i)return e;if(!r)throw new s("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return a(t,"name",{configurable:!0,enumerable:!1,get:function(){var n=e.call(this);return this!==t&&a(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),e}},function(e,t,n){var r=n(53),i=n(52),o=n(494),a=n(495),s=n(1062),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){var r=n(52),i=n(495);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&Object.keys(t).every((function(n){if(!e.propertyIsEnumerable(n))return!1;var i=t[n],o=e[n];return!!("object"==typeof i&&null!==i?r(o,i):o===i)}))}));t.default=r,e.exports=t.default},function(e,t,n){(function(t){var n,r=/[&<>"'`]/g,i=RegExp(r.source),o="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),l=(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==n?void 0:n[e]}),u=Object.prototype.toString,c=s.Symbol,f=c?c.prototype:void 0,h=f?f.toString:void 0;e.exports=function(e){return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&"[object Symbol]"==u.call(t))return h?h.call(e):"";var t,n,r=e+"";return"0"==r&&1/e==-1/0?"-0":r}(t))&&i.test(e)?e.replace(r,l):e;var t}}).call(this,n(26))},function(e,t,n){var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object String]"===i.call(e))}},function(e,t,n){var r=Number.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Number]"===i.call(e))}},function(e,t,n){var r=Boolean.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Boolean]"===i.call(e))}},function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,f=Boolean.prototype.valueOf,h=Object.prototype.toString,d="function"==typeof BigInt?BigInt.prototype.valueOf:null,p=n(1069).custom,m=p&&b(p)?p:null;function g(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function v(e){return String(e).replace(/"/g,"&quot;")}function y(e){return"[object Array]"===w(e)}function b(e){return"[object Symbol]"===w(e)}e.exports=function e(t,n,r,i){if(n||(n={}),E(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return s=n,g(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,x),"single",s);var s;if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var l,h=void 0===n.depth?5:n.depth;if(void 0===r&&(r=0),r>=h&&h>0&&"object"==typeof t)return"[Object]";if(void 0===i)i=[];else if(function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(i,t)>=0)return"[Circular]";function p(t,o){return o&&(i=i.slice()).push(o),e(t,n,r+1,i)}if("function"==typeof t){var _=function(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);return t?t[1]:void 0}(t);return"[Function"+(_?": "+_:"")+"]"}if(b(t)){var O=Symbol.prototype.toString.call(t);return"object"==typeof t?T(O):O}if((l=t)&&"object"==typeof l&&("undefined"!=typeof HTMLElement&&l instanceof HTMLElement||"string"==typeof l.nodeName&&"function"==typeof l.getAttribute)){for(var A="<"+String(t.nodeName).toLowerCase(),C=t.attributes||[],P=0;P<C.length;P++)A+=" "+C[P].name+"="+g(v(C[P].value),"double",n);return A+=">",t.childNodes&&t.childNodes.length&&(A+="..."),A+"</"+String(t.nodeName).toLowerCase()+">"}if(y(t))return 0===t.length?"[]":"[ "+k(t,p).join(", ")+" ]";if(function(e){return"[object Error]"===w(e)}(t))return 0===(M=k(t,p)).length?"["+String(t)+"]":"{ ["+String(t)+"] "+M.join(", ")+" }";if("object"==typeof t){if(m&&"function"==typeof t[m])return t[m]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o)return!1;try{o.call(e);try{u.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}(t)){var M=[];return a.call(t,(function(e,n){M.push(p(n,t)+" => "+p(e,t))})),S("Map",o.call(t),M)}if(function(e){if(!u)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}(t))return M=[],c.call(t,(function(e){M.push(p(e,t))})),S("Set",u.call(t),M);if(function(e){return"[object Number]"===w(e)}(t))return T(p(Number(t)));if(function(e){return"[object BigInt]"===w(e)}(t))return T(p(d.call(t)));if(function(e){return"[object Boolean]"===w(e)}(t))return T(f.call(t));if(function(e){return"[object String]"===w(e)}(t))return T(p(String(t)));if(!function(e){return"[object Date]"===w(e)}(t)&&!function(e){return"[object RegExp]"===w(e)}(t)){var R=k(t,p);return 0===R.length?"{}":"{ "+R.join(", ")+" }"}return String(t)};var _=Object.prototype.hasOwnProperty||function(e){return e in this};function E(e,t){return _.call(e,t)}function w(e){return h.call(e)}function x(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function T(e){return"Object("+e+")"}function S(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function k(e,t){var n=y(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=E(e,i)?t(e[i],e):""}for(var o in e)E(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},function(e,t){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createParser=t.createGenerator=void 0;var r=o(n(1071)),i=o(n(1072));function o(e){return e&&e.__esModule?e:{default:e}}t.createGenerator=r.default,t.createParser=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return JSON.stringify(e)},i=function(e){var t=e.body,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=void 0;if("universalSelector"===u.type)c="*";else if("typeSelector"===u.type)c=u.name;else if("idSelector"===u.type)c="#"+u.name;else if("classSelector"===u.type)c="."+u.name;else if("attributePresenceSelector"===u.type)c="["+u.name+"]";else if("attributeValueSelector"===u.type)c="["+u.name+u.operator+r(u.value)+"]";else if("pseudoClassSelector"===u.type)c=":"+u.name,u.parameters.length&&(c+="("+u.parameters.map(r).join(", ")+")");else{if("pseudoElementSelector"!==u.type)throw new Error("Unknown token.");c="::"+u.name}n.push(c)}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.join("")};t.default=function(){return{generate:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("selector"===l.type)t.push(i(l));else if("descendantCombinator"===l.type)t.push(" ");else if("childCombinator"===l.type)t.push(" > ");else if("adjacentSiblingCombinator"===l.type)t.push(" + ");else{if("generalSiblingCombinator"!==l.type)throw new Error("Unknown token.");t.push(" ~ ")}}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t.join("")}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1073),o=(r=n(1074))&&r.__esModule?r:{default:r};t.default=function(){return{parse:function(e){var t=new i.Parser(o.default.ParserRules,o.default.ParserStart).feed(e).results;if(0===t.length)throw new Error("Found no parsings.");if(t.length>1)throw new Error("Ambiguous results.");return t[0]}}}},function(e,t,n){var r;r=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var a=e;o=t}else a=r.fromCompiled(e,t);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function t(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var n=void 0===e?this.symbols.map(t).join(" "):this.symbols.slice(0,e).map(t).join(" ")+"  "+this.symbols.slice(e).map(t).join(" ");return this.name+"  "+n},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build()),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var a=t[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var u=s[l];this.complete(u,a)}if(a.reference===this.index){var c=a.rule.name;(this.completed[c]=this.completed[c]||[]).push(a)}}}else{if("string"!=typeof(c=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[c]){if(n[c].push(a),r.hasOwnProperty(c)){var f=r[c];for(l=0;l<f.length;l++){var h=f[l];this.complete(a,h)}}}else n[c]=[a],this.predict(c)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],a=new t(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return t+=" at line "+this.line+" col "+o+":\n\n",(t+="  "+i+"\n")+"  "+Array(o).join(" ")+"^"}return t+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);t=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1,s=new n(this.grammar,a);this.table.push(s);for(var l=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,c=o.scannable,f=c.length;f--;){var h=c[f],d=h.rule.symbols[h.dot];if(d.test?d.test(u):d.type?d.type===t.type:d.literal===l){var p=h.nextState({data:u,token:t,isToken:!0,reference:a-1});s.states.push(p)}}if(s.process(),0===s.states.length){var m=this.lexer.formatError(t,"invalid syntax")+"\n";m+="Unexpected "+(t.type?t.type+" token: ":""),m+=JSON.stringify(void 0!==t.value?t.value:t)+"\n";var g=new Error(m);throw g.offset=this.current,g.token=t,g}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=r():this.nearley=r()},function(e,t,n){!function(){function t(e){return e[0]}var r=n(1075),i=function(e){return e=e.filter((function(e){return null!==e})),r(e)},o={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},a=function(e,t,n){var i=r(e).join(""),o=parseFloat(i);return isNaN(o)?n:o},s=function(e,t,n){return"true"===e[0]||"false"!==e[0]&&n},l=function(e,t,n){return"NaN"===e[0]?NaN:"undefined"!==e[0]?"null"===e[0]?null:n:void 0},u={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(e){return(Array.isArray(e[0])?e[0]:[e[0]]).concat({type:o[e[2]]}).concat(e[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(e){return{type:"selector",body:e[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(e,t,n){var r=i(e);return r.length?r:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:i},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(e){return{type:"typeSelector",name:e[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(e){return(e[0]||"")+e[1]+e[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(e){return{type:"classSelector",name:e[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(e){return{type:"idSelector",name:e[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(e){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(e){return{type:"attributePresenceSelector",name:e[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(e){return{type:"attributeValueSelector",name:e[1],value:e[3],operator:e[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:s},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:s},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:l},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:l},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:l},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:a},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:a},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:a},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:a},{name:"numericValue",symbols:["int"],postprocess:a},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:a},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:a},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:a},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:a},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:function(e){return e[0].concat([e[3]])}},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(e){return e[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoElementSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1],parameters:e[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(e){return e[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(e){return e.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(e){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(e){return e[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(e){return e.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(e){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"combinator"};void 0!==e.exports?e.exports=u:window.grammar=u}()},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=i.Symbol,c=a.propertyIsEnumerable,f=u?u.isConcatSpreadable:void 0;function h(e){return d(e)||!!(r=n=t=e)&&"object"==typeof r&&function(e){return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!function(e){var t,n,r=(n=typeof(t=e),!t||"object"!=n&&"function"!=n?"":l.call(e));return"[object Function]"==r||"[object GeneratorFunction]"==r}(e);var t}(n)&&s.call(t,"callee")&&(!c.call(t,"callee")||"[object Arguments]"==l.call(t))||!!(f&&e&&e[f]);var t,n,r}var d=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,n,r,i,a){var s=-1,l=t.length;for(r||(r=h),a||(a=[]);++s<l;){var u=t[s];n>0&&r(u)?n>1?e(u,n-1,r,i,a):o(a,u):i||(a[a.length]=u)}return a}(e,1/0):[]}}).call(this,n(26))},function(e,t,n){var r=n(52),i=n(500),o=n(501),a=n(1077),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){var r=n(501),i=n(52);e.exports=function(){var e=r();return i(Object,{values:e},{values:function(){return Object.values!==e}}),e}},function(e,t,n){var r=n(1079),i=n(1080);e.exports=function(e){if(!e)return[];var t=i();return e===t.unknown?[]:e===t.all?t.elements:r(t.elements,(function(t){return t.constructor===e}))}},function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(e,t,n){(function(t){var n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r],r));return n},r=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],i=function(e,t,n){if("undefined"!=typeof document&&"function"==typeof document.createElement){var r=document.createElement(e).constructor;if(r!==n)return r}};e.exports=function(){var e=t.HTMLUnknownElement;return{all:t.HTMLElement,elements:n(r,(function(n){var r=n[0],o=n[1],a=n[2],s=t[r],l=a&&t[a];return{constructor:i(o,0,e),constructorName:l?a:r,expectedConstructor:l||s,tag:o}})),unknown:e}}}).call(this,n(26))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new i.default(e,null,t)};var r,i=(r=n(434))&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new i.default(e,null,t)};var r,i=(r=n(502))&&r.__esModule?r:{default:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)(t),a=n.createRenderer((0,r.default)({mode:"string"},t)),s=a.render(e,t.context);return i.default.load("")(s)};var r=a(n(121)),i=a(n(293)),o=a(n(102));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,r.default)(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return(0,i.default)(e,[{key:"getEventHandler",value:function(e){var t=this;return this.customEventHandlers[e]?this.customEventHandlers[e]:function(n){return t.pubSub.publish(e,n)}}},{key:"unregister",value:function(e,t){(this.registeredEls[e]||this.registeredEls[e]===t)&&(this.registeredEls[e].removeEventListener(e,this.registeredEls[e].__handler__),this.registeredEls[e]=void 0,delete this.registeredEls[e])}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&this.registeredEls[e]!==t&&(this.registeredEls[e]&&this.unregister(this.registeredEls[e]),this.registeredEls[e]=t,this.registeredEls[e].__handler__=this.getEventHandler(e),this.registeredEls[e].addEventListener(e,this.registeredEls[e].__handler__,{capture:n,passive:!1}))}}]),e}();t.default=function(e){return new a(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.trackInfo=t.tileDataToPixData=t.calculateTilesFromResolution=t.calculateTileWidth=t.calculateTiles=t.calculateZoomLevel=t.calculateResolution=t.calculateZoomLevelFromResolutions=t.fetchTilesDebounced=t.getTileProxyAuthHeader=t.setTileProxyAuthHeader=t.authHeader=t.requestsInFlight=void 0;var r,i=m(n(245)),o=m(n(246)),a=m(n(17)),s=m(n(62)),l=m(n(18)),u=(r=(0,o.default)(i.default.mark((function e(t,n,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.indexOf("hg19")>=0)){e.next=3;break}return e.next=3,P(1);case 3:return e.abrupt("return",C(t,n,"json",r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)});t.fetchMultiRequestTiles=b,t.calculateTileAndPosInTile=T;var c=n(8),f=m(n(27)),h=n(180),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var g=f.default.nice(),v=t.requestsInFlight=0,y=t.authHeader=null;function b(e,t){var n=e.requests,r=[],i={},o={},u=!0,c=!1,f=void 0;try{for(var d,p=(0,a.default)(n);!(u=(d=p.next()).done);u=!0){var m=d.value;i[m.server]||(i[m.server]={},o[m.server]=[]);var v=!0,b=!1,_=void 0;try{for(var E,w=(0,a.default)(m.ids);!(v=(E=w.next()).done);v=!0){var x=E.value;i[m.server][x]=!0,m.options&&function(){var e=x.indexOf("."),t=x.substring(0,e),n=x.substring(e+1),r=o[m.server].find((function(e){return e.tilesetUid===t}));r?r.tileIds.push(n):o[m.server].push({tilesetUid:t,tileIds:[n],options:m.options})}()}}catch(M){b=!0,_=M}finally{try{!v&&w.return&&w.return()}finally{if(b)throw _}}}}catch(M){c=!0,f=M}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}var T=(0,l.default)(i),S=function(e){for(var n=(0,l.default)(i[e]),a=o[e],u=function(i){var o=n.slice(i,i+Math.min(n.length-i,15)),l=o.map((function(e){return"d="+String(e)})).join("&"),u=String(e)+"/tiles/?"+String(l)+"&s="+String(g),c=new s.default((function(n,r){t.publish("requestSent",u);var i={};i.outUrl=u,i.server=e,i.theseTileIds=o,i.authHeader=y,(0,h.workerGetTiles)(i.outUrl,i.server,i.theseTileIds,i.authHeader,n,a),t.publish("requestReceived",u)}));r.push(c)},c=0;c<n.length;c+=15)u(c)},k=!0,O=!1,A=void 0;try{for(var C,P=(0,a.default)(T);!(k=(C=P.next()).done);k=!0)S(C.value)}catch(M){O=!0,A=M}finally{try{!k&&P.return&&P.return()}finally{if(O)throw A}}s.default.all(r).then((function(e){var t={},r=!0,i=!1,o=void 0;try{for(var s,u=(0,a.default)(e);!(r=(s=u.next()).done);r=!0){var c=s.value,f=(0,l.default)(c),h=!0,d=!1,p=void 0;try{for(var m,g=(0,a.default)(f);!(h=(m=g.next()).done);h=!0){var v=m.value;t[String(c[v].server)+"/"+String(v)]=c[v]}}catch(R){d=!0,p=R}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}}}catch(R){i=!0,o=R}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}var y=!0,b=!1,_=void 0;try{for(var E,w=(0,a.default)(n);!(y=(E=w.next()).done);y=!0){var x=E.value,T={},S=x.server,k=!0,O=!1,A=void 0;try{for(var C,P=(0,a.default)(x.ids);!(k=(C=P.next()).done);k=!0){var M=C.value;T[M]=t[String(S)+"/"+String(M)]}}catch(R){O=!0,A=R}finally{try{!k&&P.return&&P.return()}finally{if(O)throw A}}x.done(T)}}catch(R){b=!0,_=R}finally{try{!y&&w.return&&w.return()}finally{if(b)throw _}}}))}t.setTileProxyAuthHeader=function(e){t.authHeader=y=e},t.getTileProxyAuthHeader=function(){return y};var _=t.fetchTilesDebounced=function(e,t,n){var r=void 0,i=[],o={},a=0,s=function(e){var t=o[e.id];t&&i[t]?i[t].ids=i[t].ids.concat(e.ids):(o[e.id]=i.length,i.push(e))},l=function(){r=null,i=[],o={}},u=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.apply(void 0,[{sessionId:g,requests:i}].concat(r)),l()},c=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var s=function(){a>0&&(u.apply(void 0,[e].concat(i)),a=0)};clearTimeout(r),r=setTimeout(s,n)};c.cancel=function(){clearTimeout(r),l()},c.immediate=function(){e({sessionId:g,requests:i})};var f=!1;return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s(e),f?a++:(u.apply(void 0,[e].concat(r)),c.apply(void 0,[e].concat(r)),f=!0,a=0,setTimeout((function(){f=!1}),t))}}(b,p.TILE_FETCH_DEBOUNCE,p.TILE_FETCH_DEBOUNCE),E=t.calculateZoomLevelFromResolutions=function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},w=t.calculateResolution=function(e,t){if(e.resolutions)return e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t];var n=e.max_width,r=+e.bins_per_dimension;return n/(Math.pow(2,t)*r)},x=t.calculateZoomLevel=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2)),s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+l};function T(e,t,n,r,i){var o,a=e.bins_per_dimension||256;o=e.resolutions?e.resolutions[r]*a:t/Math.pow(2,r);var s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]}var S=t.calculateTiles=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a);return(0,c.range)(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-1e-7)/s)))},k=t.calculateTileWidth=function(e,t,n){return e.resolutions?e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t]*n:e.max_width/Math.pow(2,t)},O=t.calculateTilesFromResolution=function(e,t,n,r,i){var o=e*(i||256);r||(r=Number.MAX_VALUE);var a=Math.max(0,Math.floor((t.domain()[0]-n)/o)),s=Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/o),l=(0,c.range)(a,s);return l.length>20&&(console.warn("Too many visible tiles: "+String(l.length)+" truncating to 20"),l=l.slice(0,20)),l},A=t.tileDataToPixData=function(e,t,n,r,i,o,a,s,l,u){var c=e.tileData;if(c.dense){if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();for(var f=Math.floor(Math.sqrt(e.tileData.dense.length)),d=0;d<f;d++)for(var p=d+1;p<f;p++)e.tileData.dense[d*f+p]=e.tileData.dense[p*f+d];if(s)for(var m=0;m<f;m++)for(var g=0;g<m;g++)e.tileData.dense[m*f+g]=NaN;e.isMirrored=!0}o({pixData:(0,h.workerSetPix)(c.dense.length,c.dense,t,n,r,i,a,s,e.tileData.shape,l,u)})}else o(null)};function C(e,n,r,i){t.requestsInFlight=v+=1,i.publish("requestSent",e);var o=null;if("text"===r)o=null;else{if("json"!==r)throw new Error('fetch either "text" or "json", not "'+r+'"');o="application/json"}var a={};return o&&(a["Content-Type"]=o),y&&(a.Authorization=y),fetch(e,{credentials:"same-origin",headers:a}).then((function(e){if(!e.ok)throw Error(e.statusText);return e[r]()})).then((function(e){return n(void 0,e),e})).catch((function(t){return console.error("Could not fetch "+String(e),t),n(t,void 0),t})).finally((function(){i.publish("requestReceived",e),t.requestsInFlight=v-=1}))}function P(e){return new s.default((function(t){return setTimeout(t,e)}))}var M=t.trackInfo=function(e,t,n,r,i){var o=String((0,d.trimTrailingSlash)(e))+"/tileset_info/?d="+String(t)+"&s="+String(g);i.publish("requestSent",o),u(o,(function(t,a){i.publish("requestReceived",o),t?r?r("Error retrieving tilesetInfo from: "+String(e)):console.warn("Error retrieving: ",o):n(a)}),i)},R={calculateResolution:w,calculateTileAndPosInTile:T,calculateTiles:S,calculateTilesFromResolution:O,calculateTileWidth:k,calculateZoomLevel:x,calculateZoomLevelFromResolutions:E,fetchTilesDebounced:_,json:u,text:function(e,t,n){return C(e,t,"text",n)},tileDataToPixData:A,trackInfo:M};t.default=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.trackViewer=void 0;var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(19)),u=h(n(2)),c=h(n(1)),f=n(314);function h(e){return e&&e.__esModule?e:{default:e}}var d=t.trackViewer=function(e,t,n){var r=(0,l.default)(t,4),i=r[0],o=r[1],a=r[2],s=r[3];n.options.colorbarPosition||(n.options.colorbarPosition="hidden"),n.options.labelPosition||(n.options.labelPosition="hidden");var u="arbitary-id",c={editable:!1,zoomFixed:!1,views:[{uid:u,initialXDomain:[i,o],initialYDomain:[a,s],tracks:{center:[n]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]};return{id:u,hgApi:(0,f.viewer)(e,c,{sizeMode:"bounded"})}},p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.id="id-"+String(Math.random()),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return this.zoomTo(t,n,r,i),!1}},{key:"initTrackViewer",value:function(){var e=this.props,t=e.trackConfig,n=e.x,r=e.y,i=e.width,o=e.height,a=document.getElementById(this.id),s=d(a,[n,n+i,r,r+o],t),l=s.id,u=s.hgApi;this.viewUid=l,this.viewer=u}},{key:"zoomTo",value:function(e,t,n,r){this.viewer.zoomTo(this.viewUid,e,e+n,t,t+r)}},{key:"render",value:function(){return c.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),t}(c.default.Component);t.default=p,p.propTypes={trackConfig:u.default.object,width:u.default.number,height:u.default.number,x:u.default.number,y:u.default.number}},function(e,t,n){n.r(t);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){a(o,e,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var s=1e-6,l=Math.PI,u=l/2,c=l/4,f=2*l,h=180/l,d=l/180,p=Math.abs,m=Math.atan,g=Math.atan2,v=Math.cos,y=Math.ceil,b=Math.exp,_=Math.log,E=Math.pow,w=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},T=Math.sqrt,S=Math.tan;function k(e){return e>1?0:e<-1?l:Math.acos(e)}function O(e){return e>1?u:e<-1?-u:Math.asin(e)}function A(e){return(e=w(e/2))*e}function C(){}function P(e,t){e&&R.hasOwnProperty(e.type)&&R[e.type](e,t)}var M={Feature:function(e,t){P(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)P(n[r].geometry,t)}},R={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){I(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)I(n[r],t,0)},Polygon:function(e,t){D(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)D(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)P(n[r],t)}};function I(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function D(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)I(e[n],t,1);t.polygonEnd()}var N,L,F,j,B,U=function(e,t){e&&M.hasOwnProperty(e.type)?M[e.type](e,t):P(e,t)},z=r(),H=r(),G={point:C,lineStart:C,lineEnd:C,polygonStart:function(){z.reset(),G.lineStart=V,G.lineEnd=$},polygonEnd:function(){var e=+z;H.add(e<0?f+e:e),this.lineStart=this.lineEnd=this.point=C},sphere:function(){H.add(f)}};function V(){G.point=X}function $(){W(N,L)}function X(e,t){G.point=W,N=e,L=t,F=e*=d,j=v(t=(t*=d)/2+c),B=w(t)}function W(e,t){var n=(e*=d)-F,r=n>=0?1:-1,i=r*n,o=v(t=(t*=d)/2+c),a=w(t),s=B*a,l=j*o+s*v(i),u=s*r*w(i);z.add(g(u,l)),F=e,j=o,B=a}var Y=function(e){return H.reset(),U(e,G),2*H};function q(e){return[g(e[1],e[0]),O(e[2])]}function K(e){var t=e[0],n=e[1],r=v(n);return[r*v(t),r*w(t),w(n)]}function Z(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function J(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function te(e){var t=T(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,re,ie,oe,ae,se,le,ue,ce,fe,he=r(),de={point:pe,lineStart:ge,lineEnd:ve,polygonStart:function(){de.point=ye,de.lineStart=be,de.lineEnd=_e,he.reset(),G.polygonStart()},polygonEnd:function(){G.polygonEnd(),de.point=pe,de.lineStart=ge,de.lineEnd=ve,z<0?(ne=-(ie=180),re=-(oe=90)):he>s?oe=90:he<-s&&(re=-90),fe[0]=ne,fe[1]=ie}};function pe(e,t){ce.push(fe=[ne=e,ie=e]),t<re&&(re=t),t>oe&&(oe=t)}function me(e,t){var n=K([e*d,t*d]);if(ue){var r=Q(ue,n),i=Q([r[1],-r[0],0],r);te(i),i=q(i);var o,a=e-ae,s=a>0?1:-1,l=i[0]*h*s,u=p(a)>180;u^(s*ae<l&&l<s*e)?(o=i[1]*h)>oe&&(oe=o):u^(s*ae<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*h)<re&&(re=o):(t<re&&(re=t),t>oe&&(oe=t)),u?e<ae?Ee(ne,e)>Ee(ne,ie)&&(ie=e):Ee(e,ie)>Ee(ne,ie)&&(ne=e):ie>=ne?(e<ne&&(ne=e),e>ie&&(ie=e)):e>ae?Ee(ne,e)>Ee(ne,ie)&&(ie=e):Ee(e,ie)>Ee(ne,ie)&&(ne=e)}else ce.push(fe=[ne=e,ie=e]);t<re&&(re=t),t>oe&&(oe=t),ue=n,ae=e}function ge(){de.point=me}function ve(){fe[0]=ne,fe[1]=ie,de.point=pe,ue=null}function ye(e,t){if(ue){var n=e-ae;he.add(p(n)>180?n+(n>0?360:-360):n)}else se=e,le=t;G.point(e,t),me(e,t)}function be(){G.lineStart()}function _e(){ye(se,le),G.lineEnd(),p(he)>s&&(ne=-(ie=180)),fe[0]=ne,fe[1]=ie,ue=null}function Ee(e,t){return(t-=e)<0?t+360:t}function we(e,t){return e[0]-t[0]}function xe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Te,Se,ke,Oe,Ae,Ce,Pe,Me,Re,Ie,De,Ne,Le,Fe,je,Be,Ue=function(e){var t,n,r,i,o,a,s;if(oe=ie=-(ne=re=1/0),ce=[],U(e,de),n=ce.length){for(ce.sort(we),t=1,o=[r=ce[0]];t<n;++t)xe(r,(i=ce[t])[0])||xe(r,i[1])?(Ee(r[0],i[1])>Ee(r[0],r[1])&&(r[1]=i[1]),Ee(i[0],r[1])>Ee(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=Ee(r[1],i[0]))>a&&(a=s,ne=i[0],ie=r[1])}return ce=fe=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[ie,oe]]},ze={sphere:C,point:He,lineStart:Ve,lineEnd:We,polygonStart:function(){ze.lineStart=Ye,ze.lineEnd=qe},polygonEnd:function(){ze.lineStart=Ve,ze.lineEnd=We}};function He(e,t){e*=d;var n=v(t*=d);Ge(n*v(e),n*w(e),w(t))}function Ge(e,t,n){++Te,ke+=(e-ke)/Te,Oe+=(t-Oe)/Te,Ae+=(n-Ae)/Te}function Ve(){ze.point=$e}function $e(e,t){e*=d;var n=v(t*=d);Fe=n*v(e),je=n*w(e),Be=w(t),ze.point=Xe,Ge(Fe,je,Be)}function Xe(e,t){e*=d;var n=v(t*=d),r=n*v(e),i=n*w(e),o=w(t),a=g(T((a=je*o-Be*i)*a+(a=Be*r-Fe*o)*a+(a=Fe*i-je*r)*a),Fe*r+je*i+Be*o);Se+=a,Ce+=a*(Fe+(Fe=r)),Pe+=a*(je+(je=i)),Me+=a*(Be+(Be=o)),Ge(Fe,je,Be)}function We(){ze.point=He}function Ye(){ze.point=Ke}function qe(){Ze(Ne,Le),ze.point=He}function Ke(e,t){Ne=e,Le=t,e*=d,t*=d,ze.point=Ze;var n=v(t);Fe=n*v(e),je=n*w(e),Be=w(t),Ge(Fe,je,Be)}function Ze(e,t){e*=d;var n=v(t*=d),r=n*v(e),i=n*w(e),o=w(t),a=je*o-Be*i,s=Be*r-Fe*o,l=Fe*i-je*r,u=T(a*a+s*s+l*l),c=O(u),f=u&&-c/u;Re+=f*a,Ie+=f*s,De+=f*l,Se+=c,Ce+=c*(Fe+(Fe=r)),Pe+=c*(je+(je=i)),Me+=c*(Be+(Be=o)),Ge(Fe,je,Be)}var Qe=function(e){Te=Se=ke=Oe=Ae=Ce=Pe=Me=Re=Ie=De=0,U(e,ze);var t=Re,n=Ie,r=De,i=t*t+n*n+r*r;return i<1e-12&&(t=Ce,n=Pe,r=Me,Se<s&&(t=ke,n=Oe,r=Ae),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[g(n,t)*h,O(r/T(i))*h]},Je=function(e){return function(){return e}},et=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function tt(e,t){return[p(e)>l?e+Math.round(-e/f)*f:e,t]}function nt(e,t,n){return(e%=f)?t||n?et(it(e),ot(t,n)):it(e):t||n?ot(t,n):tt}function rt(e){return function(t,n){return[(t+=e)>l?t-f:t<-l?t+f:t,n]}}function it(e){var t=rt(e);return t.invert=rt(-e),t}function ot(e,t){var n=v(e),r=w(e),i=v(t),o=w(t);function a(e,t){var a=v(t),s=v(e)*a,l=w(e)*a,u=w(t),c=u*n+s*r;return[g(l*i-c*o,s*n-u*r),O(c*i+l*o)]}return a.invert=function(e,t){var a=v(t),s=v(e)*a,l=w(e)*a,u=w(t),c=u*i-l*o;return[g(l*i+u*o,s*n+c*r),O(c*n-s*r)]},a}tt.invert=tt;var at=function(e){function t(t){return(t=e(t[0]*d,t[1]*d))[0]*=h,t[1]*=h,t}return e=nt(e[0]*d,e[1]*d,e.length>2?e[2]*d:0),t.invert=function(t){return(t=e.invert(t[0]*d,t[1]*d))[0]*=h,t[1]*=h,t},t};function st(e,t,n,r,i,o){if(n){var a=v(t),s=w(t),l=r*n;null==i?(i=t+r*f,o=t-l/2):(i=lt(a,i),o=lt(a,o),(r>0?i<o:i>o)&&(i+=r*f));for(var u,c=i;r>0?c>o:c<o;c-=l)u=q([a,-s*v(c),-s*w(c)]),e.point(u[0],u[1])}}function lt(e,t){(t=K(t))[0]-=e,te(t);var n=k(-t[1]);return((-t[2]<0?-n:n)+f-s)%f}var ut=function(){var e,t,n=Je([0,0]),r=Je(90),i=Je(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=h,n[1]*=h}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*d,l=i.apply(this,arguments)*d;return e=[],t=nt(-a[0]*d,-a[1]*d,0).invert,st(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Je([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:Je(+e),a):r},a.precision=function(e){return arguments.length?(i="function"==typeof e?e:Je(+e),a):i},a},ct=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:C,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},ft=function(e,t){return p(e[0]-t[0])<s&&p(e[1]-t[1])<s};function ht(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var dt=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(ft(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new ht(r,e,null,!0)),l.push(n.o=new ht(r,null,n,!1)),s.push(n=new ht(a,e,null,!1)),l.push(n.o=new ht(a,null,n,!0))}})),s.length){for(l.sort(t),pt(s),pt(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function pt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var mt=r(),gt=function(e,t){var n=t[0],r=t[1],i=w(r),o=[w(n),-v(n),0],a=0,h=0;mt.reset(),1===i?r=u+s:-1===i&&(r=-u-s);for(var d=0,p=e.length;d<p;++d)if(y=(m=e[d]).length)for(var m,y,b=m[y-1],_=b[0],E=b[1]/2+c,x=w(E),T=v(E),S=0;S<y;++S,_=A,x=P,T=M,b=k){var k=m[S],A=k[0],C=k[1]/2+c,P=w(C),M=v(C),R=A-_,I=R>=0?1:-1,D=I*R,N=D>l,L=x*P;if(mt.add(g(L*I*w(D),T*M+L*v(D))),a+=N?R+I*f:R,N^_>=n^A>=n){var F=Q(K(b),K(k));te(F);var j=Q(o,F);te(j);var B=(N^R>=0?-1:1)*O(j[2]);(r>B||r===B&&(F[0]||F[1]))&&(h+=N^R>=0?1:-1)}}return(a<-s||a<s&&mt<-s)^1&h},vt=n(8),yt=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=ct(),c=t(u),f=!1,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,a=Object(vt.merge)(a);var e=gt(o,r);a.length?(f||(i.polygonStart(),f=!0),dt(a,_t,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){h.point=p,l.lineStart()}function g(){h.point=d,l.lineEnd()}function v(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),h=u.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((t=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(bt))}return h}};function bt(e){return e.length>1}function _t(e,t){return((e=e.x)[0]<0?e[1]-u-s:u-e[1])-((t=t.x)[0]<0?t[1]-u-s:u-t[1])}var Et=yt((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var c,f,h,d,g,y,b,_=o>0?l:-l,E=p(o-n);p(E-l)<s?(e.point(n,r=(r+a)/2>0?u:-u),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(_,r),e.point(o,r),t=0):i!==_&&E>=l&&(p(n-i)<s&&(n-=i*s),p(o-_)<s&&(o-=_*s),f=r,d=a,b=w((c=n)-(h=o)),r=p(b)>s?m((w(f)*(y=v(d))*w(h)-w(d)*(g=v(f))*w(c))/(g*y*b)):(f+d)/2,e.point(i,r),e.lineEnd(),e.lineStart(),e.point(_,r),t=0),e.point(n=o,r=a),i=_},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*u,r.point(-l,i),r.point(0,i),r.point(l,i),r.point(l,0),r.point(l,-i),r.point(0,-i),r.point(-l,-i),r.point(-l,0),r.point(-l,i);else if(p(e[0]-t[0])>s){var o=e[0]<t[0]?l:-l;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-l,-u]),wt=function(e){var t=v(e),n=6*d,r=t>0,i=p(t)>s;function o(e,n){return v(e)*v(n)>t}function a(e,n,r){var i=[1,0,0],o=Q(K(e),K(n)),a=Z(o,o),u=o[0],c=a-u*u;if(!c)return!r&&e;var f=t*a/c,h=-t*u/c,d=Q(i,o),m=ee(i,f);J(m,ee(o,h));var g=d,v=Z(m,g),y=Z(g,g),b=v*v-y*(Z(m,m)-1);if(!(b<0)){var _=T(b),E=ee(g,(-v-_)/y);if(J(E,m),E=q(E),!r)return E;var w,x=e[0],S=n[0],k=e[1],O=n[1];S<x&&(w=x,x=S,S=w);var A=S-x,C=p(A-l)<s;if(!C&&O<k&&(w=k,k=O,O=w),C||A<s?C?k+O>0^E[1]<(p(E[0]-x)<s?k:O):k<=E[1]&&E[1]<=O:A>l^(x<=E[0]&&E[0]<=S)){var P=ee(g,(-v+_)/y);return J(P,m),[E,q(P)]}}}function u(t,n){var i=r?e:l-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return yt(o,(function(e){var t,n,c,f,h;return{lineStart:function(){f=c=!1,h=1},point:function(d,p){var m,g=[d,p],v=o(d,p),y=r?v?0:u(d,p):v?u(d+(d<0?l:-l),p):0;if(!t&&(f=c=v)&&e.lineStart(),v!==c&&(!(m=a(t,g))||ft(t,m)||ft(g,m))&&(g[0]+=s,g[1]+=s,v=o(g[0],g[1])),v!==c)h=0,v?(e.lineStart(),m=a(g,t),e.point(m[0],m[1])):(m=a(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^v){var b;y&n||!(b=a(g,t,!0))||(h=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!v||t&&ft(t,g)||e.point(g[0],g[1]),t=g,c=v,n=y},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return h|(f&&c)<<1}}}),(function(t,r,i,o){st(o,e,n,i,t,r)}),r?[0,-e]:[-l,e-l])};function xt(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return p(r[0]-e)<s?i>0?0:3:p(r[0]-n)<s?i>0?2:1:p(r[1]-t)<s?i>0?1:0:i>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,f,h,d,p,m,g,v,y,b=a,_=ct(),E={point:w,lineStart:function(){E.point=x,u&&u.push(c=[]),v=!0,g=!1,p=m=NaN},lineEnd:function(){s&&(x(f,h),d&&g&&_.rejoin(),s.push(_.result())),E.point=w,g&&b.lineEnd()},polygonStart:function(){b=_,s=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],h=f[0],d=f[1];l<c;++l)o=h,a=d,h=(f=s[l])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(h-o)*(r-a)<(d-a)*(e-o)&&--t;return t}(),n=y&&t,i=(s=Object(vt.merge)(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&dt(s,l,t,o,a),a.polygonEnd()),b=a,s=u=c=null}};function w(e,t){i(e,t)&&b.point(e,t)}function x(o,a){var s=i(o,a);if(u&&c.push([o,a]),v)f=o,h=a,d=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,f=t[0]-s,h=t[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*f,e[1]=l+u*h),c<1&&(t[0]=s+c*f,t[1]=l+c*h),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,m=a,g=s}return E}}var Tt,St,kt,Ot=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=xt(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},At=r(),Ct={sphere:C,point:C,lineStart:function(){Ct.point=Mt,Ct.lineEnd=Pt},lineEnd:C,polygonStart:C,polygonEnd:C};function Pt(){Ct.point=Ct.lineEnd=C}function Mt(e,t){Tt=e*=d,St=w(t*=d),kt=v(t),Ct.point=Rt}function Rt(e,t){e*=d;var n=w(t*=d),r=v(t),i=p(e-Tt),o=v(i),a=r*w(i),s=kt*n-St*r*o,l=St*n+kt*r*o;At.add(g(T(a*a+s*s),l)),Tt=e,St=n,kt=r}var It=function(e){return At.reset(),U(e,Ct),+At},Dt=[null,null],Nt={type:"LineString",coordinates:Dt},Lt=function(e,t){return Dt[0]=e,Dt[1]=t,It(Nt)},Ft={Feature:function(e,t){return Bt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Bt(n[r].geometry,t))return!0;return!1}},jt={Sphere:function(){return!0},Point:function(e,t){return Ut(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ut(n[r],t))return!0;return!1},LineString:function(e,t){return zt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(zt(n[r],t))return!0;return!1},Polygon:function(e,t){return Ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ht(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Bt(n[r],t))return!0;return!1}};function Bt(e,t){return!(!e||!jt.hasOwnProperty(e.type))&&jt[e.type](e,t)}function Ut(e,t){return 0===Lt(e,t)}function zt(e,t){var n=Lt(e[0],e[1]);return Lt(e[0],t)+Lt(t,e[1])<=n+s}function Ht(e,t){return!!gt(e.map(Gt),Vt(t))}function Gt(e){return(e=e.map(Vt)).pop(),e}function Vt(e){return[e[0]*d,e[1]*d]}var $t=function(e,t){return(e&&Ft.hasOwnProperty(e.type)?Ft[e.type]:Bt)(e,t)};function Xt(e,t,n){var r=Object(vt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Wt(e,t,n){var r=Object(vt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Yt(){var e,t,n,r,i,o,a,l,u,c,f,h,d=10,m=d,g=90,v=360,b=2.5;function _(){return{type:"MultiLineString",coordinates:E()}}function E(){return Object(vt.range)(y(r/g)*g,n,g).map(f).concat(Object(vt.range)(y(l/v)*v,a,v).map(h)).concat(Object(vt.range)(y(t/d)*d,e,d).filter((function(e){return p(e%g)>s})).map(u)).concat(Object(vt.range)(y(o/m)*m,i,m).filter((function(e){return p(e%v)>s})).map(c))}return _.lines=function(){return E().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(a).slice(1),f(n).reverse().slice(1),h(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(b)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),_.precision(b)):[[t,o],[e,i]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(g=+e[0],v=+e[1],_):[g,v]},_.stepMinor=function(e){return arguments.length?(d=+e[0],m=+e[1],_):[d,m]},_.precision=function(s){return arguments.length?(b=+s,u=Xt(o,i,90),c=Wt(t,e,b),f=Xt(l,a,90),h=Wt(r,n,b),_):b},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function qt(){return Yt()()}var Kt,Zt,Qt,Jt,en=function(e,t){var n=e[0]*d,r=e[1]*d,i=t[0]*d,o=t[1]*d,a=v(r),s=w(r),l=v(o),u=w(o),c=a*v(n),f=a*w(n),p=l*v(i),m=l*w(i),y=2*O(T(A(o-r)+a*l*A(i-n))),b=w(y),_=y?function(e){var t=w(e*=y)/b,n=w(y-e)/b,r=n*c+t*p,i=n*f+t*m,o=n*s+t*u;return[g(i,r)*h,g(o,T(r*r+i*i))*h]}:function(){return[n*h,r*h]};return _.distance=y,_},tn=function(e){return e},nn=r(),rn=r(),on={point:C,lineStart:C,lineEnd:C,polygonStart:function(){on.lineStart=an,on.lineEnd=un},polygonEnd:function(){on.lineStart=on.lineEnd=on.point=C,nn.add(p(rn)),rn.reset()},result:function(){var e=nn/2;return nn.reset(),e}};function an(){on.point=sn}function sn(e,t){on.point=ln,Kt=Qt=e,Zt=Jt=t}function ln(e,t){rn.add(Jt*e-Qt*t),Qt=e,Jt=t}function un(){ln(Kt,Zt)}var cn,fn,hn,dn,pn=on,mn=1/0,gn=mn,vn=-mn,yn=vn,bn={point:function(e,t){e<mn&&(mn=e),e>vn&&(vn=e),t<gn&&(gn=t),t>yn&&(yn=t)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C,result:function(){var e=[[mn,gn],[vn,yn]];return vn=yn=-(gn=mn=1/0),e}},_n=0,En=0,wn=0,xn=0,Tn=0,Sn=0,kn=0,On=0,An=0,Cn={point:Pn,lineStart:Mn,lineEnd:Dn,polygonStart:function(){Cn.lineStart=Nn,Cn.lineEnd=Ln},polygonEnd:function(){Cn.point=Pn,Cn.lineStart=Mn,Cn.lineEnd=Dn},result:function(){var e=An?[kn/An,On/An]:Sn?[xn/Sn,Tn/Sn]:wn?[_n/wn,En/wn]:[NaN,NaN];return _n=En=wn=xn=Tn=Sn=kn=On=An=0,e}};function Pn(e,t){_n+=e,En+=t,++wn}function Mn(){Cn.point=Rn}function Rn(e,t){Cn.point=In,Pn(hn=e,dn=t)}function In(e,t){var n=e-hn,r=t-dn,i=T(n*n+r*r);xn+=i*(hn+e)/2,Tn+=i*(dn+t)/2,Sn+=i,Pn(hn=e,dn=t)}function Dn(){Cn.point=Pn}function Nn(){Cn.point=Fn}function Ln(){jn(cn,fn)}function Fn(e,t){Cn.point=jn,Pn(cn=hn=e,fn=dn=t)}function jn(e,t){var n=e-hn,r=t-dn,i=T(n*n+r*r);xn+=i*(hn+e)/2,Tn+=i*(dn+t)/2,Sn+=i,kn+=(i=dn*e-hn*t)*(hn+e),On+=i*(dn+t),An+=3*i,Pn(hn=e,dn=t)}var Bn=Cn;function Un(e){this._context=e}Un.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,f)}},result:C};var zn,Hn,Gn,Vn,$n,Xn=r(),Wn={point:C,lineStart:function(){Wn.point=Yn},lineEnd:function(){zn&&qn(Hn,Gn),Wn.point=C},polygonStart:function(){zn=!0},polygonEnd:function(){zn=null},result:function(){var e=+Xn;return Xn.reset(),e}};function Yn(e,t){Wn.point=qn,Hn=Vn=e,Gn=$n=t}function qn(e,t){Vn-=e,$n-=t,Xn.add(T(Vn*Vn+$n*$n)),Vn=e,$n=t}var Kn=Wn;function Zn(){this._string=[]}function Qn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Zn.prototype={_radius:4.5,_circle:Qn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Qn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Jn=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),U(e,n(r))),r.result()}return o.area=function(e){return U(e,n(pn)),pn.result()},o.measure=function(e){return U(e,n(Kn)),Kn.result()},o.bounds=function(e){return U(e,n(bn)),bn.result()},o.centroid=function(e){return U(e,n(Bn)),Bn.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,tn):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Zn):new Un(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},er=function(e){return{stream:tr(e)}};function tr(e){return function(t){var n=new nr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function nr(){}function rr(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),U(n,e.stream(bn)),t(bn.result()),null!=r&&e.clipExtent(r),e}function ir(e,t,n){return rr(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function or(e,t,n){return ir(e,[[0,0],t],n)}function ar(e,t,n){return rr(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function sr(e,t,n){return rr(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}nr.prototype={constructor:nr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lr=v(30*d),ur=function(e,t){return+t?function(e,t){function n(r,i,o,a,l,u,c,f,h,d,m,v,y,b){var _=c-r,E=f-i,w=_*_+E*E;if(w>4*t&&y--){var x=a+d,S=l+m,k=u+v,A=T(x*x+S*S+k*k),C=O(k/=A),P=p(p(k)-1)<s||p(o-h)<s?(o+h)/2:g(S,x),M=e(P,C),R=M[0],I=M[1],D=R-r,N=I-i,L=E*D-_*N;(L*L/w>t||p((_*D+E*N)/w-.5)>.3||a*d+l*m+u*v<lr)&&(n(r,i,o,a,l,u,R,I,P,x/=A,S/=A,k,y,b),b.point(R,I),n(R,I,P,x,S,k,c,f,h,d,m,v,y,b))}}return function(t){var r,i,o,a,s,l,u,c,f,h,d,p,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=K([r,i]),a=e(r,i);n(c,f,u,h,d,p,c=a[0],f=a[1],u=r,h=o[0],d=o[1],p=o[2],16,t),t.point(c,f)}function b(){m.point=g,t.lineEnd()}function _(){v(),m.point=E,m.lineEnd=w}function E(e,t){y(r=e,t),i=c,o=f,a=h,s=d,l=p,m.point=y}function w(){n(c,f,u,h,d,p,i,o,r,a,s,l,16,t),m.lineEnd=b,b()}return m}}(e,t):(n=e,tr({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}));var n},cr=tr({point:function(e,t){this.stream.point(e*d,t*d)}});function fr(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function hr(e,t,n,r){var i=v(r),o=w(r),a=i*e,s=o*e,l=i/e,u=o/e,c=(o*n-i*t)/e,f=(o*t+i*n)/e;function h(e,r){return[a*e-s*r+t,n-s*e-a*r]}return h.invert=function(e,t){return[l*e-u*t+c,f-u*e-l*t]},h}function dr(e){return pr((function(){return e}))()}function pr(e){var t,n,r,i,o,a,s,l,u,c,f=150,p=480,m=250,g=0,v=0,y=0,b=0,_=0,E=0,w=null,x=Et,S=null,k=tn,O=.5;function A(e){return l(e[0]*d,e[1]*d)}function C(e){return(e=l.invert(e[0],e[1]))&&[e[0]*h,e[1]*h]}function P(){var e=hr(f,0,0,E).apply(null,t(g,v)),r=(E?hr:fr)(f,p-e[0],m-e[1],E);return n=nt(y,b,_),s=et(t,r),l=et(n,s),a=ur(s,O),M()}function M(){return u=c=null,A}return A.stream=function(e){return u&&c===e?u:u=cr((t=n,tr({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}}))(x(a(k(c=e)))));var t},A.preclip=function(e){return arguments.length?(x=e,w=void 0,M()):x},A.postclip=function(e){return arguments.length?(k=e,S=r=i=o=null,M()):k},A.clipAngle=function(e){return arguments.length?(x=+e?wt(w=e*d):(w=null,Et),M()):w*h},A.clipExtent=function(e){return arguments.length?(k=null==e?(S=r=i=o=null,tn):xt(S=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),M()):null==S?null:[[S,r],[i,o]]},A.scale=function(e){return arguments.length?(f=+e,P()):f},A.translate=function(e){return arguments.length?(p=+e[0],m=+e[1],P()):[p,m]},A.center=function(e){return arguments.length?(g=e[0]%360*d,v=e[1]%360*d,P()):[g*h,v*h]},A.rotate=function(e){return arguments.length?(y=e[0]%360*d,b=e[1]%360*d,_=e.length>2?e[2]%360*d:0,P()):[y*h,b*h,_*h]},A.angle=function(e){return arguments.length?(E=e%360*d,P()):E*h},A.precision=function(e){return arguments.length?(a=ur(s,O=e*e),M()):T(O)},A.fitExtent=function(e,t){return ir(A,e,t)},A.fitSize=function(e,t){return or(A,e,t)},A.fitWidth=function(e,t){return ar(A,e,t)},A.fitHeight=function(e,t){return sr(A,e,t)},function(){return t=e.apply(this,arguments),A.invert=t.invert&&C,P()}}function mr(e){var t=0,n=l/3,r=pr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*d,n=e[1]*d):[t*h,n*h]},i}function gr(e,t){var n=w(e),r=(n+w(t))/2;if(p(r)<s)return function(e){var t=v(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,O(n*t)]},n}(e);var i=1+n*(2*r-n),o=T(i)/r;function a(e,t){var n=T(i-2*r*w(t))/r;return[n*w(e*=r),o-n*v(e)]}return a.invert=function(e,t){var n=o-t;return[g(e,p(n))/r*x(n),O((i-(e*e+n*n)*r*r)/(2*r))]},a}var vr=function(){return mr(gr).scale(155.424).center([0,33.6442])},yr=function(){return vr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},br=function(){var e,t,n,r,i,o,a=yr(),l=vr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=vr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function f(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function h(){return e=t=null,f}return f.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},f.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),l.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},f.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),h()):a.precision()},f.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),f.translate(a.translate())):a.scale()},f.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],f=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,f-.238*t],[o+.455*t,f+.238*t]]).stream(c),r=l.translate([o-.307*t,f+.201*t]).clipExtent([[o-.425*t+s,f+.12*t+s],[o-.214*t-s,f+.234*t-s]]).stream(c),i=u.translate([o-.205*t,f+.212*t]).clipExtent([[o-.214*t+s,f+.166*t+s],[o-.115*t-s,f+.234*t-s]]).stream(c),h()},f.fitExtent=function(e,t){return ir(f,e,t)},f.fitSize=function(e,t){return or(f,e,t)},f.fitWidth=function(e,t){return ar(f,e,t)},f.fitHeight=function(e,t){return sr(f,e,t)},f.scale(1070)};function _r(e){return function(t,n){var r=v(t),i=v(n),o=e(r*i);return[o*i*w(t),o*w(n)]}}function Er(e){return function(t,n){var r=T(t*t+n*n),i=e(r),o=w(i),a=v(i);return[g(t*o,r*a),O(r&&n*o/r)]}}var wr=_r((function(e){return T(2/(1+e))}));wr.invert=Er((function(e){return 2*O(e/2)}));var xr=function(){return dr(wr).scale(124.75).clipAngle(179.999)},Tr=_r((function(e){return(e=k(e))&&e/w(e)}));Tr.invert=Er((function(e){return e}));var Sr=function(){return dr(Tr).scale(79.4188).clipAngle(179.999)};function kr(e,t){return[e,_(S((u+t)/2))]}kr.invert=function(e,t){return[e,2*m(b(t))-u]};var Or=function(){return Ar(kr).scale(961/f)};function Ar(e){var t,n,r,i=dr(e),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function f(){var o=l*a(),s=i(at(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===kr?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),f()):a()},i.translate=function(e){return arguments.length?(s(e),f()):s()},i.center=function(e){return arguments.length?(o(e),f()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),f()):null==c?null:[[c,t],[n,r]]},f()}function Cr(e){return S((u+e)/2)}function Pr(e,t){var n=v(e),r=e===t?w(e):_(n/v(t))/_(Cr(t)/Cr(e)),i=n*E(Cr(e),r)/r;if(!r)return kr;function o(e,t){i>0?t<-u+s&&(t=-u+s):t>u-s&&(t=u-s);var n=i/E(Cr(t),r);return[n*w(r*e),i-n*v(r*e)]}return o.invert=function(e,t){var n=i-t,o=x(r)*T(e*e+n*n);return[g(e,p(n))/r*x(n),2*m(E(i/o,1/r))-u]},o}var Mr=function(){return mr(Pr).scale(109.5).parallels([30,30])};function Rr(e,t){return[e,t]}Rr.invert=Rr;var Ir=function(){return dr(Rr).scale(152.63)};function Dr(e,t){var n=v(e),r=e===t?w(e):(n-v(t))/(t-e),i=n/r+e;if(p(r)<s)return Rr;function o(e,t){var n=i-t,o=r*e;return[n*w(o),i-n*v(o)]}return o.invert=function(e,t){var n=i-t;return[g(e,p(n))/r*x(n),i-x(r)*T(e*e+n*n)]},o}var Nr=function(){return mr(Dr).scale(131.154).center([0,13.9389])},Lr=1.340264,Fr=-.081106,jr=893e-6,Br=.003796,Ur=T(3)/2;function zr(e,t){var n=O(Ur*w(t)),r=n*n,i=r*r*r;return[e*v(n)/(Ur*(Lr+3*Fr*r+i*(7*jr+9*Br*r))),n*(Lr+Fr*r+i*(jr+Br*r))]}zr.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Lr+Fr*i+o*(jr+Br*i))-t)/(Lr+3*Fr*i+o*(7*jr+9*Br*i)))*r)*i*i,!(p(n)<1e-12));++a);return[Ur*e*(Lr+3*Fr*i+o*(7*jr+9*Br*i))/v(r),O(w(r)/Ur)]};var Hr=function(){return dr(zr).scale(177.158)};function Gr(e,t){var n=v(t),r=v(e)*n;return[n*w(e)/r,w(t)/r]}Gr.invert=Er(m);var Vr=function(){return dr(Gr).scale(144.049).clipAngle(60)};function $r(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?tn:tr({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var Xr=function(){var e,t,n,r,i,o,a=1,s=0,l=0,u=1,c=1,f=tn,h=null,d=tn;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=f(d(i=e))},postclip:function(r){return arguments.length?(d=r,h=e=t=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=e=t=n=null,tn):xt(h=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==h?null:[[h,e],[t,n]]},scale:function(e){return arguments.length?(f=$r((a=+e)*u,a*c,s,l),p()):a},translate:function(e){return arguments.length?(f=$r(a*u,a*c,s=+e[0],l=+e[1]),p()):[s,l]},reflectX:function(e){return arguments.length?(f=$r(a*(u=e?-1:1),a*c,s,l),p()):u<0},reflectY:function(e){return arguments.length?(f=$r(a*u,a*(c=e?-1:1),s,l),p()):c<0},fitExtent:function(e,t){return ir(o,e,t)},fitSize:function(e,t){return or(o,e,t)},fitWidth:function(e,t){return ar(o,e,t)},fitHeight:function(e,t){return sr(o,e,t)}}};function Wr(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Wr.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(p(n)>s&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Yr=function(){return dr(Wr).scale(175.295)};function qr(e,t){return[v(t)*w(e),w(t)]}qr.invert=Er(O);var Kr=function(){return dr(qr).scale(249.5).clipAngle(90+s)};function Zr(e,t){var n=v(t),r=1+v(e)*n;return[n*w(e)/r,w(t)/r]}Zr.invert=Er((function(e){return 2*m(e)}));var Qr=function(){return dr(Zr).scale(250).clipAngle(142)};function Jr(e,t){return[_(S((u+t)/2)),-e]}Jr.invert=function(e,t){return[-t,2*m(b(e))-u]};var ei=function(){var e=Ar(Jr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};n.d(t,"geoArea",(function(){return Y})),n.d(t,"geoBounds",(function(){return Ue})),n.d(t,"geoCentroid",(function(){return Qe})),n.d(t,"geoCircle",(function(){return ut})),n.d(t,"geoClipAntimeridian",(function(){return Et})),n.d(t,"geoClipCircle",(function(){return wt})),n.d(t,"geoClipExtent",(function(){return Ot})),n.d(t,"geoClipRectangle",(function(){return xt})),n.d(t,"geoContains",(function(){return $t})),n.d(t,"geoDistance",(function(){return Lt})),n.d(t,"geoGraticule",(function(){return Yt})),n.d(t,"geoGraticule10",(function(){return qt})),n.d(t,"geoInterpolate",(function(){return en})),n.d(t,"geoLength",(function(){return It})),n.d(t,"geoPath",(function(){return Jn})),n.d(t,"geoAlbers",(function(){return yr})),n.d(t,"geoAlbersUsa",(function(){return br})),n.d(t,"geoAzimuthalEqualArea",(function(){return xr})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return wr})),n.d(t,"geoAzimuthalEquidistant",(function(){return Sr})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Tr})),n.d(t,"geoConicConformal",(function(){return Mr})),n.d(t,"geoConicConformalRaw",(function(){return Pr})),n.d(t,"geoConicEqualArea",(function(){return vr})),n.d(t,"geoConicEqualAreaRaw",(function(){return gr})),n.d(t,"geoConicEquidistant",(function(){return Nr})),n.d(t,"geoConicEquidistantRaw",(function(){return Dr})),n.d(t,"geoEqualEarth",(function(){return Hr})),n.d(t,"geoEqualEarthRaw",(function(){return zr})),n.d(t,"geoEquirectangular",(function(){return Ir})),n.d(t,"geoEquirectangularRaw",(function(){return Rr})),n.d(t,"geoGnomonic",(function(){return Vr})),n.d(t,"geoGnomonicRaw",(function(){return Gr})),n.d(t,"geoIdentity",(function(){return Xr})),n.d(t,"geoProjection",(function(){return dr})),n.d(t,"geoProjectionMutator",(function(){return pr})),n.d(t,"geoMercator",(function(){return Or})),n.d(t,"geoMercatorRaw",(function(){return kr})),n.d(t,"geoNaturalEarth1",(function(){return Yr})),n.d(t,"geoNaturalEarth1Raw",(function(){return Wr})),n.d(t,"geoOrthographic",(function(){return Kr})),n.d(t,"geoOrthographicRaw",(function(){return qr})),n.d(t,"geoStereographic",(function(){return Qr})),n.d(t,"geoStereographicRaw",(function(){return Zr})),n.d(t,"geoTransverseMercator",(function(){return ei})),n.d(t,"geoTransverseMercatorRaw",(function(){return Jr})),n.d(t,"geoRotation",(function(){return at})),n.d(t,"geoStream",(function(){return U})),n.d(t,"geoTransform",(function(){return er}))},function(e,t,n){n.r(t);var r=n(72),i=n(65),o=function(e,t){var n,o,a,s,l=Object(i.a)("beforesend","progress","load","error"),u=Object(r.a)(),c=new XMLHttpRequest,f=null,h=null,d=0;function p(e){var t,r,i,o=c.status;if(!o&&((i=(r=c).responseType)&&"text"!==i?r.response:r.responseText)||o>=200&&o<300||304===o){if(a)try{t=a.call(n,c)}catch(r){return void l.call("error",n,r)}else t=c;l.call("load",n,t)}else l.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(e){c.readyState>3&&p(e)},c.onprogress=function(e){l.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u.get(e):(null==t?u.remove(e):u.set(e,t+""),n)},mimeType:function(e){return arguments.length?(o=null==e?null:e+"",n):o},responseType:function(e){return arguments.length?(s=e,n):s},timeout:function(e){return arguments.length?(d=+e,n):d},user:function(e){return arguments.length<1?f:(f=null==e?null:e+"",n)},password:function(e){return arguments.length<1?h:(h=null==e?null:e+"",n)},response:function(e){return a=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,i){return c.open(t,e,!0,f,h),null==o||u.has("accept")||u.set("accept",o+",*/*"),c.setRequestHeader&&u.each((function(e,t){c.setRequestHeader(t,e)})),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),d>0&&(c.timeout=d),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(a=i,i=function(e,t){a(null==e?t:null)}),null!=i&&n.on("error",i).on("load",(function(e){i(null,e)})),l.call("beforesend",n,c),c.send(null==r?null:r),n;var a},abort:function(){return c.abort(),n},on:function(){var e=l.on.apply(l,arguments);return e===l?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n},a=function(e,t){return function(n,r){var i=o(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=a("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),l=a("application/json",(function(e){return JSON.parse(e.responseText)})),u=a("text/plain",(function(e){return e.responseText})),c=a("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),f=n(103),h=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(d(t,r=e)):r},a.row(r),i?a.get(i):a}};function d(e,t){return function(n){return e(n.responseText,t)}}var p=h("text/csv",f.csvParse),m=h("text/tab-separated-values",f.tsvParse);n.d(t,"request",(function(){return o})),n.d(t,"html",(function(){return s})),n.d(t,"json",(function(){return l})),n.d(t,"text",(function(){return u})),n.d(t,"xml",(function(){return c})),n.d(t,"csv",(function(){return p})),n.d(t,"tsv",(function(){return m}))},function(e,t,n){n.r(t);var r=[].slice,i={};function o(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,o=n[r];n[r]=s(e,t),--e._waiting,++e._active,n=o.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||i)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])l(e,t);else if(!e._data)throw t}}function s(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?l(e,n):(e._data[t]=r,e._waiting?a(e):u(e))))}}function l(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(i){}e._active=NaN,u(e)}function u(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function c(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new o(e)}o.prototype=c.prototype={constructor:o,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=r.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),a(this),this},abort:function(){return null==this._error&&l(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},u(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,u(this),this}},n.d(t,"queue",(function(){return c}))}])},e.exports=r(n(1),n(22),n(135),n(531))},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(494));t.end=i.default;var o=r(n(222));t.properties=o.default;var a={end:i.default,properties:o.default};t.default=a},function(e,t,n){e.exports={default:n(503),__esModule:!0}},function(e,t,n){n.d(t,"a",(function(){return R}));var r=n(29),i=n.n(r),o=n(37),a=n(98),s=n(546),l=n(544),u=n(30),c=n(32);function f(){var e,t,n,r,i,o=0,a=1,c=u.c,f=!1;function h(t){return isNaN(t=+t)?i:c(0===n?.5:(t=(r(t)-e)*n,f?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,c=e(n,r),h):[c(0),c(1)]}}return h.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),h):[o,a]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(c=e,h):c},h.range=d(s.a),h.rangeRound=d(l.a),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),h}}function h(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}n(542),n(533);var d=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o};const p=Symbol("implicit");function m(){var e=new Map,t=[],n=[],r=p;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==p)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return m(t,n).unknown(r)},c.b.apply(i,arguments),i}function g(){var e,t,n=m().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,f=.5;function h(){var n=r().length,c=a<o,h=c?a:o,p=c?o:a;e=(p-h)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*f,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var m=d(n).map((function(t){return h+e*t}));return i(c?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},n.copy=function(){return g(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(f)},c.b.apply(h(),arguments)}var v=n(545),y=n(535),b=n(541);function _(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var E=n(540),w=n(44),x=n(38),T=n(171),S=n(169),k=n(170),O=n(97);function A(e,t,n,r){const i=r&&0!==r?r:void 0;let o=0;switch(t){case"less-than":case"LT":case"lt":o=n>e?i?(n-e)/i:1:0;break;case"less-than-or-equal-to":case"LTET":case"ltet":o=n>=e?i?(n-e)/i:1:0;break;case"greater-than":case"GT":case"gt":o=n<e?i?(e-n)/i:1:0;break;case"greater-than-or-equal-to":case"GTET":case"gtet":o=n<=e?i?(e-n)/i:1:0}return Math.max(Math.min(1,o),0)}var C=n(50),P=n(7),M=n(138);class R{constructor(e,t,n){this.id=i.a.v1(),this.theme=n,this.dataOriginal=JSON.parse(JSON.stringify(t)),this.dataAggregated=JSON.parse(JSON.stringify(t)),this.specOriginal=JSON.parse(JSON.stringify(e)),this.specComplete=JSON.parse(JSON.stringify(e)),this.channelScales={};const r=this.validateSpec();r.valid?(this.generateCompleteSpec(this.specComplete),this.flipRanges(this.specComplete),this.generateScales(),this.dataAggregated=Object(C.b)(this.spec(),this.dataAggregated)):console.warn("Gosling specification is not valid!",r.errorMessages)}getId(){return this.id}getRenderingId(){var e;return null!==(e=this.spec()._renderingId)&&void 0!==e?e:this.getId()}originalSpec(){return this.specOriginal}spec(){return this.specComplete}data(){return this.dataAggregated}generateCompleteSpec(e){if(!e.width||!e.height)return void console.warn("Size of track is not determined yet.");if("vertical"===e.orientation){const t=e.width;e.width=e.height,e.height=t}const t=this.getGenomicChannelKey();let n=!1;"x"===t&&(n=Object(P.b)(e.x)&&void 0!==e.x.axis&&"none"!==e.x.axis),"y"===t&&(n=Object(P.b)(e.y)&&void 0!==e.y.axis&&"none"!==e.y.axis),"circular"!==e.layout?Object(P.b)(e.x)&&void 0!==e.x.axis&&"none"!==e.x.axis&&(e.height-=w.a):"x"===t&&n&&Object(P.b)(e.x)&&"top"===e.x.axis?e.outerRadius=e.outerRadius-w.a:"x"===t&&n&&Object(P.b)(e.x)&&"bottom"===e.x.axis&&(e.innerRadius=e.innerRadius+w.a),x.a.forEach((t=>{const n=e[t];Object(P.b)(n)&&void 0===n.zeroBaseline&&"genomic"!==n.type&&["x","y"].includes(t)&&(n.zeroBaseline=!0)})),this.addScaleMaterials(e)}flipRanges(e){Object(P.b)(e.x)&&e.x.flip&&Array.isArray(e.x.range)&&(e.x.range=e.x.range.reverse()),Object(P.b)(e.y)&&e.y.flip&&Array.isArray(e.y.range)&&(e.y.range=e.y.range.reverse())}getGenomicChannelKey(){return Object(o.b)(this.spec())}getGenomicChannel(){return Object(o.a)(this.spec())}setChannelDomain(e,t,n){const r=this.originalSpec()[e];if(!n&&Object(P.b)(r)&&void 0!==r.domain)return;const i=this.specComplete[e];Object(P.b)(i)&&(i.domain=t)}setChannelRange(e,t){const n=this.specComplete[e];Object(P.b)(n)&&(n.range=t)}updateChannelValue(){if(void 0===this.originalSpec().y){const e=this.spec().y,t=this.getChannelDomainArray("row");e&&Object(P.c)(e)&&t&&(e.value=this.spec().height/t.length/2)}}encodedValue(e,t){if("text"===e&&void 0!==t)return""+(+t?~~t:t);const n=this.spec()[e],r=Object(P.b)(n)?n.type:Object(P.c)(n)?"constant":void 0;if(r){if("constant"===r)return this.channelScales[e]();if(void 0!==t&&"function"==typeof this.channelScales[e])switch(e){case"x":case"y":case"x1":case"y1":case"xe":case"ye":case"x1e":if("quantitative"===r||"genomic"===r)return this.channelScales[e](t);if("nominal"===r)return this.channelScales[e](t);break;case"color":case"stroke":case"size":if("quantitative"===r)return this.channelScales[e](t);if("nominal"===r)return this.channelScales[e](t);break;case"row":if("nominal"===r)return this.channelScales[e](t);break;case"strokeWidth":case"opacity":if("quantitative"===r)return this.channelScales[e](t);break;default:return void console.warn(e+" is not supported for encoding values, so returning a undefined value")}}}trackVisibility(e){const t=this.spec();if(!t.visibility||0===t.visibility.length||0===t.visibility.filter((e=>"track"===e.target)).length)return!0;let n=!0;return t.visibility.filter((e=>"track"===e.target)).forEach((r=>{const{operation:i,measure:o,threshold:a}=r;let s;s="zoomLevel"===o?e[o]:t[o],void 0!==s&&(n=n&&1===A(s,i,a))})),n}markVisibility(e,t){const n=this.spec();if(!n.visibility||0===n.visibility.length||0===n.visibility.filter((e=>"mark"===e.target)).length)return 1;let r=1;return n.visibility.filter((e=>"mark"===e.target)).forEach((i=>{const{operation:o,threshold:a,conditionPadding:s,transitionPadding:l,measure:u}=i,c=null!=s?s:0;let f=1;if("text"===n.mark&&"|xe-x|"===a&&"width"===u){const n=this.encodedPIXIProperty("xe",e),r=this.encodedPIXIProperty("x",e);void 0!==n&&(null==t?void 0:t.width)&&(f=A(t.width+c,o,Math.abs(n-r),l))}else"width"===u&&"number"==typeof a&&(null==t?void 0:t.width)?f=A(t.width+c,o,a,l):"zoomLevel"===u&&"number"==typeof a&&(null==t?void 0:t.zoomLevel)&&(f=A(t.zoomLevel,o,a,l));r>f&&(r=f)})),r}visualPropertyByChannel(e,t){const n=void 0!==t?Object(P.C)(t,this.spec()[e]):void 0;return this.encodedValue(e,n)}encodedPIXIProperty(e,t,n){const r=this.spec().mark;if(Object(P.s)(r)){if(["text","color","row","stroke","opacity","strokeWidth","x","y","xe","x1","x1e","size"].includes(e))return this.visualPropertyByChannel(e,t);switch(r){case"bar":return Object(k.a)(this,e,t,n);case"point":case"text":return Object(S.b)(this,e,t);case"rect":return Object(T.b)(this,e,t,n);default:return}}}addScaleMaterials(e){const t=this.data(),n=this.getGenomicChannel();n&&n.field?e.width&&e.height?(x.a.forEach((r=>{var i,o,a,s;const l=e[r];if(Object(P.u)(e,r)&&Object(P.b)(l)){const o=Object(y.a)(t,(e=>e[n.field])),a=[...o.keys()];if(!l.domain){const e=l.zeroBaseline?0:Object(b.a)(a.map((e=>_(o.get(e).map((e=>l.field?e[l.field]:void 0)))))),t=Object(E.a)(a.map((e=>_(o.get(e).map((e=>l.field?e[l.field]:void 0))))));l.domain=[e,t]}if(!l.range){const n=e.row,o=Object(P.b)(n)?n.field:void 0,a=null!==(i=this.getChannelDomainArray("row"))&&void 0!==i?i:o?Array.from(new Set(t.map((e=>e[o])))):[1],s=e.height/a.length;switch(r){case"x":l.range=[0,e.width];break;case"y":l.range=[0,s]}}}else{const n=e.row,i=Object(P.b)(n)?n.field:void 0,u=null!==(o=this.getChannelDomainArray("row"))&&void 0!==o?o:i?Array.from(new Set(t.map((e=>e[i])))):[1],c=e.height/u.length;if(l)if(!Object(P.b)(l)||"quantitative"!==l.type&&"genomic"!==l.type){if(Object(P.b)(l)&&"nominal"===l.type&&(void 0===l.domain&&(l.domain=Array.from(new Set(t.map((e=>e[l.field]))))),!l.range)){let t,n=2;switch(r){case"x":case"xe":t=[0,e.width];break;case"y":t=[c,0];break;case"color":case"stroke":t=this.theme.markCommon.nominalColorRange;break;case"row":t=[0,e.height];break;case"size":t=l.domain.map((()=>n++))}t&&(l.range=t)}}else{if(void 0===l.domain){const e=l.zeroBaseline?0:null!==(a=Object(b.a)(t.map((e=>+e[l.field]))))&&void 0!==a?a:0,n=null!==(s=Object(E.a)(t.map((e=>+e[l.field]))))&&void 0!==s?s:0;l.domain=[e,n]}else"genomic"!==l.type||Object(P.h)(l.domain)||(l.domain=Object(O.a)(l.domain));if(!l.range){let t;switch(r){case"x":case"xe":case"x1":case"x1e":t=[0,e.width];break;case"y":t=[0,c];break;case"color":case"stroke":t=M.a.QUANTITATIVE_COLOR;break;case"size":t=this.theme.markCommon.quantitativeSizeRange;break;case"strokeWidth":t=[1,3];break;case"opacity":t=[0,1]}t&&(l.range=t)}}else{let t;switch(r){case"x":t=e.width/2;break;case"y":t=c/2;break;case"size":t="line"===e.mark?this.theme.line.size:"bar"===e.mark||"rect"===e.mark||"triangleRight"===e.mark||"triangleLeft"===e.mark||"triangleBottom"===e.mark||e.stretch&&"point"===e.mark&&Object(P.b)(e.x)&&Object(P.b)(e.xe)?void 0:"text"===e.mark?12:this.theme.point.size;break;case"color":t=this.theme.markCommon.color;break;case"row":t=0;break;case"stroke":t="text"===e.mark?this.theme.text.stroke:this.theme.markCommon.stroke;break;case"strokeWidth":t="rule"===e.mark?this.theme.rule.strokeWidth:"withinLink"===e.mark||"betweenLink"===e.mark?this.theme.link.strokeWidth:"text"===e.mark?this.theme.text.strokeWidth:this.theme.markCommon.strokeWidth;break;case"opacity":t=this.theme.markCommon.opacity;break;case"text":t=""}void 0!==t&&(e[r]={value:t})}}})),[["x","xe"],["y","ye"]].forEach((t=>{const[n,r]=t,i=e[n],o=e[r];if(Object(P.b)(i)&&Object(P.b)(o)&&i.type===o.type&&i.domain&&o.domain&&Array.isArray(i.domain)&&Array.isArray(o.domain))if("genomic"===i.type||"quantitative"===i.type){const e=Object(b.a)([i.domain[0],o.domain[0]]),t=Object(E.a)([i.domain[1],o.domain[1]]);i.domain=o.domain=[e,t]}else if("nominal"===i.type){const e=Array.from(new Set([...i.domain,...o.domain]));i.range=o.range=e}}))):console.warn("Track size is not determined yet"):console.warn("Genomic field is not provided in the specification")}generateScales(){const e=this.spec();x.a.forEach((t=>{const n=e[t];if(Object(P.c)(n))this.channelScales[t]=()=>n.value;else if(Object(P.b)(n)){if("text"===t)return;const e=n.domain,r=n.range;if(void 0===e||void 0===r)return;if("quantitative"===n.type||"genomic"===n.type)switch(t){case"x":case"x1":case"xe":case"x1e":case"y":case"size":case"opacity":case"strokeWidth":this.channelScales[t]=Object(a.a)().domain(e).range(r);break;case"color":case"stroke":let n=v.a;Object.keys(P.z).includes(r)&&(n=P.z[r]),this.channelScales[t]=function e(){var t=Object(a.b)(f()(u.c));return t.copy=function(){return h(t,e())},c.a.apply(t,arguments)}(n).domain(e)}else if("nominal"===n.type)switch(t){case"x":case"xe":case"y":case"row":this.channelScales[t]=g().domain(e).range(r);break;case"size":this.channelScales[t]=m().domain(e).range(r);break;case"color":case"stroke":this.channelScales[t]=m(r).domain(e)}}}))}getChannelScale(e){return this.channelScales[e]}setChannelScale(e,t){this.channelScales[e]=t}addDataRows(e){this.dataAggregated=[...this.dataAggregated,...e]}isShowYAxis(){const e=this.spec(),t=this.getChannelDomainArray("y"),n=this.getChannelRangeArray("y");return Object(P.b)(e.y)&&"none"!==e.y.axis&&"quantitative"===e.y.type&&!!t&&!!n}getChannelDomainArray(e){const t=this.spec()[e];return Object(P.b)(t)&&Object(P.h)(t.domain)?t.domain:void 0}getChannelRangeArray(e){const t=this.spec()[e];return Object(P.b)(t)&&Object(P.q)(t.range)?t.range:void 0}validateSpec(){return Object(o.e)(this.originalSpec())}}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=class{constructor(e,t,n){this.worker=n,this.dataConfig=t,this.uid=e.libraries.slugid.nice(),this.assembly="hg38",this.fetchTimeout=null,this.toFetch=new Set,this.initPromise=this.worker.then((e=>{var n;return t.url&&!t.bamUrl&&(t.bamUrl=t.url),t.baiUrl||(t.baiUrl=null!==(n=t.indexUrl)&&void 0!==n?n:t.bamUrl+".bai"),e.init(this.uid,t.bamUrl,t.baiUrl,t.chromSizesUrl).then((()=>this.worker))}))}tilesetInfo(e){this.worker.then((t=>{t.tilesetInfo(this.uid).then(e)}))}fetchTilesDebounced(e,t){const{toFetch:n}=this;if(t[0].split(".")[0]!==(n.size?[...n][0].split(".")[0]:null)){for(const e of this.toFetch)this.track.fetching.delete(e);this.toFetch.clear()}t.forEach((e=>this.toFetch.add(e))),this.fetchTimeout&&clearTimeout(this.fetchTimeout),this.fetchTimeout=setTimeout((()=>{this.sendFetch(e,[...this.toFetch]),this.toFetch.clear()}),200)}sendFetch(e,t){this.worker.then((n=>{n.fetchTilesDebounced(this.uid,t).then(e)}))}}},,,,,,,function(e,t,n){var r=n(317),i=n(323);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(241),i=n(320),o=n(184),a=n(322),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(242),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(321),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(183)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(238),i=n(239);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(326),i=n(333);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(245),i=n(327),o=n(329);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(328),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(330),i=n(332)(r);e.exports=i},function(e,t,n){var r=n(331),i=n(240),o=n(245),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(244),i=n(185),o=n(247),a=n(184);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(335),i=n(346),o=n(185);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(336),i=n(337),o=n(339),a=n(340),s=n(247),l=n(342),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(338),i=n(186),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(182),i=n(186);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(183),i=n(341),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(145)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(343),i=n(344),o=n(345),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(182),i=n(246),o=n(186),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(243),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(145)(e))},function(e,t,n){var r=n(248),i=n(347),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(348)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r,i,o=n(249),a=n(250),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var d=o();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=p-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=m,i=h;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;c[u++]=v>>>24&255,c[u++]=v>>>16&255,c[u++]=v>>>8&255,c[u++]=255&v;var y=p/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=h>>>8|128,c[u++]=255&h;for(var b=0;b<6;++b)c[u+b]=f[b];return t||a(c)}},function(e,t,n){var r=n(249),i=n(250);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){(function(e){var r=n(354);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(35).Buffer)},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r,a=u(e),s=a[0],l=a[1],c=new o(3*(s+(r=l))/4-r),f=0,h=l>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;return 2===l&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[f++]=255&t),1===l&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t,n){for(var r=n(355),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),f=0,h=0;function d(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var p=d;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:h+1,d=a-f+(l-h)/1e4;if(d<0&&void 0===e.clockseq&&(o=o+1&16383),(d<0||a>f)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,h=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var g=e.node||u,v=0;v<6;v++)i[r+v]=g[v];return t||s(i)},p.v4=d,p.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t},p.unparse=s,e.exports=p},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(51))},function(e,t,n){e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},function(e,t,n){function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function o(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function a(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function s(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function l(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function u(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}e.exports=function(e,t){t<=128?r(0,t-1,e):function e(t,n,c){var f=(n-t+1)/6|0,h=t+f,d=n-f,p=t+n>>1,m=p-f,g=p+f,v=h,y=m,b=p,_=g,E=d,w=t+1,x=n-1,T=0;l(v,y,c)&&(T=v,v=y,y=T),l(_,E,c)&&(T=_,_=E,E=T),l(v,b,c)&&(T=v,v=b,b=T),l(y,b,c)&&(T=y,y=b,b=T),l(v,_,c)&&(T=v,v=_,_=T),l(b,_,c)&&(T=b,b=_,_=T),l(y,E,c)&&(T=y,y=E,E=T),l(y,b,c)&&(T=y,y=b,b=T),l(_,E,c)&&(T=_,_=E,E=T);for(var S=c[2*y],k=c[2*y+1],O=c[2*_],A=c[2*_+1],C=2*v,P=2*b,M=2*E,R=2*h,I=2*p,D=2*d,N=0;N<2;++N){var L=c[C+N],F=c[P+N],j=c[M+N];c[R+N]=L,c[I+N]=F,c[D+N]=j}o(m,t,c),o(g,n,c);for(var B=w;B<=x;++B)if(u(B,S,k,c))B!==w&&i(B,w,c),++w;else if(!u(B,O,A,c))for(;;){if(u(x,O,A,c)){u(x,S,k,c)?(a(B,w,x,c),++w,--x):(i(B,x,c),--x);break}if(--x<B)break}s(t,w-1,S,k,c),s(n,x+1,O,A,c),w-2-t<=32?r(t,w-2,c):e(t,w-2,c),n-(x+2)<=32?r(x+2,n,c):e(x+2,n,c),x-w<=32?r(w,x,c):e(w,x,c)}(0,t-1,e)}},function(e,t,n){e.exports=function(e,t,n,o,c,w,x,T,S){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(6*n);v.length<o&&(r.free(v),v=r.mallocInt32(o));var a=i.nextPow2(2*n);y.length<a&&(r.free(y),y=r.mallocDouble(a))}(e,o+x);var k,O=0,A=2*e;for(b(O++,0,0,o,0,x,n?16:0,-1/0,1/0),n||b(O++,0,0,x,0,o,1,-1/0,1/0);O>0;){var C=6*(O-=1),P=v[C],M=v[C+1],R=v[C+2],I=v[C+3],D=v[C+4],N=v[C+5],L=2*O,F=y[L],j=y[L+1],B=1&N,U=!!(16&N),z=c,H=w,G=T,V=S;if(B&&(z=T,H=S,G=c,V=w),!(2&N&&(R=d(e,P,M,R,z,H,j),M>=R)||4&N&&(M=p(e,P,M,R,z,H,F))>=R)){var $=R-M,X=D-I;if(U){if(e*$*($+X)<1<<22){if(void 0!==(k=l.scanComplete(e,P,t,M,R,z,H,I,D,G,V)))return k;continue}}else{if(e*Math.min($,X)<128){if(void 0!==(k=a(e,P,t,B,M,R,z,H,I,D,G,V)))return k;continue}if(e*$*X<1<<22){if(void 0!==(k=l.scanBipartite(e,P,t,B,M,R,z,H,I,D,G,V)))return k;continue}}var W=f(e,P,M,R,z,H,F,j);if(M<W)if(e*(W-M)<128){if(void 0!==(k=s(e,P+1,t,M,W,z,H,I,D,G,V)))return k}else if(P===e-2){if(void 0!==(k=B?l.sweepBipartite(e,t,I,D,G,V,M,W,z,H):l.sweepBipartite(e,t,M,W,z,H,I,D,G,V)))return k}else b(O++,P+1,M,W,I,D,B,-1/0,1/0),b(O++,P+1,I,D,M,W,1^B,-1/0,1/0);if(W<R){var Y=u(e,P,I,D,G,V),q=G[A*Y+P],K=h(e,P,Y,D,G,V,q);if(K<D&&b(O++,P,W,R,K,D,(4|B)+(U?16:0),q,j),I<Y&&b(O++,P,W,R,I,Y,(2|B)+(U?16:0),F,q),Y+1===K){if(void 0!==(k=U?E(e,P,t,W,R,z,H,Y,G,V[Y]):_(e,P,t,B,W,R,z,H,Y,G,V[Y])))return k}else if(Y<K){var Z;if(U){if(W<(Z=m(e,P,W,R,z,H,q))){var Q=h(e,P,W,Z,z,H,q);if(P===e-2){if(W<Q&&void 0!==(k=l.sweepComplete(e,t,W,Q,z,H,Y,K,G,V)))return k;if(Q<Z&&void 0!==(k=l.sweepBipartite(e,t,Q,Z,z,H,Y,K,G,V)))return k}else W<Q&&b(O++,P+1,W,Q,Y,K,16,-1/0,1/0),Q<Z&&(b(O++,P+1,Q,Z,Y,K,0,-1/0,1/0),b(O++,P+1,Y,K,Q,Z,1,-1/0,1/0))}}else W<(Z=B?g(e,P,W,R,z,H,q):m(e,P,W,R,z,H,q))&&(P===e-2?k=B?l.sweepBipartite(e,t,Y,K,G,V,W,Z,z,H):l.sweepBipartite(e,t,W,Z,z,H,Y,K,G,V):(b(O++,P+1,W,Z,Y,K,B,-1/0,1/0),b(O++,P+1,Y,K,W,Z,1^B,-1/0,1/0)))}}}}};var r=n(187),i=n(188),o=n(359),a=o.partial,s=o.full,l=n(252),u=n(360),c=n(253),f=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),h=c("lo===p0",["p0"]),d=c("lo<p0",["p0"]),p=c("hi<=p0",["p0"]),m=c("lo<=p0&&p0<=hi",["p0"]),g=c("lo<p0&&p0<=hi",["p0"]),v=r.mallocInt32(1024),y=r.mallocDouble(1024);function b(e,t,n,r,i,o,a,s,l){var u=6*e;v[u]=t,v[u+1]=n,v[u+2]=r,v[u+3]=i,v[u+4]=o,v[u+5]=a;var c=2*e;y[c]=s,y[c+1]=l}function _(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,h=l*f,d=u[h+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var g=a[m+t],v=a[m+t+e];if(!(d<g||v<d||r&&d===g)){for(var y,b=s[p],_=t+1;_<e;++_){g=a[m+_],v=a[m+_+e];var E=u[h+_],w=u[h+_+e];if(v<E||w<g)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function E(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,h=l[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var g=o[p+t],v=o[p+t+e];if(!(h<g||v<h)){for(var y=t+1;y<e;++y){g=o[p+y],v=o[p+y+e];var b=l[f+y],_=l[f+y+e];if(v<b||_<g)continue e}var E=n(m,u);if(void 0!==E)return E}}}}},function(e,t,n){var r=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function i(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],i=r.slice();e||i.splice(3,0,"fp");var o=["function "+t+"("+i.join()+"){"];function a(t,i){var a,s,l,u,c,f,h,d=(c=["function ",u="bruteForce"+((a=t)?"Red":"Blue")+((s=i)?"Flip":"")+((l=e)?"Full":""),"(",r.join(),"){","var ","es","=2*","d",";"],f="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",h="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(l?"y1=bb[ax+bp+d],":"")+"yi=bi[j];",a?c.push(f,"Q",":",h):c.push(h,"Q",":",f),l?c.push("if(y1<x0||x1<y0)continue;"):s?c.push("if(y0<=x0||x1<y0)continue;"):c.push("if(y0<x0||x1<y0)continue;"),c.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),s?c.push("yi,xi"):c.push("xi,yi"),c.push(");if(rv!==void 0)return rv;}}}"),{name:u,code:c.join("")});n.push(d.code),o.push("return "+d.name+"("+r.join()+");")}o.push("if(re-rs>be-bs){"),e?(a(!0,!1),o.push("}else{"),a(!1,!1)):(o.push("if(fp){"),a(!0,!0),o.push("}else{"),a(!0,!1),o.push("}}else{if(fp){"),a(!1,!0),o.push("}else{"),a(!1,!1),o.push("}")),o.push("}}return "+t);var s=n.join("")+o.join("");return new Function(s)()}t.partial=i(!1),t.full=i(!0)},function(e,t,n){e.exports=function(e,t,n,o,a,s){if(o<=n+1)return n;for(var l=n,u=o,c=o+n>>>1,f=2*e,h=c,d=a[f*c+t];l<u;){if(u-l<8){i(e,t,l,u,a,s),d=a[f*c+t];break}var p=u-l,m=Math.random()*p+l|0,g=a[f*m+t],v=Math.random()*p+l|0,y=a[f*v+t],b=Math.random()*p+l|0,_=a[f*b+t];g<=y?_>=y?(h=v,d=y):g>=_?(h=m,d=g):(h=b,d=_):y>=_?(h=v,d=y):_>=g?(h=m,d=g):(h=b,d=_);for(var E=f*(u-1),w=f*h,x=0;x<f;++x,++E,++w){var T=a[E];a[E]=a[w],a[w]=T}var S=s[u-1];for(s[u-1]=s[h],s[h]=S,E=f*(u-1),w=f*(h=r(e,t,l,u-1,a,s,d)),x=0;x<f;++x,++E,++w)T=a[E],a[E]=a[w],a[w]=T;if(S=s[u-1],s[u-1]=s[h],s[h]=S,c<h){for(u=h-1;l<u&&a[f*(u-1)+t]===d;)u-=1;u+=1}else{if(!(h<c))break;for(l=h+1;l<u&&a[f*l+t]===d;)l+=1}}return r(e,t,n,c,a,s,a[f*c+t])};var r=n(253)("lo<p0",["p0"]);function i(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var m=i[h];i[h]=i[d],i[d]=m}var g=o[c];o[c]=o[c-1],o[c-1]=g}}},function(e,t,n){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.BigWig=void 0;var i=r(n(124)),o=r(n(125)),a=r(n(100)),s=r(n(126)),l=r(n(189)),u=r(n(191)),c=r(n(146)),f=n(254),h=function(e){(0,l.default)(r,e);var t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}(r);function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,[{key:"getView",value:(t=(0,o.default)(i.default.mark((function e(t,n){var r,o,a,s,l,u,c,h,d,p,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader(n);case 2:r=e.sent,o=r.zoomLevels,a=r.refsByName,s=r.fileSize,l=r.isBigEndian,u=r.uncompressBufSize,c=1/t,h=o.length,s||(h-=1),d=h;case 12:if(!(d>=0)){e.next=20;break}if(!((p=o[d])&&p.reductionLevel<=2*c)){e.next=17;break}return m=d<o.length-1?o[d+1].dataOffset-p.indexOffset:s-4-p.indexOffset,e.abrupt("return",new f.BlockView(this.bbi,a,p.indexOffset,m,l,u>0,"summary"));case 17:d-=1,e.next=12;break;case 20:return e.abrupt("return",this.getUnzoomedView(n));case 21:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(n(200).BBI);t.BigWig=h},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};i.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},i.prototype.generateOption=function(e){switch(r(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"(".concat(e,").call(").concat(this.generateVariable(),", vars)");default:return}},i.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=i.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error(".concat(t,"), vars); });")):this.pushCode("throw new Error(".concat(t,");"))},i.prototype.generateTmpVariable=function(){return"$tmp".concat(this.tmpVariableCount++)},i.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+="".concat(i.interpolate.apply(this,e),"\n")},i.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},i.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},i.prototype.pushScope=function(e){this.scopes.push([e])},i.prototype.popScope=function(){this.scopes.pop()},i.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},i.prototype.markResolved=function(e){this.references[e].resolved=!0},i.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},i.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter((function(t){return!e[t].resolved&&!e[t].requested}))},i.interpolate=function(e){var t=/{\d+}/g,n=e.match(t),r=Array.prototype.slice.call(arguments,1);return n&&n.forEach((function(t){var n=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,r[n].toString())})),e},t.Context=i},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},a={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=u(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function l(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-m)return T;if(e+1>=m)return w}return e<0?l(-e,t).neg():u(e%d|0,e/d|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=l,r.fromBits=u;var c=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var i=l(c(n,8)),o=v,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);if(s<8){var h=l(c(n,s));o=o.mul(h).add(l(u))}else o=(o=o.mul(i)).add(l(u))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?f(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=h;var d=4294967296,p=d*d,m=p/2,g=s(1<<24),v=s(0);r.ZERO=v;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var _=s(1,!0);r.UONE=_;var E=s(-1);r.NEG_ONE=E;var w=u(-1,2147483647,!1);r.MAX_VALUE=w;var x=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=x;var T=u(0,-2147483648,!1);r.MIN_VALUE=T;var S=r.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=l(c(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),u=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(b)},S.neg=S.negate,S.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,f=0,d=0,p=0;return d+=(p+=o+(65535&e.low))>>>16,f+=(d+=r+l)>>>16,c+=(f+=n+s)>>>16,c+=t+a,u((d&=65535)<<16|(p&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},S.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=h(e)),n)return u(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(T))return e.isOdd()?T:v;if(e.eq(T))return this.isOdd()?T:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,f=e.low>>>16,d=65535&e.low,p=0,m=0,y=0,b=0;return y+=(b+=a*d)>>>16,m+=(y+=o*d)>>>16,y&=65535,m+=(y+=a*f)>>>16,p+=(m+=r*d)>>>16,m&=65535,p+=(m+=o*f)>>>16,m&=65535,p+=(m+=a*c)>>>16,p+=t*d+r*f+o*c+a*s,u((y&=65535)<<16|(b&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;o=y}else{if(this.eq(T))return e.eq(b)||e.eq(E)?T:e.eq(T)?b:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:E:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(T))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:c(2,a-48),f=l(t),d=f.mul(e);d.isNegative()||d.gt(r);)d=(f=l(t-=s,this.unsigned)).mul(e);f.isZero()&&(f=b),o=o.add(f),r=r.sub(d)}return o},S.div=S.divide,S.modulo=function(e){return i(e)||(e=h(e)),n?u((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return u(~this.low,~this.high,this.unsigned)},S.and=function(e){return i(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return i(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return i(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(255),o=r(n(368)),a=r(n(369)),s=function(){function e(e){var t=e.fill,n=e.cache;if("function"!=typeof t)throw new TypeError("must pass a fill function");if("object"!=typeof n)throw new TypeError("must pass a cache object");if("function"!=typeof n.get||"function"!=typeof n.set||"function"!=typeof n.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}return e.isAbortException=function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message},e.prototype.evict=function(e,t){this.cache.get(e)===t&&this.cache.delete(e)},e.prototype.fill=function(e,t,n,r){var i=this,s=new o.default,l=new a.default;l.addCallback(r);var u={aborter:s,promise:this.fillCallback(t,s.signal,(function(e){l.callback(e)})),settled:!1,statusReporter:l,get aborted(){return this.aborter.signal.aborted}};u.aborter.addSignal(n),u.aborter.signal.addEventListener("abort",(function(){u.settled||i.evict(e,u)})),u.promise.then((function(){u.settled=!0}),(function(t){u.settled=!0,i.evict(e,u)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,u)},e.checkSinglePromise=function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return n(),e}),(function(e){throw n(),e}))},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.get=function(t,n,r,o){if(!r&&n instanceof i.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var a=this.cache.get(t);return a?a.aborted?(this.evict(t,a),this.get(t,n,r,o)):a.settled?a.promise:(a.aborter.addSignal(r),a.statusReporter.addCallback(o),e.checkSinglePromise(a.promise,r)):(this.fill(t,n,r,o),e.checkSinglePromise(this.cache.get(t).promise,r))},e.prototype.delete=function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))},e.prototype.clear=function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t},e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(){r(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return o(e,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(o){Promise.resolve().then((function(){throw o}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),e}(),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}(n);function n(){var e;return r(this,n),(e=t.call(this)).listeners||f.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return o(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(a(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(f),d=function(){function e(){r(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return o(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),t.AbortController=d,t.AbortSignal=h,t.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t,n=e,r=n.fetch,i=n.Request,o=void 0===i?r.Request:i,a=n.AbortController,s=n.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,l=void 0!==s&&s;if(!((t={fetch:r,Request:o,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:l}).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController))return{fetch:r,Request:u};var u=o;(u&&!u.prototype.hasOwnProperty("signal")||l)&&((u=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new o(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=o.prototype);var c=r;return{fetch:function(e,t){var n=u&&u.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(o){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([i,c(e,t)])}return c(e,t)},Request:u}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(255),i=function(){},o=function(){function e(){this.signals=new Set,this.abortController=new r.AbortController}return e.prototype.addSignal=function(e){var t=this;if(void 0===e&&(e=new i),this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",(function(){t.handleAborted(e)}))},e.prototype.handleAborted=function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()},Object.defineProperty(e.prototype,"signal",{get:function(){return this.abortController.signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){this.abortController.abort()},e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.callbacks=new Set}return e.prototype.addCallback=function(e){void 0===e&&(e=function(){}),this.callbacks.add(e),e(this.currentMessage)},e.prototype.callback=function(e){this.currentMessage=e,this.callbacks.forEach((function(t){t(e)}))},e}();t.default=r},function(e,t,n){(function(e){var r=n(35).Buffer,i=n(371).Transform,o=n(384),a=n(262),s=n(261).ok,l=n(35).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),f=0;f<c.length;f++){var h=c[f];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:o[h],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var g=p[m];d[d[g]]=g}function v(e,t,n){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(){var t,a=null;o>=l?a=new RangeError(u):t=r.concat(i,o),i=[],e.close(),n(a,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",a),n(t)})),e.on("end",s),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);O.call(this,e,o.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);O.call(this,e,o.INFLATE)}function E(e){if(!(this instanceof E))return new E(e);O.call(this,e,o.GZIP)}function w(e){if(!(this instanceof w))return new w(e);O.call(this,e,o.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);O.call(this,e,o.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);O.call(this,e,o.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);O.call(this,e,o.UNZIP)}function k(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function O(e,n){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!k(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!k(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function C(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=b,t.Inflate=_,t.Gzip=E,t.Gunzip=w,t.DeflateRaw=x,t.InflateRaw=T,t.Unzip=S,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new _(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new T(e)},t.createGzip=function(e){return new E(e)},t.createGunzip=function(e){return new w(e)},t.createUnzip=function(e){return new S(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new E(t),e,n)},t.gzipSync=function(e,t){return y(new E(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.deflateRawSync=function(e,t){return y(new x(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.unzipSync=function(e,t){return y(new S(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.inflateSync=function(e,t){return y(new _(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.gunzipSync=function(e,t){return y(new w(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new T(t),e,n)},t.inflateRawSync=function(e,t){return y(new T(t),e)},a.inherits(O,i),O.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(n,r),a._hadError||(a._level=n,a._strategy=r,i&&i())}))}else e.nextTick(i)},O.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},O.prototype.flush=function(t,n){var i=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},O.prototype.close=function(t){A(this,t),e.nextTick(C,this)},O.prototype._transform=function(e,t,n){var i,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},O.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,c=this,f="function"==typeof n;if(!f){var h,d=[],p=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw h;if(p>=l)throw A(this),new RangeError(u);var g=r.concat(d,p);return A(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function y(l,u){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=o-u;if(s(h>=0,"have should not go down"),h>0){var m=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,f?c.push(m):(d.push(m),p+=m.length)}if((0===u||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===u){if(a+=i-l,i=l,!f)return!0;var g=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!f)return!1;n()}}v.buffer=e,v.callback=y},a.inherits(b,O),a.inherits(_,O),a.inherits(E,O),a.inherits(w,O),a.inherits(x,O),a.inherits(T,O),a.inherits(S,O)}).call(this,n(60))},function(e,t,n){e.exports=i;var r=n(195).EventEmitter;function i(){r.call(this)}n(101)(i,r),i.Readable=n(196),i.Writable=n(380),i.Duplex=n(381),i.Transform=n(382),i.PassThrough=n(383),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(197).Buffer,i=n(374);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,n=a,o.data.copy(t,n),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(376),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(51))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},h.clearImmediate=d}function d(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(51),n(60))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(51))},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(35),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){e.exports=o;var r=n(260),i=Object.create(n(128));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(101),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(198)},function(e,t,n){e.exports=n(86)},function(e,t,n){e.exports=n(196).Transform},function(e,t,n){e.exports=n(196).PassThrough},function(e,t,n){(function(e,r){var i=n(261),o=n(388),a=n(389),s=n(392),l=n(395);for(var u in l)t[u]=l[u];function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},c.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},c.prototype._write=function(n,o,a,s,l,u,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=u,this.strm.next_out=c,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick((function(){h._process(),h._after()})),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,n,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,o,a),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,n,r,i,l){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,n(35).Buffer,n(60))},function(e,t,n){
/*
      object-assign
      (c) Sindre Sorhus
      @license MIT
      */
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(148),o=n(390),a=n(263),s=n(264),l=n(391);function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,f=e.prev,h=e.strstart+258,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=258-(h-o),o=h-258,r>a){if(e.match_start=t,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=f[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,o,l,u,c,f,h,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,f=e.strstart+e.lookahead,h=o,d=void 0,(d=u.avail_in)>h&&(d=h),n=0===d?0:(u.avail_in-=d,i.arraySet(c,u.input,u.next_in,d,f),1===u.state.wrap?u.adler=a(u.adler,c,d,f):2===u.state.wrap&&(u.adler=s(u.adler,c,d,f)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function x(e){var t,n=w(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return u(e,-2);8===r&&(r=9);var l=new E;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,x(e)}r=[new _(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(d(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=x,t.deflateResetKeep=w,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===i.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,h,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(148);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var f=new Array(512);i(f);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,m,g,v=new Array(30);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?f[e]:f[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function x(e,t,n){w(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(o[s]++,s))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function C(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,s,l,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?x(e,i,t):(x(e,(s=h[i])+256+1,t),0!==(l=o[s])&&w(e,i-=d[s],l),x(e,s=_(--r),n),0!==(l=a[s])&&w(e,r-=v[s],l))}while(u<e.last_lit);x(e,256,t)}function M(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)C(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,C(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),S(o,u,e.bl_count)}function R(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function I(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{x(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(x(e,i,e.bl_tree),s--),x(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),w(e,s-3,3)):(x(e,18,e.bl_tree),w(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(v);var D=!1;function N(e,t,n,i){var o,a,s;w(e,0+(i?1:0),3),a=t,s=n,O(o=e),E(o,s),E(o,~s),r.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}t._tr_init=function(e){D||(function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(S(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=T(e,5);p=new y(u,o,257,286,15),m=new y(c,a,0,30,15),g=new y(new Array(0),s,0,19,7)}(),D=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?N(e,t,n,r):4===e.strategy||o===i?(w(e,2+(r?1:0),3),P(e,u,c)):(w(e,4+(r?1:0),3),function(e,t,n,r){var i;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),i=0;i<r;i++)w(e,e.bl_tree[2*l[i]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),P(e,e.dyn_ltree,e.dyn_dtree)),k(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){var t;w(e,2,3),x(e,256,u),16===(t=e).bi_valid?(E(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(148),i=n(263),o=n(264),a=n(393),s=n(394);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function d(e,t){var n,r;return e?(r=new u,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var p,m,g=!0;function v(e){if(g){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=c,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,u,c,f,h,d,p,m,g,b,_,E,w,x,T,S,k,O,A,C,P,M,R,I,D=0,N=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,b=d,_=p,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,P=8+(15&(m>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,n.check=o(n.check,N,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((E=n.length)>d&&(E=d),E&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,f,E,P)),512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;E=0;do{P=u[f+E++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&E<d);if(512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;E=0;do{P=u[f+E++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&E<d);if(512&n.flags&&(n.check=o(n.check,u,E,f)),d-=E,f+=E,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}e.adler=n.check=l(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(E>d&&(E=d),E>p&&(E=p),0===E)break e;r.arraySet(c,u,f,E,h),d-=E,f+=E,p-=E,h+=E,n.length-=E;break}n.mode=12;break;case 17:for(;g<14;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.lens[L[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(k<16)m>>>=T,g-=T,n.lens[n.have++]=k;else{if(16===k){for(I=T+2;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m>>>=T,g-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],E=3+(3&m),m>>>=2,g-=2}else if(17===k){for(I=T+3;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=T,P=0,E=3+(7&(m>>>=T)),m>>>=3,g-=3}else{for(I=T+7;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=T,P=0,E=11+(127&(m>>>=T)),m>>>=7,g-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},M=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},M=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,a(e,_),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(S&&0==(240&S)){for(O=T,A=S,C=k;S=(D=n.lencode[C+((m&(1<<O+A)-1)>>O)])>>>16&255,k=65535&D,!(O+(T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=O,g-=O,n.back+=O}if(m>>>=T,g-=T,n.back+=T,n.length=k,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(I=n.extra;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,k=65535&D,!((T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(0==(240&S)){for(O=T,A=S,C=k;S=(D=n.distcode[C+((m&(1<<O+A)-1)>>O)])>>>16&255,k=65535&D,!(O+(T=D>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=O,g-=O,n.back+=O}if(m>>>=T,g-=T,n.back+=T,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(I=n.extra;g<I;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(E=_-p,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E>n.wnext?(E-=n.wnext,w=n.wsize-E):w=n.wnext-E,E>n.length&&(E=n.length),x=n.window}else x=c,w=h-n.offset,E=n.length;E>p&&(E=p),p-=E,n.length-=E;do{c[h++]=x[w++]}while(--E);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[h++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===d)break e;d--,m|=u[f++]<<g,g+=8}if(_-=p,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,c,_,h-_):i(n.check,c,_,h-_)),_=p,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,c,_,e.next_out-_):i(n.check,c,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,E,w,x,T,S,k;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,k=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];t:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))k[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&b,(_&=15)&&(p<_&&(d+=S[r++]<<p,p+=8),E+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,p<(_&=15)&&(d+=S[r++]<<p,(p+=8)<_&&(d+=S[r++]<<p,p+=8)),(w+=d&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=_,p-=_,w>(_=o-a)){if((_=w-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,T=h,0===f){if(x+=u-_,_<E){E-=_;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}}else if(f<_){if(x+=u+f-_,(_-=f)<E){E-=_;do{k[o++]=h[x++]}while(--_);if(x=0,f<E){E-=_=f;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}}}else if(x+=f-_,_<E){E-=_;do{k[o++]=h[x++]}while(--_);x=o-w,T=k}for(;E>2;)k[o++]=T[x++],k[o++]=T[x++],k[o++]=T[x++],E-=3;E&&(k[o++]=T[x++],E>1&&(k[o++]=T[x++]))}else{x=o-w;do{k[o++]=k[x++],k[o++]=k[x++],k[o++]=k[x++],E-=3}while(E>2);E&&(k[o++]=k[x++],E>1&&(k[o++]=k[x++]))}break}}break}}while(r<i&&o<s);r-=E=p>>3,d&=(1<<(p-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(e,t,n){var r=n(148),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,f,h){var d,p,m,g,v,y,b,_,E,w=h.bits,x=0,T=0,S=0,k=0,O=0,A=0,C=0,P=0,M=0,R=0,I=null,D=0,N=new r.Buf16(16),L=new r.Buf16(16),F=null,j=0;for(x=0;x<=15;x++)N[x]=0;for(T=0;T<l;T++)N[t[n+T]]++;for(O=w,k=15;k>=1&&0===N[k];k--);if(O>k&&(O=k),0===k)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(S=1;S<k&&0===N[S];S++);for(O<S&&(O=S),P=1,x=1;x<=15;x++)if(P<<=1,(P-=N[x])<0)return-1;if(P>0&&(0===e||1!==k))return-1;for(L[1]=0,x=1;x<15;x++)L[x+1]=L[x]+N[x];for(T=0;T<l;T++)0!==t[n+T]&&(f[L[t[n+T]]++]=T);if(0===e?(I=F=f,y=19):1===e?(I=i,D-=257,F=o,j-=257,y=256):(I=a,F=s,y=-1),R=0,T=0,x=S,v=c,A=O,C=0,m=-1,g=(M=1<<O)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){b=x-C,f[T]<y?(_=0,E=f[T]):f[T]>y?(_=F[j+f[T]],E=I[D+f[T]]):(_=96,E=0),d=1<<x-C,S=p=1<<A;do{u[v+(R>>C)+(p-=d)]=b<<24|_<<16|E|0}while(0!==p);for(d=1<<x-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,T++,0==--N[x]){if(x===k)break;x=t[n+f[T]]}if(x>O&&(R&g)!==m){for(0===C&&(C=O),v+=S,P=1<<(A=x-C);A+C<k&&!((P-=N[A+C])<=0);)A++,P<<=1;if(M+=1<<A,1===e&&M>852||2===e&&M>592)return 1;u[m=R&g]=O<<24|A<<16|v-c|0}}return 0!==R&&(u[v+R]=x-C<<24|64<<16|0),h.bits=O,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(100)),o=r(n(126)),a=r(n(127)),s=function(){function e(t,n){(0,i.default)(this,e),(0,a.default)(this,"ranges",void 0),this.ranges=2===arguments.length?[{min:t,max:n}]:0 in t?Object.assign({},t):[t]}return(0,o.default)(e,[{key:"min",value:function(){return this.ranges[0].min}},{key:"max",value:function(){return this.ranges[this.ranges.length-1].max}},{key:"contains",value:function(e){for(var t=0;t<this.ranges.length;t+=1){var n=this.ranges[t];if(n.min<=e&&n.max>=e)return!0}return!1}},{key:"isContiguous",value:function(){return this.ranges.length>1}},{key:"getRanges",value:function(){return this.ranges.map((function(t){return new e(t.min,t.max)}))}},{key:"toString",value:function(){return this.ranges.map((function(e){return"[".concat(e.min,"-").concat(e.max,"]")})).join(",")}},{key:"union",value:function(t){for(var n=this.getRanges().concat(t.getRanges()).sort(this.rangeOrder),r=[],i=n[0],o=1;o<n.length;o+=1){var a=n[o];a.min()>i.max()+1?(r.push(i),i=a):a.max()>i.max()&&(i=new e(i.min(),a.max()))}return r.push(i),1===r.length?r[0]:new e(r)}},{key:"intersection",value:function(t){for(var n=this,r=t,i=this.ranges(),o=r.ranges(),a=i.length,s=o.length,l=0,u=0,c=[];l<a&&u<s;){n=i[l],r=o[u];var f=Math.max(n.min(),r.min()),h=Math.min(n.max(),r.max());h>=f&&c.push(new e(f,h)),n.max()>r.max()?u+=1:l+=1}if(0===c.length)throw new Error("found range of length 0");return 1===c.length?c[0]:new e(c)}},{key:"coverage",value:function(){for(var e=0,t=this.ranges(),n=0;n<t.length;n+=1){var r=t[n];e+=r.max()-r.min()+1}return e}},{key:"rangeOrder",value:function(e,t){var n=e,r=t;return arguments.length<2&&(r=n,n=this),n.min()<r.min()?-1:n.min()>r.min()?1:n.max()<r.max()?-1:r.max()>n.max()?1:0}}]),e}();t.default=s},function(e,t,n){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.groupBlocks=function(e){e.sort((function(e,t){return(0|e.offset)-(0|t.offset)}));for(var t,n,r=[],i=0;i<e.length;i+=1)t&&e[i].offset-n<=2e3?(t.length+=e[i].length-n+e[i].offset,t.blocks.push(e[i])):r.push(t={blocks:[e[i]],length:e[i].length,offset:e[i].offset}),n=t.offset+t.length;return r},t.checkAbortSignal=p,t.abortBreakPoint=function(e){return m.apply(this,arguments)},t.AbortError=void 0;var i=r(n(124)),o=r(n(125)),a=r(n(100)),s=r(n(192)),l=r(n(189)),u=r(n(191)),c=r(n(146)),f=r(n(398)),h=r(n(127)),d=function(e){(0,l.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,h.default)((0,s.default)(r),"code",void 0),r.code="ERR_ABORTED",r}return n}((0,f.default)(Error));function p(e){if(e&&e.aborted){if("undefined"!=typeof DOMException)throw new DOMException("aborted","AbortError");var t=new d("aborted");throw t.code="ERR_ABORTED",t}}function m(){return(m=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:p(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.AbortError=d},function(e,t,n){var r=n(146),i=n(190),o=n(399),a=n(400);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(190),i=n(401);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(201)),o=r(n(202)),a=r(n(203)),s=r(n(204)),l=r(n(205)),u=(n(403),null),c=u,f=u,h=function(){function e(t){(0,a.default)(this,e),(0,l.default)(this,"fd",void 0),(0,l.default)(this,"filename",void 0),this.filename=t}var t,n,r;return(0,s.default)(e,[{key:"getFd",value:function(){return this.fd||(this.fd=c(this.filename,"r")),this.fd}},{key:"read",value:(r=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,l=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:0,r=l.length>2?l[2]:void 0,o=l.length>3&&void 0!==l[3]?l[3]:0,a=Math.min(t.length-n,r),e.t0=null,e.next=7,this.getFd();case 7:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=a,e.t5=o,e.next=14,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5);case 14:return s=e.sent,e.abrupt("return",{bytesRead:s,buffer:t});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(this.filename,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"stat",value:(t=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.getFd();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=h},function(e,t,n){function r(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e["__ES6-PROMISIFY--CUSTOM-ARGUMENTS__"],n=r.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return new n((function(n,i){o.push((function(e){if(e)return i(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(1===o.length||!t)return n(o[0]);var s={};o.forEach((function(e,n){var r=t[n];r&&(s[r]=e)})),n(s)})),e.apply(r,o)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=r,r.argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",r.Promise=void 0},function(e,t,n){(function(e){var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(201)),o=r(n(202)),a=r(n(203)),s=r(n(204)),l=r(n(205)),u=r(n(405)),c=n(158);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="undefined"!=typeof window?window:"undefined"!=typeof self?self:{fetch:void 0},p=function(){var t,n,r,f;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.default)(this,p),(0,l.default)(this,"url",void 0),(0,l.default)(this,"_stat",void 0),(0,l.default)(this,"fetch",void 0),(0,l.default)(this,"baseOverrides",{}),this.url=e,e.startsWith("file://")){var n=(0,u.default)(e);if(!n)throw new TypeError("invalid file url");var r=new c.LocalFile(n);return this.read=r.read.bind(r),this.readFile=r.readFile.bind(r),this.stat=r.stat.bind(r),void(this.fetch=function(){})}var i=t.fetch||d.fetch&&d.fetch.bind(d);if(!i)throw new TypeError("no fetch function supplied, and none found in global environment");t.overrides&&(this.baseOverrides=t.overrides),this.fetch=i}return(0,s.default)(p,[{key:"getBufferFromResponse",value:(t=(0,o.default)(i.default.mark((function t(n){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof n.buffer){t.next=4;break}return t.abrupt("return",n.buffer());case 4:if("function"!=typeof n.arrayBuffer){t.next=11;break}return t.next=7,n.arrayBuffer();case 7:return r=t.sent,t.abrupt("return",e.from(r));case 11:throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method");case 12:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),(0,s.default)(p,[{key:"read",value:(f=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,l,u,c,f,d,p,m,g,v,y=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.length>1&&void 0!==y[1]?y[1]:0,r=y.length>2?y[2]:void 0,o=y.length>3&&void 0!==y[3]?y[3]:0,a=y.length>4&&void 0!==y[4]?y[4]:{},s=a.headers,l=void 0===s?{}:s,u=a.signal,c=a.overrides,f=void 0===c?{}:c,r<1/0?l.range="bytes=".concat(o,"-").concat(o+r):r===1/0&&0!==o&&(l.range="bytes=".concat(o,"-")),e.next=8,this.fetch(this.url,h(h(h({},this.baseOverrides),f),{},{headers:h(h(h({},l),f.headers),this.baseOverrides.headers),method:"GET",redirect:"follow",mode:"cors",signal:u}));case 8:if((200!==(d=e.sent).status||0!==o)&&206!==d.status){e.next=18;break}return e.next=12,this.getBufferFromResponse(d);case 12:return p=e.sent,m=p.copy(t,n,0,Math.min(r,p.length)),g=d.headers.get("content-range"),(v=/\/(\d+)$/.exec(g||""))&&v[1]&&(this._stat={size:parseInt(v[1],10)}),e.abrupt("return",{bytesRead:m,buffer:t});case 18:throw new Error("HTTP ".concat(d.status," fetching ").concat(this.url));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"readFile",value:(r=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,l,u,c,f,d=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof(t=d.length>0&&void 0!==d[0]?d[0]:{})?(n=t,r={}):(n=t.encoding,delete(r=t).encoding),a=(o=r).headers,s=void 0===a?{}:a,l=o.signal,u=o.overrides,c=void 0===u?{}:u,e.next=5,this.fetch(this.url,h(h({headers:s,method:"GET",redirect:"follow",mode:"cors",signal:l},this.baseOverrides),c));case 5:if(200===(f=e.sent).status){e.next=8;break}throw Object.assign(new Error("HTTP ".concat(f.status," fetching ").concat(this.url)),{status:f.status});case 8:if("utf8"!==n){e.next=10;break}return e.abrupt("return",f.text());case 10:if(!n){e.next=12;break}throw new Error("unsupported encoding: ".concat(n));case 12:return e.abrupt("return",this.getBufferFromResponse(f));case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"stat",value:(n=(0,o.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._stat){t.next=6;break}return n=e.allocUnsafe(10),t.next=4,this.read(n,0,10,0);case 4:if(this._stat){t.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return t.abrupt("return",this._stat);case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),p}();t.default=p}).call(this,n(35).Buffer)},function(e,t,n){const r=n(406);e.exports=function(e){if("string"!=typeof e||e.length<=7||"file://"!==e.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");const t=decodeURI(e.substring(7)),n=t.indexOf("/");let i=t.substring(0,n),o=t.substring(n+1);return"localhost"===i&&(i=""),i&&(i=r.sep+r.sep+i),o=o.replace(/^(.+)\|/,"$1:"),"\\"===r.sep&&(o=o.replace(/\//g,"\\")),/^.+:/.test(o)||(o=r.sep+o),i+o}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(60))},function(e,t,n){(function(e){var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(201)),o=r(n(202)),a=r(n(203)),s=r(n(204)),l=r(n(205));function u(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),r(new Error("problem reading blob"))},t.onabort=function(){r(new Error("blob reading was aborted"))},t.onload=function(){t.result&&"string"!=typeof t.result?n(t.result):r(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)}))}function c(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),r(new Error("problem reading blob"))},t.onabort=function(){r(new Error("blob reading was aborted"))},t.onload=function(){t.result&&"string"==typeof t.result?n(t.result):r(new Error("unknown error reading blob"))},t.readAsText(e)}))}var f=function(){function t(e){(0,a.default)(this,t),(0,l.default)(this,"blob",void 0),(0,l.default)(this,"size",void 0),this.blob=e,this.size=e.size}var n,r,f;return(0,s.default)(t,[{key:"read",value:(f=(0,o.default)(i.default.mark((function t(n){var r,o,a,s,l,c,f,h,d=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:0,o=d.length>2?d[2]:void 0,a=d.length>3&&void 0!==d[3]?d[3]:0,o){t.next=5;break}return t.abrupt("return",{bytesRead:0,buffer:n});case 5:return l=(s=a)+o,t.next=9,u(this.blob.slice(s,l));case 9:return c=t.sent,f=e.from(c),h=f.copy(n,r),t.abrupt("return",{bytesRead:h,buffer:f});case 13:case"end":return t.stop()}}),t,this)}))),function(e){return f.apply(this,arguments)})},{key:"readFile",value:(r=(0,o.default)(i.default.mark((function t(n){var r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("utf8"!==(r="string"==typeof n?n:n&&n.encoding)){t.next=3;break}return t.abrupt("return",c(this.blob));case 3:if(!r){t.next=5;break}throw new Error("unsupported encoding: ".concat(r));case 5:return t.next=7,u(this.blob);case 7:return o=t.sent,t.abrupt("return",e.from(o));case 9:case"end":return t.stop()}}),t,this)}))),function(e){return r.apply(this,arguments)})},{key:"stat",value:(n=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{size:this.size});case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),t}();t.default=f}).call(this,n(35).Buffer)},function(e,t,n){},function(e,t,n){(function(e){var r=n(99);Object.defineProperty(t,"__esModule",{value:!0}),t.filterUndef=E,t.BigBed=void 0;var i=r(n(410)),o=r(n(124)),a=r(n(125)),s=r(n(100)),l=r(n(126)),u=r(n(192)),c=r(n(189)),f=r(n(191)),h=r(n(146)),d=r(n(127)),p=n(193),m=n(293),g=n(292),v=r(n(194)),y=r(n(199));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return e.filter((function(e){return!!e}))}var w=function(t){(0,c.default)(T,t);var n,r,b,w,x=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}(T);function T(e){var t,n;return(0,s.default)(this,T),t=x.call(this,e),(0,d.default)((0,u.default)(t),"readIndicesCache",new v.default({cache:new y.default({maxSize:1}),fill:(n=(0,a.default)(o.default.mark((function e(n,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._readIndices(_(_({},n),{},{signal:r})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})})),t}return(0,l.default)(T,[{key:"readIndices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="aborted"in e?{signal:e}:e;return this.readIndicesCache.get(JSON.stringify(t),t,t.signal)}},{key:"getView",value:(w=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getUnzoomedView(n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"_readIndices",value:(b=(0,a.default)(o.default.mark((function t(n){var r,i,a,s,l,u,c,f,h,d,m,g,v,y,b,_;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHeader(n);case 2:return r=t.sent,i=r.extHeaderOffset,a=r.isBigEndian,t.next=7,this.bbi.read(e.alloc(64),0,64,i);case 7:if(s=t.sent,l=s.buffer,u=a?"big":"little",c=(new p.Parser).endianess(u).uint16("size").uint16("count").uint64("offset").parse(l).result,f=c.count,h=c.offset,0!==f){t.next=14;break}return t.abrupt("return",[]);case 14:return m=(d=20)*f,t.next=18,this.bbi.read(e.alloc(m),0,m,h);case 18:for(g=t.sent,v=g.buffer,y=(new p.Parser).endianess(u).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),b=[],_=0;_<f;_+=1)b.push(y.parse(v.slice(_*d)).result);return t.abrupt("return",b);case 24:case"end":return t.stop()}}),t,this)}))),function(e){return b.apply(this,arguments)})},{key:"searchExtraIndexBlocks",value:(r=(0,a.default)(o.default.mark((function t(n){var r,i,s,l,u,c=this,f=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},t.next=3,this.getHeader(r);case 3:return i=t.sent,s=i.isBigEndian,t.next=7,this.readIndices(r);case 7:if((l=t.sent).length){t.next=10;break}return t.abrupt("return",[]);case 10:return u=l.map(function(){var t=(0,a.default)(o.default.mark((function t(i){var l,u,f,h,d,m,g,v,y,b,E;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=i.offset,u=i.field,t.next=3,c.bbi.read(e.alloc(32),0,32,l,r);case 3:return f=t.sent,h=f.buffer,d=(new p.Parser).endianess(s?"big":"little").int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),m=d.parse(h).result,g=m.blockSize,v=m.keySize,y=m.valSize,b=(new p.Parser).endianess(s?"big":"little").int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:(new p.Parser).array("leafkeys",{length:"cnt",type:(new p.Parser).string("key",{length:v,stripNull:!0}).uint64("offset")}),1:(new p.Parser).array("keys",{length:"cnt",type:(new p.Parser).string("key",{length:v,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),E=function(){var t=(0,a.default)(o.default.mark((function t(i){var a,s,l,f,h,d,p,m;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=4+g*(v+y),t.next=3,c.bbi.read(e.alloc(a),0,a,i,r);case 3:if(s=t.sent,l=s.buffer,!(f=b.parse(l).result).leafkeys){t.next=17;break}d=0;case 8:if(!(d<f.leafkeys.length)){t.next=16;break}if(p=f.leafkeys[d].key,!(n.localeCompare(p)<0&&h)){t.next=12;break}return t.abrupt("return",E(h));case 12:h=f.leafkeys[d].offset;case 13:d+=1,t.next=8;break;case 16:return t.abrupt("return",E(h));case 17:m=0;case 18:if(!(m<f.keys.length)){t.next=24;break}if(f.keys[m].key!==n){t.next=21;break}return t.abrupt("return",_(_({},f.keys[m]),{},{field:u}));case 21:m+=1,t.next=18;break;case 24:return t.abrupt("return",void 0);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",E(l+32));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=E,t.next=14,Promise.all(u);case 14:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 16:case"end":return t.stop()}}),t,this)}))),function(e){return r.apply(this,arguments)})},{key:"searchExtraIndex",value:(n=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,l,u=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.searchExtraIndexBlocks(t,n);case 3:if((r=e.sent).length){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,this.getUnzoomedView(n);case 8:return a=e.sent,s=r.map((function(e){return new m.Observable((function(t){a.readFeatures(t,[e],n)})).pipe((0,g.reduce)((function(e,t){return e.concat(t)})),(0,g.map)((function(t){for(var n=0;n<t.length;n+=1)t[n].field=e.field;return t})))})),e.next=12,m.merge.apply(void 0,(0,i.default)(s)).toPromise();case 12:return l=e.sent,e.abrupt("return",l.filter((function(e){return e.rest.split("\t")[e.field-3]===t})));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),T}(n(200).BBI);t.BigBed=w}).call(this,n(35).Buffer)},function(e,t,n){var r=n(411),i=n(412),o=n(413),a=n(414);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(265);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(265);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(206),i=n(102),o=n(208),a=n(268),s=n(269),l=i.ucs2length,u=n(207),c=o.Validation;function f(e,t,n){var r=d.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function h(e,t,n){var r=d.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function d(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,d,b){var _=this,E=this._opts,w=[void 0],x={},T=[],S={},k=[],O={},A=[];n=n||{schema:t,refVal:w,refs:x};var C=f.call(this,t,n,b),P=this._compilations[C.index];if(C.compiling)return P.callValidate=function e(){var t=P.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var M=this._formats,R=this.RULES;try{var I=N(t,n,d,b);P.validate=I;var D=P.callValidate;return D&&(D.schema=I.schema,D.errors=null,D.refs=I.refs,D.refVal=I.refVal,D.root=I.root,D.$async=I.$async,E.sourceCode&&(D.source=I.source)),I}finally{h.call(this,t,n,b)}function N(t,a,f,h){var d=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(_,t,a,f,h);var b,S=!0===t.$async,O=s({isTop:!0,schema:t,isRoot:d,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:R,validate:s,util:i,resolve:r,resolveRef:L,usePattern:B,useDefault:U,useCustomRule:z,opts:E,formats:M,logger:_.logger,self:_});O=y(w,g)+y(T,p)+y(k,m)+y(A,v)+O,E.processCode&&(O=E.processCode(O,t));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O)(_,R,M,n,w,k,A,u,l,c),w[0]=b}catch(C){throw _.logger.error("Error compiling schema, function code:",O),C}return b.schema=t,b.errors=null,b.refs=x,b.refVal=w,b.root=d?b:a,S&&(b.$async=!0),!0===E.sourceCode&&(b.source={code:O,patterns:T,defaults:k}),b}function L(t,i,o){i=r.url(t,i);var a,s,l=x[i];if(void 0!==l)return j(a=w[l],s="refVal["+l+"]");if(!o&&n.refs){var u=n.refs[i];if(void 0!==u)return j(a=n.refVal[u],s=F(i,a))}s=F(i);var c,f,h=r.call(_,N,n,i);if(void 0===h){var p=d&&d[i];p&&(h=r.inlineRef(p,E.inlineRefs)?p:e.call(_,p,n,d,t))}if(void 0!==h)return c=h,f=x[i],w[f]=c,j(h,s);!function(e){delete x[e]}(i)}function F(e,t){var n=w.length;return w[n]=t,x[e]=n,"refVal"+n}function j(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=S[e];return void 0===t&&(t=S[e]=T.length,T[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=O[t];return void 0===n&&(n=O[t]=k.length,k[n]=e),"default"+n}}function z(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(_,t,n,r);else if(c)s=c.call(_,t,n,r),!1!==E.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=A.length;return A[f]=s,{code:"customRule"+f,validate:s}}}},function(e,t,n){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),n(n(i+"|"+t(l,o,"[\\:]"))+"*");var u=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]"),c=n(u+"\\."+u+"\\."+u+"\\."+u),f=n(r+"{1,4}"),h=n(n(f+"\\:"+f)+"|"+c),d=n(n(f+"\\:")+"{6}"+h),p=n("\\:\\:"+n(f+"\\:")+"{5}"+h),m=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+h),g=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+h),v=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+h),y=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+h),b=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+h),_=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),E=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),w=n([d,p,m,g,v,y,b,_,E].join("|")),x=n(n(l+"|"+i)+"+");n("[vV]"+r+"+\\."+t(l,o,"[\\:]")+"+"),n(n(i+"|"+t(l,o))+"*");var T=n(i+"|"+t(l,o,"[\\:\\@]"));return n(n(i+"|"+t(l,o,"[\\@]"))+"+"),n(n(T+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+x+")")+"?\\]?$")}}var a=o(!1),s=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,f=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(d[e])}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(h,".")).split("."),t).join(".")}var y=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))},_=function(e){return v(e,(function(e){return f.test(e)?"xn--"+function(t){var n=[],r=(t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(t)).length,i=128,o=0,a=72,s=!0,l=!1,c=void 0;try{for(var f,h=t[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;d<128&&n.push(m(d))}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var v=n.length,_=v;for(v&&n.push("-");_<r;){var E=u,w=!0,x=!1,T=void 0;try{for(var S,k=t[Symbol.iterator]();!(w=(S=k.next()).done);w=!0){var O=S.value;O>=i&&O<E&&(E=O)}}catch(e){x=!0,T=e}finally{try{!w&&k.return&&k.return()}finally{if(x)throw T}}var A=_+1;E-i>p((u-o)/A)&&g("overflow"),o+=(E-i)*A,i=E;var C=!0,P=!1,M=void 0;try{for(var R,I=t[Symbol.iterator]();!(C=(R=I.next()).done);C=!0){var D=R.value;if(D<i&&++o>u&&g("overflow"),D==i){for(var N=o,L=36;;L+=36){var F=L<=a?1:L>=a+26?26:L-a;if(N<F)break;var j=N-F,B=36-F;n.push(m(y(F+j%B,0))),N=p(j/B)}n.push(m(y(N,0))),a=b(o,A,_==v),o=0,++_}}}catch(e){P=!0,M=e}finally{try{!C&&I.return&&I.return()}finally{if(P)throw M}}++o,++i}return n.join("")}(e):e}))},E=function(e){return v(e,(function(e){return c.test(e)?function(e){var t,n=[],r=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&g("not-basic"),n.push(e.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var f=i,h=1,d=36;;d+=36){c>=r&&g("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>p((u-i)/h))&&g("overflow"),i+=m*h;var v=d<=a?1:d>=a+26?26:d-a;if(m<v)break;var y=36-v;h>p(u/y)&&g("overflow"),h*=y}var _=n.length+1;a=b(i-f,_,0==f),p(i/_)>u-o&&g("overflow"),o+=p(i/_),i%=_,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)}(e.slice(4).toLowerCase()):e}))},w={};function x(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function T(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function S(e,t){function n(e){var n=T(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,i)),e}function k(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(k).join("."):e}function A(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=l(a,2),u=s[0],c=s[1],f=c?c.split(":").map(k):[],h=u.split(":").map(k),d=t.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,m=h.length-p,g=Array(p),v=0;v<p;++v)g[v]=f[v]||h[m+v]||"";d&&(g[p-1]=O(g[p-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=g.slice(0,y.index),E=g.slice(y.index+y.length);b=_.join(":")+"::"+E.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,P=void 0==="".match(/(){0}/)[1];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(C);if(i){P?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=A(O(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=w[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)S(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=_(n.host.replace(r.PCT_ENCODED,T).toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+l}S(n,a)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function R(e,t){var n=!1!==t.iri?s:a,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(A(O(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var I=/^\.\.?\//,D=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function F(e){for(var t=[];e.length;)if(e.match(I))e=e.replace(I,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(N))e=e.replace(N,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(L);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,r=[],i=w[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E(e.host):_(e.host.replace(n.PCT_ENCODED,T).toLowerCase())}catch(u){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+u}S(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=R(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=F(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=M(j(e,n),n),t=M(j(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=F(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=F(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,T)}var z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var V={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=G(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=l(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},$={scheme:"wss",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},X={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Y="[0-9A-Fa-f]",q=n(n("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+n("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+n("%"+Y+Y)),K=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(W,"g"),Q=new RegExp(q,"g"),J=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),ee=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ne(e){var t=T(e);return t.match(Z)?t:e}var re={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),f=0,h=c.length;f<h;++f)r.push(c[f]);break;case"subject":n.subject=U(u[1],t);break;case"body":n.body=U(u[1],t);break;default:i=!0,o[U(u[0],t)]=U(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=U(m[0]),t.unicodeSupport)m[1]=U(m[1],t).toLowerCase();else try{m[1]=_(U(m[1],t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[d]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var l=String(o[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(Q,ne).replace(Q,i).replace(J,x),f=l.slice(u+1);try{f=t.iri?E(f):_(U(f,t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}o[a]=c+"@"+f}r.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var p in h)h[p]!==X[p]&&d.push(p.replace(Q,ne).replace(Q,i).replace(ee,x)+"="+h[p].replace(Q,ne).replace(Q,i).replace(te,x));return d.length&&(r.query=d.join("&")),r}},ie=/^([^\:]+)\:(.*)/,oe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ie),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=w[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=w[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ae)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};w[z.scheme]=z,w[H.scheme]=H,w[V.scheme]=V,w[$.scheme]=$,w[re.scheme]=re,w[oe.scheme]=oe,w[se.scheme]=se,e.SCHEMES=w,e.pctEncChar=x,e.pctDecChars=T,e.parse=M,e.removeDotSegments=F,e.serialize=j,e.resolveComponents=B,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return j(B(M(e,r),M(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=j(M(e,t),t):"object"===r(e)&&(e=M(j(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=j(M(e,n),n):"object"===r(e)&&(e=j(e,n)),"string"==typeof t?t=j(M(t,n),n):"object"===r(t)&&(t=j(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,x)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,o,a,s,l,u,c,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,a,s,l,u,c,f),o){var d=o[h];if(Array.isArray(d)){if(h in r.arrayKeywords)for(var p=0;p<d.length;p++)e(t,n,i,d[p],a+"/"+h+"/"+p,s,a,h,o,p)}else if(h in r.propsKeywords){if(d&&"object"==typeof d)for(var m in d)e(t,n,i,d[m],a+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,o,m)}else(h in r.keywords||t.allKeys&&!(h in r.skipKeywords))&&e(t,n,i,d,a+"/"+h,s,a,h,o)}i(o,a,s,l,u,c,f)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){var r=n(102),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function g(e){var t=e.match(i);if(!t)return!1;var n,r=+t[1],a=+t[2],s=+t[3];return a>=1&&a<=12&&s>=1&&s<=(2!=a||(n=r)%4!=0||n%100==0&&n%400!=0?o[a]:29)}function v(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var y=/t|\s/i,b=/\/|:/,_=/[^\\]\\Z/;function E(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,n){var r=n(422),i=n(102).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){e.exports={$ref:n(423),allOf:n(424),anyOf:n(425),$comment:n(426),const:n(427),contains:n(428),dependencies:n(429),enum:n(430),format:n(431),if:n(432),items:n(433),maximum:n(270),minimum:n(270),maxItems:n(271),minItems:n(271),maxLength:n(272),minLength:n(272),maxProperties:n(273),minProperties:n(273),multipleOf:n(434),not:n(435),oneOf:n(436),pattern:n(437),properties:n(438),propertyNames:n(439),required:n(440),uniqueItems:n(441),validate:n(269)}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),h="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(d.inline){var g=e.util.copy(e);g.level++;var v="valid"+g.level;g.schema=d.schema,g.schemaPath="",g.errSchemaPath=l,o+=" "+e.validate(g).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+v+") { ")}else r=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,f=l.baseId,h=!0,d=i;if(d)for(var p,m=-1,g=d.length-1;m<g;)p=d[m+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all))&&(h=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=f,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=h?" if (true) { ":" "+u.slice(0,-1)+" "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var g=d.baseId;r+=" var "+h+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=a;if(y)for(var b,_=-1,E=y.length-1;_<E;)b=y[_+=1],d.schema=b,d.schemaPath=s+"["+_+"]",d.errSchemaPath=l+"/"+_,r+="  "+e.validate(d)+" ",d.baseId=g,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",p+="}";e.compositeRule=d.compositeRule=v,r+=" "+p+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+c+", schema"+i+"); if (!"+f+") {   ";var d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m="i"+i,g=d.dataLevel=e.dataLevel+1,v="data"+g,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+h+" = errors;var "+f+";",b){var _=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var E=c+"["+m+"]";d.dataPathArr[g]=m;var w=e.validate(d);d.baseId=y,e.util.varOccurences(w,v)<2?r+=" "+e.util.varReplace(w,v,E)+" ":r+=" var "+v+" = "+E+"; "+w+" ",r+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=_,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;return r=x.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m={},g={},v=e.opts.ownProperties;for(E in a)if("__proto__"!=E){var y=a[E],b=Array.isArray(y)?g:m;b[E]=y}r+="var "+f+" = errors;";var _=e.errorPath;for(var E in r+="var missing"+i+";",g)if((b=g[E]).length){if(r+=" if ( "+c+e.util.getProperty(E)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),u){r+=" && ( ";var w=b;if(w)for(var x=-1,T=w.length-1;x<T;)P=w[x+=1],x&&(r+=" || "),r+=" ( ( "+(D=c+(I=e.util.getProperty(P)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:I)+") ) ";r+=")) {  ";var S="missing"+i,k="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,S,!0):_+" + "+S);var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=O.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var C=b;if(C)for(var P,M=-1,R=C.length-1;M<R;){P=C[M+=1];var I=e.util.getProperty(P),D=(k=e.util.escapeQuotes(P),c+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(d+="}",r+=" else { ")}e.errorPath=_;var N=h.baseId;for(var E in m)y=m[E],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(E)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(E)+"') "),r+=") { ",h.schema=y,h.schemaPath=s+e.util.getProperty(E),h.errSchemaPath=l+"/"+e.util.escapeFragment(E),r+="  "+e.validate(h)+" ",h.baseId=N,r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"));return u&&(r+="   "+d+" if ("+f+" == errors) {"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="i"+i,p="schema"+i;h||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+f+";",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+f+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+f+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var f,h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var d=e.opts.unknownFormats,p=Array.isArray(d);if(h)r+=" var "+(m="format"+i)+" = formats["+f+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",h&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+f+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==d)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=n)return u&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=h?""+f:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+f+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all)),b=d.baseId;if(v||y){var _;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors; var "+f+" = true;  ";var E=e.compositeRule;e.compositeRule=d.compositeRule=!0,r+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=E,v?(r+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g="i"+i,v=d.dataLevel=e.dataLevel+1,y="data"+v,b=e.baseId;if(r+="var "+h+" = errors;var "+f+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){r+=" "+f+" = "+c+".length <= "+a.length+"; ";var E=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=E,u&&(p+="}",r+=" else { ")}var T=a;if(T)for(var S,k=-1,O=T.length-1;k<O;)if(S=T[k+=1],e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0:e.util.schemaHasRules(S,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+k+") { ";var A=c+"["+k+"]";d.schema=S,d.schemaPath=s+"["+k+"]",d.errSchemaPath=l+"/"+k,d.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),d.dataPathArr[v]=k;var C=e.validate(d);d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all))&&(d.schema=_,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+c+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=c+"["+g+"]",d.dataPathArr[v]=g,C=e.validate(d),d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}"))}else(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all))&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=c+"["+g+"]",d.dataPathArr[v]=g,C=e.validate(d),d.baseId=b,e.util.varOccurences(C,y)<2?r+=" "+e.util.varReplace(C,y,A)+" ":r+=" var "+y+" = "+A+"; "+C+" ",u&&(r+=" if (!"+m+") break; "),r+=" }");return u&&(r+=" "+p+" if ("+h+" == errors) {"),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+o+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+f+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(p=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+e.validate(h)+" ",h.createErrors=!0,p&&(h.opts.allErrors=p),e.compositeRule=h.compositeRule=m,r+=" if ("+d+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g=d.baseId,v="prevValid"+i,y="passingSchemas"+i;r+="var "+h+" = errors , "+v+" = false , "+f+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var _=a;if(_)for(var E,w=-1,x=_.length-1;w<x;)E=_[w+=1],(e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0:e.util.schemaHasRules(E,e.RULES.all))?(d.schema=E,d.schemaPath=s+"["+w+"]",d.errSchemaPath=l+"/"+w,r+="  "+e.validate(d)+" ",d.baseId=g):r+=" var "+m+" = true; ",w&&(r+=" if ("+m+" && "+v+") { "+f+" = false; "+y+" = ["+y+", "+w+"]; } else { ",p+="}"),r+=" if ("+m+") { "+f+" = "+v+" = true; "+y+" = "+w+"; }";return e.compositeRule=d.compositeRule=b,r+=p+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":e.usePattern(s))+".test("+f+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=h?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m="key"+i,g="idx"+i,v=h.dataLevel=e.dataLevel+1,y="data"+v,b="dataProperties"+i,_=Object.keys(a||{}).filter(I),E=e.schema.patternProperties||{},w=Object.keys(E).filter(I),x=e.schema.additionalProperties,T=_.length||w.length,S=!1===x,k="object"==typeof x&&Object.keys(x).length,O=e.opts.removeAdditional,A=S||k||O,C=e.opts.ownProperties,P=e.baseId,M=e.schema.required;if(M&&(!e.opts.$data||!M.$data)&&M.length<e.opts.loopRequired)var R=e.util.toHash(M);function I(e){return"__proto__"!==e}if(r+="var "+f+" = errors;var "+p+" = true;",C&&(r+=" var "+b+" = undefined;"),A){if(r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var D=_;if(D)for(var N=-1,L=D.length-1;N<L;)q=D[N+=1],r+=" || "+m+" == "+e.util.toQuotedString(q)+" "}if(w.length){var F=w;if(F)for(var j=-1,B=F.length-1;j<B;)oe=F[j+=1],r+=" || "+e.usePattern(oe)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==O)r+=" delete "+c+"["+m+"]; ";else{var U=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(O)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var H=l;l=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var G=r;r=ne.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,u&&(r+=" break; ")}else if(k)if("failing"==O){r+=" var "+f+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var $=c+"["+m+"]";h.dataPathArr[v]=m;var X=e.validate(h);h.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,$)+" ":r+=" var "+y+" = "+$+"; "+X+" ",r+=" if (!"+p+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=h.compositeRule=V}else h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),$=c+"["+m+"]",h.dataPathArr[v]=m,X=e.validate(h),h.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,$)+" ":r+=" var "+y+" = "+$+"; "+X+" ",u&&(r+=" if (!"+p+") break; ");e.errorPath=U}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(_.length){var Y=_;if(Y)for(var q,K=-1,Z=Y.length-1;K<Z;){var Q=a[q=Y[K+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all)){var J=e.util.getProperty(q),ee=($=c+J,W&&void 0!==Q.default);if(h.schema=Q,h.schemaPath=s+J,h.errSchemaPath=l+"/"+e.util.escapeFragment(q),h.errorPath=e.util.getPath(e.errorPath,q,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(q),X=e.validate(h),h.baseId=P,e.util.varOccurences(X,y)<2){X=e.util.varReplace(X,y,$);var te=$}else te=y,r+=" var "+y+" = "+$+"; ";if(ee)r+=" "+X+" ";else{if(R&&R[q]){r+=" if ( "+te+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = false; ",U=e.errorPath,H=l;var ne,re=e.util.escapeQuotes(q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,q,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",G=r,r=ne.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,e.errorPath=U,r+=" } else { "}else u?(r+=" if ( "+te+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+te+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=" ) { ");r+=" "+X+" } "}}u&&(r+=" if ("+p+") { ",d+="}")}}if(w.length){var ie=w;if(ie)for(var oe,ae=-1,se=ie.length-1;ae<se;)Q=E[oe=ie[ae+=1]],(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all))&&(h.schema=Q,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(oe)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),$=c+"["+m+"]",h.dataPathArr[v]=m,X=e.validate(h),h.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,$)+" ":r+=" var "+y+" = "+$+"; "+X+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"))}return u&&(r+=" "+d+" if ("+f+" == errors) {"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(r+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=l;var p="key"+i,m="idx"+i,g="i"+i,v="' + "+p+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,E=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=p,x=e.compositeRule;e.compositeRule=h.compositeRule=!0;var T=e.validate(h);h.baseId=E,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,w)+" ":r+=" var "+y+" = "+w+"; "+T+" ",e.compositeRule=h.compositeRule=x,r+=" if (!"+d+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+f+" == errors) {"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="schema"+i;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var g,v=-1,y=m.length-1;v<y;){g=m[v+=1];var b=e.schema.properties[g];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(p[p.length]=g)}}else p=a;if(h||p.length){var _=e.errorPath,E=h||p.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",E){h||(r+=" var "+d+" = validate.schema"+s+"; ");var x="' + "+(C="schema"+i+"["+(O="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),r+=" var "+f+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { "+f+" = "+c+"["+d+"["+O+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+O+"]) "),r+="; if (!"+f+") break; } ",h&&(r+="  }  "),r+="  if (!"+f+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,k=p;if(k)for(var O=-1,A=k.length-1;O<A;)M=k[O+=1],O&&(r+=" || "),r+=" ( ( "+(N=c+(D=e.util.getProperty(M)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:D)+") ) ";r+=") {  ",x="' + "+(C="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,C,!0):_+" + "+C),(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",T=r,r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(E){var C;h||(r+=" var "+d+" = validate.schema"+s+"; "),x="' + "+(C="schema"+i+"["+(O="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),h&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+d+".length; "+O+"++) { if ("+c+"["+d+"["+O+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+O+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var P=p;if(P)for(var M,R=-1,I=P.length-1;R<I;){M=P[R+=1];var D=e.util.getProperty(M),N=(x=e.util.escapeQuotes(M),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+N+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(r+=" if (true) {");return r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h="valid"+o,d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var g="checkDataType"+(m?"s":"");i+=" if ("+e.util[g](p,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+h+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=v.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){var r=n(208).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(i){if(i instanceof r)return function(r){var i=r.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(l,l),a.then((function(e){if(!u(i))return s(e).then((function(){u(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function l(){delete o._loadingSchemas[i]}function u(e){return o._refs[e]||o._schemas[e]}}(i);throw i}}(e)}));return i&&a.then((function(e){i(null,e)}),i),a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(445),o=n(446);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(s||""),d="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var g,v,y,b,_,E="definition"+a,w=this.definition,x="";if(m&&w.$data){_="keywordValidate"+a;var T=w.validateSchema;o+=" var "+E+" = RULES.custom['"+t+"'].definition; var "+_+" = "+E+".validate;"}else{if(!(b=e.useCustomRule(this,l,e.schema,e)))return;i="validate.schema"+u,_=b.code,g=w.compile,v=w.inline,y=w.macro}var S=_+".errors",k="i"+a,O="ruleErr"+a,A=w.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(o+=S+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&w.$data&&(x+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",T&&(x+="}",o+=" "+d+" = "+E+".validateSchema("+i+"); if ("+d+") { ")),v)w.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(y){var C=e.util.copy(e);x="",C.level++;var P="valid"+C.level;C.schema=b.validate,C.schemaPath="";var M=e.compositeRule;e.compositeRule=C.compositeRule=!0;var R=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=M,o+=" "+R}else{(L=L||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===w.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var I=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+I+" , "+D+" , rootData )  ";o=L.pop(),!1===w.errors?(o+=" "+d+" = ",A&&(o+="await "),o+=N+"; "):o+=A?" var "+(S="customErrors"+a)+" = null; try { "+d+" = await "+N+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+d+" = "+N+"; "}if(w.modifying&&(o+=" if ("+I+") "+h+" = "+I+"["+D+"];"),o+=""+x,w.valid)f&&(o+=" if (true) { ");else{var L;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+P:""+d):o+=" "+!w.valid+" ",o+=") { ",r=this.keyword,(L=L||[]).push(o),o="",(L=L||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var F=o;o=L.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=o;o=L.pop(),v?w.errors?"full"!=w.errors&&(o+="  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } "):!1===w.errors?o+=" "+j+" ":(o+=" if ("+p+" == errors) { "+j+" } else {  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+j+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+h+"; "),o+=" } } else { "+j+" } "),o+=" } ",f&&(o+=" else { ")}return o}},function(e,t,n){var r=n(274);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e,t,n){e.exports=function(e){function t(e){let n,i=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(449),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var s,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?(s=e,(l=Math.abs(s))>=o?a(s,l,o,"day"):l>=i?a(s,l,i,"hour"):l>=r?a(s,l,r,"minute"):l>=n?a(s,l,n,"second"):s+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){n(451),e.exports=n(56).Object.assign},function(e,t,n){var r=n(78);r(r.S+r.F,"Object",{assign:n(453)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(80),i=n(131),o=n(217),a=n(132),s=n(153),l=n(278),u=Object.assign;e.exports=!u||n(129)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,c=1,f=o.f,h=a.f;u>c;)for(var d,p=l(arguments[c++]),m=f?i(p).concat(f(p)):i(p),g=m.length,v=0;g>v;)d=m[v++],r&&!h.call(p,d)||(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(89),i=n(279),o=n(455);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(213),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(457),__esModule:!0}},function(e,t,n){n(280),n(463),e.exports=n(220).f("iterator")},function(e,t,n){var r=n(213),i=n(212);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(218),i=n(130),o=n(219),a={};n(103)(a,n(61)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(87),i=n(104),o=n(131);e.exports=n(80)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(79).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(88),i=n(153),o=n(214)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(464);for(var r=n(79),i=n(103),o=n(133),a=n(61)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){var r=n(465),i=n(466),o=n(133),a=n(89);e.exports=n(281)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(468),__esModule:!0}},function(e,t,n){n(469),n(474),n(475),n(476),e.exports=n(56).Symbol},function(e,t,n){var r=n(79),i=n(88),o=n(80),a=n(78),s=n(282),l=n(470).KEY,u=n(129),c=n(215),f=n(219),h=n(152),d=n(61),p=n(220),m=n(221),g=n(471),v=n(472),y=n(104),b=n(105),_=n(153),E=n(89),w=n(210),x=n(130),T=n(218),S=n(473),k=n(284),O=n(217),A=n(87),C=n(131),P=k.f,M=A.f,R=S.f,I=r.Symbol,D=r.JSON,N=D&&D.stringify,L=d("_hidden"),F=d("toPrimitive"),j={}.propertyIsEnumerable,B=c("symbol-registry"),U=c("symbols"),z=c("op-symbols"),H=Object.prototype,G="function"==typeof I&&!!O.f,V=r.QObject,$=!V||!V.prototype||!V.prototype.findChild,X=o&&u((function(){return 7!=T(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(H,t);r&&delete H[t],M(e,t,n),r&&e!==H&&M(H,t,r)}:M,W=function(e){var t=U[e]=T(I.prototype);return t._k=e,t},Y=G&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},q=function(e,t,n){return e===H&&q(z,t,n),y(e),t=w(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=T(n,{enumerable:x(0,!1)})):(i(e,L)||M(e,L,x(1,{})),e[L][t]=!0),X(e,t,n)):M(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=E(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},Z=function(e){var t=j.call(this,e=w(e,!0));return!(this===H&&i(U,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=E(e),t=w(t,!0),e!==H||!i(U,t)||i(z,t)){var n=P(e,t);return!n||!i(U,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=R(E(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==L||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=R(n?z:E(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(H,t)||o.push(U[t]);return o};G||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(z,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),X(this,e,x(1,n))};return o&&$&&X(H,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),k.f=Q,A.f=q,n(283).f=S.f=J,n(132).f=Z,O.f=ee,o&&!n(151)&&s(H,"propertyIsEnumerable",Z,!0),p.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!G,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=C(d.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=I(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),a(a.S+a.F*!G,"Object",{create:function(e,t){return void 0===t?T(e):K(T(e),t)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var oe=u((function(){O.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return O.f(_(e))}}),D&&a(a.S+a.F*(!G||u((function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,N.apply(D,r)}}),I.prototype[F]||n(103)(I.prototype,F,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(152)("meta"),i=n(105),o=n(88),a=n(87).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(129)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(131),i=n(217),o=n(132);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(211);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(89),i=n(283).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t){},function(e,t,n){n(221)("asyncIterator")},function(e,t,n){n(221)("observable")},function(e,t,n){e.exports={default:n(478),__esModule:!0}},function(e,t,n){n(479),e.exports=n(56).Object.setPrototypeOf},function(e,t,n){var r=n(78);r(r.S,"Object",{setPrototypeOf:n(480).set})},function(e,t,n){var r=n(105),i=n(104),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(209)(Function.call,n(284).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(482),__esModule:!0}},function(e,t,n){n(483);var r=n(56).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(78);r(r.S,"Object",{create:n(218)})},function(e,t,n){var r=n(485);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return function n(s,f){var h,d,p,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],g=s.displayName||s.name||"Component",v=a.getType(s).propTypes,y=a.isReactComponent(s),b=Object.keys(f),_=["valueLink","checkedLink"].concat(b.map(a.defaultKey));p=a.uncontrolledPropTypes(f,v,g),(0,o.default)(y||!m.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+g+", attempting to pass through methods: "+m.join(", ")),m=a.transform(m,(function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}}),{});var E=(d=h=function(t){function n(){return l(this,n),u(this,t.apply(this,arguments))}return c(n,t),n.prototype.shouldComponentUpdate=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!e.shouldComponentUpdate||e.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var e=this,t=this.props;this._values={},b.forEach((function(n){e._values[n]=t[a.defaultKey(n)]}))},n.prototype.componentWillReceiveProps=function(t){var n=this,r=this.props;e.componentWillReceiveProps&&e.componentWillReceiveProps.call(this,t),b.forEach((function(e){void 0===a.getValue(t,e)&&void 0!==a.getValue(r,e)&&(n._values[e]=t[a.defaultKey(e)])}))},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var e=this,t={},n=T(this.props);return a.each(f,(function(n,r){var i=a.getLinkName(r),o=e.props[r];i&&!x(e.props,r)&&x(e.props,i)&&(o=e.props[i].value),t[r]=void 0!==o?o:e._values[r],t[n]=w.bind(e,r)})),t=r({},n,t,{ref:y?"inner":null}),i.default.createElement(s,t)},n}(i.default.Component),h.displayName="Uncontrolled("+g+")",h.propTypes=p,d);return r(E.prototype,m),E.ControlledComponent=s,E.deferControlTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];return n(e,r({},f,t),i)},E;function w(e,n){var r=a.getLinkName(e),i=this.props[f[e]];r&&x(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];t(this,e,i,n,s)}function x(e,t){return void 0!==e[t]}function T(e){var t={};return a.each(e,(function(e,n){-1===_.indexOf(n)&&(t[n]=e)})),t}}};var i=s(n(1)),o=s(n(114)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(487));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.exports=t.default},function(e,t,n){t.__esModule=!0,t.version=void 0,t.uncontrolledPropTypes=function(e,t,n){return{}},t.getType=function(e){return o[0]>=15||0===o[0]&&o[1]>=13?e:e.type},t.getValue=function(e,t){var n=s(t);return n&&!a(e,t)&&a(e,n)?e[n].value:e[t]},t.getLinkName=s,t.defaultKey=function(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)},t.chain=function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t&&t.call.apply(t,[e].concat(i)),n&&n.call.apply(n,[e].concat(i))}},t.transform=function(e,t,n){return l(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n},t.each=l,t.has=u,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}i(n(114));var o=t.version=r.default.version.split(".").map(parseFloat);function a(e,t){return void 0!==e[t]}function s(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function l(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)u(e,r)&&t.call(n,e[r],r,e)}function u(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){n(489),e.exports=n(56).Object.entries},function(e,t,n){var r=n(78),i=n(285)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(491),e.exports=n(56).Object.values},function(e,t,n){var r=n(78),i=n(285)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){e.exports=n(493)},function(e,t,n){
/** @license React v16.13.1
      * react-is.production.min.js
      *
      * Copyright (c) Facebook, Inc. and its affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
      */
var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case u:return e;default:return t}}case o:return t}}}function x(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||w(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===l||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===E||e.$$typeof===y)},t.typeOf=w},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(222)),o=r(n(91));function a(e,t,n){var r,o={target:e,currentTarget:e};function a(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(i.default.end,a),t.call(this))}i.default.end?null==n&&(n=l(e)||0):n=0,i.default.end?(e.addEventListener(i.default.end,a,!1),r=setTimeout((function(){return a(o)}),1.5*(n||100))):setTimeout(a.bind(null,o),0)}a._parseDuration=l;var s=a;function l(e){var t=(0,o.default)(e,i.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))};var r=/-(.)/g;e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(o,"-ms-")};var i=r(n(497)),o=/^ms-/;e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){return e.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),a.test(r)&&!o.test(t)){var s=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=s,u&&(l.left=u)}return r}}};var i=r(n(286)),o=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){return!(!e||!r.test(e))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){var r;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(r=n(0))&&r.__esModule,t.timeoutsShape=null,t.classNamesShape=null},function(e,t,n){n(280),n(504),e.exports=n(56).Array.from},function(e,t,n){var r=n(209),i=n(78),o=n(153),a=n(505),s=n(506),l=n(279),u=n(507),c=n(508);i(i.S+i.F*!n(510)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,h=o(e),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(h);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(t=l(h.length));t>v;v++)u(n,v,g?m(h[v],v):h[v]);else for(f=y.call(h),n=new d;!(i=f.next()).done;v++)u(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){var r=n(104);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(133),i=n(61)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(87),i=n(130);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(509),i=n(61)("iterator"),o=n(133);e.exports=n(56).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(211),i=n(61)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(61)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t){return function(n){var r=n.currentTarget,a=n.target;(0,o.default)(r,e).some((function(e){return(0,i.default)(e,a)}))&&t.call(this,n)}};var i=r(n(81)),o=r(n(512));e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t){var n,o="#"===t[0],a="."===t[0],s=o||a?t.slice(1):t;return r.test(s)?o?(n=(e=e.getElementById?e:document).getElementById(s))?[n]:[]:e.getElementsByClassName&&a?i(e.getElementsByClassName(s)):i(e.getElementsByTagName(t)):i(e.querySelectorAll(t))};var r=/^[\w-]*$/,i=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(72)),o=r(n(223)),a=r(n(224)),s=function(){};i.default&&(s=function(e,t,n,r){return(0,o.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var l=s;t.default=l,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r,i=(r=n(515))&&r.__esModule?r:{default:r},o={};function a(e,t){return function(n,r,a,s,l){var u=a||"<<anonymous>>",c=l||r;if(null!=n[r]){var f=a+"."+r;(0,i.default)(o[f],"The "+s+" `"+c+"` of `"+u+"` is deprecated. "+t+"."),o[f]=!0}for(var h=arguments.length,d=Array(h>5?h-5:0),p=5;p<h;p++)d[p-5]=arguments[p];return e.apply(void 0,[n,r,a,s,l].concat(d))}}a._resetWarned=function(){o={}},e.exports=t.default},function(e,t,n){e.exports=function(){}},function(e,t,n){t.__esModule=!0;var r=l(n(517)),i=l(n(91)),o=l(n(178)),a=l(n(229)),s=n(520);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(e,t){if(n(e))return r=t,!0})),r;var n,r}function f(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,i.default)(t,"paddingRight")||0,10)+(0,o.default)()+"px"),(0,i.default)(t,n)}function h(e,t){var n=e.style;Object.keys(n).forEach((function(e){return t.style[e]=n[e]}))}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.hideSiblingNodes,o=void 0===i||i,l=n.handleContainerOverflow,d=void 0===l||l;u(this,e),this.add=function(e,n,i){var o=t.modals.indexOf(e),l=t.containers.indexOf(n);if(-1!==o)return o;if(o=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.mountNode),-1!==l)return t.data[l].modals.push(e),o;var u={modals:[e],classes:i?i.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&f(u,n),u.classes.forEach(r.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(u),o},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var i=c(t.data,e),o=t.data[i],a=t.containers[i];o.modals.splice(o.modals.indexOf(e),1),t.modals.splice(n,1),0===o.modals.length?(o.classes.forEach(r.default.removeClass.bind(null,a)),t.handleContainerOverflow&&h(o,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.mountNode),t.containers.splice(i,1),t.data.splice(i,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,o.modals[o.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=o,this.handleContainerOverflow=d,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=void 0;var i=r(n(518));t.addClass=i.default;var o=r(n(519));t.removeClass=o.default;var a=r(n(288));t.hasClass=a.default;var s={addClass:i.default,removeClass:o.default,hasClass:a.default};t.default=s},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(288));e.exports=t.default},function(e,t,n){function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){i(e,t,(function(e){return o(!0,e)}))},t.showSiblings=function(e,t){i(e,t,(function(e){return o(!1,e)}))};var r=["template","script","style"],i=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,(function(e){var i,o,a;-1===t.indexOf(e)&&(o=(i=e).nodeType,a=i.tagName,1===o&&-1===r.indexOf(a.toLowerCase()))&&n(e)}))};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){t.__esModule=!0;var r=u(n(0)),i=u(n(154)),o=u(n(1)),a=u(n(22)),s=u(n(156)),l=u(n(106));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;c(this,t);for(var i=arguments.length,u=Array(i),h=0;h<i;h++)u[h]=arguments[h];return n=r=f(this,e.call.apply(e,[this].concat(u))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,s.default)(r.props.container,(0,l.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var e=r.props.children?o.default.Children.only(r.props.children):null;if(null!==e){r._mountOverlayTarget();var t=!r._overlayInstance;r._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(r,e,r._overlayTarget,(function(){t&&r.props.onRendered&&r.props.onRendered()}))}else r._unrenderOverlay(),r._unmountOverlayTarget()},r._unrenderOverlay=function(){r._overlayTarget&&(a.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(o.default.Component);h.displayName="Portal",h.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=h,e.exports=t.default},function(e,t,n){t.__esModule=!0;var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={children:r.default.node},u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(i.default.Component);u.propTypes=l,t.default=u,e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){var t=void 0;return document.addEventListener?(document.addEventListener("focus",e,!0),t=function(){return document.removeEventListener("focus",e,!0)}):(document.attachEvent("onfocusin",e),t=function(){return document.detachEvent("onfocusin",e)}),{remove:t}},e.exports=t.default},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n(9)),o=d(n(0)),a=d(n(154)),s=n(1),l=d(s),u=d(n(22)),c=d(n(525)),f=d(n(156)),h=d(n(106));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var m=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.getTarget=function(){var e=i.props.target,t="function"==typeof e?e():e;return t&&u.default.findDOMNode(t)||null},i.maybeUpdatePosition=function(e){var t=i.getTarget();(i.props.shouldUpdatePosition||t!==i._lastTarget||e)&&i.updatePosition(t)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=p(e,["children","className"]),a=this.state,u=a.positionLeft,c=a.positionTop,f=p(a,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;var h=l.default.Children.only(t);return(0,s.cloneElement)(h,r({},o,f,{positionLeft:u,positionTop:c,className:(0,i.default)(n,h.props.className),style:r({},h.props.style,{left:u,top:c})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=u.default.findDOMNode(this),n=(0,f.default)(this.props.container,(0,h.default)(this).body);this.setState((0,c.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);m.propTypes={target:o.default.oneOfType([a.default,o.default.func]),container:o.default.oneOfType([a.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e,t,n,o,a){var s,u,c,f,h,d,p,m,g="BODY"===o.tagName?(0,r.default)(n):(0,i.default)(n,o),v=(0,r.default)(t),y=v.height,b=v.width,_=void 0,E=void 0,w=void 0,x=void 0;if("left"===e||"right"===e){E=g.top+(g.height-y)/2,_="left"===e?g.left-b:g.left+g.width;var T=(s=E,u=y,c=a,f=l(o),h=f.scroll,d=f.height,m=s+c-h+u,(p=s-c-h)<0?-p:m>d?d-m:0);E+=T,x=50*(1-2*T/y)+"%",w=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');_=g.left+(g.width-b)/2,E="top"===e?g.top-y:g.top+g.height;var S=function(e,t,n,r){var i=l(n).width,o=e-r,a=e+r+t;return o<0?-o:a>i?i-a:0}(_,b,o,a);_+=S,w=50*(1-2*S/b)+"%",x=void 0}return{positionLeft:_,positionTop:E,arrowOffsetLeft:w,arrowOffsetTop:x}};var r=s(n(290)),i=s(n(526)),o=s(n(291)),a=s(n(106));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,i=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,i=(0,o.default)((0,a.default)(e).documentElement)||(0,o.default)(e);else{var s=(0,r.default)(e);t=s.width,n=s.height,i=(0,o.default)(e)}return{width:t,height:n,scroll:i}}e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t){var n,r,c={top:0,left:0};return"fixed"===(0,u.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,o.default)(e),"html"!==((r=t).nodeName&&r.nodeName.toLowerCase())&&(c=(0,o.default)(t)),c.top+=parseInt((0,u.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,c.left+=parseInt((0,u.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0),(0,i.default)({},n,{top:n.top-c.top-(parseInt((0,u.default)(e,"marginTop"),10)||0),left:n.left-c.left-(parseInt((0,u.default)(e,"marginLeft"),10)||0)})};var i=r(n(527)),o=r(n(290)),a=r(n(528)),s=r(n(291)),l=r(n(529)),u=r(n(91));e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e){for(var t=(0,i.default)(e),n=e&&e.offsetParent;n&&"html"!==a(e)&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=r(n(90)),o=r(n(91));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,n){var r=n(25);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=r(n(155));e.exports=t.default},function(e,t,n){t.__esModule=!0,t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}},function(e,t,n){n.r(t),n.d(t,"Accordion",(function(){return ne})),n.d(t,"Alert",(function(){return ce})),n.d(t,"Badge",(function(){return de})),n.d(t,"Breadcrumb",(function(){return Se})),n.d(t,"BreadcrumbItem",(function(){return xe})),n.d(t,"Button",(function(){return Ae})),n.d(t,"ButtonGroup",(function(){return Ie})),n.d(t,"ButtonToolbar",(function(){return Ne})),n.d(t,"Carousel",(function(){return Qe})),n.d(t,"CarouselItem",(function(){return $e})),n.d(t,"Checkbox",(function(){return tt})),n.d(t,"Clearfix",(function(){return ot})),n.d(t,"CloseButton",(function(){return se})),n.d(t,"ControlLabel",(function(){return ut})),n.d(t,"Col",(function(){return dt})),n.d(t,"Collapse",(function(){return Tt})),n.d(t,"Dropdown",(function(){return qt})),n.d(t,"DropdownButton",(function(){return en})),n.d(t,"Fade",(function(){return on})),n.d(t,"Form",(function(){return ln})),n.d(t,"FormControl",(function(){return yn})),n.d(t,"FormGroup",(function(){return wn})),n.d(t,"Glyphicon",(function(){return Ye})),n.d(t,"Grid",(function(){return Sn})),n.d(t,"HelpBlock",(function(){return On})),n.d(t,"Image",(function(){return Pn})),n.d(t,"InputGroup",(function(){return Ln})),n.d(t,"Jumbotron",(function(){return Bn})),n.d(t,"Label",(function(){return zn})),n.d(t,"ListGroup",(function(){return Wn})),n.d(t,"ListGroupItem",(function(){return Vn})),n.d(t,"Media",(function(){return hr})),n.d(t,"MenuItem",(function(){return mr})),n.d(t,"Modal",(function(){return Kr})),n.d(t,"ModalBody",(function(){return Pr})),n.d(t,"ModalFooter",(function(){return Lr})),n.d(t,"ModalHeader",(function(){return Ur})),n.d(t,"ModalTitle",(function(){return Gr})),n.d(t,"Nav",(function(){return ei})),n.d(t,"Navbar",(function(){return bi})),n.d(t,"NavbarBrand",(function(){return ri})),n.d(t,"NavDropdown",(function(){return wi})),n.d(t,"NavItem",(function(){return Si})),n.d(t,"Overlay",(function(){return Mi})),n.d(t,"OverlayTrigger",(function(){return Li})),n.d(t,"PageHeader",(function(){return ji})),n.d(t,"PageItem",(function(){return Xi})),n.d(t,"Pager",(function(){return qi})),n.d(t,"Pagination",(function(){return oo})),n.d(t,"Panel",(function(){return Ho})),n.d(t,"PanelGroup",(function(){return te})),n.d(t,"Popover",(function(){return $o})),n.d(t,"ProgressBar",(function(){return qo})),n.d(t,"Radio",(function(){return Qo})),n.d(t,"ResponsiveEmbed",(function(){return ta})),n.d(t,"Row",(function(){return ia})),n.d(t,"SafeAnchor",(function(){return _e})),n.d(t,"SplitButton",(function(){return ua})),n.d(t,"Tab",(function(){return Oa})),n.d(t,"TabContainer",(function(){return pa})),n.d(t,"TabContent",(function(){return ba})),n.d(t,"Table",(function(){return Pa})),n.d(t,"TabPane",(function(){return Ta})),n.d(t,"Tabs",(function(){return Da})),n.d(t,"Thumbnail",(function(){return Fa})),n.d(t,"ToggleButton",(function(){return Ua})),n.d(t,"ToggleButtonGroup",(function(){return Va})),n.d(t,"Tooltip",(function(){return Wa})),n.d(t,"Well",(function(){return qa})),n.d(t,"utils",(function(){return i}));var r={};n.r(r),n.d(r,"prefix",(function(){return L})),n.d(r,"bsClass",(function(){return F})),n.d(r,"bsStyles",(function(){return j})),n.d(r,"bsSizes",(function(){return B})),n.d(r,"getClassSet",(function(){return U})),n.d(r,"splitBsProps",(function(){return G})),n.d(r,"splitBsPropsAndOmit",(function(){return V})),n.d(r,"addStyle",(function(){return $})),n.d(r,"_curry",(function(){return W}));var i={};n.r(i),n.d(i,"bootstrapUtils",(function(){return r})),n.d(i,"createChainedFunction",(function(){return ge})),n.d(i,"ValidComponentChildren",(function(){return Y}));var o=n(2),a=n.n(o),s=n(5),l=n.n(s),u=n(4),c=n.n(u),f=n(6),h=n.n(f),d=n(1),p=n.n(d),m=n(8),g=n.n(m),v=n(9),y=n.n(v),b=n(0),_=n.n(b),E=n(41),w=n.n(E),x=n(139),T=n.n(x),S=n(114),k=n.n(S),O="large",A="small",C={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},P=["lg","md","sm","xs"],M={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},R="default",I="primary",D="inverse";function N(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1];return"function"==typeof i?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function L(e,t){var n=(e.bsClass||"").trim();return null==n&&k()(!1),n+(t?"-"+t:"")}var F=N((function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=_.a.string,r.bsClass=e,t})),j=N((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var o=_.a.oneOf(r);return n.STYLES=r,o._values=r,n.propTypes=a()({},i,{bsStyle:o}),void 0!==t&&((n.defaultProps||(n.defaultProps={})).bsStyle=t),n})),B=N((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var o=[];r.forEach((function(e){var t=C[e];t&&t!==e&&o.push(t),o.push(e)}));var s=_.a.oneOf(o);return s._values=o,n.SIZES=r,n.propTypes=a()({},i,{bsSize:s}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n}));function U(e){var t,n=((t={})[L(e)]=!0,t);return e.bsSize&&(n[L(e,C[e.bsSize]||e.bsSize)]=!0),e.bsStyle&&(n[L(e,e.bsStyle)]=!0),n}function z(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function H(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function G(e){var t={};return T()(e).forEach((function(e){var n=e[0],r=e[1];H(n)||(t[n]=r)})),[z(e),t]}function V(e,t){var n={};t.forEach((function(e){n[e]=!0}));var r={};return T()(e).forEach((function(e){var t=e[0],i=e[1];H(t)||n[t]||(r[t]=i)})),[z(e),r]}function $(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];j(n,e)}var X,W=N,Y={map:function(e,t,n){var r=0;return p.a.Children.map(e,(function(e){return p.a.isValidElement(e)?t.call(n,e,r++):e}))},forEach:function(e,t,n){var r=0;p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.call(n,e,r++)}))},count:function(e){var t=0;return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&++t})),t},find:function(e,t,n){var r=0,i=void 0;return p.a.Children.forEach(e,(function(e){i||p.a.isValidElement(e)&&t.call(n,e,r++)&&(i=e)})),i},filter:function(e,t,n){var r=0,i=[];return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.call(n,e,r++)&&i.push(e)})),i},every:function(e,t,n){var r=0,i=!0;return p.a.Children.forEach(e,(function(e){i&&p.a.isValidElement(e)&&(t.call(n,e,r++)||(i=!1))})),i},some:function(e,t,n){var r=0,i=!1;return p.a.Children.forEach(e,(function(e){i||p.a.isValidElement(e)&&t.call(n,e,r++)&&(i=!0)})),i},toArray:function(e){var t=[];return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.push(e)})),t}},q=n(115),K=n.n(q),Z=_.a.oneOfType([_.a.string,_.a.number]),Q={accordion:_.a.bool,activeKey:_.a.any,onSelect:_.a.func,role:_.a.string,generateChildId:_.a.func,id:(X="PanelGroup",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=null;return e.generateChildId||(i=Z.apply(void 0,[e].concat(n)))||e.id||(i=new Error("In order to properly initialize the "+X+" in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to "+X+" is required")),i})},J={$bs_panelGroup:_.a.shape({getId:_.a.func,headerRole:_.a.string,panelRole:_.a.string,activeKey:_.a.any,onToggle:_.a.func})},ee=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleSelect=function(e,t,n){t?r.props.onSelect(e,n):r.props.activeKey===e&&r.props.onSelect(null,n)},i=n,c()(r,i)}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.accordion,r=e.generateChildId,i=e.id,o=null;return n&&(o=r||function(e,t){return i?i+"-"+t+"-"+e:null}),{$bs_panelGroup:a()({getId:o,headerRole:"tab",panelRole:"tabpanel"},n&&{activeKey:t,onToggle:this.handleSelect})}},t.prototype.render=function(){var e=this.props,t=e.accordion,n=e.className,r=e.children,i=V(g()(e,["accordion","className","children"]),["onSelect","activeKey"]),o=i[0],s=i[1];t&&(s.role=s.role||"tablist");var l=U(o);return p.a.createElement("div",a()({},s,{className:y()(n,l)}),Y.map(r,(function(e){return Object(d.cloneElement)(e,{bsStyle:e.props.bsStyle||o.bsStyle})})))},t}(p.a.Component);ee.propTypes=Q,ee.defaultProps={accordion:!1},ee.childContextTypes=J;var te=w()(F("panel-group",ee),{activeKey:"onSelect"}),ne=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){return p.a.createElement(te,a()({},this.props,{accordion:!0}),this.props.children)},t}(p.a.Component),re=n(54),ie=n.n(re),oe={label:_.a.string.isRequired,onClick:_.a.func},ae=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return p.a.createElement("button",{type:"button",className:"close",onClick:n},p.a.createElement("span",{"aria-hidden":"true"},""),p.a.createElement("span",{className:"sr-only"},t))},t}(p.a.Component);ae.propTypes=oe,ae.defaultProps={label:"Close"};var se=ae,le={onDismiss:_.a.func,closeLabel:_.a.string},ue=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,i=t.className,o=t.children,s=G(g()(t,["onDismiss","closeLabel","className","children"])),l=s[0],u=s[1],c=!!n,f=a()({},U(l),((e={})[L(l,"dismissable")]=c,e));return p.a.createElement("div",a()({},u,{role:"alert",className:y()(i,f)}),c&&p.a.createElement(se,{onClick:n,label:r}),o)},t}(p.a.Component);ue.propTypes=le,ue.defaultProps={closeLabel:"Close alert"};var ce=j(ie()(M),M.INFO,F("alert",ue)),fe={pullRight:_.a.bool},he=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.hasContent=function(e){var t=!1;return p.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},t.prototype.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,i=G(g()(e,["pullRight","className","children"])),o=i[0],s=i[1],l=a()({},U(o),{"pull-right":t,hidden:!this.hasContent(r)});return p.a.createElement("span",a()({},s,{className:y()(n,l)}),r)},t}(p.a.Component);he.propTypes=fe,he.defaultProps={pullRight:!1};var de=F("badge",he),pe=n(15),me=n.n(pe),ge=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},ve={href:_.a.string,onClick:_.a.func,onKeyDown:_.a.func,disabled:_.a.bool,role:_.a.string,tabIndex:_.a.oneOfType([_.a.number,_.a.string]),componentClass:me.a};function ye(e){return!e||"#"===e.trim()}var be=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i}return h()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,r=t.href,i=t.onClick;(n||ye(r))&&e.preventDefault(),n?e.stopPropagation():i&&i(e)},t.prototype.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,r=e.onKeyDown,i=g()(e,["componentClass","disabled","onKeyDown"]);return ye(i.href)&&(i.role=i.role||"button",i.href=i.href||"#"),n&&(i.tabIndex=-1,i.style=a()({pointerEvents:"none"},i.style)),p.a.createElement(t,a()({},i,{onClick:this.handleClick,onKeyDown:ge(this.handleKeyDown,r)}))},t}(p.a.Component);be.propTypes=ve,be.defaultProps={componentClass:"a"};var _e=be,Ee={active:_.a.bool,href:_.a.string,title:_.a.node,target:_.a.string},we=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,r=e.title,i=e.target,o=e.className,s=g()(e,["active","href","title","target","className"]),l={href:n,title:r,target:i};return p.a.createElement("li",{className:y()(o,{active:t})},t?p.a.createElement("span",s):p.a.createElement(_e,a()({},s,l)))},t}(p.a.Component);we.propTypes=Ee,we.defaultProps={active:!1};var xe=we,Te=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("ol",a()({},i,{role:"navigation","aria-label":"breadcrumbs",className:y()(t,o)}))},t}(p.a.Component);Te.Item=xe;var Se=F("breadcrumb",Te),ke={active:_.a.bool,disabled:_.a.bool,block:_.a.bool,onClick:_.a.func,componentClass:me.a,href:_.a.string,type:_.a.oneOf(["button","reset","submit"])},Oe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.renderAnchor=function(e,t){return p.a.createElement(_e,a()({},e,{className:y()(t,e.disabled&&"disabled")}))},t.prototype.renderButton=function(e,t){var n=e.componentClass,r=g()(e,["componentClass"]),i=n||"button";return p.a.createElement(i,a()({},r,{type:r.type||"button",className:t}))},t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.block,i=t.className,o=G(g()(t,["active","block","className"])),s=o[0],l=o[1],u=a()({},U(s),((e={active:n})[L(s,"block")]=r,e)),c=y()(i,u);return l.href?this.renderAnchor(l,c):this.renderButton(l,c)},t}(p.a.Component);Oe.propTypes=ke,Oe.defaultProps={active:!1,block:!1,disabled:!1};var Ae=F("btn",B([O,A,"xsmall"],j([].concat(ie()(M),[R,I,"link"]),R,Oe))),Ce=n(83),Pe=n.n(Ce),Me={vertical:_.a.bool,justified:_.a.bool,block:Pe()(_.a.bool,(function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null}))},Re=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,r=t.justified,i=t.vertical,o=t.className,s=G(g()(t,["block","justified","vertical","className"])),l=s[0],u=s[1],c=a()({},U(l),((e={})[L(l)]=!i,e[L(l,"vertical")]=i,e[L(l,"justified")]=r,e[L(Ae.defaultProps,"block")]=n,e));return p.a.createElement("div",a()({},u,{className:y()(o,c)}))},t}(p.a.Component);Re.propTypes=Me,Re.defaultProps={block:!1,justified:!1,vertical:!1};var Ie=F("btn-group",Re),De=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("div",a()({},i,{role:"toolbar",className:y()(t,o)}))},t}(p.a.Component),Ne=F("btn-toolbar",De),Le={componentClass:me.a},Fe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Fe.propTypes=Le,Fe.defaultProps={componentClass:"div"};var je=F("carousel-caption",Fe),Be=n(22),Ue=n.n(Be),ze=n(306),He=n.n(ze),Ge={direction:_.a.oneOf(["prev","next"]),onAnimateOutEnd:_.a.func,active:_.a.bool,animateIn:_.a.bool,animateOut:_.a.bool,index:_.a.number},Ve=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleAnimateOutEnd=i.handleAnimateOutEnd.bind(i),i.state={direction:null},i.isUnmounted=!1,i}return h()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.active,r=e.active;!n&&r&&He.a.end(Ue.a.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout((function(){return t.startAnimation()}),20)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},t.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.active,r=e.animateIn,i=e.animateOut,o=e.className,s=g()(e,["direction","active","animateIn","animateOut","className"]);delete s.onAnimateOutEnd,delete s.index;var l={item:!0,active:n&&!r||i};return t&&n&&r&&(l[t]=!0),this.state.direction&&(r||i)&&(l[this.state.direction]=!0),p.a.createElement("div",a()({},s,{className:y()(o,l)}))},t}(p.a.Component);Ve.propTypes=Ge,Ve.defaultProps={active:!1,animateIn:!1,animateOut:!1};var $e=Ve,Xe={glyph:_.a.string.isRequired},We=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,r=t.className,i=G(g()(t,["glyph","className"])),o=i[0],s=i[1],l=a()({},U(o),((e={})[L(o,n)]=!0,e));return p.a.createElement("span",a()({},s,{className:y()(r,l)}))},t}(p.a.Component);We.propTypes=Xe;var Ye=F("glyphicon",We),qe={slide:_.a.bool,indicators:_.a.bool,interval:_.a.number,controls:_.a.bool,pauseOnHover:_.a.bool,wrap:_.a.bool,onSelect:_.a.func,onSlideEnd:_.a.func,activeIndex:_.a.number,defaultActiveIndex:_.a.number,direction:_.a.oneOf(["prev","next"]),prevIcon:_.a.node,prevLabel:_.a.string,nextIcon:_.a.node,nextLabel:_.a.string},Ke={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:p.a.createElement(Ye,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:p.a.createElement(Ye,{glyph:"chevron-right"}),nextLabel:"Next"},Ze=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));i.handleMouseOver=i.handleMouseOver.bind(i),i.handleMouseOut=i.handleMouseOut.bind(i),i.handlePrev=i.handlePrev.bind(i),i.handleNext=i.handleNext.bind(i),i.handleItemAnimateOutEnd=i.handleItemAnimateOutEnd.bind(i);var o=n.defaultActiveIndex;return i.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},i.isUnmounted=!1,i}return h()(t,e),t.prototype.componentDidMount=function(){this.waitForNext()},t.prototype.componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)})),null==e.activeIndex&&this.state.activeIndex>=e.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},t.prototype.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},t.prototype.getDirection=function(e,t){return e===t?null:e>t?"prev":"next"},t.prototype.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},(function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()}))},t.prototype.handleMouseOut=function(){this.isPaused&&this.play()},t.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},t.prototype.handleNext=function(e){var t=this.getActiveIndex()+1;if(t>Y.count(this.props.children)-1){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},t.prototype.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=Y.count(this.props.children)-1}this.select(t,e,"prev")},t.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},t.prototype.play=function(){this.isPaused=!1,this.waitForNext()},t.prototype.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,e);var i=this.props.onSelect;if(i&&(i.length>1?(t?(t.persist(),t.direction=n):t={direction:n},i(e,t)):i(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}},t.prototype.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,r=e.activeIndex;!this.isPaused&&t&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},t.prototype.renderControls=function(e){var t=e.wrap,n=e.children,r=e.activeIndex,i=e.prevIcon,o=e.nextIcon,a=e.bsProps,s=e.prevLabel,l=e.nextLabel,u=L(a,"control"),c=Y.count(n);return[(t||0!==r)&&p.a.createElement(_e,{key:"prev",className:y()(u,"left"),onClick:this.handlePrev},i,s&&p.a.createElement("span",{className:"sr-only"},s)),(t||r!==c-1)&&p.a.createElement(_e,{key:"next",className:y()(u,"right"),onClick:this.handleNext},o,l&&p.a.createElement("span",{className:"sr-only"},l))]},t.prototype.renderIndicators=function(e,t,n){var r=this,i=[];return Y.forEach(e,(function(e,n){i.push(p.a.createElement("li",{key:n,className:n===t?"active":null,onClick:function(e){return r.select(n,e)}})," ")})),p.a.createElement("ol",{className:L(n,"indicators")},i)},t.prototype.render=function(){var e=this,t=this.props,n=t.slide,r=t.indicators,i=t.controls,o=t.wrap,s=t.prevIcon,l=t.prevLabel,u=t.nextIcon,c=t.nextLabel,f=t.className,h=t.children,m=g()(t,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),v=this.state,b=v.previousActiveIndex,_=v.direction,E=V(m,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),w=E[0],x=E[1],T=this.getActiveIndex(),S=a()({},U(w),{slide:n});return p.a.createElement("div",a()({},x,{className:y()(f,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(h,T,w),p.a.createElement("div",{className:L(w,"inner")},Y.map(h,(function(t,r){var i=r===T,o=n&&r===b;return Object(d.cloneElement)(t,{active:i,index:r,animateOut:o,animateIn:i&&null!=b&&n,direction:_,onAnimateOutEnd:o?e.handleItemAnimateOutEnd:null})}))),i&&this.renderControls({wrap:o,children:h,activeIndex:T,prevIcon:s,prevLabel:l,nextIcon:u,nextLabel:c,bsProps:w}))},t}(p.a.Component);Ze.propTypes=qe,Ze.defaultProps=Ke,Ze.Caption=je,Ze.Item=$e;var Qe=F("carousel",Ze),Je=(n(52),{inline:_.a.bool,disabled:_.a.bool,title:_.a.string,validationState:_.a.oneOf(["success","warning","error",null]),inputRef:_.a.func}),et=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,s=e.style,l=e.title,u=e.children,c=G(g()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],h=c[1],d=p.a.createElement("input",a()({},h,{ref:i,type:"checkbox",disabled:n}));if(t){var m,v=((m={})[L(f,"inline")]=!0,m.disabled=n,m);return p.a.createElement("label",{className:y()(o,v),style:s,title:l},d,u)}var b=a()({},U(f),{disabled:n});return r&&(b["has-"+r]=!0),p.a.createElement("div",{className:y()(o,b),style:s},p.a.createElement("label",{title:l},d,u))},t}(p.a.Component);et.propTypes=Je,et.defaultProps={inline:!1,disabled:!1,title:""};var tt=F("checkbox",et);function nt(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var rt={componentClass:me.a,visibleXsBlock:_.a.bool,visibleSmBlock:_.a.bool,visibleMdBlock:_.a.bool,visibleLgBlock:_.a.bool},it=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return P.forEach((function(e){var t="visible"+nt(e)+"Block";o[t]&&(s["visible-"+e+"-block"]=!0),delete o[t]})),p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);it.propTypes=rt,it.defaultProps={componentClass:"div"};var ot=F("clearfix",it),at={htmlFor:_.a.string,srOnly:_.a.bool},st={$bs_formGroup:_.a.object},lt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,i=void 0===r?t:r,o=n.srOnly,s=n.className,l=G(g()(n,["htmlFor","srOnly","className"])),u=l[0],c=l[1],f=a()({},U(u),{"sr-only":o});return p.a.createElement("label",a()({},c,{htmlFor:i,className:y()(s,f)}))},t}(p.a.Component);lt.propTypes=at,lt.defaultProps={srOnly:!1},lt.contextTypes=st;var ut=F("control-label",lt),ct={componentClass:me.a,xs:_.a.number,sm:_.a.number,md:_.a.number,lg:_.a.number,xsHidden:_.a.bool,smHidden:_.a.bool,mdHidden:_.a.bool,lgHidden:_.a.bool,xsOffset:_.a.number,smOffset:_.a.number,mdOffset:_.a.number,lgOffset:_.a.number,xsPush:_.a.number,smPush:_.a.number,mdPush:_.a.number,lgPush:_.a.number,xsPull:_.a.number,smPull:_.a.number,mdPull:_.a.number,lgPull:_.a.number},ft=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=[];return P.forEach((function(e){function t(t,n){var r=""+e+t,a=o[r];null!=a&&s.push(L(i,""+e+n+"-"+a)),delete o[r]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";o[n]&&s.push("hidden-"+e),delete o[n]})),p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);ft.propTypes=ct,ft.defaultProps={componentClass:"div"};var ht,dt=F("col",ft),pt=n(91),mt=n.n(pt),gt=n(71),vt=n.n(gt),yt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function bt(e){e.offsetHeight}var _t=((ht={})[gt.EXITED]="collapse",ht[gt.EXITING]="collapsing",ht[gt.ENTERING]="collapsing",ht[gt.ENTERED]="collapse in",ht),Et={in:_.a.bool,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,appear:_.a.bool,timeout:_.a.number,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,dimension:_.a.oneOfType([_.a.oneOf(["height","width"]),_.a.func]),getDimensionValue:_.a.func,role:_.a.string},wt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+nt(e)],r=yt[e];return n+parseInt(mt()(t,r[0]),10)+parseInt(mt()(t,r[1]),10)}},xt=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleEnter=function(e){e.style[r.getDimension()]="0"},r.handleEntering=function(e){var t=r.getDimension();e.style[t]=r._getScrollDimensionValue(e,t)},r.handleEntered=function(e){e.style[r.getDimension()]=null},r.handleExit=function(e){var t=r.getDimension();e.style[t]=r.props.getDimensionValue(t,e)+"px",bt(e)},r.handleExiting=function(e){e.style[r.getDimension()]="0"},i=n,c()(r,i)}return h()(t,e),t.prototype.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},t.prototype._getScrollDimensionValue=function(e,t){return e["scroll"+nt(t)]+"px"},t.prototype.render=function(){var e=this,t=this.props,n=t.onEnter,r=t.onEntering,i=t.onEntered,o=t.onExit,s=t.onExiting,l=t.className,u=t.children,c=g()(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete c.dimension,delete c.getDimensionValue;var f=ge(this.handleEnter,n),h=ge(this.handleEntering,r),d=ge(this.handleEntered,i),m=ge(this.handleExit,o),v=ge(this.handleExiting,s);return p.a.createElement(vt.a,a()({},c,{"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:h,onEntered:d,onExit:m,onExiting:v}),(function(t,n){return p.a.cloneElement(u,a()({},n,{className:y()(l,u.props.className,_t[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);xt.propTypes=Et,xt.defaultProps=wt;var Tt=xt,St=n(227),kt=n.n(St),Ot=n(81),At=n.n(Ot),Ct=n(45),Pt=n.n(Ct),Mt=n(84),Rt=n.n(Mt),It=n(307),Dt=n.n(It),Nt=n(228),Lt=n.n(Nt),Ft={open:_.a.bool,pullRight:_.a.bool,onClose:_.a.func,labelledBy:_.a.oneOfType([_.a.string,_.a.number]),onSelect:_.a.func,rootCloseEvent:_.a.oneOf(["click","mousedown"])},jt=function(e){function t(n){l()(this,t);var r=c()(this,e.call(this,n));return r.handleRootClose=r.handleRootClose.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return h()(t,e),t.prototype.getFocusableMenuItems=function(){var e=Ue.a.findDOMNode(this);return e?Dt()(e.querySelectorAll('[tabIndex="-1"]')):[]},t.prototype.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},t.prototype.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[n===t.length-1?0:n+1].focus()},t.prototype.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[0===n?t.length-1:n-1].focus()},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Pt.a.codes.down:this.focusNext(),e.preventDefault();break;case Pt.a.codes.up:this.focusPrevious(),e.preventDefault();break;case Pt.a.codes.esc:case Pt.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},t.prototype.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},t.prototype.render=function(){var e,t=this,n=this.props,r=n.open,i=n.pullRight,o=n.labelledBy,s=n.onSelect,l=n.className,u=n.rootCloseEvent,c=n.children,f=V(g()(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),h=f[0],d=f[1],m=a()({},U(h),((e={})[L(h,"right")]=i,e));return p.a.createElement(Lt.a,{disabled:!r,onRootClose:this.handleRootClose,event:u},p.a.createElement("ul",a()({},d,{role:"menu",className:y()(l,m),"aria-labelledby":o}),Y.map(c,(function(e){return p.a.cloneElement(e,{onKeyDown:ge(e.props.onKeyDown,t.handleKeyDown),onSelect:ge(e.props.onSelect,s)})}))))},t}(p.a.Component);jt.propTypes=Ft,jt.defaultProps={bsRole:"menu",pullRight:!1};var Bt=F("dropdown-menu",jt),Ut={noCaret:_.a.bool,open:_.a.bool,title:_.a.string,useAnchor:_.a.bool},zt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,r=e.useAnchor,i=e.bsClass,o=e.className,s=e.children,l=g()(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete l.bsRole;var u=r?_e:Ae,c=!t;return p.a.createElement(u,a()({},l,{role:"button",className:y()(o,i),"aria-haspopup":!0,"aria-expanded":n}),s||l.title,c&&" ",c&&p.a.createElement("span",{className:"caret"}))},t}(p.a.Component);zt.propTypes=Ut,zt.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var Ht=F("dropdown-toggle",zt),Gt=Ht.defaultProps.bsRole,Vt=Bt.defaultProps.bsRole,$t={dropup:_.a.bool,id:Rt()(_.a.oneOfType([_.a.string,_.a.number])),componentClass:me.a,children:Pe()(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return K()((function(e,n,r){var i=void 0;return t.every((function(t){return!!Y.some(e.children,(function(e){return e.props.bsRole===t}))||(i=t,!1)})),i?new Error("(children) "+r+" - Missing a required child with bsRole: "+i+". "+r+" must have at least one child of each of the following bsRoles: "+t.join(", ")):null}))}(Gt,Vt),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return K()((function(e,n,r){var i=void 0;return t.every((function(t){return!(Y.filter(e.children,(function(e){return e.props.bsRole===t})).length>1&&(i=t,1))})),i?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+i+". Only one child each allowed with the following bsRoles: "+t.join(", ")):null}))}(Vt)),disabled:_.a.bool,pullRight:_.a.bool,open:_.a.bool,defaultOpen:_.a.bool,onToggle:_.a.func,onSelect:_.a.func,role:_.a.string,rootCloseEvent:_.a.oneOf(["click","mousedown"]),onMouseEnter:_.a.func,onMouseLeave:_.a.func},Xt={componentClass:Ie},Wt=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleClose=i.handleClose.bind(i),i._focusInDropdown=!1,i.lastOpenEventType=null,i}return h()(t,e),t.prototype.componentDidMount=function(){this.focusNextOnOpen()},t.prototype.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=At()(Ue.a.findDOMNode(this.menu),kt()(document)))},t.prototype.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.prototype.focus=function(){var e=Ue.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.prototype.focusNextOnOpen=function(){var e=this.menu;e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.prototype.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.prototype.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.prototype.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Pt.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Pt.a.codes.esc:case Pt.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.prototype.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.prototype.renderMenu=function(e,t){var n=this,r=t.id,i=t.onSelect,o=t.rootCloseEvent,s=g()(t,["id","onSelect","rootCloseEvent"]),l=function(e){n.menu=e};return"string"==typeof e.ref||(l=ge(e.ref,l)),Object(d.cloneElement)(e,a()({},s,{ref:l,labelledBy:r,bsClass:L(s,"menu"),onClose:ge(e.props.onClose,this.handleClose),onSelect:ge(e.props.onSelect,i,(function(e,t){return n.handleClose(t,{source:"select"})})),rootCloseEvent:o}))},t.prototype.renderToggle=function(e,t){var n=this,r=function(e){n.toggle=e};return"string"==typeof e.ref||(r=ge(e.ref,r)),Object(d.cloneElement)(e,a()({},t,{ref:r,bsClass:L(t,"toggle"),onClick:ge(e.props.onClick,this.handleClick),onKeyDown:ge(e.props.onKeyDown,this.handleKeyDown)}))},t.prototype.render=function(){var e,t=this,n=this.props,r=n.componentClass,i=n.id,o=n.dropup,s=n.disabled,l=n.pullRight,u=n.open,c=n.onSelect,f=n.role,h=n.bsClass,d=n.className,m=n.rootCloseEvent,v=n.children,b=g()(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete b.onToggle;var _=((e={})[h]=!0,e.open=u,e.disabled=s,e);return o&&(_[h]=!1,_.dropup=!0),p.a.createElement(r,a()({},b,{className:y()(d,_)}),Y.map(v,(function(e){switch(e.props.bsRole){case Gt:return t.renderToggle(e,{id:i,disabled:s,open:u,role:f,bsClass:h});case Vt:return t.renderMenu(e,{id:i,open:u,pullRight:l,bsClass:h,onSelect:c,rootCloseEvent:m});default:return e}})))},t}(p.a.Component);Wt.propTypes=$t,Wt.defaultProps=Xt,F("dropdown",Wt);var Yt=w()(Wt,{open:"onToggle"});Yt.Toggle=Ht,Yt.Menu=Bt;var qt=Yt;function Kt(e,t){var n=t.propTypes,r={},i={};return T()(e).forEach((function(e){var t=e[0],o=e[1];n[t]?r[t]=o:i[t]=o})),[r,i]}var Zt=a()({},qt.propTypes,{bsStyle:_.a.string,bsSize:_.a.string,title:_.a.node.isRequired,noCaret:_.a.bool,children:_.a.node}),Qt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.children,o=Kt(g()(e,["bsSize","bsStyle","title","children"]),qt.ControlledComponent),s=o[0],l=o[1];return p.a.createElement(qt,a()({},s,{bsSize:t,bsStyle:n}),p.a.createElement(qt.Toggle,a()({},l,{bsSize:t,bsStyle:n}),r),p.a.createElement(qt.Menu,null,i))},t}(p.a.Component);Qt.propTypes=Zt;var Jt,en=Qt,tn={in:_.a.bool,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,appear:_.a.bool,timeout:_.a.number,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func},nn=((Jt={})[gt.ENTERING]="in",Jt[gt.ENTERED]="in",Jt),rn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=g()(e,["className","children"]);return p.a.createElement(vt.a,r,(function(e,r){return p.a.cloneElement(n,a()({},r,{className:y()("fade",t,n.props.className,nn[e])}))}))},t}(p.a.Component);rn.propTypes=tn,rn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};var on=rn,an={horizontal:_.a.bool,inline:_.a.bool,componentClass:me.a},sn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,i=e.className,o=G(g()(e,["horizontal","inline","componentClass","className"])),s=o[0],l=o[1],u=[];return t&&u.push(L(s,"horizontal")),n&&u.push(L(s,"inline")),p.a.createElement(r,a()({},l,{className:y()(i,u)}))},t}(p.a.Component);sn.propTypes=an,sn.defaultProps={horizontal:!1,inline:!1,componentClass:"form"};var ln=F("form",sn),un={$bs_formGroup:_.a.object},cn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},t.prototype.renderDefaultFeedback=function(e,t,n,r){var i=this.getGlyph(e&&e.validationState);return i?p.a.createElement(Ye,a()({},r,{glyph:i,className:y()(t,n)})):null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=G(g()(e,["className","children"])),i=r[0],o=r[1],s=U(i);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,s,o);var l=p.a.Children.only(n);return p.a.cloneElement(l,a()({},o,{className:y()(l.props.className,t,s)}))},t}(p.a.Component);cn.defaultProps={bsRole:"feedback"},cn.contextTypes=un;var fn=F("form-control-feedback",cn),hn={componentClass:me.a},dn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);dn.propTypes=hn,dn.defaultProps={componentClass:"p"};var pn=F("form-control-static",dn),mn={componentClass:me.a,type:_.a.string,id:_.a.string,inputRef:_.a.func},gn={$bs_formGroup:_.a.object},vn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.componentClass,i=n.type,o=n.id,s=void 0===o?t:o,l=n.inputRef,u=n.className,c=n.bsSize,f=G(g()(n,["componentClass","type","id","inputRef","className","bsSize"])),h=f[0],d=f[1],m=void 0;return"file"!==i&&(m=U(h)),c&&(m[L({bsClass:"input"},C[c]||c)]=!0),p.a.createElement(r,a()({},d,{type:i,id:s,ref:l,className:y()(u,m)}))},t}(p.a.Component);vn.propTypes=mn,vn.defaultProps={componentClass:"input"},vn.contextTypes=gn,vn.Feedback=fn,vn.Static=pn;var yn=F("form-control",B([A,O],vn)),bn={controlId:_.a.string,validationState:_.a.oneOf(["success","warning","error",null])},_n={$bs_formGroup:_.a.object.isRequired},En=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},t.prototype.hasFeedback=function(e){var t=this;return Y.some(e,(function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)}))},t.prototype.render=function(){var e=this.props,t=e.validationState,n=e.className,r=e.children,i=V(g()(e,["validationState","className","children"]),["controlId"]),o=i[0],s=i[1],l=a()({},U(o),{"has-feedback":this.hasFeedback(r)});return t&&(l["has-"+t]=!0),p.a.createElement("div",a()({},s,{className:y()(n,l)}),r)},t}(p.a.Component);En.propTypes=bn,En.childContextTypes=_n;var wn=F("form-group",B([O,A],En)),xn={fluid:_.a.bool,componentClass:me.a},Tn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,r=e.className,i=G(g()(e,["fluid","componentClass","className"])),o=i[0],s=i[1],l=L(o,t&&"fluid");return p.a.createElement(n,a()({},s,{className:y()(r,l)}))},t}(p.a.Component);Tn.propTypes=xn,Tn.defaultProps={componentClass:"div",fluid:!1};var Sn=F("container",Tn),kn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),On=F("help-block",kn),An={responsive:_.a.bool,rounded:_.a.bool,circle:_.a.bool,thumbnail:_.a.bool},Cn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,r=t.rounded,i=t.circle,o=t.thumbnail,s=t.className,l=G(g()(t,["responsive","rounded","circle","thumbnail","className"])),u=l[0],c=l[1],f=((e={})[L(u,"responsive")]=n,e[L(u,"rounded")]=r,e[L(u,"circle")]=i,e[L(u,"thumbnail")]=o,e);return p.a.createElement("img",a()({},c,{className:y()(s,f)}))},t}(p.a.Component);Cn.propTypes=An,Cn.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var Pn=F("img",Cn),Mn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),Rn=F("input-group-addon",Mn),In=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),Dn=F("input-group-btn",In),Nn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component);Nn.Addon=Rn,Nn.Button=Dn;var Ln=F("input-group",B([O,A],Nn)),Fn={componentClass:me.a},jn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);jn.propTypes=Fn,jn.defaultProps={componentClass:"div"};var Bn=F("jumbotron",jn),Un=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.hasContent=function(e){var t=!1;return p.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=G(g()(e,["className","children"])),i=r[0],o=r[1],s=a()({},U(i),{hidden:!this.hasContent(n)});return p.a.createElement("span",a()({},o,{className:y()(t,s)}),n)},t}(p.a.Component),zn=F("label",j([].concat(ie()(M),[R,I]),R,Un)),Hn={active:_.a.any,disabled:_.a.any,header:_.a.node,listItem:_.a.bool,onClick:_.a.func,href:_.a.string,type:_.a.string},Gn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.renderHeader=function(e,t){return p.a.isValidElement(e)?Object(d.cloneElement)(e,{className:y()(e.props.className,t)}):p.a.createElement("h4",{className:t},e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.className,i=e.header,o=e.listItem,s=e.children,l=G(g()(e,["active","disabled","className","header","listItem","children"])),u=l[0],c=l[1],f=a()({},U(u),{active:t,disabled:n}),h=void 0;return c.href?h="a":c.onClick?(h="button",c.type=c.type||"button"):h=o?"li":"span",c.className=y()(r,f),i?p.a.createElement(h,c,this.renderHeader(i,L(u,"heading")),p.a.createElement("p",{className:L(u,"text")},s)):p.a.createElement(h,c,s)},t}(p.a.Component);Gn.propTypes=Hn,Gn.defaultProps={listItem:!1};var Vn=F("list-group-item",j(ie()(M),Gn)),$n={componentClass:me.a},Xn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.componentClass,i=void 0===r?(e=n)?Y.some(e,(function(e){return e.type!==Vn||e.props.href||e.props.onClick}))?"div":"ul":"div":r,o=t.className,s=G(g()(t,["children","componentClass","className"])),l=s[0],u=s[1],c=U(l),f="ul"===i&&Y.every(n,(function(e){return e.type===Vn}));return p.a.createElement(i,a()({},u,{className:y()(o,c)}),f?Y.map(n,(function(e){return Object(d.cloneElement)(e,{listItem:!0})})):n)},t}(p.a.Component);Xn.propTypes=$n;var Wn=F("list-group",Xn),Yn={align:_.a.oneOf(["top","middle","bottom"]),componentClass:me.a},qn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.align,r=e.className,i=G(g()(e,["componentClass","align","className"])),o=i[0],s=i[1],l=U(o);return n&&(l[L(hr.defaultProps,n)]=!0),p.a.createElement(t,a()({},s,{className:y()(r,l)}))},t}(p.a.Component);qn.propTypes=Yn,qn.defaultProps={componentClass:"div"};var Kn=F("media-body",qn),Zn={componentClass:me.a},Qn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Qn.propTypes=Zn,Qn.defaultProps={componentClass:"h4"};var Jn=F("media-heading",Qn),er={align:_.a.oneOf(["top","middle","bottom"])},tr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=G(g()(e,["align","className"])),i=r[0],o=r[1],s=U(i);return t&&(s[L(hr.defaultProps,t)]=!0),p.a.createElement("div",a()({},o,{className:y()(n,s)}))},t}(p.a.Component);tr.propTypes=er;var nr=F("media-left",tr),rr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("ul",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),ir=F("media-list",rr),or=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("li",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),ar=F("media",or),sr={align:_.a.oneOf(["top","middle","bottom"])},lr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=G(g()(e,["align","className"])),i=r[0],o=r[1],s=U(i);return t&&(s[L(hr.defaultProps,t)]=!0),p.a.createElement("div",a()({},o,{className:y()(n,s)}))},t}(p.a.Component);lr.propTypes=sr;var ur=F("media-right",lr),cr={componentClass:me.a},fr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);fr.propTypes=cr,fr.defaultProps={componentClass:"div"},fr.Heading=Jn,fr.Body=Kn,fr.Left=nr,fr.Right=ur,fr.List=ir,fr.ListItem=ar;var hr=F("media",fr),dr={active:_.a.bool,disabled:_.a.bool,divider:Pe()(_.a.bool,(function(e){var t=e.divider,n=e.children;return t&&n?new Error("Children will not be rendered for dividers"):null})),eventKey:_.a.any,header:_.a.bool,href:_.a.string,onClick:_.a.func,onSelect:_.a.func},pr=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return h()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.href,r=t.disabled,i=t.onSelect,o=t.eventKey;n&&!r||e.preventDefault(),r||i&&i(o,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.divider,i=e.header,o=e.onClick,s=e.className,l=e.style,u=V(g()(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),c=u[0],f=u[1];return r?(f.children=void 0,p.a.createElement("li",a()({},f,{role:"separator",className:y()(s,"divider"),style:l}))):i?p.a.createElement("li",a()({},f,{role:"heading",className:y()(s,L(c,"header")),style:l})):p.a.createElement("li",{role:"presentation",className:y()(s,{active:t,disabled:n}),style:l},p.a.createElement(_e,a()({},f,{role:"menuitem",tabIndex:"-1",onClick:ge(o,this.handleClick)})))},t}(p.a.Component);pr.propTypes=dr,pr.defaultProps={divider:!1,disabled:!1,header:!1};var mr=F("dropdown",pr),gr=n(232),vr=n.n(gr),yr=n(90),br=n.n(yr),_r=n(72),Er=n.n(_r),wr=n(178),xr=n.n(wr),Tr=n(123),Sr=n.n(Tr),kr=n(229),Or=n.n(kr),Ar={componentClass:me.a},Cr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Cr.propTypes=Ar,Cr.defaultProps={componentClass:"div"};var Pr=F("modal-body",Cr),Mr={dialogClassName:_.a.string},Rr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,r=t.className,i=t.style,o=t.children,s=G(g()(t,["dialogClassName","className","style","children"])),l=s[0],u=s[1],c=L(l),f=a()({display:"block"},i),h=a()({},U(l),((e={})[c]=!1,e[L(l,"dialog")]=!0,e));return p.a.createElement("div",a()({},u,{tabIndex:"-1",role:"dialog",style:f,className:y()(r,c)}),p.a.createElement("div",{className:y()(n,h)},p.a.createElement("div",{className:L(l,"content"),role:"document"},o)))},t}(p.a.Component);Rr.propTypes=Mr;var Ir=F("modal",B([O,A],Rr)),Dr={componentClass:me.a},Nr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Nr.propTypes=Dr,Nr.defaultProps={componentClass:"div"};var Lr=F("modal-footer",Nr),Fr={closeLabel:_.a.string,closeButton:_.a.bool,onHide:_.a.func},jr={$bs_modal:_.a.shape({onHide:_.a.func})},Br=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,r=e.onHide,i=e.className,o=e.children,s=g()(e,["closeLabel","closeButton","onHide","className","children"]),l=this.context.$bs_modal,u=G(s),c=u[0],f=u[1],h=U(c);return p.a.createElement("div",a()({},f,{className:y()(i,h)}),n&&p.a.createElement(se,{label:t,onClick:ge(l&&l.onHide,r)}),o)},t}(p.a.Component);Br.propTypes=Fr,Br.defaultProps={closeLabel:"Close",closeButton:!1},Br.contextTypes=jr;var Ur=F("modal-header",Br),zr={componentClass:me.a},Hr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Hr.propTypes=zr,Hr.defaultProps={componentClass:"h4"};var Gr=F("modal-title",Hr),Vr=a()({},Sr.a.propTypes,Ir.propTypes,{backdrop:_.a.oneOf(["static",!0,!1]),backdropClassName:_.a.string,keyboard:_.a.bool,animation:_.a.bool,dialogComponentClass:me.a,autoFocus:_.a.bool,enforceFocus:_.a.bool,restoreFocus:_.a.bool,show:_.a.bool,onHide:_.a.func,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,container:Sr.a.propTypes.container}),$r=a()({},Sr.a.defaultProps,{animation:!0,dialogComponentClass:Ir}),Xr={$bs_modal:_.a.shape({onHide:_.a.func})};function Wr(e){return p.a.createElement(on,a()({},e,{timeout:qr.TRANSITION_DURATION}))}function Yr(e){return p.a.createElement(on,a()({},e,{timeout:qr.BACKDROP_TRANSITION_DURATION}))}var qr=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleEntering=i.handleEntering.bind(i),i.handleExited=i.handleExited.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleDialogClick=i.handleDialogClick.bind(i),i.setModalRef=i.setModalRef.bind(i),i.state={style:{}},i}return h()(t,e),t.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.prototype.componentWillUnmount=function(){this.handleExited()},t.prototype.setModalRef=function(e){this._modal=e},t.prototype.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},t.prototype.handleEntering=function(){vr.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.prototype.handleExited=function(){vr.a.off(window,"resize",this.handleWindowResize)},t.prototype.handleWindowResize=function(){this.updateStyle()},t.prototype.updateStyle=function(){if(Er.a){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=br()(e),r=Or()(Ue.a.findDOMNode(this.props.container||n.body)),i=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?xr()():void 0,paddingLeft:!r&&i?xr()():void 0}})}},t.prototype.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,r=e.animation,i=e.show,o=e.dialogComponentClass,s=e.className,l=e.style,u=e.children,c=e.onEntering,f=e.onExited,h=g()(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),d=Kt(h,Sr.a),m=d[0],v=d[1],b=i&&!r&&"in";return p.a.createElement(Sr.a,a()({},m,{ref:this.setModalRef,show:i,containerClassName:L(h,"open"),transition:r?Wr:void 0,backdrop:t,backdropTransition:r?Yr:void 0,backdropClassName:y()(L(h,"backdrop"),n,b),onEntering:ge(c,this.handleEntering),onExited:ge(f,this.handleExited)}),p.a.createElement(o,a()({},v,{style:a()({},this.state.style,l),className:y()(s,b),onClick:!0===t?this.handleDialogClick:null}),u))},t}(p.a.Component);qr.propTypes=Vr,qr.defaultProps=$r,qr.childContextTypes=Xr,qr.Body=Pr,qr.Header=Ur,qr.Title=Gr,qr.Footer=Lr,qr.Dialog=Ir,qr.TRANSITION_DURATION=300,qr.BACKDROP_TRANSITION_DURATION=150;var Kr=F("modal",B([O,A],qr)),Zr={activeKey:_.a.any,activeHref:_.a.string,stacked:_.a.bool,justified:Pe()(_.a.bool,(function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null})),onSelect:_.a.func,role:_.a.string,navbar:_.a.bool,pullRight:_.a.bool,pullLeft:_.a.bool},Qr={$bs_navbar:_.a.shape({bsClass:_.a.string,onSelect:_.a.func}),$bs_tabContainer:_.a.shape({activeKey:_.a.any,onSelect:_.a.func.isRequired,getTabId:_.a.func.isRequired,getPaneId:_.a.func.isRequired})},Jr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=Y.find(t,(function(t){return e.isActive(t,r,i)})),a=Y.toArray(t).indexOf(o),s=Ue.a.findDOMNode(this).children,l=s&&s[a];l&&l.firstChild&&l.firstChild.focus()}},t.prototype.getActiveProps=function(){return this.context.$bs_tabContainer||this.props},t.prototype.getNextActiveChild=function(e){var t=this,n=this.props.children,r=n.filter((function(e){return null!=e.props.eventKey&&!e.props.disabled})),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=Y.find(n,(function(e){return t.isActive(e,o,a)})),l=r.indexOf(s);if(-1===l)return r[0];var u=l+e,c=r.length;return u>=c?u=0:u<0&&(u=c-1),r[u]},t.prototype.getTabProps=function(e,t,n,r,i){var o=this;if(!t&&"tablist"!==n)return null;var a=e.props,s=a.id,l=a["aria-controls"],u=a.eventKey,c=a.role,f=a.onKeyDown,h=a.tabIndex;return t&&(s=t.getTabId(u),l=t.getPaneId(u)),"tablist"===n&&(c=c||"tab",f=ge((function(e){return o.handleTabKeyDown(i,e)}),f),h=r?h:-1),{id:s,role:c,onKeyDown:f,"aria-controls":l,tabIndex:h}},t.prototype.handleTabKeyDown=function(e,t){var n=void 0;switch(t.keyCode){case Pt.a.codes.left:case Pt.a.codes.up:n=this.getNextActiveChild(-1);break;case Pt.a.codes.right:case Pt.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},t.prototype.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},t.prototype.render=function(){var e,t=this,n=this.props,r=n.stacked,i=n.justified,o=n.onSelect,s=n.role,l=n.navbar,u=n.pullRight,c=n.pullLeft,f=n.className,h=n.children,m=g()(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),v=this.context.$bs_tabContainer,b=s||(v?"tablist":null),_=this.getActiveProps(),E=_.activeKey,w=_.activeHref;delete m.activeKey,delete m.activeHref;var x=G(m),T=x[0],S=x[1],k=a()({},U(T),((e={})[L(T,"stacked")]=r,e[L(T,"justified")]=i,e)),O=null!=l?l:this.context.$bs_navbar,A=void 0,C=void 0;if(O){var P=this.context.$bs_navbar||{bsClass:"navbar"};k[L(P,"nav")]=!0,C=L(P,"right"),A=L(P,"left")}else C="pull-right",A="pull-left";return k[C]=u,k[A]=c,p.a.createElement("ul",a()({},S,{role:b,className:y()(f,k)}),Y.map(h,(function(e){var n=t.isActive(e,E,w),r=ge(e.props.onSelect,o,O&&O.onSelect,v&&v.onSelect);return Object(d.cloneElement)(e,a()({},t.getTabProps(e,v,b,n,r),{active:n,activeKey:E,activeHref:w,onSelect:r}))})))},t}(p.a.Component);Jr.propTypes=Zr,Jr.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},Jr.contextTypes=Qr;var ei=F("nav",j(["tabs","pills"],Jr)),ti={$bs_navbar:_.a.shape({bsClass:_.a.string})},ni=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=g()(e,["className","children"]),i=L(this.context.$bs_navbar||{bsClass:"navbar"},"brand");return p.a.isValidElement(n)?p.a.cloneElement(n,{className:y()(n.props.className,t,i)}):p.a.createElement("span",a()({},r,{className:y()(t,i)}),n)},t}(p.a.Component);ni.contextTypes=ti;var ri=ni,ii={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool})},oi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=g()(e,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=L(r,"collapse");return p.a.createElement(Tt,a()({in:r.expanded},n),p.a.createElement("div",{className:i},t))},t}(p.a.Component);oi.contextTypes=ii;var ai=oi,si={$bs_navbar:_.a.shape({bsClass:_.a.string})},li=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=g()(e,["className"]),r=L(this.context.$bs_navbar||{bsClass:"navbar"},"header");return p.a.createElement("div",a()({},n,{className:y()(t,r)}))},t}(p.a.Component);li.contextTypes=si;var ui=li,ci={onClick:_.a.func,children:_.a.node},fi={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool,onToggle:_.a.func.isRequired})},hi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.children,i=g()(e,["onClick","className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},s=a()({type:"button"},i,{onClick:ge(t,o.onToggle),className:y()(n,L(o,"toggle"),!o.expanded&&"collapsed")});return r?p.a.createElement("button",s,r):p.a.createElement("button",s,p.a.createElement("span",{className:"sr-only"},"Toggle navigation"),p.a.createElement("span",{className:"icon-bar"}),p.a.createElement("span",{className:"icon-bar"}),p.a.createElement("span",{className:"icon-bar"}))},t}(p.a.Component);hi.propTypes=ci,hi.contextTypes=fi;var di=hi,pi={fixedTop:_.a.bool,fixedBottom:_.a.bool,staticTop:_.a.bool,inverse:_.a.bool,fluid:_.a.bool,componentClass:me.a,onToggle:_.a.func,onSelect:_.a.func,collapseOnSelect:_.a.bool,expanded:_.a.bool,role:_.a.string},mi={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool,onToggle:_.a.func.isRequired,onSelect:_.a.func})},gi=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleCollapse=i.handleCollapse.bind(i),i}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,i=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:ge(r,i?this.handleCollapse:null)}}},t.prototype.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},t.prototype.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},t.prototype.render=function(){var e,t=this.props,n=t.componentClass,r=t.fixedTop,i=t.fixedBottom,o=t.staticTop,s=t.inverse,l=t.fluid,u=t.className,c=t.children,f=V(g()(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),["expanded","onToggle","onSelect","collapseOnSelect"]),h=f[0],d=f[1];void 0===d.role&&"nav"!==n&&(d.role="navigation"),s&&(h.bsStyle=D);var m=a()({},U(h),((e={})[L(h,"fixed-top")]=r,e[L(h,"fixed-bottom")]=i,e[L(h,"static-top")]=o,e));return p.a.createElement(n,a()({},d,{className:y()(u,m)}),p.a.createElement(Sn,{fluid:l},c))},t}(p.a.Component);gi.propTypes=pi,gi.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},gi.childContextTypes=mi,F("navbar",gi);var vi=w()(gi,{expanded:"onToggle"});function yi(e,t,n){var r=function(e,n){var r=n.$bs_navbar,i=void 0===r?{bsClass:"navbar"}:r,o=e.componentClass,s=e.className,l=e.pullRight,u=e.pullLeft,c=g()(e,["componentClass","className","pullRight","pullLeft"]);return p.a.createElement(o,a()({},c,{className:y()(s,L(i,t),l&&L(i,"right"),u&&L(i,"left"))}))};return r.displayName=n,r.propTypes={componentClass:me.a,pullRight:_.a.bool,pullLeft:_.a.bool},r.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:_.a.shape({bsClass:_.a.string})},r}vi.Brand=ri,vi.Header=ui,vi.Toggle=di,vi.Collapse=ai,vi.Form=yi("div","form","NavbarForm"),vi.Text=yi("p","text","NavbarText"),vi.Link=yi("a","link","NavbarLink");var bi=j([R,D],R,vi),_i=a()({},qt.propTypes,{title:_.a.node.isRequired,noCaret:_.a.bool,active:_.a.bool,activeKey:_.a.any,activeHref:_.a.string,children:_.a.node}),Ei=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.isActive=function(e,t,n){var r=e.props,i=this;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||!!Y.some(r.children,(function(e){return i.isActive(e,t,n)}))||r.active},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.activeKey,i=t.activeHref,o=t.className,s=t.style,l=t.children,u=g()(t,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,i);delete u.active,delete u.eventKey;var f=Kt(u,qt.ControlledComponent),h=f[0],d=f[1];return p.a.createElement(qt,a()({},h,{componentClass:"li",className:y()(o,{active:c}),style:s}),p.a.createElement(qt.Toggle,a()({},d,{useAnchor:!0}),n),p.a.createElement(qt.Menu,null,Y.map(l,(function(t){return p.a.cloneElement(t,{active:e.isActive(t,r,i)})}))))},t}(p.a.Component);Ei.propTypes=_i;var wi=Ei,xi={active:_.a.bool,disabled:_.a.bool,role:_.a.string,href:_.a.string,onClick:_.a.func,onSelect:_.a.func,eventKey:_.a.any},Ti=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return h()(t,e),t.prototype.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.onClick,i=e.className,o=e.style,s=g()(e,["active","disabled","onClick","className","style"]);return delete s.onSelect,delete s.eventKey,delete s.activeKey,delete s.activeHref,s.role?"tab"===s.role&&(s["aria-selected"]=t):"#"===s.href&&(s.role="button"),p.a.createElement("li",{role:"presentation",className:y()(i,{active:t,disabled:n}),style:o},p.a.createElement(_e,a()({},s,{disabled:n,onClick:ge(r,this.handleClick)})))},t}(p.a.Component);Ti.propTypes=xi,Ti.defaultProps={active:!1,disabled:!1};var Si=Ti,ki=n(233),Oi=n.n(ki),Ai=a()({},Oi.a.propTypes,{show:_.a.bool,rootClose:_.a.bool,onHide:_.a.func,animation:_.a.oneOfType([_.a.bool,me.a]),onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,placement:_.a.oneOf(["top","right","bottom","left"])}),Ci={animation:on,rootClose:!1,show:!1,placement:"right"},Pi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.animation,r=t.children,i=g()(t,["animation","children"]),o=!0===n?on:n||null;return e=o?r:Object(d.cloneElement)(r,{className:y()(r.props.className,"in")}),p.a.createElement(Oi.a,a()({},i,{transition:o}),e)},t}(p.a.Component);Pi.propTypes=Ai,Pi.defaultProps=Ci;var Mi=Pi;function Ri(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var Ii=_.a.oneOf(["click","hover","focus"]),Di=a()({},Mi.propTypes,{trigger:_.a.oneOfType([Ii,_.a.arrayOf(Ii)]),delay:_.a.number,delayShow:_.a.number,delayHide:_.a.number,defaultOverlayShown:_.a.bool,overlay:_.a.node.isRequired,onBlur:_.a.func,onClick:_.a.func,onFocus:_.a.func,onMouseOut:_.a.func,onMouseOver:_.a.func,target:_.a.oneOf([null]),onHide:_.a.oneOf([null]),show:_.a.oneOf([null])}),Ni=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleDelayedShow=i.handleDelayedShow.bind(i),i.handleDelayedHide=i.handleDelayedHide.bind(i),i.handleHide=i.handleHide.bind(i),i.handleMouseOver=function(e){return i.handleMouseOverOut(i.handleDelayedShow,e,"fromElement")},i.handleMouseOut=function(e){return i.handleMouseOverOut(i.handleDelayedHide,e,"toElement")},i._mountNode=null,i.state={show:n.defaultOverlayShown},i}return h()(t,e),t.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.prototype.componentDidUpdate=function(){this.renderOverlay()},t.prototype.componentWillUnmount=function(){Ue.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.prototype.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout((function(){e._hoverHideDelay=null,e.hide()}),t):this.hide()}},t.prototype.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout((function(){e._hoverShowDelay=null,e.show()}),t):this.show()}},t.prototype.handleHide=function(){this.hide()},t.prototype.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,i=t.relatedTarget||t.nativeEvent[n];i&&i===r||At()(r,i)||e(t)},t.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},t.prototype.hide=function(){this.setState({show:!1})},t.prototype.makeOverlay=function(e,t){return p.a.createElement(Mi,a()({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.prototype.show=function(){this.setState({show:!0})},t.prototype.renderOverlay=function(){Ue.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.overlay,r=e.children,i=e.onBlur,o=e.onClick,a=e.onFocus,s=e.onMouseOut,l=e.onMouseOver,u=g()(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete u.delay,delete u.delayShow,delete u.delayHide,delete u.defaultOverlayShown;var c=p.a.Children.only(r),f=c.props,h={};return this.state.show&&(h["aria-describedby"]=n.props.id),h.onClick=ge(f.onClick,o),Ri("click",t)&&(h.onClick=ge(h.onClick,this.handleToggle)),Ri("hover",t)&&(h.onMouseOver=ge(f.onMouseOver,l,this.handleMouseOver),h.onMouseOut=ge(f.onMouseOut,s,this.handleMouseOut)),Ri("focus",t)&&(h.onFocus=ge(f.onFocus,a,this.handleDelayedShow),h.onBlur=ge(f.onBlur,i,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,u),Object(d.cloneElement)(c,h)},t}(p.a.Component);Ni.propTypes=Di,Ni.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var Li=Ni,Fi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=G(g()(e,["className","children"])),i=r[0],o=r[1],s=U(i);return p.a.createElement("div",a()({},o,{className:y()(t,s)}),p.a.createElement("h1",null,n))},t}(p.a.Component),ji=F("page-header",Fi),Bi={disabled:_.a.bool,previous:_.a.bool,next:_.a.bool,onClick:_.a.func,onSelect:_.a.func,eventKey:_.a.any},Ui=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i}return h()(t,e),t.prototype.handleSelect=function(e){var t=this.props,n=t.disabled,r=t.onSelect,i=t.eventKey;n?e.preventDefault():r&&r(i,e)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.previous,r=e.next,i=e.onClick,o=e.className,s=e.style,l=g()(e,["disabled","previous","next","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,p.a.createElement("li",{className:y()(o,{disabled:t,previous:n,next:r}),style:s},p.a.createElement(_e,a()({},l,{disabled:t,onClick:ge(i,this.handleSelect)})))},t}(p.a.Component);Ui.propTypes=Bi,Ui.defaultProps={disabled:!1,previous:!1,next:!1};var zi=Ui,Hi=n(167),Gi=n.n(Hi),Vi={};function $i(e,t,n){var r=void 0;"object"===(void 0===e?"undefined":Gi()(e))?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),Vi[r]||(Vi[r]=!0)}$i.wrapper=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentWillMount=function(){if($i.apply(void 0,n),e.prototype.componentWillMount){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=e.prototype.componentWillMount).call.apply(t,[this].concat(i))}},t}(e)};var Xi=$i.wrapper(zi,"`<PageItem>`","`<Pager.Item>`"),Wi={onSelect:_.a.func},Yi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,r=e.children,i=G(g()(e,["onSelect","className","children"])),o=i[0],s=i[1],l=U(o);return p.a.createElement("ul",a()({},s,{className:y()(n,l)}),Y.map(r,(function(e){return Object(d.cloneElement)(e,{onSelect:ge(e.props.onSelect,t)})})))},t}(p.a.Component);Yi.propTypes=Wi,Yi.Item=zi;var qi=F("pager",Yi),Ki={eventKey:_.a.any,className:_.a.string,onSelect:_.a.func,disabled:_.a.bool,active:_.a.bool,activeLabel:_.a.string.isRequired};function Zi(e){var t=e.active,n=e.disabled,r=e.className,i=e.style,o=e.activeLabel,s=e.children,l=g()(e,["active","disabled","className","style","activeLabel","children"]),u=t||n?"span":_e;return p.a.createElement("li",{style:i,className:y()(r,{active:t,disabled:n})},p.a.createElement(u,a()({disabled:n},l),s,t&&p.a.createElement("span",{className:"sr-only"},o)))}function Qi(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return r=n=function(e){function n(){return l()(this,n),c()(this,e.apply(this,arguments))}return h()(n,e),n.prototype.render=function(){var e=this.props,n=e.disabled,r=e.children,o=e.className,s=g()(e,["disabled","children","className"]),l=n?"span":_e;return p.a.createElement("li",a()({"aria-label":i,className:y()(o,{disabled:n})},s),p.a.createElement(l,null,r||t))},n}(p.a.Component),n.displayName=e,n.propTypes={disabled:_.a.bool},r}Zi.propTypes=Ki,Zi.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"};var Ji=Qi("First",""),eo=Qi("Prev",""),to=Qi("Ellipsis","","More"),no=Qi("Next",""),ro=Qi("Last",""),io=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=G(g()(e,["className","children"])),i=r[0],o=r[1],s=U(i);return p.a.createElement("ul",a()({},o,{className:y()(t,s)}),n)},t}(p.a.Component);F("pagination",io),io.First=Ji,io.Prev=eo,io.Ellipsis=to,io.Item=Zi,io.Next=no,io.Last=ro;var oo=io,ao=n(226),so=n.n(ao),lo={onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func},uo={$bs_panel:_.a.shape({headingId:_.a.string,bodyId:_.a.string,bsClass:_.a.string,expanded:_.a.bool})},co=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,r=t.bodyId,i=t.bsClass,o=t.expanded,s=G(this.props),l=s[0],u=s[1];return l.bsClass=i||l.bsClass,n&&r&&(u.id=r,u.role=u.role||"tabpanel",u["aria-labelledby"]=n),p.a.createElement(Tt,a()({in:o},u),p.a.createElement("div",{className:L(l,"collapse")},e))},t}(p.a.Component);co.propTypes=lo,co.contextTypes=uo;var fo=F("panel",co),ho={collapsible:_.a.bool.isRequired},po={$bs_panel:_.a.shape({bsClass:_.a.string})},mo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.collapsible,i=(this.context.$bs_panel||{}).bsClass,o=V(this.props,["collapsible"]),s=o[0],l=o[1];s.bsClass=i||s.bsClass;var u=p.a.createElement("div",a()({},l,{className:y()(n,L(s,"body"))}),t);return r&&(u=p.a.createElement(fo,null,u)),u},t}(p.a.Component);mo.propTypes=ho,mo.defaultProps={collapsible:!1},mo.contextTypes=po;var go=F("panel",mo),vo=n(119),yo=n.n(vo),bo={componentClass:yo.a},_o={$bs_panel:_.a.shape({headingId:_.a.string,bsClass:_.a.string})},Eo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.componentClass,i=g()(e,["children","className","componentClass"]),o=this.context.$bs_panel||{},s=o.headingId,l=o.bsClass,u=G(i),c=u[0],f=u[1];return c.bsClass=l||c.bsClass,s&&(f.role=f.role||"tab",f.id=s),p.a.createElement(r,a()({},f,{className:y()(n,L(c,"heading"))}),t)},t}(p.a.Component);Eo.propTypes=bo,Eo.defaultProps={componentClass:"div"},Eo.contextTypes=_o;var wo=F("panel",Eo),xo={onClick:_.a.func,componentClass:yo.a},To={componentClass:_e},So={$bs_panel:_.a.shape({bodyId:_.a.string,onToggle:_.a.func,expanded:_.a.bool})},ko=function(e){function t(){l()(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=c()(this,e.call.apply(e,[this].concat(r)));return o.handleToggle=o.handleToggle.bind(o),o}return h()(t,e),t.prototype.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.componentClass,i=g()(e,["onClick","className","componentClass"]),o=this.context.$bs_panel||{},a=o.expanded,s=o.bodyId,l=r;return i.onClick=ge(t,this.handleToggle),i["aria-expanded"]=a,i.className=y()(n,!a&&"collapsed"),s&&(i["aria-controls"]=s),p.a.createElement(l,i)},t}(p.a.Component);ko.propTypes=xo,ko.defaultProps=To,ko.contextTypes=So;var Oo=ko,Ao={componentClass:yo.a,toggle:_.a.bool},Co={$bs_panel:_.a.shape({bsClass:_.a.string})},Po=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.toggle,i=e.componentClass,o=g()(e,["children","className","toggle","componentClass"]),s=(this.context.$bs_panel||{}).bsClass,l=G(o),u=l[0],c=l[1];return u.bsClass=s||u.bsClass,r&&(t=p.a.createElement(Oo,null,t)),p.a.createElement(i,a()({},c,{className:y()(n,L(u,"title"))}),t)},t}(p.a.Component);Po.propTypes=Ao,Po.defaultProps={componentClass:"div"},Po.contextTypes=Co;var Mo=F("panel",Po),Ro={$bs_panel:_.a.shape({bsClass:_.a.string})},Io=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=(this.context.$bs_panel||{}).bsClass,i=G(this.props),o=i[0],s=i[1];return o.bsClass=r||o.bsClass,p.a.createElement("div",a()({},s,{className:y()(n,L(o,"footer"))}),t)},t}(p.a.Component);Io.contextTypes=Ro;var Do=F("panel",Io),No=Object.prototype.hasOwnProperty,Lo=function(e,t){return e?e+"--"+t:null},Fo={expanded:_.a.bool,onToggle:_.a.func,eventKey:_.a.any,id:_.a.string},jo={$bs_panelGroup:_.a.shape({getId:_.a.func,activeKey:_.a.any,onToggle:_.a.func})},Bo={$bs_panel:_.a.shape({headingId:_.a.string,bodyId:_.a.string,bsClass:_.a.string,onToggle:_.a.func,expanded:_.a.bool})},Uo=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleToggle=function(e){var t=r.context.$bs_panelGroup,n=!r.getExpanded();t&&t.onToggle?t.onToggle(r.props.eventKey,n,e):r.props.onToggle(n,e)},i=n,c()(r,i)}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.eventKey,n=e.id,r=null==t?n:t,i=void 0;if(null!==r){var o=this.context.$bs_panelGroup,s=o&&o.getId||Lo;i={headingId:s(r,"heading"),bodyId:s(r,"body")}}return{$bs_panel:a()({},i,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},t.prototype.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&No.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=V(this.props,["onToggle","eventKey","expanded"]),i=r[0],o=r[1];return p.a.createElement("div",a()({},o,{className:y()(t,U(i))}),n)},t}(p.a.Component);Uo.propTypes=Fo,Uo.contextTypes=jo,Uo.childContextTypes=Bo;var zo=w()(F("panel",j([].concat(ie()(M),[R,I]),R,Uo)),{expanded:"onToggle"});so()(zo,{Heading:wo,Title:Mo,Body:go,Footer:Do,Toggle:Oo,Collapse:fo});var Ho=zo,Go={id:Rt()(_.a.oneOfType([_.a.string,_.a.number])),placement:_.a.oneOf(["top","right","bottom","left"]),positionTop:_.a.oneOfType([_.a.number,_.a.string]),positionLeft:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetTop:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetLeft:_.a.oneOfType([_.a.number,_.a.string]),title:_.a.node},Vo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,s=t.arrowOffsetLeft,l=t.title,u=t.className,c=t.style,f=t.children,h=G(g()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),d=h[0],m=h[1],v=a()({},U(d),((e={})[n]=!0,e)),b=a()({display:"block",top:r,left:i},c),_={top:o,left:s};return p.a.createElement("div",a()({},m,{role:"tooltip",className:y()(u,v),style:b}),p.a.createElement("div",{className:"arrow",style:_}),l&&p.a.createElement("h3",{className:L(d,"title")},l),p.a.createElement("div",{className:L(d,"content")},f))},t}(p.a.Component);Vo.propTypes=Go,Vo.defaultProps={placement:"right"};var $o=F("popover",Vo),Xo={min:_.a.number,now:_.a.number,max:_.a.number,label:_.a.node,srOnly:_.a.bool,striped:_.a.bool,active:_.a.bool,children:function(e,t,n){var r=e[t];if(!r)return null;var i=null;return p.a.Children.forEach(r,(function(e){if(!i&&e.type!==Yo){var t=p.a.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;i=new Error("Children of "+n+" can contain only ProgressBar components. Found "+t+".")}})),i},isChild:_.a.bool};function Wo(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}var Yo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.renderProgressBar=function(e){var t,n=e.min,r=e.now,i=e.max,o=e.label,s=e.srOnly,l=e.striped,u=e.active,c=e.className,f=e.style,h=G(g()(e,["min","now","max","label","srOnly","striped","active","className","style"])),d=h[0],m=h[1],v=a()({},U(d),((t={active:u})[L(d,"striped")]=u||l,t));return p.a.createElement("div",a()({},m,{role:"progressbar",className:y()(c,v),style:a()({width:Wo(r,n,i)+"%"},f),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i}),s?p.a.createElement("span",{className:"sr-only"},o):o)},t.prototype.render=function(){var e=this.props,t=e.isChild,n=g()(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,s=n.label,l=n.srOnly,u=n.striped,c=n.active,f=n.bsClass,h=n.bsStyle,m=n.className,v=n.children,b=g()(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return p.a.createElement("div",a()({},b,{className:y()(m,"progress")}),v?Y.map(v,(function(e){return Object(d.cloneElement)(e,{isChild:!0})})):this.renderProgressBar({min:r,now:i,max:o,label:s,srOnly:l,striped:u,active:c,bsClass:f,bsStyle:h}))},t}(p.a.Component);Yo.propTypes=Xo,Yo.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};var qo=F("progress-bar",j(ie()(M),Yo)),Ko={inline:_.a.bool,disabled:_.a.bool,title:_.a.string,validationState:_.a.oneOf(["success","warning","error",null]),inputRef:_.a.func},Zo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,s=e.style,l=e.title,u=e.children,c=G(g()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],h=c[1],d=p.a.createElement("input",a()({},h,{ref:i,type:"radio",disabled:n}));if(t){var m,v=((m={})[L(f,"inline")]=!0,m.disabled=n,m);return p.a.createElement("label",{className:y()(o,v),style:s,title:l},d,u)}var b=a()({},U(f),{disabled:n});return r&&(b["has-"+r]=!0),p.a.createElement("div",{className:y()(o,b),style:s},p.a.createElement("label",{title:l},d,u))},t}(p.a.Component);Zo.propTypes=Ko,Zo.defaultProps={inline:!1,disabled:!1,title:""};var Qo=F("radio",Zo),Jo={children:_.a.element.isRequired,a16by9:_.a.bool,a4by3:_.a.bool},ea=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,r=t.a4by3,i=t.className,o=t.children,s=G(g()(t,["a16by9","a4by3","className","children"])),l=s[0],u=s[1],c=a()({},U(l),((e={})[L(l,"16by9")]=n,e[L(l,"4by3")]=r,e));return p.a.createElement("div",{className:y()(c)},Object(d.cloneElement)(o,a()({},u,{className:y()(i,L(l,"item"))})))},t}(p.a.Component);ea.propTypes=Jo,ea.defaultProps={a16by9:!1,a4by3:!1};var ta=F("embed-responsive",ea),na={componentClass:me.a},ra=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=G(g()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);ra.propTypes=na,ra.defaultProps={componentClass:"div"};var ia=F("row",ra),oa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){return p.a.createElement(Ht,a()({},this.props,{useAnchor:!1,noCaret:!1}))},t}(p.a.Component);oa.defaultProps=Ht.defaultProps;var aa=oa,sa=a()({},qt.propTypes,{bsStyle:_.a.string,bsSize:_.a.string,href:_.a.string,onClick:_.a.func,title:_.a.node.isRequired,toggleLabel:_.a.string,children:_.a.node}),la=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.toggleLabel,o=e.children,s=g()(e,["bsSize","bsStyle","title","toggleLabel","children"]),l=Kt(s,qt.ControlledComponent),u=l[0],c=l[1];return p.a.createElement(qt,a()({},u,{bsSize:t,bsStyle:n}),p.a.createElement(Ae,a()({},c,{disabled:s.disabled,bsSize:t,bsStyle:n}),r),p.a.createElement(aa,{"aria-label":i||r,bsSize:t,bsStyle:n}),p.a.createElement(qt.Menu,null,o))},t}(p.a.Component);la.propTypes=sa,la.Toggle=aa;var ua=la,ca=_.a.oneOfType([_.a.string,_.a.number]),fa={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=ca.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:_.a.func,onSelect:_.a.func,activeKey:_.a.any},ha={$bs_tabContainer:_.a.shape({activeKey:_.a.any,onSelect:_.a.func.isRequired,getTabId:_.a.func.isRequired,getPaneId:_.a.func.isRequired})},da=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,i=e.id,o=r||function(e,t){return i?i+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return o(e,"tab")},getPaneId:function(e){return o(e,"pane")}}}},t.prototype.render=function(){var e=this.props,t=e.children,n=g()(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,p.a.cloneElement(p.a.Children.only(t),n)},t}(p.a.Component);da.propTypes=fa,da.childContextTypes=ha;var pa=w()(da,{activeKey:"onSelect"}),ma={componentClass:me.a,animation:_.a.oneOfType([_.a.bool,me.a]),mountOnEnter:_.a.bool,unmountOnExit:_.a.bool},ga={$bs_tabContainer:_.a.shape({activeKey:_.a.any})},va={$bs_tabContent:_.a.shape({bsClass:_.a.string,animation:_.a.oneOfType([_.a.bool,me.a]),activeKey:_.a.any,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,onPaneEnter:_.a.func.isRequired,onPaneExited:_.a.func.isRequired,exiting:_.a.bool.isRequired})},ya=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handlePaneEnter=i.handlePaneEnter.bind(i),i.handlePaneExited=i.handlePaneExited.bind(i),i.state={activeKey:null,activeChild:null},i}return h()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,r=e.mountOnEnter,i=e.unmountOnExit,o=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=o&&o!==a;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=o?o:a,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:s}}},t.prototype.componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.prototype.handlePaneEnter=function(e,t){return!!this.props.animation&&t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0)},t.prototype.handlePaneExited=function(e){this.isUnmounted||this.setState((function(t){return t.activeChild!==e?null:{activeKey:null,activeChild:null}}))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=V(g()(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),i=r[0],o=r[1];return p.a.createElement(t,a()({},o,{className:y()(n,L(i,"content"))}))},t}(p.a.Component);ya.propTypes=ma,ya.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},ya.contextTypes=ga,ya.childContextTypes=va;var ba=F("tab",ya),_a={eventKey:_.a.any,animation:_.a.oneOfType([_.a.bool,me.a]),id:_.a.string,"aria-labelledby":_.a.string,bsClass:_.a.string,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool},Ea={$bs_tabContainer:_.a.shape({getTabId:_.a.func,getPaneId:_.a.func}),$bs_tabContent:_.a.shape({bsClass:_.a.string,animation:_.a.oneOfType([_.a.bool,me.a]),activeKey:_.a.any,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,onPaneEnter:_.a.func.isRequired,onPaneExited:_.a.func.isRequired,exiting:_.a.bool.isRequired})},wa={$bs_tabContainer:_.a.oneOf([null])},xa=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleExited=i.handleExited.bind(i),i.in=!1,i}return h()(t,e),t.prototype.getChildContext=function(){return{$bs_tabContainer:null}},t.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},t.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.prototype.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.prototype.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.prototype.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},t.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.prototype.render=function(){var e=this.props,t=e.eventKey,n=e.className,r=e.onEnter,i=e.onEntering,o=e.onEntered,s=e.onExit,l=e.onExiting,u=e.onExited,c=e.mountOnEnter,f=e.unmountOnExit,h=g()(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),d=this.context,m=d.$bs_tabContent,v=d.$bs_tabContainer,b=V(h,["animation"]),_=b[0],E=b[1],w=this.isActive(),x=this.getAnimation(),T=null!=c?c:m&&m.mountOnEnter,S=null!=f?f:m&&m.unmountOnExit;if(!w&&!x&&S)return null;var k=!0===x?on:x||null;m&&(_.bsClass=L(m,"pane"));var O=a()({},U(_),{active:w});v&&(E.id=v.getPaneId(t),E["aria-labelledby"]=v.getTabId(t));var A=p.a.createElement("div",a()({},E,{role:"tabpanel","aria-hidden":!w,className:y()(n,O)}));if(k){var C=m&&m.exiting;return p.a.createElement(k,{in:w&&!C,onEnter:ge(this.handleEnter,r),onEntering:i,onEntered:o,onExit:s,onExiting:l,onExited:ge(this.handleExited,u),mountOnEnter:T,unmountOnExit:S},A)}return A},t}(p.a.Component);xa.propTypes=_a,xa.contextTypes=Ea,xa.childContextTypes=wa;var Ta=F("tab-pane",xa),Sa=a()({},Ta.propTypes,{disabled:_.a.bool,title:_.a.node,tabClassName:_.a.string}),ka=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=a()({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,p.a.createElement(Ta,e)},t}(p.a.Component);ka.propTypes=Sa,ka.Container=pa,ka.Content=ba,ka.Pane=Ta;var Oa=ka,Aa={striped:_.a.bool,bordered:_.a.bool,condensed:_.a.bool,hover:_.a.bool,responsive:_.a.bool},Ca=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,r=t.bordered,i=t.condensed,o=t.hover,s=t.responsive,l=t.className,u=G(g()(t,["striped","bordered","condensed","hover","responsive","className"])),c=u[0],f=u[1],h=a()({},U(c),((e={})[L(c,"striped")]=n,e[L(c,"bordered")]=r,e[L(c,"condensed")]=i,e[L(c,"hover")]=o,e)),d=p.a.createElement("table",a()({},f,{className:y()(l,h)}));return s?p.a.createElement("div",{className:L(c,"responsive")},d):d},t}(p.a.Component);Ca.propTypes=Aa,Ca.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1};var Pa=F("table",Ca),Ma=pa.ControlledComponent,Ra={activeKey:_.a.any,bsStyle:_.a.oneOf(["tabs","pills"]),animation:_.a.bool,id:Rt()(_.a.oneOfType([_.a.string,_.a.number])),onSelect:_.a.func,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool},Ia=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.renderTab=function(e){var t=e.props,n=t.title,r=t.eventKey,i=t.disabled,o=t.tabClassName;return null==n?null:p.a.createElement(Si,{eventKey:r,disabled:i,className:o},n)},t.prototype.render=function(){var e,t,n=this.props,r=n.id,i=n.onSelect,o=n.animation,s=n.mountOnEnter,l=n.unmountOnExit,u=n.bsClass,c=n.className,f=n.style,h=n.children,d=n.activeKey,m=void 0===d?(e=h,t=void 0,Y.forEach(e,(function(e){null==t&&(t=e.props.eventKey)})),t):d,v=g()(n,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return p.a.createElement(Ma,{id:r,activeKey:m,onSelect:i,className:c,style:f},p.a.createElement("div",null,p.a.createElement(ei,a()({},v,{role:"tablist"}),Y.map(h,this.renderTab)),p.a.createElement(ba,{bsClass:u,animation:o,mountOnEnter:s,unmountOnExit:l},h)))},t}(p.a.Component);Ia.propTypes=Ra,Ia.defaultProps={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},F("tab",Ia);var Da=w()(Ia,{activeKey:"onSelect"}),Na={src:_.a.string,alt:_.a.string,href:_.a.string,onError:_.a.func,onLoad:_.a.func},La=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,r=e.onError,i=e.onLoad,o=e.className,s=e.children,l=G(g()(e,["src","alt","onError","onLoad","className","children"])),u=l[0],c=l[1],f=c.href?_e:"div",h=U(u);return p.a.createElement(f,a()({},c,{className:y()(o,h)}),p.a.createElement("img",{src:t,alt:n,onError:r,onLoad:i}),s&&p.a.createElement("div",{className:"caption"},s))},t}(p.a.Component);La.propTypes=Na;var Fa=F("thumbnail",La),ja={type:_.a.oneOf(["checkbox","radio"]),name:_.a.string,checked:_.a.bool,disabled:_.a.bool,onChange:_.a.func,value:_.a.any.isRequired},Ba=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=e.checked,i=e.type,o=e.onChange,s=e.value,l=g()(e,["children","name","checked","type","onChange","value"]),u=l.disabled;return p.a.createElement(Ae,a()({},l,{active:!!r,componentClass:"label"}),p.a.createElement("input",{name:n,type:i,autoComplete:"off",value:s,checked:!!r,disabled:!!u,onChange:o}),t)},t}(p.a.Component);Ba.propTypes=ja;var Ua=Ba,za={name:_.a.string,value:_.a.any,onChange:_.a.func,type:_.a.oneOf(["checkbox","radio"]).isRequired},Ha=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},t.prototype.handleToggle=function(e){var t=this.props,n=t.type,r=t.onChange,i=this.getValues(),o=-1!==i.indexOf(e);"radio"!==n?r(o?i.filter((function(t){return t!==e})):[].concat(i,[e])):o||r(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.type,i=t.name,o=g()(t,["children","type","name"]),s=this.getValues();return"radio"!==r||i||k()(!1),delete o.onChange,delete o.value,p.a.createElement(Ie,a()({},o,{"data-toggle":"buttons"}),Y.map(n,(function(t){var n=t.props,o=n.value,a=n.onChange;return p.a.cloneElement(t,{type:r,name:t.name||i,checked:-1!==s.indexOf(o),onChange:ge(a,(function(){return e.handleToggle(o)}))})})))},t}(p.a.Component);Ha.propTypes=za,Ha.defaultProps={type:"radio"};var Ga=w()(Ha,{value:"onChange"});Ga.Button=Ua;var Va=Ga,$a={id:Rt()(_.a.oneOfType([_.a.string,_.a.number])),placement:_.a.oneOf(["top","right","bottom","left"]),positionTop:_.a.oneOfType([_.a.number,_.a.string]),positionLeft:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetTop:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetLeft:_.a.oneOfType([_.a.number,_.a.string])},Xa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,s=t.arrowOffsetLeft,l=t.className,u=t.style,c=t.children,f=G(g()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),h=f[0],d=f[1],m=a()({},U(h),((e={})[n]=!0,e)),v=a()({top:r,left:i},u),b={top:o,left:s};return p.a.createElement("div",a()({},d,{role:"tooltip",className:y()(l,m),style:v}),p.a.createElement("div",{className:L(h,"arrow"),style:b}),p.a.createElement("div",{className:L(h,"inner")},c))},t}(p.a.Component);Xa.propTypes=$a,Xa.defaultProps={placement:"right"};var Wa=F("tooltip",Xa),Ya=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=G(g()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("div",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),qa=F("well",B([O,A],Ya))},function(e,t,n){n.r(t),n.d(t,"GoslingTemplates",(function(){return v})),n.d(t,"GoslingSchema",(function(){return i})),n.d(t,"ThemeSchema",(function(){return o})),n.d(t,"name",(function(){return st})),n.d(t,"version",(function(){return lt})),n.d(t,"init",(function(){return Ie})),n.d(t,"compile",(function(){return He})),n.d(t,"validateGoslingSpec",(function(){return je.c})),n.d(t,"GoslingComponent",(function(){return rt})),n.d(t,"embed",(function(){return at}));var r=n(230),i=n(157),o=n(237),a=n(70),s=n.n(a),l=n(7),u=n(29),c=n.n(u),f=n(31),h=n(47),d=n(27);function p(e,t){const n=e?JSON.parse(JSON.stringify(e)):{};return t?Object(d.assign)(n,t):n}function m(e,t){"tracks"in e?e.tracks.forEach(((...e)=>t(...e))):e.views.forEach((e=>m(e,t)))}function g(e,t){if(t?(void 0===e.assembly&&(e.assembly=t.assembly),void 0===e.layout&&(e.layout=t.layout),void 0===e.orientation&&(e.orientation=t.orientation),void 0===e.static&&(e.static=void 0!==t.static&&t.static),void 0===e.xDomain&&(e.xDomain=t.xDomain),void 0===e.linkingId&&(e.linkingId=t.linkingId),void 0===e.centerRadius&&(e.centerRadius=t.centerRadius),void 0!==e.spacing||"tracks"in e||(e.spacing=t.spacing),void 0===e.xOffset&&(e.xOffset=t.xOffset),void 0===e.yOffset&&(e.yOffset=t.yOffset),"views"in e&&"arrangement"in t&&void 0===e.arrangement&&(e.arrangement=t.arrangement),e.style=p(t.style,e.style)):(void 0===e.assembly&&(e.assembly="hg38"),void 0===e.layout&&(e.layout="linear"),void 0===e.orientation&&(e.orientation="horizontal"),void 0===e.static&&(e.static=!1),void 0===e.centerRadius&&(e.centerRadius=f.c),void 0===e.spacing&&(e.spacing=f.f),"views"in e&&void 0===e.arrangement&&(e.arrangement="vertical"),void 0===e.xOffset&&(e.xOffset=0),void 0===e.yOffset&&(e.yOffset=0)),"tracks"in e){let t=function(e){if(Object(l.m)(e)){const t=JSON.parse(JSON.stringify(e));return delete t.tracks,e.tracks.filter((e=>!e._invalidTrack)).map((e=>s()(JSON.parse(JSON.stringify(t)),e)))}const t=[];return Object(l.w)(e)?e.tracks.filter((e=>!e._invalidTrack)).map((n=>{if("alignment"in n)t.push(Object.assign(Object.assign({},n),{overlay:[...n.tracks],tracks:void 0,alignment:void 0}));else{const r=JSON.parse(JSON.stringify(e));delete r.tracks;const i=s()(JSON.parse(JSON.stringify(r)),n);t.push(i)}})):t.push(Object.assign(Object.assign({},e),{overlay:[...e.tracks.filter((e=>!e._invalidTrack))],tracks:void 0,alignment:void 0})),JSON.parse(JSON.stringify(t))}(e);t=Object(h.b)(t);const n=c.a.v4();t.forEach(((r,i,o)=>{var a,s,u;if(r.width||(r.width=f.e),r.height||(r.height=f.d),"displacement"in r)if("pile"===(null===(a=r.displacement)||void 0===a?void 0:a.type)&&void 0===r.row&&Object(l.b)(r.x)&&r.x.field&&Object(l.b)(r.xe)&&r.xe.field){const e=c.a.v4(),t={type:"displace",newField:e,boundingBox:{startField:r.x.field,endField:r.xe.field,padding:r.displacement.padding},method:"pile"};r.dataTransform||(r.dataTransform=[]),r.dataTransform=[...r.dataTransform,t],r.row={field:e,type:"nominal"}}else null===(s=r.displacement)||void 0===s||s.type;if(r.layout&&(r.layout=void 0),r.assembly||(r.assembly=e.assembly),r.layout||(r.layout=e.layout),r.orientation||(r.orientation=e.orientation),void 0===r.static&&(r.static=void 0!==e.static&&e.static),r.style=p(e.style,r.style),Object(l.p)(r)&&r.overlay.forEach((e=>{e.style=p(r.style,e.style)})),"circular"!==r.layout&&!Object(l.a)(r)||"vertical"!==r.orientation||(r.orientation="horizontal"),Object(l.a)(r)&&(r.layout="linear"),(Object(l.t)(r)||Object(l.p)(r))&&Object(l.b)(r.x)&&!r.x.domain?r.x.domain=e.xDomain:Object(l.p)(r)&&r.overlay.forEach((t=>{Object(l.b)(t.x)&&!t.x.domain&&(t.x.domain=e.xDomain)})),(Object(l.t)(r)||Object(l.p)(r))&&Object(l.b)(r.x)&&!r.x.linkingId)r.x.linkingId=null!==(u=e.linkingId)&&void 0!==u?u:n;else if(Object(l.p)(r)){let t=!1;r.overlay.forEach((r=>{var i;t||Object(l.b)(r.x)&&!r.x.linkingId&&(r.x.linkingId=null!==(i=e.linkingId)&&void 0!==i?i:n,t=!0)}))}0===i&&(r.overlayOnPreviousTrack=!1),(0===i||0!==i&&1===t.slice(0,i).filter((e=>!e.overlayOnPreviousTrack)).length&&!0===r.overlayOnPreviousTrack)&&((Object(l.t)(r)||Object(l.p)(r))&&Object(l.b)(r.x)&&!r.x.axis?"vertical"===r.orientation?r.x.axis="left":r.x.axis="top":Object(l.p)(r)&&r.overlay.forEach((e=>{Object(l.b)(e.x)&&!e.x.axis&&("vertical"===r.orientation?e.x.axis="left":e.x.axis="top")}))),(Object(l.t)(r)||Object(l.p)(r))&&Object(l.b)(r.x)&&r.x.axis&&"none"!==r.x.axis?"vertical"===r.orientation?"top"===r.x.axis?r.x.axis="left":"bottom"===r.x.axis&&(r.x.axis="right"):"left"===r.x.axis?r.x.axis="top":"right"===r.x.axis&&(r.x.axis="bottom"):Object(l.p)(r)&&r.overlay.forEach((e=>{Object(l.b)(e.x)&&e.x.axis&&"none"!==e.x.axis&&("vertical"===r.orientation?"top"===e.x.axis?e.x.axis="left":"bottom"===e.x.axis&&(e.x.axis="right"):"left"===e.x.axis?e.x.axis="top":"right"===e.x.axis&&(e.x.axis="bottom"))})),0!==i&&(i===o.length-1&&o.slice(0,i+1).filter((e=>e.overlayOnPreviousTrack)).length<i||i!==o.length-1&&o.slice(i+1).filter((e=>e.overlayOnPreviousTrack)).length===o.length-i-1&&o.slice(0,i+1).filter((e=>e.overlayOnPreviousTrack)).length<i)&&(Object(l.t)(r)&&"withinLink"===r.mark&&void 0===r.flipY?r.flipY=!0:Object(l.p)(r)&&("withinLink"===r.mark&&void 0===r.flipY&&(r.flipY=!0),r.overlay.forEach((e=>{"withinLink"===e.mark&&void 0===e.flipY&&(e.flipY=!0)})))),r.overlayOnPreviousTrack&&o[i-1]&&(r.width=o[i-1].width,r.height=o[i-1].height,r.layout=o[i-1].layout,r.assembly=o[i-1].assembly)})),e.tracks=t}else e.views.forEach((t=>{g(t,e)}))}const v=[{name:"gene",channels:[{name:"startPosition",type:"genomic",required:!0},{name:"endPosition",type:"genomic",required:!0},{name:"strandColor",type:"nominal",required:!0},{name:"strandRow",type:"nominal",required:!0},{name:"opacity",type:"value",required:!1},{name:"geneHeight",type:"value",required:!1},{name:"geneLabel",type:"nominal",required:!0},{name:"geneLabelColor",type:"nominal",required:!0},{name:"geneLabelFontSize",type:"value",required:!1},{name:"geneLabelStroke",type:"value",required:!1},{name:"geneLabelStrokeThickness",type:"value",required:!1},{name:"geneLabelOpacity",type:"value",required:!1},{name:"type",type:"nominal",required:!0}],mapping:[{dataTransform:[{type:"filter",base:"type",oneOf:["gene"]},{type:"filter",base:"strandColor",oneOf:["-"]}],mark:"triangleLeft",x:{base:"startPosition",type:"genomic"},size:{base:"geneHeight",value:12},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"strandColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:.4},style:{align:"right"}},{dataTransform:[{type:"filter",base:"type",oneOf:["gene"]},{type:"filter",base:"strandColor",oneOf:["+"]}],mark:"triangleRight",x:{base:"endPosition",type:"genomic"},size:{base:"geneHeight",value:12},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"strandColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:.4},style:{align:"left"}},{dataTransform:[{type:"filter",base:"type",oneOf:["exon"]}],mark:"rect",x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},size:{base:"geneHeight",value:12},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"strandColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:.4}},{dataTransform:[{type:"filter",base:"type",oneOf:["gene"]},{type:"filter",base:"strandColor",oneOf:["+"]}],mark:"rect",x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"strandColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:.4},size:{value:3}},{dataTransform:[{type:"filter",base:"type",oneOf:["gene"]},{type:"filter",base:"strandColor",oneOf:["-"]}],mark:"rect",x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"strandColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:.4},size:{value:3}},{dataTransform:[{type:"filter",base:"type",oneOf:["gene"]}],mark:"text",text:{base:"geneLabel",type:"nominal"},x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},row:{base:"strandRow",type:"nominal",domain:["+","-"]},color:{base:"geneLabelColor",type:"nominal",domain:["+","-"],range:["blue","red"]},opacity:{base:"opacity",value:1},size:{base:"geneLabelFontSize",value:18},stroke:{base:"geneLabelStroke",value:"white"},strokeWidth:{base:"geneLabelStrokeThickness",value:2},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}]}]},{name:"ideogram",channels:[{name:"startPosition",type:"genomic",required:!0},{name:"endPosition",type:"genomic",required:!0},{name:"chrHeight",type:"value",required:!1},{name:"name",type:"nominal",required:!0},{name:"stainBackgroundColor",type:"nominal",required:!0},{name:"stainLabelColor",type:"nominal",required:!0},{name:"stainStroke",type:"value",required:!1},{name:"stainStrokeWidth",type:"value",required:!1}],mapping:[{mark:"rect",dataTransform:[{type:"filter",base:"stainBackgroundColor",oneOf:["acen"],not:!0}],color:{base:"stainBackgroundColor",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar","acen"],range:["white","lightgray","gray","gray","black","#7B9CC8","#DC4542"]},size:{base:"chrHeight",value:18},x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},stroke:{base:"stainStroke",value:"gray"},strokeWidth:{base:"stainStrokeWidth",value:.3}},{mark:"triangleRight",dataTransform:[{type:"filter",base:"stainBackgroundColor",oneOf:["acen"]},{type:"filter",base:"name",include:"q"}],color:{base:"stainBackgroundColor",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar","acen"],range:["white","lightgray","gray","gray","black","#7B9CC8","#DC4542"]},size:{base:"chrHeight",value:18},x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},stroke:{base:"stainStroke",value:"gray"},strokeWidth:{base:"stainStrokeWidth",value:.3}},{mark:"triangleLeft",dataTransform:[{type:"filter",base:"stainBackgroundColor",oneOf:["acen"]},{type:"filter",base:"name",include:"p"}],color:{base:"stainBackgroundColor",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar","acen"],range:["white","lightgray","gray","gray","black","#7B9CC8","#DC4542"]},size:{base:"chrHeight",value:18},x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},stroke:{base:"stainStroke",value:"gray"},strokeWidth:{base:"stainStrokeWidth",value:.3}},{mark:"text",dataTransform:[{type:"filter",base:"stainLabelColor",oneOf:["acen"],not:!0}],color:{base:"stainLabelColor",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar"],range:["black","black","black","black","white","black"]},text:{base:"name",type:"nominal"},x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}]}]},{name:"sequence",channels:[{name:"startPosition",type:"genomic",required:!0},{name:"endPosition",type:"genomic",required:!0},{name:"barLength",type:"quantitative",required:!0},{name:"baseBackground",type:"nominal",required:!0},{name:"baseLabelColor",type:"nominal",required:!0},{name:"baseLabelFontSize",type:"value",required:!1}],mapping:[{mark:"bar",x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},y:{base:"barLength",type:"quantitative",axis:"none"},color:{base:"baseBackground",type:"nominal",domain:["A","T","G","C"]}},{dataTransform:[{type:"filter",base:"barLength",oneOf:[0],not:!0}],mark:"text",x:{base:"startPosition",type:"genomic"},xe:{base:"endPosition",type:"genomic"},color:{base:"baseLabelColor",type:"nominal",domain:["A","T","G","C"],range:["white"]},text:{base:"baseBackground",type:"nominal"},size:{base:"baseLabelFontSize",value:18},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:30,target:"mark"},{operation:"LT",measure:"zoomLevel",threshold:10,target:"track"}]}]}];window.higlassTracks=window.higlassTracks||{},window.higlassTracksByType=window.higlassTracksByType||{},window.higlassDataFetchersByType=window.higlassDataFetchersByType||{};const y=()=>Math.random().toString(36).substring(2,8);var b=(e,t={})=>{const{pluginType:n="track"}=t;"track"===n?((e,{force:t=!1}={})=>{let n=y();for(;window.higlassTracks[n];)n=y();e.name=n,window.higlassTracks[e.name]=e,window.higlassTracksByType[e.config.type]&&!t?console.warn(`A track with the same type (${e.config.type}) was already registered. To override it, set force to true.`):window.higlassTracksByType[e.config.type]=e})(e,t):"dataFetcher"===n&&((e,{force:t=!1}={})=>{window.higlassDataFetchersByType[e.config.type]&&!t?console.warn(`A data fetcher with the same type (${e.config.type}) was already registered. To override it, set force to true.`):window.higlassDataFetchersByType[e.config.type]=e})(e,t)},_=n(295),E=n.n(_),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataConfig=t}return w(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1;var t={tile_size:1024,bins_per_dimension:1024,max_zoom:22,max_width:1024*Math.pow(2,22),min_pos:[0],max_pos:[3e9]};return e&&e(t),t}},{key:"fetchTilesDebounced",value:function(e,t){return{}}},{key:"tile",value:function(e,t){return this.tilesetInfo().then((function(e){return[]}))}}]),e}(),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');e.services.tileProxy;var i=e.utils.colorToHex,o=function(t){function n(e,t){S(this,n),e.dataFetcher=new x(e.dataConfig);var r=k(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t)),i=e.animate;return r.animate=i,r.isTrackShownVertically="left"===e.definition.position||"right"===e.definition.position,r.options=t,r.initOptions(),r}return O(n,t),T(n,[{key:"initTile",value:function(e){}},{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.colors={},this.colors.textColor=i(this.options.textColor),this.colors.black=i("#000000"),this.colors.white=i("#ffffff"),this.colors.lightgrey=i("#ededed"),this.text=this.options.text,this.textOptions={fontSize:this.fontSize+"px",fontFamily:this.options.fontFamily,fontWeight:this.options.fontWeight,fill:this.colors.textColor}}},{key:"drawTile",value:function(){}},{key:"rerender",value:function(e,t){var n=JSON.stringify(e);(t||n!==this.prevOptions)&&(this.options=e,this.initOptions(),this.prevOptions=n,this.renderText(),requestAnimationFrame(this.animate))}},{key:"drawTile",value:function(e){}},{key:"renderTile",value:function(e){}},{key:"draw",value:function(){}},{key:"renderText",value:function(){this.pForeground.clear(),this.pForeground.removeChildren();var t=new e.libraries.PIXI.Text(this.text,this.textOptions);t.interactive=!0,t.anchor.x=0,t.anchor.y=0,t.visible=!0,t.y=this.options.offsetY,t.x=5,this.isTrackShownVertically?"right"===this.options.align?(t.anchor.x=1,t.scale.x*=-1,this.svgAnchor="end"):"middle"===this.options.align?(t.anchor.x=.5,t.scale.x*=-1,t.x=this.dimensions[0]/2,this.svgAnchor="middle"):"left"===this.options.align&&(t.anchor.x=0,t.scale.x*=-1,t.x=this.dimensions[0]-5,this.svgAnchor="start"):"left"===this.options.align?(t.anchor.x=0,t.x=5,this.svgAnchor="start"):"middle"===this.options.align?(t.anchor.x=.5,t.x=this.dimensions[0]/2,this.svgAnchor="middle"):"right"===this.options.align&&(t.anchor.x=1,t.x=this.dimensions[0]-5,this.svgAnchor="end"),this.svgX=t.x,this.pForeground.addChild(t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}},{key:"destroyTile",value:function(e){e.graphics.destroy(),e=null}},{key:"getMouseOverHtml",value:function(e,t){}},{key:"exportSVG",value:function(){var e,t=null;t=e=document.createElement("g");var n=E.a.nice(),r=document.createElement("g");r.setAttribute("style","clip-path:url(#"+n+");"),t.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","clipPath");i.setAttribute("id",n),t.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");i.appendChild(o),o.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+(this.position[1]+this.dimensions[1])+" "+this.position[0]+","+(this.position[1]+this.dimensions[1])+" ");var a=document.createElement("g");a.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),r.appendChild(a);var s=document.createElement("g"),l=document.createElement("path"),u="M 0 0 H "+this.dimensions[0]+" V "+this.dimensions[1]+" H 0 Z";l.setAttribute("d",u),l.setAttribute("fill",this.options.backgroundColor),l.setAttribute("opacity","1"),s.appendChild(l),a.appendChild(s);var c=document.createElement("g"),f=document.createElement("text");f.setAttribute("text-anchor",this.svgAnchor),f.setAttribute("font-family",this.options.fontFamily),f.setAttribute("font-size",this.fontSize+"px"),f.setAttribute("font-weight",this.options.fontWeight),c.setAttribute("transform","scale(1,1)"),f.setAttribute("fill",this.options.textColor),f.innerHTML=this.options.text;var h=this.isTrackShownVertically?-1:1;return c.appendChild(f),c.setAttribute("transform","translate("+this.svgX+","+(this.options.offsetY+this.fontSize)+")scale("+h+",1)"),a.appendChild(c),[e,e]}}]),n}(e.tracks.BedLikeTrack);return new(Function.prototype.bind.apply(o,[null].concat(n)))};A.config={type:"text",datatype:["bedlike"],local:!1,orientation:"1d-horizontal",thumbnail:(new DOMParser).parseFromString('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>',"text/xml").documentElement,availableOptions:["backgroundColor","textColor","fontSize","fontWeight","offsetY","align","text"],defaultOptions:{backgroundColor:"#ededed",textColor:"#333333",fontSize:14,fontFamily:"Arial",fontWeight:"normal",align:"left",offsetY:0,text:""}};var C=A,P=n(296),M=n.n(P),R=n(98),I=n(543),D=n(533),N=n(17),L=n(11),F=n(43);function j(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');const{absToChr:n,colorToHex:r,pixiTextToSvg:i,showMousePosition:o,svgLine:a}=e.utils;class s extends e.tracks.PixiTrack{constructor(t){super(...t);const[n,i]=t,{dataConfig:a,animate:s,chromInfoPath:l,isShowGlobalMousePosition:u}=n;this.searchField=null,this.chromInfo=null,this.dataConfig=a,this.pTicksCircular=new e.libraries.PIXI.Graphics,this.pTicks=new e.libraries.PIXI.Graphics,this.pMain.addChild(this.pTicks),this.pMain.addChild(this.pTicksCircular),this.gTicks={},this.tickTexts={},this.options=i,this.isShowGlobalMousePosition=u,this.textFontSize=12,this.textFontFamily="sans-serif",this.textFontWeight="normal",this.textFontColor="#808080",this.textStrokeColor="#ffffff",this.pixiTextConfig=Object(F.b)({size:+this.options.fontSize||this.textFontSize,fontFamily:this.options.fontFamily||this.textFontFamily,fontWeight:this.options.fontWeight||this.textFontWeight,color:this.options.color||this.textFontColor,stroke:this.options.stroke||this.textStrokeColor,strokeThickness:2}),this.stroke=r(this.pixiTextConfig.stroke),this.tickWidth=200,this.tickHeight=6,this.tickTextSeparation=2,this.tickColor=this.options.tickColor?r(this.options.tickColor):7829367,this.animate=s,this.pubSubs=[],this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=o(this,this.is2d,this.isShowGlobalMousePosition())),l||(a.server,a.tilesetUid);const c=this.options.assembly,f={},h=Object.assign({},Object(N.a)(c).size),d=[];Object.keys(Object(N.a)(c).size).forEach((e=>{f[e]={chr:e,pos:Object(N.a)(c).size[e]}})),Object.keys(Object(N.a)(c).interval).forEach((e=>{d.push({chr:e,pos:Object(N.a)(c).interval[e][0]})})),this.chromInfo={chrPositions:f,chromLengths:h,cumPositions:d},this.rerender(this.options,!0),this.draw(),this.animate()}initBoundsTicks(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new e.libraries.PIXI.Graphics,this.leftBoundTick=new e.libraries.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new e.libraries.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}initChromLabels(){this.chromInfo&&(this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new e.libraries.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren(),this.chromInfo.cumPositions.forEach((t=>{const n=t.chr;this.gTicks[n]=new e.libraries.PIXI.Graphics,this.tickTexts[n]||(this.tickTexts[n]=[]);const r=new e.libraries.PIXI.Text(n,this.pixiTextConfig);r.hashValue=Math.random(),this.pTicks.addChild(r),this.pTicks.addChild(this.gTicks[n]),this.texts.push(r)})))}rerender(e,t){const n=JSON.stringify(e);(t||n!==this.prevOptions)&&(this.prevOptions=n,this.options=e,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=r(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?r(this.options.tickColor):7829367,"ends"===this.options.tickPositions&&"circular"!==this.options.layout?this.initBoundsTicks():this.initChromLabels(),super.rerender(e,t),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=o(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}formatTick(e){if(isNaN(e))return"null";const t=this._xScale.domain(),n=t[1]-t[0],r=Object(I.a)(e,n),i=Object(D.a)(","),o=Object(D.b)(",."+r,n);let a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}drawBoundsTicks(e,t){const n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);const r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=`${e[0]}: ${this.formatTick(e[1])}`,this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=`${t[0]}: ${this.formatTick(t[1])}`,this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}drawTicks(t){const n=this.gTicks[t.chr];n.visible=!0,n.clear();const r=+this.chromInfo.chromLengths[t.chr],i=Math.max(this._xScale(t.pos),0),o=Math.min(this._xScale(t.pos+r),this.dimensions[0]),a=(o-i)/this.tickWidth,s=Object(R.a)().domain([Math.max(1,this._xScale.invert(0)-t.pos),Math.min(r,this._xScale.invert(this.dimensions[0])-t.pos)]).range([i,o]).ticks(a).filter((e=>Number.isInteger(e))),l=this.tickTexts[t.chr],u=this.tickHeight;let c=u+this.tickTextSeparation;for(this.options.reverseOrientation&&(c=this.dimensions[1]-c);l.length<s.length;){const n=new e.libraries.PIXI.Text("",this.pixiTextConfig);l.push(n),this.gTicks[t.chr].addChild(n)}for(;l.length>s.length;){const e=l.pop();this.gTicks[t.chr].removeChild(e)}let f=0;for(;f<s.length;){l[f].visible=!0,l[f].anchor.x=.5,l[f].anchor.y="circular"===this.options.layout||this.options.reverseOrientation?0:1,this.flipText&&(l[f].scale.x=-1),l[f].text=0===s[f]?t.chr+": 1":`${t.chr}: ${this.formatTick(s[f])}`;const e=this._xScale(t.pos+s[f]);if("circular"===this.options.layout){const t=this.addCurvedText(l[f],e+0);this.pTicksCircular.addChild(t)}else{l[f].x=e+0,l[f].y=this.dimensions[1]-c,l[f].tickLine=[e-1,this.dimensions[1],e-1,this.dimensions[1]-u-1];const t=this.options.reverseOrientation?0:this.dimensions[1],r=this.options.reverseOrientation?u:this.dimensions[1]-u;n.lineStyle(1,this.tickColor),n.moveTo(e,t),n.lineTo(e,r)}f+=1}for("circular"===this.options.layout&&(f=0);f<l.length;)l[f].visible=!1,f+=1;return s.length}addCurvedText(t,n){const{innerRadius:r,outerRadius:i,startAngle:o,endAngle:a,width:s,height:l}=this.options,u=(i+r)/2,c=Object(L.b)(n,s,u,s/2,l/2,o,a);t.x=c.x,t.y=c.y,t.resolution=4;const f=new e.libraries.PIXI.TextStyle(this.pixiTextConfig),h=e.libraries.PIXI.TextMetrics.measureText(t.text,f),d=h.width/(2*u*Math.PI)*s*360/(a-o);let[p,m]=[n-d/2,n+d/2];if(p<0){const e=-p;p=0,m+=e}else if(m>s){const e=m-s;m=s,p-=e}const g=[],v=r+h.height/2+3;for(let y=m;y>=p;y-=d/10){const t=Object(L.b)(y,s,v,s/2,l/2,o,a);g.push(new e.libraries.PIXI.Point(t.x,t.y))}return t.updateText(),new e.libraries.PIXI.SimpleRope(t.texture,g)}draw(){if(this.allTexts=[],!this.texts)return;const e=n(this._xScale.domain()[0],this.chromInfo),t=n(this._xScale.domain()[1],this.chromInfo);if(!e||!t)return void console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);if("ends"===this.options.tickPositions&&"circular"!==this.options.layout){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(e,t)}if(!this.pTicks)return;const r="circular"===this.options.layout;for(let n=0;n<this.texts.length;n++)this.texts[n].visible=!1,this.gTicks[this.chromInfo.cumPositions[n].chr].visible=!1;let i=this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),Object.keys(this.chromInfo.chrPositions).forEach((e=>{this.tickTexts[e]&&this.tickTexts[e].forEach((e=>{e.visible=!1}))})),this.pTicksCircular.removeChildren();for(let n=e[3];n<=t[3];n++){const e=this.chromInfo.cumPositions[n],t=e.pos+this.chromInfo.chromLengths[e.chr]/2,o=this._xScale(t),a=this.texts[n];let s;a.anchor.x=.5,a.anchor.y=r?.5:this.options.reverseOrientation?0:1,r?(s=this.addCurvedText(a,o),this.pTicksCircular.addChild(s)):(a.x=o,a.y=this.dimensions[1]-i),a.updateTransform(),this.flipText&&(a.scale.x=-1);const l=this.drawTicks(e);r?l>0&&this.pTicksCircular.removeChild(s):a.visible=l<=0,this.allTexts.push({importance:a.hashValue,text:a,caption:null,rope:s})}this.hideOverlaps(this.allTexts)}hideOverlaps(e){let t=[];t=e.map((({text:e})=>{e.updateTransform();const t=e.getBounds();return[t.x-5,t.y-5,t.x+t.width+10,t.y+t.height+10]})),M()(t,((t,n)=>{e[t].importance>e[n].importance?(e[n].text.visible=!1,"circular"===this.options.layout&&e[n].rope&&this.pTicksCircular.removeChild(e[n].rope)):(e[t].text.visible=!1,"circular"===this.options.layout&&e[t].rope&&this.pTicksCircular.removeChild(e[t].rope))}))}setPosition(e){super.setPosition(e),[this.pMain.position.x,this.pMain.position.y]=this.position}zoomed(e,t){0===[...e.domain(),...t.domain()].filter((e=>isNaN(e))).length&&(this.xScale(e),this.yScale(t),this.draw())}exportSVG(){let e=null,t=null;super.exportSVG?[t,e]=super.exportSVG():(t=document.createElement("g"),e=t),t.setAttribute("class","chromosome-labels");const n=document.createElement("g");return e.appendChild(n),n.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.allTexts.filter((e=>e.text.visible)).forEach((e=>{const t=i(e.text);n.appendChild(t)})),Object.values(this.tickTexts).forEach((e=>{e.filter((e=>e.visible)).forEach((e=>{let t=i(e);n.appendChild(t),t=a(e.x,this.options.reverseOrientation?0:this.dimensions[1],e.x,this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight,1,this.tickColor);const r=document.createElement("line");r.setAttribute("x1",e.tickLine[0]),r.setAttribute("y1",e.tickLine[1]),r.setAttribute("x2",e.tickLine[2]),r.setAttribute("y2",e.tickLine[3]),r.setAttribute("style","stroke: grey"),n.appendChild(t),n.appendChild(r)}))})),[t,e]}}return new s(t)}j.config={type:"axis-track",datatype:["multivec","epilogos"],local:!1,orientation:"1d-horizontal",thumbnail:(new DOMParser).parseFromString('<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 5640 5420" preserveAspectRatio="xMidYMid meet"> <g id="layer101" fill="#000000" stroke="none"> <path d="M0 2710 l0 -2710 2820 0 2820 0 0 2710 0 2710 -2820 0 -2820 0 0 -2710z"/> </g> <g id="layer102" fill="#750075" stroke="none"> <path d="M200 4480 l0 -740 630 0 630 0 0 740 0 740 -630 0 -630 0 0 -740z"/> <path d="M1660 4420 l0 -800 570 0 570 0 0 800 0 800 -570 0 -570 0 0 -800z"/> <path d="M3000 3450 l0 -1770 570 0 570 0 0 1770 0 1770 -570 0 -570 0 0 -1770z"/> <path d="M4340 2710 l0 -2510 560 0 560 0 0 2510 0 2510 -560 0 -560 0 0 -2510z"/> <path d="M200 1870 l0 -1670 630 0 630 0 0 1670 0 1670 -630 0 -630 0 0 -1670z"/> <path d="M1660 1810 l0 -1610 570 0 570 0 0 1610 0 1610 -570 0 -570 0 0 -1610z"/> <path d="M3000 840 l0 -640 570 0 570 0 0 640 0 640 -570 0 -570 0 0 -640z"/> </g> <g id="layer103" fill="#ffff04" stroke="none"> <path d="M200 4480 l0 -740 630 0 630 0 0 740 0 740 -630 0 -630 0 0 -740z"/> <path d="M1660 4420 l0 -800 570 0 570 0 0 800 0 800 -570 0 -570 0 0 -800z"/> <path d="M3000 3450 l0 -1770 570 0 570 0 0 1770 0 1770 -570 0 -570 0 0 -1770z"/> </g> </svg>',"text/xml").documentElement,availableOptions:["innerRadius","outerRadius","startAngle","endAngle","width","height","layout","labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","trackType","tickPositions","scaledHeight","backgroundColor"],defaultOptions:{innerRadius:340,outerRadius:310,startAngle:0,endAngle:360,width:700,height:700,layout:"linear",labelPosition:"none",labelColor:"black",labelTextOpacity:.4,trackBorderWidth:0,trackBorderColor:"black",tickPositions:"even",backgroundColor:"transparent"}};var B=j;const U=Math.PI,z=2*U,H=z-1e-6;function G(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function V(){return new G}G.prototype=V.prototype={constructor:G,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var h=n-o,d=r-a,p=s*s+l*l,m=h*h+d*d,g=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((U-Math.acos((p+f-m)/(2*g*v)))/2),b=y/v,_=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>u*d)+","+(this._x1=e+_*s)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%z+z),f>H?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=U)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var $=V,X=function(e){return function(){return e}},W=Math.abs,Y=Math.atan2,q=Math.cos,K=Math.max,Z=Math.min,Q=Math.sin,J=Math.sqrt,ee=Math.PI,te=ee/2,ne=2*ee;function re(e){return e>1?0:e<-1?ee:Math.acos(e)}function ie(e){return e>=1?te:e<=-1?-te:Math.asin(e)}function oe(e){return e.innerRadius}function ae(e){return e.outerRadius}function se(e){return e.startAngle}function le(e){return e.endAngle}function ue(e){return e&&e.padAngle}function ce(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,h=f*l-c*u;if(!(h*h<1e-12))return[e+(h=(c*(t-o)-f*(e-i))/h)*l,t+h*u]}function fe(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/J(s*s+l*l),c=u*l,f=-u*s,h=e+c,d=t+f,p=n+c,m=r+f,g=(h+p)/2,v=(d+m)/2,y=p-h,b=m-d,_=y*y+b*b,E=i-o,w=h*m-p*d,x=(b<0?-1:1)*J(K(0,E*E*_-w*w)),T=(w*b-y*x)/_,S=(-w*y-b*x)/_,k=(w*b+y*x)/_,O=(-w*y+b*x)/_,A=T-g,C=S-v,P=k-g,M=O-v;return A*A+C*C>P*P+M*M&&(T=k,S=O),{cx:T,cy:S,x01:-c,y01:-f,x11:T*(i/E-1),y11:S*(i/E-1)}}function he(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class n extends e.tracks.SVGTrack{constructor(e){var t,n;super(...e);const[r,i]=e,{registerViewportChanged:o,removeViewportChanged:a,setDomainsCallback:s}=r;this.uid=c.a.v1(),this.options=i,this.hasFromView=!r.projectionXDomain,this.removeViewportChanged=a,this.setDomainsCallback=s,this.viewportXDomain=this.hasFromView?null:r.projectionXDomain,this.viewportYDomain=this.hasFromView?null:[0,0],this.prevExtent=[0,0],this.RR=.02;const l=[0,1.7*Math.PI];this.circularBrushData=this.getBrushData(l),this.brush=function(){var e=oe,t=ae,n=X(0),r=null,i=se,o=le,a=ue,s=null;function l(){var l,u,c=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-te,d=o.apply(this,arguments)-te,p=W(d-h),m=d>h;if(s||(s=l=$()),f<c&&(u=f,f=c,c=u),f>1e-12)if(p>ne-1e-12)s.moveTo(f*q(h),f*Q(h)),s.arc(0,0,f,h,d,!m),c>1e-12&&(s.moveTo(c*q(d),c*Q(d)),s.arc(0,0,c,d,h,m));else{var g,v,y=h,b=d,_=h,E=d,w=p,x=p,T=a.apply(this,arguments)/2,S=T>1e-12&&(r?+r.apply(this,arguments):J(c*c+f*f)),k=Z(W(f-c)/2,+n.apply(this,arguments)),O=k,A=k;if(S>1e-12){var C=ie(S/c*Q(T)),P=ie(S/f*Q(T));(w-=2*C)>1e-12?(_+=C*=m?1:-1,E-=C):(w=0,_=E=(h+d)/2),(x-=2*P)>1e-12?(y+=P*=m?1:-1,b-=P):(x=0,y=b=(h+d)/2)}var M=f*q(y),R=f*Q(y),I=c*q(E),D=c*Q(E);if(k>1e-12){var N,L=f*q(b),F=f*Q(b),j=c*q(_),B=c*Q(_);if(p<ee&&(N=ce(M,R,j,B,L,F,I,D))){var U=M-N[0],z=R-N[1],H=L-N[0],G=F-N[1],V=1/Q(re((U*H+z*G)/(J(U*U+z*z)*J(H*H+G*G)))/2),X=J(N[0]*N[0]+N[1]*N[1]);O=Z(k,(c-X)/(V-1)),A=Z(k,(f-X)/(V+1))}}x>1e-12?A>1e-12?(g=fe(j,B,M,R,f,A,m),v=fe(L,F,I,D,f,A,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),A<k?s.arc(g.cx,g.cy,A,Y(g.y01,g.x01),Y(v.y01,v.x01),!m):(s.arc(g.cx,g.cy,A,Y(g.y01,g.x01),Y(g.y11,g.x11),!m),s.arc(0,0,f,Y(g.cy+g.y11,g.cx+g.x11),Y(v.cy+v.y11,v.cx+v.x11),!m),s.arc(v.cx,v.cy,A,Y(v.y11,v.x11),Y(v.y01,v.x01),!m))):(s.moveTo(M,R),s.arc(0,0,f,y,b,!m)):s.moveTo(M,R),c>1e-12&&w>1e-12?O>1e-12?(g=fe(I,D,L,F,c,-O,m),v=fe(M,R,j,B,c,-O,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),O<k?s.arc(g.cx,g.cy,O,Y(g.y01,g.x01),Y(v.y01,v.x01),!m):(s.arc(g.cx,g.cy,O,Y(g.y01,g.x01),Y(g.y11,g.x11),!m),s.arc(0,0,c,Y(g.cy+g.y11,g.cx+g.x11),Y(v.cy+v.y11,v.cx+v.x11),m),s.arc(v.cx,v.cy,O,Y(v.y11,v.x11),Y(v.y01,v.x01),!m))):s.arc(0,0,c,E,_,m):s.lineTo(I,D)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ee/2;return[q(r)*n,Q(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:X(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:X(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:X(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:X(+e),l):r},l.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:X(+e),l):i},l.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:X(+e),l):o},l.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:X(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().innerRadius(null!==(t=this.options.innerRadius)&&void 0!==t?t:100).outerRadius(null!==(n=this.options.outerRadius)&&void 0!==n?n:200),this.gBrush=this.gMain.append("g").attr("id","brush-"+this.uid).selectAll(".brush").data(this.circularBrushData).enter().append("path").attr("class","brush").attr("d",this.brush).attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",(e=>"brush"===e.type?this.options.projectionFillOpacity:0)).attr("stroke-opacity",(e=>"brush"===e.type?this.options.projectionStrokeOpacity:0)).attr("stroke-width",this.options.strokeWidth).style("pointer-events","all").style("cursor",(e=>e.cursor)).call(this.dragged()),o(this.uid,this.viewportChanged.bind(this)),this.draw()}getBrushData(e){return[{type:"brush",startAngle:e[0],endAngle:e[1],cursor:"grab"},{type:"start",startAngle:e[0],endAngle:e[0]+this.RR,cursor:"move"},{type:"end",startAngle:e[1]-this.RR,endAngle:e[1],cursor:"move"}]}cropExtent(e){let[t,n]=e,r=0;for(;(t>2*Math.PI||n>2*Math.PI||t<0||n<0)&&!(r++>10);)t>2*Math.PI||n>2*Math.PI?(t-=2*Math.PI,n-=2*Math.PI):(t<0||n<0)&&(t+=2*Math.PI,n+=2*Math.PI);return[t,n].sort(((e,t)=>e-t))}updateBrush(e){let[t,n]=e;t<=L.a&&n<=L.a||t>=2*Math.PI-L.a&&n>=2*Math.PI-L.a?this.gBrush.attr("visibility","hidden"):(t<L.a&&(t=L.a),t>2*Math.PI-L.a&&(t=2*Math.PI-L.a),n<L.a&&(n=L.a),n>2*Math.PI-L.a&&(n=2*Math.PI-L.a),this.circularBrushData=this.getBrushData(e),this.gBrush.data(this.circularBrushData).attr("d",this.brush).attr("visibility","visible"))}dragged(){return e.libraries.d3Drag.drag().on("start",(()=>{this.startEvent=e.libraries.d3Selection.event.sourceEvent,this.prevExtent=[this.circularBrushData[0].startAngle-this.RR,this.circularBrushData[0].endAngle+this.RR]})).on("drag",(t=>{const[n,r]=this.position,[i,o]=this.dimensions,a=e.libraries.d3Selection.event.sourceEvent,s=this.startEvent.layerX-n,l=this.startEvent.layerY-r,u=a.layerX-n,c=a.layerY-r,f=Math.atan2(s-i/2,l-o/2)-Math.atan2(u-i/2,c-o/2);let[h,d]=this.prevExtent;if("brush"===t.type){if(h+=f,d+=f,h<L.a||2*Math.PI-L.a<d){const e=L.a-h,t=d-(2*Math.PI-L.a);e>t?(d+=e,h+=e):(h-=t,d-=t)}}else"start"===t.type?h+=f:"end"===t.type&&(d+=f);if([h,d]=this.cropExtent([h,d]),!this._xScale||!this._yScale)return;const p=(this.options.endAngle-this.options.startAngle)/360,m=h-this.options.startAngle/360*Math.PI*2,g=d-this.options.startAngle/360*Math.PI*2,v=[this._xScale.invert(i-i*g/(2*Math.PI*p)),this._xScale.invert(i-i*m/(2*Math.PI*p))],y=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=v),this.setDomainsCallback(v,y),this.updateBrush([h,d])}))}draw(){if(!this._xScale||!this.yScale)return;if(!this.viewportXDomain||!this.viewportYDomain)return;const e=this._xScale(this.viewportXDomain[0]),t=this._xScale(this.viewportXDomain[1]),[n]=this.dimensions;let r=Object(L.d)(e,n,this.options.startAngle,this.options.endAngle)+Math.PI/2,i=Object(L.d)(t,n,this.options.startAngle,this.options.endAngle)+Math.PI/2;[i,r]=this.cropExtent([i,r]),this.updateBrush([i,r])}viewportChanged(e,t){const n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}remove(){this.removeViewportChanged(this.uid),super.remove()}rerender(){}zoomed(e,t){this.xScale(e),this.yScale(t),this.draw()}setPosition(e){super.setPosition(e),this.draw()}setDimensions(e){super.setDimensions(e),this.gBrush.attr("transform",`translate(${e[0]/2},${e[1]/2})`),this.draw()}}return new n(t)}he.config={type:"brush-track",datatype:["projection"],local:!1,projection:!0,orientation:"2d",thumbnail:(new DOMParser).parseFromString('<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 5640 5420" preserveAspectRatio="xMidYMid meet"> <g id="layer101" fill="#000000" stroke="none"> <path d="M0 2710 l0 -2710 2820 0 2820 0 0 2710 0 2710 -2820 0 -2820 0 0 -2710z"/> </g> <g id="layer102" fill="#750075" stroke="none"> <path d="M200 4480 l0 -740 630 0 630 0 0 740 0 740 -630 0 -630 0 0 -740z"/> <path d="M1660 4420 l0 -800 570 0 570 0 0 800 0 800 -570 0 -570 0 0 -800z"/> <path d="M3000 3450 l0 -1770 570 0 570 0 0 1770 0 1770 -570 0 -570 0 0 -1770z"/> <path d="M4340 2710 l0 -2510 560 0 560 0 0 2510 0 2510 -560 0 -560 0 0 -2510z"/> <path d="M200 1870 l0 -1670 630 0 630 0 0 1670 0 1670 -630 0 -630 0 0 -1670z"/> <path d="M1660 1810 l0 -1610 570 0 570 0 0 1610 0 1610 -570 0 -570 0 0 -1610z"/> <path d="M3000 840 l0 -640 570 0 570 0 0 640 0 640 -570 0 -570 0 0 -640z"/> </g> <g id="layer103" fill="#ffff04" stroke="none"> <path d="M200 4480 l0 -740 630 0 630 0 0 740 0 740 -630 0 -630 0 0 -740z"/> <path d="M1660 4420 l0 -800 570 0 570 0 0 800 0 800 -570 0 -570 0 0 -800z"/> <path d="M3000 3450 l0 -1770 570 0 570 0 0 1770 0 1770 -570 0 -570 0 0 -1770z"/> </g> </svg>',"text/xml").documentElement,availableOptions:["innerRadius","outerRadius","startAngle","endAngle","axisPositionHorizontal","projectionFillColor","projectionStrokeColor","projectionFillOpacity","projectionStrokeOpacity","strokeWidth"],defaultOptions:{innerRadius:100,outerRadius:200,startAngle:0,endAngle:360,axisPositionHorizontal:"left",projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}};var de=he,pe={},me={};function ge(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ve(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function ye(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var be=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return me;if(u)return u=!1,pe;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==me;){for(var f=[];r!==pe&&r!==me;)f.push(r),r=c();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?function(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+ye(-t,6):t>9999?"+"+ye(t,6):ye(t,4))+"-"+ye(e.getUTCMonth()+1,2)+"-"+ye(e.getUTCDate(),2)+(o?"T"+ye(n,2)+":"+ye(r,2)+":"+ye(i,2)+"."+ye(o,3)+"Z":i?"T"+ye(n,2)+":"+ye(r,2)+":"+ye(i,2)+"Z":r||n?"T"+ye(n,2)+":"+ye(r,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);var o,a,s;i=e,n=t?(a=t,s=ge(o=e),function(e,t){return a(s(e),t,o)}):ge(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=ve(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ve(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}},_e=n(297),Ee=n.n(_e),we=n(50);function xe(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');return new class{constructor(e){const[t]=e;if(this.dataConfig=t,this.tilesetInfoLoading=!1,this.assembly=this.dataConfig.assembly,this.filter=this.dataConfig.filter,!t.url)return void console.error("Please provide the `url` of the data");const n=Object(N.a)(this.assembly).size,r=[],i={};let o=0;Object.keys(Object(N.a)(this.assembly).size).forEach(((e,t)=>{const n={id:t,chr:e,pos:o};r.push(n),i[e]=n,o+=Object(N.a)(this.assembly).size[e]})),this.chromSizes={chrToAbs:(e,t)=>this.chromSizes.chrPositions[e].pos+t,cumPositions:r,chrPositions:i,totalLength:o,chromLengths:n},t.data?this.values=t.data:this.dataPromise=this.fetchCSV()}fetchCSV(){var e;const{url:t,chromosomeField:n,genomicFields:r,quantitativeFields:i,headerNames:o,chromosomePrefix:a,longToWideId:s,genomicFieldsToConvert:l}=this.dataConfig,u=null!==(e=this.dataConfig.separator)&&void 0!==e?e:",";return Ee()(t).then((e=>e.ok?e.text():Promise.reject(e.status))).then((e=>{const t=o?`${o.join(u)}\n${e}`:e;return be(u).parse(t,(e=>{let t=!0;if(l?l.forEach((n=>{const r=n.chromosomeField;n.genomicFields.forEach((n=>{try{if("unknown"!==this.assembly){const t=a?e[r].replace(a,"chr"):e[r].includes("chr")?e[r]:"chr"+e[r];e[n]=Object(N.a)(this.assembly).interval[t][0]+ +e[n]}}catch(i){t=!1}}))})):r.forEach((r=>{if(e[n])try{const t=a?e[n].replace(a,"chr"):e[n].includes("chr")?e[n]:"chr"+e[n];e[r]=Object(N.a)(this.assembly).interval[t][0]+ +e[r]}catch(i){t=!1}})),t)return null==i||i.forEach((t=>{e[t]=+e[t]})),e}))})).then((e=>{var t;if(s&&(null===(t=e[0])||void 0===t?void 0:t[s])){const t=Object.keys(e[0]),n={};e.forEach((e=>{n[e[s]]?t.forEach((t=>{n[e[s]][t+"_2"]=e[t]})):n[e[s]]=JSON.parse(JSON.stringify(e))})),this.values=Object.keys(n).map((e=>n[e]))}else this.values=e})).catch((e=>{console.error("[Gosling Data Fetcher] Error fetching data",e)}))}generateTilesetInfo(e){this.tilesetInfoLoading=!1;const t=this.chromSizes.totalLength,n={tile_size:1024,max_zoom:Math.ceil(Math.log(t/1024)/Math.log(2)),max_width:t,min_pos:[0,0],max_pos:[t,t]};return e&&e(n),n}tilesetInfo(e){if(this.dataPromise)return this.tilesetInfoLoading=!0,this.dataPromise.then((()=>this.generateTilesetInfo(e))).catch((e=>{this.tilesetInfoLoading=!1,console.error("[Gosling Data Fetcher] Error parsing data:",e)}))}fetchTilesDebounced(e,t){const n={},r=[],i=[];for(const o of t){const e=o.split("."),t=parseInt(e[0],10),n=parseInt(e[1],10),a=parseInt(e[2],10);Number.isNaN(n)||Number.isNaN(t)?console.warn("[Gosling Data Fetcher] Invalid tile zoom or position:",t,n,a):(r.push(o),i.push(this.tile(t,n,a)))}return Promise.all(i).then((t=>{t.forEach(((e,t)=>{const i=r[t];n[i]=e,n[i].tilePositionId=i})),e(n)})),n}tile(e,t,n){var r;return null===(r=this.tilesetInfo())||void 0===r?void 0:r.then((r=>{var i,o;const a=+r.max_width/Math.pow(2,+e),s=r.min_pos[0]+t*a,l=r.min_pos[0]+(t+1)*a;let u=this.values.filter((e=>{if(this.dataConfig.genomicFields)return this.dataConfig.genomicFields.find((t=>s<e[t]&&e[t]<=l));{const t=[];return this.dataConfig.genomicFieldsToConvert.forEach((e=>t.push(...e.genomicFields))),t.find((t=>s<e[t]&&e[t]<=l))}}));null===(i=this.filter)||void 0===i||i.forEach((e=>{u=Object(we.f)(e,u)}));const c=null!==(o=this.dataConfig.sampleLength)&&void 0!==o?o:1e3;return{tabularData:u.length>c?Object(d.sampleSize)(u,c):u,server:null,tilePos:[t,n],zoomLevel:e}}))}}(t)}xe.config={type:"csv"};var Te=xe;function Se(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');return new class{constructor(e){const[t]=e;if(this.dataConfig=t,this.tilesetInfoLoading=!1,this.assembly=this.dataConfig.assembly,!t.values)return void console.error("Please provide `values` of the raw data");const n=Object(N.a)(this.assembly).size,r=[],i={};let o=0;Object.keys(Object(N.a)(this.assembly).size).forEach(((e,t)=>{const n={id:t,chr:e,pos:o};r.push(n),i[e]=n,o+=Object(N.a)(this.assembly).size[e]})),this.chromSizes={chrToAbs:(e,t)=>this.chromSizes.chrPositions[e].pos+t,cumPositions:r,chrPositions:i,totalLength:o,chromLengths:n},this.values=t.values.map((e=>{var t;let n=!0;if(this.dataConfig.genomicFields.forEach((t=>{if(e[this.dataConfig.chromosomeField])try{const n=e[this.dataConfig.chromosomeField].includes("chr")?e[this.dataConfig.chromosomeField]:"chr"+e[this.dataConfig.chromosomeField];e[t]=Object(N.a)(this.assembly).interval[n][0]+ +e[t]}catch(r){n=!1}})),n)return null===(t=this.dataConfig.quantitativeFields)||void 0===t||t.forEach((t=>{e[t]=+e[t]})),e}))}tilesetInfo(e){this.tilesetInfoLoading=!1;const t=this.chromSizes.totalLength,n={tile_size:1024,max_zoom:Math.ceil(Math.log(t/1024)/Math.log(2)),max_width:t,min_pos:[0],max_pos:[t]};return e&&e(n),n}fetchTilesDebounced(e,t){const n={},r=[],i=[];for(const o of t){const e=o.split("."),t=parseInt(e[0],10),n=parseInt(e[1],10);Number.isNaN(n)||Number.isNaN(t)?console.warn("[Gosling Data Fetcher] Invalid tile zoom or position:",t,n):(r.push(o),i.push(this.tile(t,n)))}return Promise.all(i).then((t=>{t.forEach(((e,t)=>{const i=r[t];n[i]=e,n[i].tilePositionId=i})),e(n)})),n}tile(e,t){var n;const r=this.tilesetInfo(),i=+r.max_width/Math.pow(2,+e),o=r.min_pos[0]+t*i,a=r.min_pos[0]+(t+1)*i,s=this.values.filter((e=>this.dataConfig.genomicFields.find((t=>o<e[t]&&e[t]<=a)))),l=null!==(n=this.dataConfig.sampleLength)&&void 0!==n?n:1e3;return{tabularData:s.length>l?Object(d.sampleSize)(s,l):s,server:null,tilePos:[t],zoomLevel:e}}}(t)}Se.config={type:"json"};var ke=Se,Oe=n(298),Ae=n(158);function Ce(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');return new class{constructor(e){e.chromSizesUrl="https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.chrom.sizes",this.dataConfig=e,this.bwFileHeader=null,this.bwFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[];const t=Object(N.a)(this.assembly).size,n=[],r={};let i=0;Object.keys(Object(N.a)(this.assembly).size).forEach(((e,t)=>{const o={id:t,chr:e,pos:i};n.push(o),r[e]=o,i+=Object(N.a)(this.assembly).size[e]})),this.chromSizes={chrToAbs:(e,t)=>this.chromSizes.chrPositions[e].pos+t,cumPositions:n,chrPositions:r,totalLength:i,chromLengths:t},this.dataPromises.push(this.loadBBI(e))}loadBBI(e){return e.url?(this.bwFile=new Oe.BigWig({filehandle:new Ae.RemoteFile(e.url)}),this.bwFile.getHeader().then((e=>{this.bwFileHeader=e}))):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(e){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then((()=>{this.tilesetInfoLoading=!1;let t={};const n=this.chromSizes.totalLength;return t={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(n/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(n)/Math.log(2)),min_pos:[0],max_pos:[n]},e&&e(t),t})).catch((t=>{this.tilesetInfoLoading=!1,console.error(t),e&&e({error:"Error parsing bigwig: "+t})}))}fetchTilesDebounced(e,t){const n={},r=[],i=[];for(const o of t){const e=o.split("."),t=parseInt(e[0],10),n=parseInt(e[1],10);Number.isNaN(n)||Number.isNaN(t)?console.warn("Invalid tile zoom or position:",t,n):(r.push(o),i.push(this.tile(t,n)))}return Promise.all(i).then((t=>{for(let e=0;e<t.length;e++){const i=r[e];n[i]=t[e],n[i].tilePositionId=i}e(n)})),n}tile(t,n){return this.tilesetInfo().then((r=>{const i=+r.max_width/2**+t,o=[],a={tilePos:[n],tileId:`bigwig.${t}.${n}`,zoomLevel:t},s=r.min_pos[0]+n*i;let l=s;const u=r.min_pos[0]+(n+1)*i,c=this.determineScale(l,u),f=(u-l)/this.TILE_SIZE,h=[];for(let e=0;e<this.TILE_SIZE;e++)h.push(l+e*f);const{chromLengths:d,cumPositions:p}=this.chromSizes;return p.forEach((t=>{const n=t.chr,r=t.pos,i=t.pos+d[n];let a,s;if(r<=l&&l<i){if(!(u>i))return a=Math.floor(l-r),s=Math.ceil(u-r),void o.push(this.bwFile.getFeatures(n,a,s,{scale:1/c}).then((t=>(t.forEach((t=>{t.startAbs=e.utils.chrToAbs(n,t.start,this.chromSizes),t.endAbs=e.utils.chrToAbs(n,t.end,this.chromSizes)})),t))));a=l-r,s=i-r,o.push(this.bwFile.getFeatures(n,a,s,{scale:1/c}).then((t=>(t.forEach((t=>{t.startAbs=e.utils.chrToAbs(n,t.start,this.chromSizes),t.endAbs=e.utils.chrToAbs(n,t.end,this.chromSizes)})),t)))),l=i}})),Promise.all(o).then((t=>{const n=t.flat();for(var r=[],i=0;i<this.TILE_SIZE;i++)r.push(null);h.forEach(((e,t)=>{if(e<s||e>u)return;const i=n.filter((t=>e>=t.startAbs&&e<t.endAbs)).map((e=>e.score));r[t]=i.length>0?i[0]:null})),a.min_value=Math.min(...r),a.max_value=Math.max(...r);const o=new e.utils.DenseDataExtrema1D(r);return a.dense=r,a.denseDataExtrema=o,a.minNonZero=o.minNonZeroInTile,a.maxNonZero=o.maxNonZeroInTile,a}))}))}determineScale(e,t){const n=[1],r=t-e;let i;return this.bwFileHeader.zoomLevels.forEach((e=>{n.push(e.reductionLevel)})),n.forEach((e=>{i||r/e<=20*this.TILE_SIZE&&(i=e)})),i||n.slice(-1)[0]}}(...t)}Ce.config={type:"bigwig"};var Pe=Ce,Me=n(266);let Re=!1;function Ie(){Re||(b({name:"GoslingTrack",track:Me.a,config:Me.a.config}),b({name:"Gosling2DTrack",track:Me.a,config:Object.assign(Object.assign({},Me.a.config),{type:"gosling-2d-track",orientation:"2d"})}),b({name:"AxisTrack",track:B,config:B.config}),b({name:"TextTrack",track:C,config:C.config}),b({name:"BrushTrack",track:de,config:de.config}),b({dataFetcher:Te,config:Te.config},{pluginType:"dataFetcher"}),b({dataFetcher:ke,config:ke.config},{pluginType:"dataFetcher"}),b({dataFetcher:Pe,config:Pe.config},{pluginType:"dataFetcher"}),Re=!0)}var De=n(44);function Ne(e){let t=0,n=0;return e.forEach((e=>{const r=e.boundingBox.x+e.boundingBox.width,i=e.boundingBox.y+e.boundingBox.height;n<i&&(n=i),t<r&&(t=r)})),{width:t,height:n}}function Le(e){return e.filter((e=>Object(l.y)(e))).length}const Fe=(e,t,n)=>JSON.parse(JSON.stringify({mark:"header",width:e.width,height:e.height,title:t,subtitle:n}));var je=n(37);const Be=["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"];var Ue=n(38);function ze(e,t,n,r){if(0===t.length)return;const i=new De.b;t.forEach((e=>{const{track:t,boundingBox:n,layout:o}=e;!function(e,t,n,r,i){var o,a,s,u,d,p,m,g,v,y,b;const _=Object(h.a)(t)[0],E=_.assembly;if(Object(l.d)(_.data)){let f,h;if(Object(l.e)(_.data)){const e=(w=_.data.url).includes("tileset_info/?d=")&&(w.includes("https:")||w.includes("http:"))?{server:w.split("tileset_info/?d=")[0],tilesetUid:w.split("tileset_info/?d=")[1]}:(console.warn("Data url format is incorrect:"+w),{server:void 0,tilesetUid:void 0});f=e.server,h=e.tilesetUid}const d=Object(je.a)(_),p=Object(je.b)(_),m="x"!==p&&"xe"!==p||!Object(l.b)(d)?void 0:d.domain,g=Object(l.a)(_)&&Object(l.b)(_.y)?_.y.domain:void 0,v=n.width-("circular"!==_.layout&&"vertical"===_.orientation&&Object(l.y)(_)?De.a:0),y=n.height-("circular"!==_.layout&&"horizontal"===_.orientation&&Object(l.y)(_)?De.a:0),b={type:Object(l.a)(_)?"gosling-2d-track":"gosling-track",server:f,tilesetUid:h,width:v,height:y,options:{showMousePosition:"circular"!==_.layout,mousePositionColor:i.root.mousePositionColor,name:"linear"===_.layout?_.title:" ",labelPosition:_.title?"left"===i.track.titleAlign?"topLeft":"topRight":"none",labelShowResolution:!1,labelColor:i.track.titleColor,labelBackgroundColor:i.track.titleBackground,labelBackgroundOpacity:.5,labelTextOpacity:1,labelLeftMargin:1,labelTopMargin:1,labelRightMargin:0,labelBottomMargin:0,backgroundColor:"transparent",spec:Object.assign({},t),theme:i}};_.data&&Object(l.d)(_.data)&&("csv"===_.data.type||"json"===_.data.type||"bigwig"===_.data.type||"bam"===_.data.type)&&(b.data=Object.assign(Object.assign({},_.data),{assembly:E})),"matrix"===(null===(o=_.data)||void 0===o?void 0:o.type)&&(b.type="heatmap",b.options.colorRange="warm"===(null===(a=_)||void 0===a?void 0:a.color.range)?["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]:Be,b.options.trackBorderWidth=1,b.options.trackBorderColor="black",b.options.colorbarPosition=(null===(s=_.color)||void 0===s?void 0:s.legend)?"topRight":"hidden"),_.overlayOnPreviousTrack?e.setViewOrientation(_.orientation).addTrackToCombined(b):e.setViewOrientation(_.orientation).setAssembly(E).addDefaultView(null!==(u=_.id)&&void 0!==u?u:c.a.v1(),E).setDomain(m,Object(l.a)(_)?g:m).adjustDomain(_.orientation,v,y).setMainTrack(b).addTrackSourceServers(f).setZoomFixed(!0===_.static).setLayout(r);const x=(e,t="horizontal",n,r)=>"horizontal"===t?"x"===e&&n<=200||"y"===e&&r<=200?"narrower":"x"===e&&n<=400||"y"===e&&r<=400?"narrow":"regular":"x"===e&&r<=200||"y"===e&&n<=200?"narrower":"x"===e&&r<=400||"y"===e&&n<=400?"narrow":"regular";["x","y"].forEach((r=>{const o=_[r];if(Object(l.b)(o)&&o.axis&&"none"!==o.axis&&"genomic"===o.type){const a=x(r,t.orientation,n.width,n.height);e.setAxisTrack(o.axis,a,{layout:_.layout,innerRadius:"top"===o.axis?_.outerRadius-De.a:_.innerRadius,outerRadius:"top"===o.axis?_.outerRadius:_.innerRadius+De.a,width:_.width,height:_.height,startAngle:_.startAngle,endAngle:_.endAngle,theme:i})}})),e.validateSpec(!0)}else"header"===_.mark&&(e.addDefaultView(null!==(d=t.id)&&void 0!==d?d:c.a.v1()).setLayout(r),"string"==typeof _.title&&e.setTextTrack(n.width,(null!==(p=i.root.titleFontSize)&&void 0!==p?p:18)+f.g,_.title,i.root.titleColor,null!==(m=i.root.titleFontSize)&&void 0!==m?m:18,i.root.titleFontWeight,i.root.titleAlign,i.root.titleBackgroundColor,null!==(g=i.root.titleFontFamily)&&void 0!==g?g:F.a.fontFamily),"string"==typeof _.subtitle&&e.setTextTrack(n.width,(null!==(v=i.root.subtitleFontSize)&&void 0!==v?v:14)+f.g,_.subtitle,i.root.subtitleColor,null!==(y=i.root.subtitleFontSize)&&void 0!==y?y:14,i.root.subtitleFontWeight,i.root.subtitleAlign,i.root.subtitleBackgroundColor,null!==(b=i.root.subtitleFontFamily)&&void 0!==b?b:F.a.fontFamily));var w}(i,t,n,o,r)}));const o=function(e){const t=[];return e.spec().views.forEach((e=>{var n,r,i,o,a,s,u,c,f,d,p,m,g,v,y;const b=e.uid;let _=null===(a=null===(o=null===(i=null===(r=null===(n=e.tracks.center)||void 0===n?void 0:n[0])||void 0===r?void 0:r.contents)||void 0===i?void 0:i[0])||void 0===o?void 0:o.options)||void 0===a?void 0:a.spec;_||(_=null===(d=null===(f=null===(c=null===(u=null===(s=e.tracks.left)||void 0===s?void 0:s[0])||void 0===u?void 0:u.contents)||void 0===c?void 0:c[0])||void 0===f?void 0:f.options)||void 0===d?void 0:d.spec,_||(_=null===(y=null===(v=null===(g=null===(m=null===(p=e.tracks.left)||void 0===p?void 0:p[1])||void 0===m?void 0:m.contents)||void 0===g?void 0:g[0])||void 0===v?void 0:v.options)||void 0===y?void 0:y.spec)),b&&_&&Object(h.a)(_).forEach((e=>{Ue.a.forEach((n=>{var r,i,o,a;const s=e[n];Object(l.b)(s)&&s.linkingId&&t.push({layout:"circular"===e.layout?"circular":"linear",viewId:b,linkId:s.linkingId,isBrush:"brush"===e.mark,style:{color:null===(r=e.color)||void 0===r?void 0:r.value,stroke:null===(i=e.stroke)||void 0===i?void 0:i.value,strokeWidth:null===(o=e.strokeWidth)||void 0===o?void 0:o.value,opacity:null===(a=e.opacity)||void 0===a?void 0:a.value,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius}})}))}))})),t}(i);o.filter((e=>e.isBrush)).forEach((e=>{var t;i.addBrush(e.layout,e.viewId,r,null===(t=o.find((t=>!t.isBrush&&t.linkId===e.linkId)))||void 0===t?void 0:t.viewId,e.style)})),o.filter((e=>!e.isBrush)).forEach((e=>{i.spec().zoomLocks.locksByViewUid[e.viewId]=e.linkId,i.spec().locationLocks.locksByViewUid[e.viewId]=e.linkId})),Array.from(new Set(o.map((e=>e.linkId)))).forEach((e=>{i.spec().zoomLocks.locksDict[e]={uid:e},i.spec().locationLocks.locksDict[e]={uid:e},o.filter((e=>!e.isBrush)).filter((t=>t.linkId===e)).forEach((t=>{i.spec().zoomLocks.locksDict[e][t.viewId]=[124625310.5,124625310.5,249250.621],i.spec().locationLocks.locksDict[e][t.viewId]=[124625310.5,124625310.5,249250.621]}))})),n(i.spec(),Ne(t))}function He(e,t,n,r){m(e,((e,t,n)=>{if(e.data&&Object(l.e)(e.data)&&!("alignment"in e)&&Object(l.f)(e))switch(e.data.type){case"vector":case"bigwig":n[t]=s()((r=e.data.column,i=e.data.value,{data:{type:"vector",url:"",column:r,value:i},mark:"bar",x:{field:r,type:"genomic",axis:"top"},y:{field:i,type:"quantitative"},width:400,height:100}),e);break;case"multivec":n[t]=s()(function(e,t,n,r){return r&&r.length<10?{data:{type:"multivec",url:"",row:e,column:t,value:n,categories:r},mark:"bar",x:{field:t,type:"genomic",axis:"top"},y:{field:n,type:"quantitative"},row:{field:e,type:"nominal",legend:!0},color:{field:e,type:"nominal"},width:400,height:100}:{data:{type:"multivec",url:"",row:e,column:t,value:n,categories:r},mark:"rect",x:{field:t,type:"genomic",axis:"top"},row:{field:e,type:"nominal",legend:!0},color:{field:n,type:"quantitative"},width:400,height:100}}(e.data.row,e.data.column,e.data.value,e.data.categories),e)}var r,i})),function(e,t){m(e,((e,n,r)=>{var i,o;if(!Object(l.x)(e))return;const{template:a}=e,u=t.find((e=>e.name===a));if(!u)return e._invalidTrack=!0,void console.warn(`There is no track template named '${a}'`);let c=!0;if(u.channels.forEach((t=>{!t.required||e.encoding&&t.name in e.encoding||(c=!1,console.warn(`A template spec ('${a}') does not contain a required channel, ${t.name}`))})),!c)return void(e._invalidTrack=!0);const f=JSON.parse(JSON.stringify(e));"encoding"in f&&delete f.encoding;const h=Object.assign(Object.assign({},f),{alignment:"overlay",tracks:[],width:null!==(i=e.width)&&void 0!==i?i:100,height:null!==(o=e.height)&&void 0!==o?o:100});u.mapping.forEach((t=>{const n={data:e.data,mark:t.mark},{dataTransform:r}=t;if(r){const t=[];r.map((n=>{const r=n.base;r&&e.encoding&&r in e.encoding&&"field"in e.encoding[r]&&(delete n.base,n.field=e.encoding[r].field,t.push(n))}))}const i=e.encoding;i?Object.keys(t).filter((e=>"mark"!==e)).forEach((e=>{const r=JSON.parse(JSON.stringify(t[e]));if("base"in r){const t=r.base;if(t in i){const o=JSON.parse(JSON.stringify(i[t]));delete r.base;const a=s()(r,JSON.parse(JSON.stringify(o)));n[e]=a}else delete r.base,n[e]=r}else n[e]=r})):Object.keys(t).filter((e=>"mark"!==e)).forEach((e=>{const r=JSON.parse(JSON.stringify(t[e]));"base"in r&&delete r.base,n[e]=r})),h.tracks.push(n)})),r[n]=h}))}(e,n),g(e),function(e,t,n){ze(0,function(e,t){var n,r;let i=[];!function e(t,n,r=0,i=0,o=!0){let a=0,s=0,u=!0,c=!1;!function e(t,n){"tracks"in t?t.tracks.forEach((e=>n(e))):t.views.forEach((t=>{n(t),e(t,n)}))}(t,(e=>{c=!0,"circular"!==e.layout&&(u=!1)}));let h=!0;!function e(t,n){"tracks"in t||(n(t),t.views.forEach((t=>{e(t,n)})))}(t,(e=>{"vertical"!==e.arrangement&&"horizontal"!==e.arrangement||(h=!1)}));const d=o&&u&&c&&h&&("views"in t&&("parallel"===t.arrangement||"serial"===t.arrangement)||"tracks"in t),p=n.length;if("tracks"in t){const e=t.tracks;"vertical"===t.orientation?(s=Math.max(...e.map((e=>e.height))),e.forEach(((e,o,l)=>{1===Le([e])&&(e.width+=De.a),e.height=s,n.push({track:e,boundingBox:{x:r+a,y:i,width:e.width,height:s},layout:{x:0,y:0,w:0,h:0}}),l[o+1]&&l[o+1].overlayOnPreviousTrack||(a+=e.width,o!==l.length-1&&(a+=void 0!==t.spacing?t.spacing:0))}))):(a=Math.max(...e.map((e=>e.width))),e.forEach(((e,o,l)=>{1===Le([e])&&(e.height+=De.a),e.width=a,n.push({track:e,boundingBox:{x:r,y:i+s,width:a,height:e.height},layout:{x:0,y:0,w:0,h:0}}),l[o+1]&&l[o+1].overlayOnPreviousTrack||(s+=e.height,o!==l.length-1&&(s+=void 0!==t.spacing?t.spacing:0))})))}else if("parallel"===t.arrangement||"vertical"===t.arrangement){const l=void 0!==t.spacing?t.spacing:f.f;t.views.forEach(((t,u,c)=>{var f,h,p,m,g;const v=e(t,n,r+(null!==(f=t.xOffset)&&void 0!==f?f:0),i+(null!==(h=t.yOffset)&&void 0!==h?h:0)+s,!d&&o);a<(null!==(p=t.xOffset)&&void 0!==p?p:0)+v.width&&(a=(null!==(m=t.xOffset)&&void 0!==m?m:0)+v.width),u!==c.length-1&&(s+=l),s+=(null!==(g=t.yOffset)&&void 0!==g?g:0)+v.height}))}else"serial"!==t.arrangement&&"horizontal"!==t.arrangement||t.views.forEach(((l,u,c)=>{var h,p,m,g,v;const y=void 0!==t.spacing?t.spacing:f.f,b=e(l,n,r+(null!==(h=l.xOffset)&&void 0!==h?h:0)+a,i+(null!==(p=l.yOffset)&&void 0!==p?p:0),!d&&o);s<(null!==(m=l.xOffset)&&void 0!==m?m:0)+b.height&&(s=(null!==(g=l.xOffset)&&void 0!==g?g:0)+b.height),u!==c.length-1&&(a+=y),a+=(null!==(v=l.xOffset)&&void 0!==v?v:0)+b.width}));if(d){const e=n.slice(p),o="views"in t&&("parallel"===t.arrangement||"serial"===t.arrangement)&&t.views.length>1,u=void 0!==t.spacing?t.spacing:f.f,c=f.b,h=void 0!==t.centerRadius?t.centerRadius:f.c,d=a/2+c,m=d*(1-h);e.forEach(((e,t)=>{var n,f;e.track.layout="circular",e.track.outerRadius=d-c-(e.boundingBox.y-i)/s*m,e.track.innerRadius=d-c-(e.boundingBox.y+e.boundingBox.height-i)/s*m;const h=u/a*360;e.track.startAngle=h+(e.boundingBox.x-r)/a*(a-u)/a*360,e.track.endAngle=(e.boundingBox.x+e.boundingBox.width-r)/a*(a-u)/a*360,e.boundingBox.x=r+(null!==(n=e.track.xOffset)&&void 0!==n?n:0),e.boundingBox.y=i+(null!==(f=e.track.yOffset)&&void 0!==f?f:0),e.boundingBox.height=e.track.height=e.boundingBox.width=e.track.width=2*d,0!==t&&(e.track.overlayOnPreviousTrack=!0),o&&Object(l.p)(e.track)&&(e.track.overlay=e.track.overlay.filter((e=>"brush"!==e.mark)))})),s=2*d}return{x:r,y:i,width:a,height:s}}(e,i);const o=Ne(i);if(e.title||e.subtitle){const a=(e.title?(null!==(n=t.root.titleFontSize)&&void 0!==n?n:18)+f.g:0)+(e.subtitle?(null!==(r=t.root.subtitleFontSize)&&void 0!==r?r:14)+f.g:0),s=4;o.height+=a+s,o.height=o.height+(8-o.height%8),i.forEach((e=>{e.boundingBox.y+=a+s})),i=[{track:Fe({width:o.width,height:a},e.title,e.subtitle),boundingBox:{x:0,y:0,width:o.width,height:a},layout:{x:0,y:0,w:12,h:a/o.height*12}},...i]}else o.height=o.height+(8-o.height%8);return i.forEach((e=>{e.layout.x=e.boundingBox.x/o.width*12,e.layout.w=e.boundingBox.width/o.width*12,e.layout.y=e.boundingBox.y,e.layout.h=e.boundingBox.height})),i}(e,n),t,n)}(e,t,r)}var Ge=n(1),Ve=n.n(Ge),$e=n(305);Ie();const Xe=Object(Ge.forwardRef)(((e,t)=>{var n;const[r,i]=Object(Ge.useState)(null!==(n=e.id)&&void 0!==n?n:c.a.v4());Object(Ge.useEffect)((()=>{var t;i(null!==(t=e.id)&&void 0!==t?t:c.a.v4())}),[e.id]);const{padding:o=60,margin:a=0,border:s="none",background:l}=e.options||{},u=e.viewConfig||{};return Ve.a.createElement(Ve.a.Fragment,null,Ve.a.createElement("div",{id:r,className:"gosling-component "+(e.className||""),style:{position:"relative",padding:o,margin:a,border:s,background:l,width:e.size.width+2*o,height:e.size.height+2*o,textAlign:"left"}},Ve.a.createElement("div",{key:JSON.stringify(u),id:"higlass-wrapper",className:"higlass-wrapper",style:{position:"relative",display:"block",background:l,margin:0,padding:0,width:e.size.width,height:e.size.height}},Ve.a.createElement($e.HiGlassComponent,{ref:t,options:{pixelPreciseMarginPadding:!0,containerPaddingX:0,containerPaddingY:0,viewMarginTop:0,viewMarginBottom:0,viewMarginLeft:0,viewMarginRight:0,viewPaddingTop:0,viewPaddingBottom:0,viewPaddingLeft:0,viewPaddingRight:0,sizeMode:"bounded",rangeSelectionOnAlt:!0},viewConfig:u}))))}));var We,Ye,qe=n(142),Ke=n(138);function Ze(e="light"){if("string"==typeof e)return Object.keys(qe.Themes).indexOf(e)?qe.getTheme(e):"dark"===e||"light"===e?et[e]:et.light;{let t=JSON.parse(JSON.stringify(et.light));return Object.keys(qe.Themes).indexOf(e.base)?t=qe.getTheme(e.base):"light"!==e.base&&"dark"!==e.base||(t=JSON.parse(JSON.stringify(et[e.base]))),Object.keys(t).forEach((n=>{e[n]&&"base"!==n&&(t[n]=Object(d.assign)(JSON.parse(JSON.stringify(t[n])),JSON.parse(JSON.stringify(e[n]))))})),t}}(Ye=We||(We={})).light="light",Ye.dark="dark";const Qe={color:Ke.a.NOMINAL_COLOR[0],size:1,stroke:"black",strokeWidth:0,opacity:1,nominalColorRange:Ke.a.NOMINAL_COLOR,quantitativeSizeRange:[2,6]},Je=Object.assign(Object.assign({},Qe),{stroke:"white"}),et={light:{base:"light",root:{background:"white",titleColor:"black",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"left",titleFontWeight:"bold",subtitleColor:"gray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleFontWeight:"normal",subtitleAlign:"left",mousePositionColor:"#000000"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"black",titleBackground:"white",titleFontSize:24,titleAlign:"left",outline:"black",outlineWidth:1},legend:{position:"top",background:"white",backgroundOpacity:.7,labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"black"},axis:{tickColor:"black",labelColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"black",gridColor:"#E3E3E3",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:Object.assign({},Qe),point:Object.assign(Object.assign({},Qe),{size:3}),rect:Object.assign({},Qe),triangle:Object.assign({},Qe),area:Object.assign({},Qe),line:Object.assign({},Qe),bar:Object.assign({},Qe),rule:Object.assign(Object.assign({},Qe),{strokeWidth:1}),link:Object.assign(Object.assign({},Qe),{strokeWidth:1}),text:Object.assign(Object.assign({},Qe),{textAnchor:"middle",textFontWeight:"normal"}),brush:Object.assign(Object.assign({},Qe),{color:"gray",opacity:.3,stroke:"black",strokeWidth:1})},dark:{base:"dark",root:{background:"black",titleColor:"white",titleBackgroundColor:"transparent",titleFontSize:18,titleFontFamily:"Arial",titleAlign:"middle",titleFontWeight:"bold",subtitleColor:"lightgray",subtitleBackgroundColor:"transparent",subtitleFontSize:16,subtitleFontFamily:"Arial",subtitleAlign:"middle",subtitleFontWeight:"normal",mousePositionColor:"#FFFFFF"},track:{background:"transparent",alternatingBackground:"transparent",titleColor:"white",titleBackground:"black",titleFontSize:18,titleAlign:"left",outline:"white",outlineWidth:1},legend:{position:"right",background:"black",backgroundOpacity:.7,labelColor:"white",labelFontSize:12,labelFontWeight:"normal",labelFontFamily:"Arial",backgroundStroke:"#DBDBDB",tickColor:"white"},axis:{tickColor:"white",labelColor:"white",labelFontSize:10,labelFontWeight:"normal",labelFontFamily:"Arial",baselineColor:"white",gridColor:"gray",gridStrokeWidth:1,gridStrokeType:"solid",gridStrokeDash:[4,4]},markCommon:Object.assign({},Je),point:Object.assign(Object.assign({},Je),{size:3}),rect:Object.assign({},Je),triangle:Object.assign({},Je),area:Object.assign({},Je),line:Object.assign({},Je),bar:Object.assign({},Je),rule:Object.assign(Object.assign({},Je),{strokeWidth:1}),link:Object.assign(Object.assign({},Je),{strokeWidth:1}),text:Object.assign(Object.assign({},Je),{textAnchor:"middle",textFontWeight:"normal"}),brush:Object.assign(Object.assign({},Je),{color:"lightgray",opacity:.3,stroke:"white",strokeWidth:1})}};var tt=n(135);function nt(e,t,r){const i=()=>{if("api"in e)return e;if(e.current)return e.current;throw new Error("HiGlass ref not initalized")},o=e=>{var t,n;const o=i(),a=null!==(t=null==e?void 0:e.resolution)&&void 0!==t?t:4,s=null!==(n=null==e?void 0:e.transparentBackground)&&void 0!==n&&n,l=o.pixiRenderer,u=tt.RenderTexture.create({width:l.width/2,height:l.height/2,resolution:a});l.render(o.pixiStage,u);const c=l.plugins.extract.canvas(u),f=document.createElement("canvas");f.width=c.width,f.height=c.height;const h=f.getContext("2d");return s||(h.fillStyle=r.root.background,h.fillRect(0,0,f.width,f.height)),h.drawImage(c,0,0),{canvas:f,resolution:a,canvasWidth:c.width,canvasHeight:c.height}};return{subscribe:(e,t)=>{switch(e){case"mouseover":case"click":return PubSub.subscribe(e,t);default:return void console.error(`Event type not recognized, got ${JSON.stringify(e)}.`)}},unsubscribe:e=>PubSub.unsubscribe(e),zoomTo:(e,t,n=0,r=1e3)=>{var o,a,s,l;if(!t.includes("chr"))return void console.warn("Genomic interval you entered is not in a correct form.");const u=t.split(":")[0],c=null===(a=null===(o=Object(N.a)().interval)||void 0===o?void 0:o[u])||void 0===a?void 0:a[0];if(!u||void 0===typeof c)return void console.warn("Chromosome name is not valid",u);const[f,h]=null!==(l=null===(s=t.split(":")[1])||void 0===s?void 0:s.split("-"))&&void 0!==l?l:[0,Object(N.a)().size[u]],d=+f+c-n,p=+h+c+n;i().api.zoomTo(e,d,p,d,p,r)},zoomToExtent:(e,t=1e3)=>{const[n,r]=[0,Object(N.a)().total];i().api.zoomTo(e,n,r,n,r,t)},zoomToGene:(e,t,n=0,r=1e3)=>{i().api.zoomToGene(e,t,n,r)},getViewIds:()=>{if(!t)return[];const e=[];var n,r;return r=t=>{t.uid&&e.push(t.uid)},(n=t)&&n.views&&Array.isArray(n.views)&&n.views.forEach((e=>{e&&e.uid&&r(e)})),e},getCanvas:o,exportPng:e=>{const{canvas:t}=o({resolution:4,transparentBackground:e});t.toBlob((e=>{const t=document.createElement("a");document.body.append(t),t.download="gosling-visualization",t.href=URL.createObjectURL(e),t.click(),t.remove()}),"image/png")},exportPdf:e=>function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const{jsPDF:t}=yield n.e(2).then(n.bind(null,914)),{canvas:r}=o({resolution:4,transparentBackground:e}),i=r.toDataURL("image/jpeg",1),a=new t({orientation:r.width<r.height?"p":"l",unit:"pt",format:[r.width,r.height]});a.addImage(i,"JPEG",0,0,r.width,r.height),a.save("gosling-visualization.pdf")}))}}const rt=Object(Ge.forwardRef)(((e,t)=>{const[n,r]=Object(Ge.useState)(),[i,o]=Object(Ge.useState)({width:200,height:200}),a=Object(Ge.useRef)(),s=Ze(e.theme||"light");return Object(Ge.useEffect)((()=>{if(!t)return;const e=nt(a,n,s);"function"==typeof t?t({api:e}):t.current={api:e}}),[t,a,n,s]),Object(Ge.useEffect)((()=>{if(e.spec){if("error"===je.c(e.spec).state)return void console.warn("Gosling spec is not valid. Please refer to the console message.");He(e.spec,((t,n)=>{var i;null===(i=e.compiled)||void 0===i||i.call(e,e.spec,t),r(t),o(n)}),[...v],s)}}),[e.spec,s]),Object(Ge.useMemo)((()=>Ve.a.createElement(Xe,{ref:a,viewConfig:n,size:i,id:e.id,className:e.className,options:{padding:e.padding,border:e.border,margin:e.margin,background:s.root.background}})),[n,i,s])}));var it=n(22),ot=n.n(it);function at(e,t,n={}){return new Promise(((r,i)=>{"error"===Object(je.c)(t).state&&i(new Error("Gosling spec is not valid. Please refer to the console message."));const o=Ze(n.theme||"light"),a=Object.assign(Object.assign({},n),{background:o.root.background});He(t,((t,n)=>function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const i=nt(yield((e,t,n,r)=>{const i=Ve.a.createRef(),o=Ve.a.createElement(Xe,{ref:i,viewConfig:t,size:n,id:r.id,className:r.className,options:r});return ot.a.render(o,e),new Promise(((e,t)=>{let n=0;const r=setInterval((()=>{i&&i.current&&(clearInterval(r),e(i.current)),n>=20&&t(new Error("Failed to initialize HiGlassApi.")),n++}),200)}))})(e,t,n,a),t,o);r(i)}))),[...v],o)}))}const st=r.name,lt=r.version},function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r,i,o,a,s=n(68),l=n(231),u=n(94),c=function(e,t){var n=Object(u.a)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},f={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return c(100*e,t)},r:c,s:function(e,t){var n=Object(u.a)(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Object(u.a)(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},h=function(e){return e},d=Array.prototype.map,p=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];i=function(e){var t,n,i,o=void 0===e.grouping||void 0===e.thousands?h:(t=d.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",m=void 0===e.numerals?h:(i=d.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,(function(e){return i[+e]}))}),g=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"-":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function b(e){var t=(e=Object(l.a)(e)).fill,n=e.align,i=e.sign,s=e.symbol,h=e.zero,d=e.width,b=e.comma,_=e.precision,E=e.trim,w=e.type;"n"===w?(b=!0,w="g"):f[w]||(void 0===_&&(_=12),E=!0,w="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===s?a:"#"===s&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",T="$"===s?u:/[%p]/.test(w)?g:"",S=f[w],k=/[defgprs%]/.test(w);function O(e){var a,s,l,u=x,f=T;if("c"===w)f=S(e)+f,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:S(Math.abs(e),_),E&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),g&&0==+e&&"+"!==i&&(g=!1),u=(g?"("===i?i:v:"-"===i||"("===i?"":i)+u,f=("s"===w?p[8+r/3]:"")+f+(g&&"("===i?")":""),k)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){f=(46===l?c+e.slice(a+1):e.slice(a))+f,e=e.slice(0,a);break}}b&&!h&&(e=o(e,1/0));var O=u.length+e.length+f.length,A=O<d?new Array(d-O+1).join(t):"";switch(b&&h&&(e=o(A+e,A.length?d-f.length:1/0),A=""),n){case"<":e=u+e+f+A;break;case"=":e=u+A+e+f;break;case"^":e=A.slice(0,O=A.length>>1)+u+e+f+A.slice(O);break;default:e=A+u+e+f}return m(e)}return _=void 0===_?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),O.toString=function(){return e+""},O}return{format:b,formatPrefix:function(e,t){var n=b(((e=Object(l.a)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(s.a)(t)/3))),i=Math.pow(10,-r),o=p[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),o=i.format,a=i.formatPrefix},function(e,t,n){let r;function i(){return r||(r=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),r}n.d(t,"a",(function(){return u}));const o=e=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e);function a(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let s;function l(){return s||(s=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){var n,r;"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!o(e)&&i().match(/^file:\/\//i)&&(e=new URL(e,i().replace(/\/[^\/]+$/,"/")),(null===(n=null==t?void 0:t.CORSWorkaround)||void 0===n||n)&&(e=a(`importScripts(${JSON.stringify(e)});`))),"string"==typeof e&&o(e)&&(null===(r=null==t?void 0:t.CORSWorkaround)||void 0===r||r)&&(e=a(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,n){const r=new window.Blob([e],{type:"text/javascript"});return new t(r,n)}}return{blob:t,default:e}}()),s}const u=l().blob;l().default},function(e,t,n){n.d(t,"a",(function(){return i}));var r=function(e){return e};function i(e,...t){return function(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const a=new Map,s=r[o++];let l=-1;for(const t of i){const e=s(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[t,n]of a)a.set(t,e(n,o));return t(a)}(e,0)}(e,r,r,t)}},,,,,function(e,t,n){function r(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){function r(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,s);return s>=0?(l>=r?10:l>=i?5:l>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=i?5:l>=o?2:1)}function s(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/s;return l>=r?s*=10:l>=i?s*=5:l>=o&&(s*=2),t<e?-s:s}t.a=function(e,t,n){var r,i,o,s,l=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(s=a(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(e+l)*s;else for(s=-s,e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(e+l)/s;return r&&o.reverse(),o}},function(e,t,n){var r=n(68);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){t.a=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}},function(e,t,n){var r=n(46);function i(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}t.a=i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),d=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),p=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_(t):3===n?new T(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?E(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?E(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new T(t[1],t[2],t[3],1):(t=f.exec(e))?new T(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?E(t[1],t[2],t[3],t[4]):(t=d.exec(e))?E(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?_(g[e]):"transparent"===e?new T(NaN,NaN,NaN,0):null}function _(e){return new T(e>>16&255,e>>8&255,255&e,1)}function E(e,t,n,r){return r<=0&&(e=t=n=NaN),new T(e,t,n,r)}function w(e){return e instanceof o||(e=b(e)),e?new T((e=e.rgb()).r,e.g,e.b,e.opacity):new T}function x(e,t,n,r){return 1===arguments.length?w(e):new T(e,t,n,null==r?1:r)}function T(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function S(){return"#"+O(this.r)+O(this.g)+O(this.b)}function k(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function O(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function A(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new P(e,t,n,r)}function C(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=b(e)),!e)return new P;if(e instanceof P)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new P(s,l,u,e.opacity)}function P(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function M(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,b,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return C(this).formatHsl()},formatRgb:y,toString:y}),r(T,x,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:k,toString:k})),r(P,(function(e,t,n,r){return 1===arguments.length?C(e):new P(e,t,n,null==r?1:r)}),i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new P(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new T(M(e>=240?e-240:e+120,i,r),M(e,i,r),M(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var R=function(e){return function(){return e}};function I(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):R(isNaN(e)?t:e)}var D=function e(t){var n=function(e){return 1==(e=+e)?I:function(t,n){return n-t?(r=t,i=n,o=e,r=Math.pow(r,o),i=Math.pow(i,o)-r,o=1/o,function(e){return Math.pow(r+e*i,o)}):R(isNaN(t)?n:t);var r,i,o}}(t);function r(e,t){var r=n((e=x(e)).r,(t=x(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=I(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1),N=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function L(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=G(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var F=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},j=n(137),B=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=G(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},U=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp(U.source,"g"),H=function(e,t){var n,r,i,o,a=U.lastIndex=z.lastIndex=0,s=-1,l=[],u=[];for(e+="",t+="";(n=U.exec(e))&&(r=z.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,u.push({i:s,x:Object(j.a)(n,r)})),a=z.lastIndex;return a<t.length&&(i=t.slice(a),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?(o=u[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)l[(n=u[r]).i]=n.x(e);return l.join("")})},G=t.a=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?R(t):("number"===r?j.a:"string"===r?(n=b(t))?(t=n,D):H:t instanceof b?D:t instanceof Date?F:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?N:Array.isArray(t)?L:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?B:j.a)(e,t)}}])},module.exports=t2(react.exports,reactDom.exports,require$$2)})(gosling);var lodash={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,l=64,u=128,c=256,f=1/0,h=9007199254740991,d=NaN,p=4294967295,m=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",l],["rearg",c]],g="[object Arguments]",v="[object Array]",y="[object Boolean]",b="[object Date]",_="[object Error]",E="[object Function]",w="[object GeneratorFunction]",x="[object Map]",T="[object Number]",S="[object Object]",k="[object Promise]",O="[object RegExp]",A="[object Set]",C="[object String]",P="[object Symbol]",M="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",D="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",F="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",G=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,Y=RegExp(X.source),q=RegExp(W.source),K=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="[']",Ce="[\\ud800-\\udfff]",Pe="["+Oe+"]",Me="["+we+"]",Re="\\d+",Ie="[\\u2700-\\u27bf]",De="["+Te+"]",Ne="[^\\ud800-\\udfff"+Oe+Re+xe+Te+Se+"]",Le="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Se+"]",ze="(?:"+De+"|"+Ne+")",He="(?:"+Ue+"|"+Ne+")",Ge="(?:['](?:d|ll|m|re|s|t|ve))?",Ve="(?:['](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Me+"|"+Le+")"+"?",Xe="[\\ufe0e\\ufe0f]?",We=Xe+$e+("(?:\\u200d(?:"+[Fe,je,Be].join("|")+")"+Xe+$e+")*"),Ye="(?:"+[Ie,je,Be].join("|")+")"+We,qe="(?:"+[Fe+Me+"?",Me,je,Be,Ce].join("|")+")",Ke=RegExp(Ae,"g"),Ze=RegExp(Me,"g"),Qe=RegExp(Le+"(?="+Le+")|"+qe+We,"g"),Je=RegExp([Ue+"?"+De+"+"+Ge+"(?="+[Pe,Ue,"$"].join("|")+")",He+"+"+Ve+"(?="+[Pe,Ue+ze,"$"].join("|")+")",Ue+"?"+ze+"+"+Ge,Ue+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ye].join("|"),"g"),et=RegExp("[\\u200d\\ud800-\\udfff"+we+ke+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[D]=it[N]=it[L]=it[F]=it[j]=it[B]=it[U]=it[z]=it[H]=!0,it[g]=it[v]=it[R]=it[y]=it[I]=it[b]=it[_]=it[E]=it[x]=it[T]=it[S]=it[O]=it[A]=it[C]=it[M]=!1;var ot={};ot[g]=ot[v]=ot[R]=ot[I]=ot[y]=ot[b]=ot[D]=ot[N]=ot[L]=ot[F]=ot[j]=ot[x]=ot[T]=ot[S]=ot[O]=ot[A]=ot[C]=ot[P]=ot[B]=ot[U]=ot[z]=ot[H]=!0,ot[_]=ot[E]=ot[M]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,lt=parseInt,ut="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ct="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||ct||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,mt=pt&&ut.process,gt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,bt=gt&&gt.isMap,_t=gt&&gt.isRegExp,Et=gt&&gt.isSet,wt=gt&&gt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ct(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function It(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,zt,n)}function Ut(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function zt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:d}function Gt(e){return function(t){return null==t?n:t[e]}}function Vt(e){return function(t){return null==e?n:e[t]}}function $t(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,hn(e)+1).replace(ie,""):e}function qt(e){return function(t){return e(t)}}function Kt(e,t){return Mt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function Jt(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var tn=Vt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),nn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+at[e]}function on(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){return on(e)?function(e){var t=Qe.lastIndex=0;for(;Qe.test(e);)++t;return t}(e):Lt(e)}function fn(e){return on(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pn=function e(t){var oe,we=(t=null==t?ft:pn.defaults(ft.Object(),t,pn.pick(ft,nt))).Array,xe=t.Date,Te=t.Error,Se=t.Function,ke=t.Math,Oe=t.Object,Ae=t.RegExp,Ce=t.String,Pe=t.TypeError,Me=we.prototype,Re=Se.prototype,Ie=Oe.prototype,De=t["__core-js_shared__"],Ne=Re.toString,Le=Ie.hasOwnProperty,Fe=0,je=(oe=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",Be=Ie.toString,Ue=Ne.call(Oe),ze=ft._,He=Ae("^"+Ne.call(Le).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=pt?t.Buffer:n,Ve=t.Symbol,$e=t.Uint8Array,Xe=Ge?Ge.allocUnsafe:n,We=sn(Oe.getPrototypeOf,Oe),Ye=Oe.create,qe=Ie.propertyIsEnumerable,Qe=Me.splice,et=Ve?Ve.isConcatSpreadable:n,at=Ve?Ve.iterator:n,ut=Ve?Ve.toStringTag:n,ct=function(){try{var e=ho(Oe,"defineProperty");return e({},"",{}),e}catch(t){}}(),ht=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,dt=xe&&xe.now!==ft.Date.now&&xe.now,mt=t.setTimeout!==ft.setTimeout&&t.setTimeout,gt=ke.ceil,Lt=ke.floor,Vt=Oe.getOwnPropertySymbols,mn=Ge?Ge.isBuffer:n,gn=t.isFinite,vn=Me.join,yn=sn(Oe.keys,Oe),bn=ke.max,_n=ke.min,En=xe.now,wn=t.parseInt,xn=ke.random,Tn=Me.reverse,Sn=ho(t,"DataView"),kn=ho(t,"Map"),On=ho(t,"Promise"),An=ho(t,"Set"),Cn=ho(t,"WeakMap"),Pn=ho(Oe,"create"),Mn=Cn&&new Cn,Rn={},In=Go(Sn),Dn=Go(kn),Nn=Go(On),Ln=Go(An),Fn=Go(Cn),jn=Ve?Ve.prototype:n,Bn=jn?jn.valueOf:n,Un=jn?jn.toString:n;function zn(e){if(as(e)&&!qa(e)&&!(e instanceof $n)){if(e instanceof Vn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new Vn(e)}var Hn=function(){function e(){}return function(t){if(!os(t))return{};if(Ye)return Ye(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Gn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Zn(e,t){var n=qa(e),r=!n&&Ya(e),i=!n&&!r&&Ja(e),o=!n&&!r&&!i&&ps(e),a=n||r||i||o,s=a?Wt(e.length,Ce):[],l=s.length;for(var u in e)!t&&!Le.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_o(u,l))||s.push(u);return s}function Qn(e){var t=e.length;return t?e[qr(0,t-1)]:n}function Jn(e,t){return Fo(Pi(e),lr(t,0,e.length))}function er(e){return Fo(Pi(e))}function tr(e,t,r){(r!==n&&!$a(e[t],r)||r===n&&!(t in e))&&ar(e,t,r)}function nr(e,t,r){var i=e[t];Le.call(e,t)&&$a(i,r)&&(r!==n||t in e)||ar(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Mi(t,Ls(t),e)}function ar(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,o=we(i),a=null==e;++r<i;)o[r]=a?n:Ms(e,t[r]);return o}function lr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ur(e,t,r,i,o,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=o?r(e,i,o,a):r(e)),s!==n)return s;if(!os(e))return e;var f=qa(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Pi(e,s)}else{var h=go(e),d=h==E||h==w;if(Ja(e))return Ti(e,l);if(h==S||h==g||d&&!o){if(s=u||d?{}:yo(e),!l)return u?function(e,t){return Mi(e,mo(e),t)}(e,function(e,t){return e&&Mi(t,Fs(t),e)}(s,e)):function(e,t){return Mi(e,po(e),t)}(e,or(s,e))}else{if(!ot[h])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case R:return Si(e);case y:case b:return new r(+e);case I:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case N:case L:case F:case j:case B:case U:case z:case H:return ki(e,n);case x:return new r;case T:case C:return new r(e);case O:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case P:return i=e,Bn?Oe(Bn.call(i)):{}}var i}(e,h,l)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),fs(e)?e.forEach((function(n){s.add(ur(n,t,r,n,e,a))})):ss(e)&&e.forEach((function(n,i){s.set(i,ur(n,t,r,i,e,a))}));var m=f?n:(c?u?oo:io:u?Fs:Ls)(e);return St(m||e,(function(n,i){m&&(n=e[i=n]),nr(s,i,ur(n,t,r,i,e,a))})),s}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Oe(e);i--;){var o=r[i],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,i){if("function"!=typeof e)throw new Pe(r);return Io((function(){e.apply(n,i)}),t)}function hr(e,t,n,r){var i=-1,o=Ct,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Mt(t,qt(n))),r?(o=Pt,a=!1):t.length>=200&&(o=Zt,a=!1,t=new qn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(c)}else o(t,f,r)||l.push(c)}return l}zn.templateSettings={escape:K,evaluate:Z,interpolate:Q,variable:"",imports:{_:zn}},zn.prototype=Gn.prototype,zn.prototype.constructor=zn,Vn.prototype=Hn(Gn.prototype),Vn.prototype.constructor=Vn,$n.prototype=Hn(Gn.prototype),$n.prototype.constructor=$n,Xn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Xn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xn.prototype.get=function(e){var t=this.__data__;if(Pn){var r=t[e];return r===i?n:r}return Le.call(t,e)?t[e]:n},Xn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==n:Le.call(t,e)},Xn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pn&&t===n?i:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Wn.prototype.has=function(e){return rr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Xn,map:new(kn||Wn),string:new Xn}},Yn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return co(this,e).get(e)},Yn.prototype.has=function(e){return co(this,e).has(e)},Yn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,i),this},qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(Er),pr=Di(wr,!0);function mr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(l===n?s==s&&!ds(s):r(s,l)))var l=s,u=a}return u}function vr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Rt(i,s):r||(i[i.length]=s)}return i}var br=Ni(),_r=Ni(!0);function Er(e,t){return e&&br(e,t,Ls)}function wr(e,t){return e&&_r(e,t,Ls)}function xr(e,t){return At(t,(function(t){return ns(e[t])}))}function Tr(e,t){for(var r=0,i=(t=_i(t,e)).length;null!=e&&r<i;)e=e[Ho(t[r++])];return r&&r==i?e:n}function Sr(e,t,n){var r=t(e);return qa(e)?r:Rt(r,n(e))}function kr(e){return null==e?e===n?"[object Undefined]":"[object Null]":ut&&ut in Oe(e)?function(e){var t=Le.call(e,ut),r=e[ut];try{e[ut]=n;var i=!0}catch(a){}var o=Be.call(e);i&&(t?e[ut]=r:delete e[ut]);return o}(e):function(e){return Be.call(e)}(e)}function Or(e,t){return e>t}function Ar(e,t){return null!=e&&Le.call(e,t)}function Cr(e,t){return null!=e&&t in Oe(e)}function Pr(e,t,r){for(var i=r?Pt:Ct,o=e[0].length,a=e.length,s=a,l=we(a),u=1/0,c=[];s--;){var f=e[s];s&&t&&(f=Mt(f,qt(t))),u=_n(f.length,u),l[s]=!r&&(t||o>=120&&f.length>=120)?new qn(s&&f):n}f=e[0];var h=-1,d=l[0];e:for(;++h<o&&c.length<u;){var p=f[h],m=t?t(p):p;if(p=r||0!==p?p:0,!(d?Zt(d,m):i(c,m,r))){for(s=a;--s;){var g=l[s];if(!(g?Zt(g,m):i(e[s],m,r)))continue e}d&&d.push(m),c.push(p)}}return c}function Mr(e,t,r){var i=null==(e=Co(e,t=_i(t,e)))?e:e[Ho(ta(t))];return null==i?n:xt(i,e,r)}function Rr(e){return as(e)&&kr(e)==g}function Ir(e,t,r,i,o){return e===t||(null==e||null==t||!as(e)&&!as(t)?e!=e&&t!=t:function(e,t,r,i,o,a){var s=qa(e),l=qa(t),u=s?v:go(e),c=l?v:go(t),f=(u=u==g?S:u)==S,h=(c=c==g?S:c)==S,d=u==c;if(d&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Kn),s||ps(e)?no(e,t,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new $e(e),new $e(t)));case y:case b:case T:return $a(+e,+t);case _:return e.name==t.name&&e.message==t.message;case O:case C:return e==t+"";case x:var s=an;case A:var l=1&r;if(s||(s=un),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case P:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,u,r,i,o,a);if(!(1&r)){var p=f&&Le.call(e,"__wrapped__"),m=h&&Le.call(t,"__wrapped__");if(p||m){var E=p?e.value():e,w=m?t.value():t;return a||(a=new Kn),o(E,w,r,i,a)}}if(!d)return!1;return a||(a=new Kn),function(e,t,r,i,o,a){var s=1&r,l=io(e),u=l.length,c=io(t).length;if(u!=c&&!s)return!1;var f=u;for(;f--;){var h=l[f];if(!(s?h in t:Le.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<u;){var v=e[h=l[f]],y=t[h];if(i)var b=s?i(y,v,h,t,e,a):i(v,y,h,e,t,a);if(!(b===n?v===y||o(v,y,r,i,a):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,E=t.constructor;_==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,i,o,a)}(e,t,r,i,Ir,o))}function Dr(e,t,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=Oe(e);o--;){var l=r[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=r[o])[0],c=e[u],f=l[1];if(s&&l[2]){if(c===n&&!(u in e))return!1}else{var h=new Kn;if(i)var d=i(c,f,u,e,t,h);if(!(d===n?Ir(f,c,3,i,h):d))return!1}}return!0}function Nr(e){return!(!os(e)||(t=e,je&&je in t))&&(ns(e)?He:ge).test(Go(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ll:"object"==typeof e?qa(e)?Hr(e[0],e[1]):zr(e):vl(e)}function Fr(e){if(!So(e))return yn(e);var t=[];for(var n in Oe(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!os(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Ur(e,t){var n=-1,r=Za(e)?we(e.length):[];return dr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function zr(e){var t=fo(e);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Hr(e,t){return wo(e)&&ko(t)?Oo(Ho(e),t):function(r){var i=Ms(r,e);return i===n&&i===t?Rs(r,e):Ir(t,i,3)}}function Gr(e,t,r,i,o){e!==t&&br(t,(function(a,s){if(o||(o=new Kn),os(a))!function(e,t,r,i,o,a,s){var l=Mo(e,r),u=Mo(t,r),c=s.get(u);if(c)return void tr(e,r,c);var f=a?a(l,u,r+"",e,t,s):n,h=f===n;if(h){var d=qa(u),p=!d&&Ja(u),m=!d&&!p&&ps(u);f=u,d||p||m?qa(l)?f=l:Qa(l)?f=Pi(l):p?(h=!1,f=Ti(u,!0)):m?(h=!1,f=ki(u,!0)):f=[]:us(u)||Ya(u)?(f=l,Ya(l)?f=ws(l):os(l)&&!ns(l)||(f=yo(u))):h=!1}h&&(s.set(u,f),o(f,u,i,a,s),s.delete(u));tr(e,r,f)}(e,t,s,r,Gr,i,o);else{var l=i?i(Mo(e,s),a,s+"",e,t,o):n;l===n&&(l=a),tr(e,s,l)}}),Fs)}function Vr(e,t){var r=e.length;if(r)return _o(t+=t<0?r:0,r)?e[t]:n}function $r(e,t,n){t=t.length?Mt(t,(function(e){return qa(e)?function(t){return Tr(t,1===e.length?e[0]:e)}:e})):[ll];var r=-1;return t=Mt(t,qt(uo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,i){return{criteria:Mt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var l=Oi(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Xr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Tr(e,a);n(s,a)&&ei(o,_i(a,e),s)}return o}function Wr(e,t,n,r){var i=r?Ut:Bt,o=-1,a=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Mt(e,qt(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Qe.call(s,l,1),Qe.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;_o(i)?Qe.call(e,i,1):hi(e,i)}}return e}function qr(e,t){return e+Lt(xn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=Lt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Do(Ao(e,t,ll),e+"")}function Qr(e){return Qn($s(e))}function Jr(e,t){var n=$s(e);return Fo(n,lr(t,0,n.length))}function ei(e,t,r,i){if(!os(e))return e;for(var o=-1,a=(t=_i(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=Ho(t[o]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var f=l[u];(c=i?i(f,u,l):n)===n&&(c=os(f)?f:_o(t[o+1])?[]:{})}nr(l,u,c),l=l[u]}return e}var ti=Mn?function(e,t){return Mn.set(e,t),e}:ll,ni=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:ol(t),writable:!0})}:ll;function ri(e){return Fo($s(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=we(i);++r<i;)o[r]=e[r+t];return o}function oi(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ll,n)}function si(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,l=null===t,u=ds(t),c=t===n;o<a;){var f=Lt((o+a)/2),h=r(e[f]),d=h!==n,p=null===h,m=h==h,g=ds(h);if(s)var v=i||m;else v=c?m&&(i||d):l?m&&d&&(i||!p):u?m&&d&&!p&&(i||!g):!p&&!g&&(i?h<=t:h<t);v?o=f+1:a=f}return _n(a,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:ds(e)?d:+e}function ci(e){if("string"==typeof e)return e;if(qa(e))return Mt(e,ci)+"";if(ds(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Ct,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Pt;else if(o>=200){var u=t?null:Ki(e);if(u)return un(u);a=!1,i=Zt,l=new qn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function hi(e,t){return null==(e=Co(e,t=_i(t,e)))||delete e[Ho(ta(t))]}function di(e,t,n,r){return ei(e,t,n(Tr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function mi(e,t){var n=e;return n instanceof $n&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,o=we(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=hr(o[i]||a,e[s],t,n));return fi(yr(o,1),t,n)}function vi(e,t,r){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var l=i<a?t[i]:n;r(s,e[i],l)}return s}function yi(e){return Qa(e)?e:[]}function bi(e){return"function"==typeof e?e:ll}function _i(e,t){return qa(e)?e:wo(e,t)?[e]:zo(xs(e))}var Ei=Zr;function wi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var xi=ht||function(e){return ft.clearTimeout(e)};function Ti(e,t){if(t)return e.slice();var n=e.length,r=Xe?Xe(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function ki(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=ds(e),s=t!==n,l=null===t,u=t==t,c=ds(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}function Ai(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=bn(o-a,0),c=we(l+u),f=!r;++s<l;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ci(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=bn(o-s,0),f=we(c+u),h=!r;++i<c;)f[i]=e[i];for(var d=i;++l<u;)f[d+l]=t[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function Pi(e,t){var n=-1,r=e.length;for(t||(t=we(r));++n<r;)t[n]=e[n];return t}function Mi(e,t,r,i){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),o?ar(r,l,u):nr(r,l,u)}return r}function Ri(e,t){return function(n,r){var i=qa(n)?Tt:ir,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ii(e){return Zr((function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&Eo(r[0],r[1],s)&&(a=o<3?n:a,o=1),t=Oe(t);++i<o;){var l=r[i];l&&e(t,l,i,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Za(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Oe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ni(e){return function(t,n,r){for(var i=-1,o=Oe(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Li(e){return function(t){var r=on(t=xs(t))?fn(t):n,i=r?r[0]:t.charAt(0),o=r?wi(r,1).join(""):t.slice(1);return i[e]()+o}}function Fi(e){return function(t){return It(nl(Ys(t).replace(Ke,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return os(r)?r:n}}function Bi(e){return function(t,r,i){var o=Oe(t);if(!Za(t)){var a=uo(r,3);t=Ls(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,i);return s>-1?o[a?t[s]:s]:n}}function Ui(e){return ro((function(t){var i=t.length,o=i,a=Vn.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new Pe(r);if(a&&!l&&"wrapper"==so(s))var l=new Vn([],!0)}for(o=l?o:i;++o<i;){var u=so(s=t[o]),c="wrapper"==u?ao(s):n;l=c&&xo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&xo(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&qa(n))return l.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function zi(e,t,r,i,o,a,s,l,c,f){var h=t&u,d=1&t,p=2&t,m=24&t,g=512&t,v=p?n:ji(e);return function n(){for(var u=arguments.length,y=we(u),b=u;b--;)y[b]=arguments[b];if(m)var _=lo(n),E=en(y,_);if(i&&(y=Ai(y,i,o,m)),a&&(y=Ci(y,a,s,m)),u-=E,m&&u<f){var w=ln(y,_);return Yi(e,t,zi,n.placeholder,r,y,w,l,c,f-u)}var x=d?r:this,T=p?x[e]:e;return u=y.length,l?y=Po(y,l):g&&u>1&&y.reverse(),h&&c<u&&(y.length=c),this&&this!==ft&&this instanceof n&&(T=v||ji(T)),T.apply(x,y)}}function Hi(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Gi(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),o=e(r,i)}return o}}function Vi(e){return ro((function(t){return t=Mt(t,qt(uo())),Zr((function(n){var r=this;return e(t,(function(e){return xt(e,r,n)}))}))}))}function $i(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Kr(t,e):t;var i=Kr(t,gt(e/cn(t)));return on(t)?wi(fn(i),0,e).join(""):i.slice(0,e)}function Xi(e){return function(t,r,i){return i&&"number"!=typeof i&&Eo(t,r,i)&&(r=i=n),t=ys(t),r===n?(r=t,t=0):r=ys(r),function(e,t,n,r){for(var i=-1,o=bn(gt((t-e)/(n||1)),0),a=we(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,r,i=i===n?t<r?1:-1:ys(i),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Es(t),n=Es(n)),e(t,n)}}function Yi(e,t,r,i,o,a,u,c,f,h){var d=8&t;t|=d?s:l,4&(t&=~(d?l:s))||(t&=-4);var p=[e,t,o,d?a:n,d?u:n,d?n:a,d?n:u,c,f,h],m=r.apply(n,p);return xo(e)&&Ro(m,p),m.placeholder=i,No(m,e,t)}function qi(e){var t=ke[e];return function(e,n){if(e=Es(e),(n=null==n?0:_n(bs(n),292))&&gn(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=An&&1/un(new An([,-0]))[1]==f?function(e){return new An(e)}:dl;function Zi(e){return function(t){var n=go(t);return n==x?an(t):n==A?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,i,f,h,d,p,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Pe(r);var v=f?f.length:0;if(v||(t&=-97,f=h=n),p=p===n?p:bn(bs(p),0),m=m===n?m:bs(m),v-=h?h.length:0,t&l){var y=f,b=h;f=h=n}var _=g?n:ao(e),E=[e,t,i,f,h,y,b,d,p,m];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var f=e[3];e[3]=f?Ai(f,l,t[4]):l,e[4]=f?ln(e[3],o):t[4]}(l=t[5])&&(f=e[5],e[5]=f?Ci(f,l,t[6]):l,e[6]=f?ln(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,_),e=E[0],t=E[1],i=E[2],f=E[3],h=E[4],!(m=E[9]=E[9]===n?g?0:e.length:bn(E[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==a?function(e,t,r){var i=ji(e);return function o(){for(var a=arguments.length,s=we(a),l=a,u=lo(o);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:ln(s,u);return(a-=c.length)<r?Yi(e,t,zi,o.placeholder,n,s,c,n,n,r-a):xt(this&&this!==ft&&this instanceof o?i:e,this,s)}}(e,t,m):t!=s&&33!=t||h.length?zi.apply(n,E):function(e,t,n,r){var i=1&t,o=ji(e);return function t(){for(var a=-1,s=arguments.length,l=-1,u=r.length,c=we(u+s),f=this&&this!==ft&&this instanceof t?o:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++a];return xt(f,i?n:this,c)}}(e,t,i,f);else var w=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return No((_?ti:Ro)(w,E),e,t)}function Ji(e,t,r,i){return e===n||$a(e,Ie[r])&&!Le.call(i,r)?t:e}function eo(e,t,r,i,o,a){return os(e)&&os(t)&&(a.set(t,e),Gr(e,t,n,eo,a),a.delete(t)),e}function to(e){return us(e)?n:e}function no(e,t,r,i,o,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var h=-1,d=!0,p=2&r?new qn:n;for(a.set(e,t),a.set(t,e);++h<l;){var m=e[h],g=t[h];if(i)var v=s?i(g,m,h,t,e,a):i(m,g,h,e,t,a);if(v!==n){if(v)continue;d=!1;break}if(p){if(!Nt(t,(function(e,t){if(!Zt(p,t)&&(m===e||o(m,e,r,i,a)))return p.push(t)}))){d=!1;break}}else if(m!==g&&!o(m,g,r,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Do(Ao(e,n,Ko),e+"")}function io(e){return Sr(e,Ls,po)}function oo(e){return Sr(e,Fs,mo)}var ao=Mn?function(e){return Mn.get(e)}:dl;function so(e){for(var t=e.name+"",n=Rn[t],r=Le.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Le.call(zn,"placeholder")?zn:e).placeholder}function uo(){var e=zn.iteratee||ul;return e=e===ul?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fo(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Nr(r)?r:n}var po=Vt?function(e){return null==e?[]:(e=Oe(e),At(Vt(e),(function(t){return qe.call(e,t)})))}:_l,mo=Vt?function(e){for(var t=[];e;)Rt(t,po(e)),e=We(e);return t}:_l,go=kr;function vo(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,o=!1;++r<i;){var a=Ho(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&is(i)&&_o(a,i)&&(qa(e)||Ya(e))}function yo(e){return"function"!=typeof e.constructor||So(e)?{}:Hn(We(e))}function bo(e){return qa(e)||Ya(e)||!!(et&&e&&e[et])}function _o(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function Eo(e,t,n){if(!os(n))return!1;var r=typeof t;return!!("number"==r?Za(n)&&_o(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function wo(e,t){if(qa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ee.test(e)||!J.test(e)||null!=t&&e in Oe(t))}function xo(e){var t=so(e),n=zn[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Sn&&go(new Sn(new ArrayBuffer(1)))!=I||kn&&go(new kn)!=x||On&&go(On.resolve())!=k||An&&go(new An)!=A||Cn&&go(new Cn)!=M)&&(go=function(e){var t=kr(e),r=t==S?e.constructor:n,i=r?Go(r):"";if(i)switch(i){case In:return I;case Dn:return x;case Nn:return k;case Ln:return A;case Fn:return M}return t});var To=De?ns:El;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function ko(e){return e==e&&!os(e)}function Oo(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Oe(r)))}}function Ao(e,t,r){return t=bn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=bn(n.length-t,0),a=we(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=we(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),xt(e,this,s)}}function Co(e,t){return t.length<2?e:Tr(e,ii(t,0,-1))}function Po(e,t){for(var r=e.length,i=_n(t.length,r),o=Pi(e);i--;){var a=t[i];e[i]=_o(a,r)?o[a]:n}return e}function Mo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=Lo(ti),Io=mt||function(e,t){return ft.setTimeout(e,t)},Do=Lo(ni);function No(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(m,(function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(le):[]}(r),n)))}function Lo(e){var t=0,r=0;return function(){var i=En(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Fo(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=qr(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var jo,Bo,Uo,zo=(jo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t},Bo=Ba(jo,(function(e){return 500===Uo.size&&Uo.clear(),e})),Uo=Bo.cache,Bo);function Ho(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Go(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof $n)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $o=Zr((function(e,t){return Qa(e)?hr(e,yr(t,1,Qa,!0)):[]})),Xo=Zr((function(e,t){var r=ta(t);return Qa(r)&&(r=n),Qa(e)?hr(e,yr(t,1,Qa,!0),uo(r,2)):[]})),Wo=Zr((function(e,t){var r=ta(t);return Qa(r)&&(r=n),Qa(e)?hr(e,yr(t,1,Qa,!0),n,r):[]}));function Yo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bs(n);return i<0&&(i=bn(r+i,0)),jt(e,uo(t,3),i)}function qo(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=bs(r),o=r<0?bn(i+o,0):_n(o,i-1)),jt(e,uo(t,3),o,!0)}function Ko(e){return(null==e?0:e.length)?yr(e,1):[]}function Zo(e){return e&&e.length?e[0]:n}var Qo=Zr((function(e){var t=Mt(e,yi);return t.length&&t[0]===e[0]?Pr(t):[]})),Jo=Zr((function(e){var t=ta(e),r=Mt(e,yi);return t===ta(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Pr(r,uo(t,2)):[]})),ea=Zr((function(e){var t=ta(e),r=Mt(e,yi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Pr(r,n,t):[]}));function ta(e){var t=null==e?0:e.length;return t?e[t-1]:n}var na=Zr(ra);function ra(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var ia=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Yr(e,Mt(t,(function(e){return _o(e,n)?+e:e})).sort(Oi)),r}));function oa(e){return null==e?e:Tn.call(e)}var aa=Zr((function(e){return fi(yr(e,1,Qa,!0))})),sa=Zr((function(e){var t=ta(e);return Qa(t)&&(t=n),fi(yr(e,1,Qa,!0),uo(t,2))})),la=Zr((function(e){var t=ta(e);return t="function"==typeof t?t:n,fi(yr(e,1,Qa,!0),n,t)}));function ua(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Qa(e))return t=bn(e.length,t),!0})),Wt(t,(function(t){return Mt(e,Gt(t))}))}function ca(e,t){if(!e||!e.length)return[];var r=ua(e);return null==t?r:Mt(r,(function(e){return xt(t,n,e)}))}var fa=Zr((function(e,t){return Qa(e)?hr(e,t):[]})),ha=Zr((function(e){return gi(At(e,Qa))})),da=Zr((function(e){var t=ta(e);return Qa(t)&&(t=n),gi(At(e,Qa),uo(t,2))})),pa=Zr((function(e){var t=ta(e);return t="function"==typeof t?t:n,gi(At(e,Qa),n,t)})),ma=Zr(ua);var ga=Zr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ca(e,r)}));function va(e){var t=zn(e);return t.__chain__=!0,t}function ya(e,t){return t(e)}var ba=ro((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof $n&&_o(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ya,args:[o],thisArg:n}),new Vn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var _a=Ri((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var Ea=Bi(Yo),wa=Bi(qo);function xa(e,t){return(qa(e)?St:dr)(e,uo(t,3))}function Ta(e,t){return(qa(e)?kt:pr)(e,uo(t,3))}var Sa=Ri((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var ka=Zr((function(e,t,n){var r=-1,i="function"==typeof t,o=Za(e)?we(e.length):[];return dr(e,(function(e){o[++r]=i?xt(t,e,n):Mr(e,t,n)})),o})),Oa=Ri((function(e,t,n){ar(e,n,t)}));function Aa(e,t){return(qa(e)?Mt:Ur)(e,uo(t,3))}var Ca=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Pa=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Eo(e,t[0],t[1])?t=[]:n>2&&Eo(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,yr(t,1),[])})),Ma=dt||function(){return ft.Date.now()};function Ra(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Qi(e,u,n,n,n,n,t)}function Ia(e,t){var i;if("function"!=typeof t)throw new Pe(r);return e=bs(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Da=Zr((function(e,t,n){var r=1;if(n.length){var i=ln(n,lo(Da));r|=s}return Qi(e,r,t,n,i)})),Na=Zr((function(e,t,n){var r=3;if(n.length){var i=ln(n,lo(Na));r|=s}return Qi(t,r,e,n,i)}));function La(e,t,i){var o,a,s,l,u,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Pe(r);function m(t){var r=o,i=a;return o=a=n,f=t,l=e.apply(i,r)}function g(e){return f=e,u=Io(y,t),h?m(e):l}function v(e){var r=e-c;return c===n||r>=t||r<0||d&&e-f>=s}function y(){var e=Ma();if(v(e))return b(e);u=Io(y,function(e){var n=t-(e-c);return d?_n(n,s-(e-f)):n}(e))}function b(e){return u=n,p&&o?m(e):(o=a=n,l)}function _(){var e=Ma(),r=v(e);if(o=arguments,a=this,c=e,r){if(u===n)return g(c);if(d)return xi(u),u=Io(y,t),m(c)}return u===n&&(u=Io(y,t)),l}return t=Es(t)||0,os(i)&&(h=!!i.leading,s=(d="maxWait"in i)?bn(Es(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),_.cancel=function(){u!==n&&xi(u),f=0,o=c=a=u=n},_.flush=function(){return u===n?l:b(Ma())},_}var Fa=Zr((function(e,t){return fr(e,1,t)})),ja=Zr((function(e,t,n){return fr(e,Es(t)||0,n)}));function Ba(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ba.Cache||Yn),n}function Ua(e){if("function"!=typeof e)throw new Pe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ba.Cache=Yn;var za=Ei((function(e,t){var n=(t=1==t.length&&qa(t[0])?Mt(t[0],qt(uo())):Mt(yr(t,1),qt(uo()))).length;return Zr((function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return xt(e,this,r)}))})),Ha=Zr((function(e,t){var r=ln(t,lo(Ha));return Qi(e,s,n,t,r)})),Ga=Zr((function(e,t){var r=ln(t,lo(Ga));return Qi(e,l,n,t,r)})),Va=ro((function(e,t){return Qi(e,c,n,n,n,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Xa=Wi(Or),Wa=Wi((function(e,t){return e>=t})),Ya=Rr(function(){return arguments}())?Rr:function(e){return as(e)&&Le.call(e,"callee")&&!qe.call(e,"callee")},qa=we.isArray,Ka=vt?qt(vt):function(e){return as(e)&&kr(e)==R};function Za(e){return null!=e&&is(e.length)&&!ns(e)}function Qa(e){return as(e)&&Za(e)}var Ja=mn||El,es=yt?qt(yt):function(e){return as(e)&&kr(e)==b};function ts(e){if(!as(e))return!1;var t=kr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!us(e)}function ns(e){if(!os(e))return!1;var t=kr(e);return t==E||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function rs(e){return"number"==typeof e&&e==bs(e)}function is(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var ss=bt?qt(bt):function(e){return as(e)&&go(e)==x};function ls(e){return"number"==typeof e||as(e)&&kr(e)==T}function us(e){if(!as(e)||kr(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ue}var cs=_t?qt(_t):function(e){return as(e)&&kr(e)==O};var fs=Et?qt(Et):function(e){return as(e)&&go(e)==A};function hs(e){return"string"==typeof e||!qa(e)&&as(e)&&kr(e)==C}function ds(e){return"symbol"==typeof e||as(e)&&kr(e)==P}var ps=wt?qt(wt):function(e){return as(e)&&is(e.length)&&!!it[kr(e)]};var ms=Wi(Br),gs=Wi((function(e,t){return e<=t}));function vs(e){if(!e)return[];if(Za(e))return hs(e)?fn(e):Pi(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=go(e);return(t==x?an:t==A?un:$s)(e)}function ys(e){return e?(e=Es(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function bs(e){var t=ys(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?lr(bs(e),0,p):0}function Es(e){if("number"==typeof e)return e;if(ds(e))return d;if(os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=me.test(e);return n||ve.test(e)?lt(e.slice(2),n?2:8):pe.test(e)?d:+e}function ws(e){return Mi(e,Fs(e))}function xs(e){return null==e?"":ci(e)}var Ts=Ii((function(e,t){if(So(t)||Za(t))Mi(t,Ls(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),Ss=Ii((function(e,t){Mi(t,Fs(t),e)})),ks=Ii((function(e,t,n,r){Mi(t,Fs(t),e,r)})),Os=Ii((function(e,t,n,r){Mi(t,Ls(t),e,r)})),As=ro(sr);var Cs=Zr((function(e,t){e=Oe(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&Eo(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],s=Fs(a),l=-1,u=s.length;++l<u;){var c=s[l],f=e[c];(f===n||$a(f,Ie[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),Ps=Zr((function(e){return e.push(n,eo),xt(Bs,n,e)}));function Ms(e,t,r){var i=null==e?n:Tr(e,t);return i===n?r:i}function Rs(e,t){return null!=e&&vo(e,t,Cr)}var Is=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),ol(ll)),Ds=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ns=Zr(Mr);function Ls(e){return Za(e)?Zn(e):Fr(e)}function Fs(e){return Za(e)?Zn(e,!0):jr(e)}var js=Ii((function(e,t,n){Gr(e,t,n)})),Bs=Ii((function(e,t,n,r){Gr(e,t,n,r)})),Us=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Mi(e,oo(e),n),r&&(n=ur(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var zs=ro((function(e,t){return null==e?{}:function(e,t){return Xr(e,t,(function(t,n){return Rs(e,n)}))}(e,t)}));function Hs(e,t){if(null==e)return{};var n=Mt(oo(e),(function(e){return[e]}));return t=uo(t),Xr(e,n,(function(e,n){return t(e,n[0])}))}var Gs=Zi(Ls),Vs=Zi(Fs);function $s(e){return null==e?[]:Kt(e,Ls(e))}var Xs=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return tl(xs(e).toLowerCase())}function Ys(e){return(e=xs(e))&&e.replace(be,tn).replace(Ze,"")}var qs=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Zs=Li("toLowerCase");var Qs=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Fi((function(e,t,n){return e+(n?" ":"")+tl(t)}));var el=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tl=Li("toUpperCase");function nl(e,t,r){return e=xs(e),(t=r?n:t)===n?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var rl=Zr((function(e,t){try{return xt(e,n,t)}catch(r){return ts(r)?r:new Te(r)}})),il=ro((function(e,t){return St(t,(function(t){t=Ho(t),ar(e,t,Da(e[t],e))})),e}));function ol(e){return function(){return e}}var al=Ui(),sl=Ui(!0);function ll(e){return e}function ul(e){return Lr("function"==typeof e?e:ur(e,1))}var cl=Zr((function(e,t){return function(n){return Mr(n,e,t)}})),fl=Zr((function(e,t){return function(n){return Mr(e,n,t)}}));function hl(e,t,n){var r=Ls(t),i=xr(t,r);null!=n||os(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Ls(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return St(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Pi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function dl(){}var pl=Vi(Mt),ml=Vi(Ot),gl=Vi(Nt);function vl(e){return wo(e)?Gt(Ho(e)):function(e){return function(t){return Tr(t,e)}}(e)}var yl=Xi(),bl=Xi(!0);function _l(){return[]}function El(){return!1}var wl=Gi((function(e,t){return e+t}),0),xl=qi("ceil"),Tl=Gi((function(e,t){return e/t}),1),Sl=qi("floor");var kl,Ol=Gi((function(e,t){return e*t}),1),Al=qi("round"),Cl=Gi((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Pe(r);return e=bs(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Ra,zn.assign=Ts,zn.assignIn=Ss,zn.assignInWith=ks,zn.assignWith=Os,zn.at=As,zn.before=Ia,zn.bind=Da,zn.bindAll=il,zn.bindKey=Na,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qa(e)?e:[e]},zn.chain=va,zn.chunk=function(e,t,r){t=(r?Eo(e,t,r):t===n)?1:bn(bs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=we(gt(i/t));o<i;)s[a++]=ii(e,o,o+=t);return s},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=we(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Rt(qa(n)?Pi(n):[n],yr(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Pe(r);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(xt(i[0],this,n))return xt(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Ls(e);return function(n){return cr(n,e,t)}}(ur(e,1))},zn.constant=ol,zn.countBy=_a,zn.create=function(e,t){var n=Hn(e);return null==t?n:or(n,t)},zn.curry=function e(t,r,i){var o=Qi(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},zn.curryRight=function e(t,r,i){var o=Qi(t,a,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},zn.debounce=La,zn.defaults=Cs,zn.defaultsDeep=Ps,zn.defer=Fa,zn.delay=ja,zn.difference=$o,zn.differenceBy=Xo,zn.differenceWith=Wo,zn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:bs(t))<0?0:t,i):[]},zn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:bs(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0):[]},zn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Eo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=bs(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:bs(i))<0&&(i+=o),i=r>i?0:_s(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},zn.filter=function(e,t){return(qa(e)?At:vr)(e,uo(t,3))},zn.flatMap=function(e,t){return yr(Aa(e,t),1)},zn.flatMapDeep=function(e,t){return yr(Aa(e,t),f)},zn.flatMapDepth=function(e,t,r){return r=r===n?1:bs(r),yr(Aa(e,t),r)},zn.flatten=Ko,zn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===n?1:bs(t)):[]},zn.flip=function(e){return Qi(e,512)},zn.flow=al,zn.flowRight=sl,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:xr(e,Ls(e))},zn.functionsIn=function(e){return null==e?[]:xr(e,Fs(e))},zn.groupBy=Sa,zn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},zn.intersection=Qo,zn.intersectionBy=Jo,zn.intersectionWith=ea,zn.invert=Is,zn.invertBy=Ds,zn.invokeMap=ka,zn.iteratee=ul,zn.keyBy=Oa,zn.keys=Ls,zn.keysIn=Fs,zn.map=Aa,zn.mapKeys=function(e,t){var n={};return t=uo(t,3),Er(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=uo(t,3),Er(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(ur(e,1))},zn.matchesProperty=function(e,t){return Hr(e,ur(t,1))},zn.memoize=Ba,zn.merge=js,zn.mergeWith=Bs,zn.method=cl,zn.methodOf=fl,zn.mixin=hl,zn.negate=Ua,zn.nthArg=function(e){return e=bs(e),Zr((function(t){return Vr(t,e)}))},zn.omit=Us,zn.omitBy=function(e,t){return Hs(e,Ua(uo(t)))},zn.once=function(e){return Ia(2,e)},zn.orderBy=function(e,t,r,i){return null==e?[]:(qa(t)||(t=null==t?[]:[t]),qa(r=i?n:r)||(r=null==r?[]:[r]),$r(e,t,r))},zn.over=pl,zn.overArgs=za,zn.overEvery=ml,zn.overSome=gl,zn.partial=Ha,zn.partialRight=Ga,zn.partition=Ca,zn.pick=zs,zn.pickBy=Hs,zn.property=vl,zn.propertyOf=function(e){return function(t){return null==e?n:Tr(e,t)}},zn.pull=na,zn.pullAll=ra,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,uo(n,2)):e},zn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wr(e,t,n,r):e},zn.pullAt=ia,zn.range=yl,zn.rangeRight=bl,zn.rearg=Va,zn.reject=function(e,t){return(qa(e)?At:vr)(e,Ua(uo(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Pe(r);return Zr(e,t=t===n?t:bs(t))},zn.reverse=oa,zn.sampleSize=function(e,t,r){return t=(r?Eo(e,t,r):t===n)?1:bs(t),(qa(e)?Jn:Jr)(e,t)},zn.set=function(e,t,n){return null==e?e:ei(e,t,n)},zn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},zn.shuffle=function(e){return(qa(e)?er:ri)(e)},zn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Eo(e,t,r)?(t=0,r=i):(t=null==t?0:bs(t),r=r===n?i:bs(r)),ii(e,t,r)):[]},zn.sortBy=Pa,zn.sortedUniq=function(e){return e&&e.length?li(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},zn.split=function(e,t,r){return r&&"number"!=typeof r&&Eo(e,t,r)&&(t=r=n),(r=r===n?p:r>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=ci(t))&&on(e)?wi(fn(e),0,r):e.split(t,r):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Pe(r);return t=null==t?0:bn(bs(t),0),Zr((function(n){var r=n[t],i=wi(n,0,t);return r&&Rt(i,r),xt(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},zn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:bs(t))<0?0:t):[]},zn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:bs(t)))<0?0:t,i):[]},zn.takeRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?pi(e,uo(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Pe(r);return os(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),La(e,t,{leading:i,maxWait:t,trailing:o})},zn.thru=ya,zn.toArray=vs,zn.toPairs=Gs,zn.toPairsIn=Vs,zn.toPath=function(e){return qa(e)?Mt(e,Ho):ds(e)?[e]:Pi(zo(xs(e)))},zn.toPlainObject=ws,zn.transform=function(e,t,n){var r=qa(e),i=r||Ja(e)||ps(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:os(e)&&ns(o)?Hn(We(e)):{}}return(i?St:Er)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Ra(e,1)},zn.union=aa,zn.unionBy=sa,zn.unionWith=la,zn.uniq=function(e){return e&&e.length?fi(e):[]},zn.uniqBy=function(e,t){return e&&e.length?fi(e,uo(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?fi(e,n,t):[]},zn.unset=function(e,t){return null==e||hi(e,t)},zn.unzip=ua,zn.unzipWith=ca,zn.update=function(e,t,n){return null==e?e:di(e,t,bi(n))},zn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:di(e,t,bi(r),i)},zn.values=$s,zn.valuesIn=function(e){return null==e?[]:Kt(e,Fs(e))},zn.without=fa,zn.words=nl,zn.wrap=function(e,t){return Ha(bi(t),e)},zn.xor=ha,zn.xorBy=da,zn.xorWith=pa,zn.zip=ma,zn.zipObject=function(e,t){return vi(e||[],t||[],nr)},zn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},zn.zipWith=ga,zn.entries=Gs,zn.entriesIn=Vs,zn.extend=Ss,zn.extendWith=ks,hl(zn,zn),zn.add=wl,zn.attempt=rl,zn.camelCase=Xs,zn.capitalize=Ws,zn.ceil=xl,zn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=Es(r))==r?r:0),t!==n&&(t=(t=Es(t))==t?t:0),lr(Es(e),t,r)},zn.clone=function(e){return ur(e,4)},zn.cloneDeep=function(e){return ur(e,5)},zn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:n)},zn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:n)},zn.conformsTo=function(e,t){return null==t||cr(e,t,Ls(t))},zn.deburr=Ys,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=Tl,zn.endsWith=function(e,t,r){e=xs(e),t=ci(t);var i=e.length,o=r=r===n?i:lr(bs(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},zn.eq=$a,zn.escape=function(e){return(e=xs(e))&&q.test(e)?e.replace(W,nn):e},zn.escapeRegExp=function(e){return(e=xs(e))&&re.test(e)?e.replace(ne,"\\$&"):e},zn.every=function(e,t,r){var i=qa(e)?Ot:mr;return r&&Eo(e,t,r)&&(t=n),i(e,uo(t,3))},zn.find=Ea,zn.findIndex=Yo,zn.findKey=function(e,t){return Ft(e,uo(t,3),Er)},zn.findLast=wa,zn.findLastIndex=qo,zn.findLastKey=function(e,t){return Ft(e,uo(t,3),wr)},zn.floor=Sl,zn.forEach=xa,zn.forEachRight=Ta,zn.forIn=function(e,t){return null==e?e:br(e,uo(t,3),Fs)},zn.forInRight=function(e,t){return null==e?e:_r(e,uo(t,3),Fs)},zn.forOwn=function(e,t){return e&&Er(e,uo(t,3))},zn.forOwnRight=function(e,t){return e&&wr(e,uo(t,3))},zn.get=Ms,zn.gt=Xa,zn.gte=Wa,zn.has=function(e,t){return null!=e&&vo(e,t,Ar)},zn.hasIn=Rs,zn.head=Zo,zn.identity=ll,zn.includes=function(e,t,n,r){e=Za(e)?e:$s(e),n=n&&!r?bs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),hs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bs(n);return i<0&&(i=bn(r+i,0)),Bt(e,t,i)},zn.inRange=function(e,t,r){return t=ys(t),r===n?(r=t,t=0):r=ys(r),function(e,t,n){return e>=_n(t,n)&&e<bn(t,n)}(e=Es(e),t,r)},zn.invoke=Ns,zn.isArguments=Ya,zn.isArray=qa,zn.isArrayBuffer=Ka,zn.isArrayLike=Za,zn.isArrayLikeObject=Qa,zn.isBoolean=function(e){return!0===e||!1===e||as(e)&&kr(e)==y},zn.isBuffer=Ja,zn.isDate=es,zn.isElement=function(e){return as(e)&&1===e.nodeType&&!us(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Za(e)&&(qa(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ps(e)||Ya(e)))return!e.length;var t=go(e);if(t==x||t==A)return!e.size;if(So(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Ir(e,t)},zn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Ir(e,t,n,r):!!i},zn.isError=ts,zn.isFinite=function(e){return"number"==typeof e&&gn(e)},zn.isFunction=ns,zn.isInteger=rs,zn.isLength=is,zn.isMap=ss,zn.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},zn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Dr(e,t,fo(t),r)},zn.isNaN=function(e){return ls(e)&&e!=+e},zn.isNative=function(e){if(To(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=ls,zn.isObject=os,zn.isObjectLike=as,zn.isPlainObject=us,zn.isRegExp=cs,zn.isSafeInteger=function(e){return rs(e)&&e>=-9007199254740991&&e<=h},zn.isSet=fs,zn.isString=hs,zn.isSymbol=ds,zn.isTypedArray=ps,zn.isUndefined=function(e){return e===n},zn.isWeakMap=function(e){return as(e)&&go(e)==M},zn.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==kr(e)},zn.join=function(e,t){return null==e?"":vn.call(e,t)},zn.kebabCase=qs,zn.last=ta,zn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=bs(r))<0?bn(i+o,0):_n(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,zt,o,!0)},zn.lowerCase=Ks,zn.lowerFirst=Zs,zn.lt=ms,zn.lte=gs,zn.max=function(e){return e&&e.length?gr(e,ll,Or):n},zn.maxBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Or):n},zn.mean=function(e){return Ht(e,ll)},zn.meanBy=function(e,t){return Ht(e,uo(t,2))},zn.min=function(e){return e&&e.length?gr(e,ll,Br):n},zn.minBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Br):n},zn.stubArray=_l,zn.stubFalse=El,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=Ol,zn.nth=function(e,t){return e&&e.length?Vr(e,bs(t)):n},zn.noConflict=function(){return ft._===this&&(ft._=ze),this},zn.noop=dl,zn.now=Ma,zn.pad=function(e,t,n){e=xs(e);var r=(t=bs(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return $i(Lt(i),n)+e+$i(gt(i),n)},zn.padEnd=function(e,t,n){e=xs(e);var r=(t=bs(t))?cn(e):0;return t&&r<t?e+$i(t-r,n):e},zn.padStart=function(e,t,n){e=xs(e);var r=(t=bs(t))?cn(e):0;return t&&r<t?$i(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(xs(e).replace(ie,""),t||0)},zn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Eo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ys(e),t===n?(t=e,e=0):t=ys(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=xn();return _n(e+o*(t-e+st("1e-"+((o+"").length-1))),t)}return qr(e,t)},zn.reduce=function(e,t,n){var r=qa(e)?It:$t,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},zn.reduceRight=function(e,t,n){var r=qa(e)?Dt:$t,i=arguments.length<3;return r(e,uo(t,4),n,i,pr)},zn.repeat=function(e,t,r){return t=(r?Eo(e,t,r):t===n)?1:bs(t),Kr(xs(e),t)},zn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,r){var i=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[Ho(t[i])];a===n&&(i=o,a=r),e=ns(a)?a.call(e):a}return e},zn.round=Al,zn.runInContext=e,zn.sample=function(e){return(qa(e)?Qn:Qr)(e)},zn.size=function(e){if(null==e)return 0;if(Za(e))return hs(e)?cn(e):e.length;var t=go(e);return t==x||t==A?e.size:Fr(e).length},zn.snakeCase=Qs,zn.some=function(e,t,r){var i=qa(e)?Nt:oi;return r&&Eo(e,t,r)&&(t=n),i(e,uo(t,3))},zn.sortedIndex=function(e,t){return ai(e,t)},zn.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&$a(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return ai(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if($a(e[n],t))return n}return-1},zn.startCase=Js,zn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:lr(bs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?Xt(e,ll):0},zn.sumBy=function(e,t){return e&&e.length?Xt(e,uo(t,2)):0},zn.template=function(e,t,r){var i=zn.templateSettings;r&&Eo(e,t,r)&&(t=n),e=xs(e),t=ks({},t,i,Ji);var o,a,s=ks({},t.imports,i.imports,Ji),l=Ls(s),u=Kt(s,l),c=0,f=t.interpolate||_e,h="__p += '",d=Ae((t.escape||_e).source+"|"+f.source+"|"+(f===Q?he:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace(Ee,rn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(ce.test(m))throw new Te("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(G,""):h).replace(V,"$1").replace($,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=rl((function(){return Se(l,p+"return "+h).apply(n,u)}));if(g.source=h,ts(g))throw g;return g},zn.times=function(e,t){if((e=bs(e))<1||e>h)return[];var n=p,r=_n(e,p);t=uo(t),e-=p;for(var i=Wt(r,t);++n<e;)t(n);return i},zn.toFinite=ys,zn.toInteger=bs,zn.toLength=_s,zn.toLower=function(e){return xs(e).toLowerCase()},zn.toNumber=Es,zn.toSafeInteger=function(e){return e?lr(bs(e),-9007199254740991,h):0===e?e:0},zn.toString=xs,zn.toUpper=function(e){return xs(e).toUpperCase()},zn.trim=function(e,t,r){if((e=xs(e))&&(r||t===n))return Yt(e);if(!e||!(t=ci(t)))return e;var i=fn(e),o=fn(t);return wi(i,Qt(i,o),Jt(i,o)+1).join("")},zn.trimEnd=function(e,t,r){if((e=xs(e))&&(r||t===n))return e.slice(0,hn(e)+1);if(!e||!(t=ci(t)))return e;var i=fn(e);return wi(i,0,Jt(i,fn(t))+1).join("")},zn.trimStart=function(e,t,r){if((e=xs(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=ci(t)))return e;var i=fn(e);return wi(i,Qt(i,fn(t))).join("")},zn.truncate=function(e,t){var r=30,i="...";if(os(t)){var o="separator"in t?t.separator:o;r="length"in t?bs(t.length):r,i="omission"in t?ci(t.omission):i}var a=(e=xs(e)).length;if(on(e)){var s=fn(e);a=s.length}if(r>=a)return e;var l=r-cn(i);if(l<1)return i;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(o===n)return u+i;if(s&&(l+=u.length-l),cs(o)){if(e.slice(l).search(o)){var c,f=u;for(o.global||(o=Ae(o.source,xs(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;u=u.slice(0,h===n?l:h)}}else if(e.indexOf(ci(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+i},zn.unescape=function(e){return(e=xs(e))&&Y.test(e)?e.replace(X,dn):e},zn.uniqueId=function(e){var t=++Fe;return xs(e)+t},zn.upperCase=el,zn.upperFirst=tl,zn.each=xa,zn.eachRight=Ta,zn.first=Zo,hl(zn,(kl={},Er(zn,(function(e,t){Le.call(zn.prototype,t)||(kl[t]=e)})),kl),{chain:!1}),zn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),St(["drop","take"],(function(e,t){$n.prototype[e]=function(r){r=r===n?1:bn(bs(r),0);var i=this.__filtered__&&!t?new $n(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,p),type:e+(i.__dir__<0?"Right":"")}),i},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(ll)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return Mr(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Ua(uo(e)))},$n.prototype.slice=function(e,t){e=bs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new $n(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=bs(t))<0?r.dropRight(-t):r.take(t-e)),r)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(p)},Er($n.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=zn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof $n,u=s[0],c=l||qa(t),f=function(e){var t=o.apply(zn,Rt([e],s));return i&&h?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,m=l&&!d;if(!a&&c){t=m?t:new $n(this);var g=e.apply(t,s);return g.__actions__.push({func:ya,args:[f],thisArg:n}),new Vn(g,h)}return p&&m?e.apply(this,s):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qa(i)?i:[],e)}return this[n]((function(n){return t.apply(qa(n)?n:[],e)}))}})),Er($n.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Le.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[zi(n,2).name]=[{name:"wrapper",func:n}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=_n(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=_n(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return mi(e,this.__actions__);var p=[];e:for(;l--&&h<d;){for(var m=-1,g=e[u+=t];++m<f;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[h++]=g}return p},zn.prototype.at=ba,zn.prototype.chain=function(){return va(this)},zn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,r=this;r instanceof Gn;){var i=Vo(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:ya,args:[oa],thisArg:n}),new Vn(t,this.__chain__)}return this.thru(oa)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,at&&(zn.prototype[at]=function(){return this}),zn}();dt?((dt.exports=pn)._=pn,ht._=pn):ft._=pn}).call(commonjsGlobal)}(lodash,lodash.exports);export{React as R,ReactDOM as a,gosling as g,lodash as l,react as r};
